/*!CK:1370486370!*//*1459439109,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["sHjT1"]); }

__d("AdproAccountCreditStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,ELIGIBLE:1,APPLIED:2,APPROVED:3,REJECTED:4};},null);
__d("AdsAltpayPaymentMetadataKeys",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AMOUNT:"amount",BOLETO_NUMBER:"boleto_number",CREDENTIAL_ID:"credential_id",DOWNLOAD_LINK:"download_link",DUE_DATE:"due_date",TIME_CREATED:"time_created"};},null);
__d("AdsAPIExtendedCreditInfoFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREDIT_USED:"credit_used",CREDIT_LEFT:"credit_left"};},null);
__d("AdsImageUploadConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={maxWidth:2048,maxHeight:2048};},null);
__d("AdsOtherConsts",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={REACH_TOO_LOW_NUMBER:1000};},null);
__d("AdsPayAPIAltpayInstrumentTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MOBILE:"mobile",ALTPAY:"altpay"};},null);
__d("AdsPayAPICreditCardAddressFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={STREET:"street",STREET2:"street2",CITY:"city",STATE:"state",ZIP:"zip",COUNTRY_CODE:"country_code"};},null);
__d("AdsTargetingAdmarketKeywordCategory",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={KEYWORD_CATEGORY_RAW:0,KEYWORD_CATEGORY_WIKI:1};},null);
__d("ApiAdPageTypeToPlatformMap",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={instagramstream:"instagram"};},null);
__d("BoostedComponentCreativeEditingElement",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CREATIVE_LINK_DATA_URL:"creative_link_data_url",CREATIVE_LINK_DATA_HEADLINE:"creative_link_data_headline",CREATIVE_LINK_DATA_TEXT:"creative_link_data_text",CREATIVE_BODY:"creative_body",CREATIVE_LINK_DATA:"creative_link_data",CREATIVE_MULTI_PRODUCTS:"creative_multi_products",CREATIVE_IMAGE_SELECTOR:"creative_image_selector",CREATIVE_CTA:"creative_cta"};},null);
__d("BoostedComponentUnit",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUDIENCE_MANAGER:"audience_manager",LOCATIONS:"locations"};},null);
__d("CustomAudienceDeliveryStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTIVE:200,INACTIVE:300,INVALID:400,INVALID_FOR_SAME_FIRST_OR_LAST_NAME:401};},null);
__d("FundingSourceType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FUNDING_TYPE_UNSET:0,FUNDING_TYPE_CREDIT_CARD:1,FUNDING_TYPE_FACEBOOK_WALLET:2,FUNDING_TYPE_FACEBOOK_PAID_CREDIT:3,FUNDING_TYPE_FACEBOOK_EXTENDED_CREDIT:4,FUNDING_TYPE_ORDER:5,FUNDING_TYPE_INVOICE:6,FUNDING_TYPE_FACEBOOK_TOKEN:7,FUNDING_TYPE_EXTERNAL_FUNDING:8,FUNDING_TYPE_FEE:9,FUNDING_TYPE_FX:10,FUNDING_TYPE_DISCOUNT:11,FUNDING_TYPE_PAYPAL_TOKEN:12,FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT:13,FUNDING_TYPE_NULL:14,FUNDING_TYPE_EXTERNAL_DEPOSIT:15,FUNDING_TYPE_TAX:16,FUNDING_TYPE_DIRECT_DEBIT:17,FUNDING_TYPE_DUMMY:18,FUNDING_TYPE_ALTPAY:19,FUNDING_TYPE_STORED_BALANCE:20};},null);
__d("InstagramSlipstreamMediaContentType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MEDIA_CONTENT_TYPE_PHOTO:0,MEDIA_CONTENT_TYPE_VIDEO:1,MEDIA_CONTENT_TYPE_RESHARE_PHOTO:2,MEDIA_CONTENT_TYPE_RESHARE_VIDEO:3,MEDIA_CONTENT_TYPE_UNKNOWN:255};},null);
__d("PaymentCouponToken",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AD_CREDIT:1000,VIRTUAL_GIFT:1001,AD_SB_REFUND:1003};},null);
__d('AdsImageUploadErrorActions',['AdsDispatcher','AdsActionTypes'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={setUploadFormatError:function(i){c('AdsDispatcher').handleUpdateFromViewAction({message:i,type:c('AdsActionTypes').IMAGE_UPLOAD.FORMAT_ERROR});},setUploadSizeError:function(i){c('AdsDispatcher').handleUpdateFromViewAction({message:i,type:c('AdsActionTypes').IMAGE_UPLOAD.SIZE_ERROR});},removeErrors:function(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsActionTypes').IMAGE_UPLOAD.REMOVE_ERRORS});}};f.exports=h;},null);
__d('AdsShutterstockSearchActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={searchResultsLoaded:function(i,j){c('AdsDispatcher').handleUpdateFromServerResponse({data:{query:i,results:j},type:c('AdsActionTypes').SHUTTERSTOCK.SEARCH_RESULTS_LOADED});}};f.exports=h;},null);
__d('AdsShutterstockViewActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={searchTextChanged:function(i){c('AdsDispatcher').handleUpdateFromViewAction({data:{searchText:i},type:c('AdsActionTypes').SHUTTERSTOCK.SEARCH_TEXT_CHANGED});},searchDone:function(i){c('AdsDispatcher').handleUpdateFromViewAction({data:{searchText:i},type:c('AdsActionTypes').SHUTTERSTOCK.SEARCH_DONE});},endReached:function(i){c('AdsDispatcher').handleUpdateFromViewAction({data:{searchText:i},type:c('AdsActionTypes').SHUTTERSTOCK.END_REACHED});}};f.exports=h;},null);
__d('BoostedComponentAdAccountViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentAdAccountViewActions1=i;}h.prototype.updateAccount=function(i){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_ACCOUNT,accountID:i});};h.prototype.updateAdAccountID=function(i){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_AD_ACCOUNT_ID,accountID:i});};h.prototype.updateCurrency=function(i){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_CURRENCY,currency:i});};h.prototype.updatePrimaryPaymentMethod=function(i,j,k){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').CLIENT_UPDATE_PRIMARY,data:{accountID:i,paymentMethodID:j,paymentMethodType:k}});};h.prototype.addNewPaymentMethod=function(){this.$BoostedComponentAdAccountViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').OPEN_PAYMENTS_FLOW});};f.exports=h;},null);
__d('BoostedComponentBudgetEstimationViewActions',['BoostedComponentClientEvent'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentBudgetEstimationViewActions1=i;}h.prototype.updateBudget=function(i){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_BUDGET,data:i});};h.prototype.updateBudgetType=function(i){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_BUDGET_TYPE,data:i});};h.prototype.inputCustomBudget=function(i){this.$BoostedComponentBudgetEstimationViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').INPUT_CUSTOM_BUDGET,data:i});};f.exports=h;},null);
__d('BoostedComponentConversionPixelViewActions',['BoostedComponentClientEvent','BoostedComponentConfigPayload'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentConversionPixelViewActions1=i;}h.prototype.updatePixel=function(i){var j={};j[c('BoostedComponentConfigPayload').CONVERSION_PIXEL_STORE_DATA]={selectedConversionPixelID:i};this.$BoostedComponentConversionPixelViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_PIXEL,data:j});};f.exports=h;},null);
__d('BoostedComponentDurationViewActions',['BoostedComponentClientEvent','BoostedComponentConfigPayload','BoostedComponentDispatcher','BoostedComponentDurationStoreFields'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentDurationViewActions1=i;}h.prototype.updateCampaignLengthInDays=function(i){var j={};j[c('BoostedComponentDurationStoreFields').SELECTED_CAMPAIGN_LENGTH]=i;this.$BoostedComponentDurationViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_CAMPAIGN_LENGTH_IN_DAYS,data:this.$BoostedComponentDurationViewActions2(j)});};h.prototype.updateRunContinuously=function(i){var j={};j[c('BoostedComponentDurationStoreFields').RUN_CONTINUOUSLY]=i;this.$BoostedComponentDurationViewActions1.handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').UPDATE_RUN_CONTINUOUSLY,data:this.$BoostedComponentDurationViewActions2(j)});};h.prototype.$BoostedComponentDurationViewActions2=function(i){var j={};j[c('BoostedComponentConfigPayload').DURATION_STORE_DATA]=i;return j;};f.exports=h;},null);
__d('BoostedComponentSubmissionViewActions',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedComponentSubmissionViewActions1=i;}h.prototype.onClick=function(i){this.$BoostedComponentSubmissionViewActions1.handleUpdateFromViewAction({actionType:i});};f.exports=h;},null);
__d('BoostedComponentCreativeEditingConfig',['BoostedComponentCreativeEditingElement'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={BOOSTED_POST:[],BOOSTED_PRODUCT:[],BOOSTED_EVENT:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,c('BoostedComponentCreativeEditingElement').CREATIVE_IMAGE_SELECTOR],BOOSTED_CCTA:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,c('BoostedComponentCreativeEditingElement').CREATIVE_IMAGE_SELECTOR,c('BoostedComponentCreativeEditingElement').CREATIVE_CTA],BOOSTED_PAGELIKE:[c('BoostedComponentCreativeEditingElement').CREATIVE_BODY,c('BoostedComponentCreativeEditingElement').CREATIVE_IMAGE_SELECTOR],BOOSTED_WEBSITE:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_URL,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,c('BoostedComponentCreativeEditingElement').CREATIVE_MULTI_PRODUCTS],BOOSTED_WEBSITE_MPA_VIEW:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE],BOOSTED_LOCAL_AWARENESS:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,c('BoostedComponentCreativeEditingElement').CREATIVE_IMAGE_SELECTOR,c('BoostedComponentCreativeEditingElement').CREATIVE_CTA],BOOSTED_LOCAL_AWARENESS_MPA_VIEW:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE],BOOSTED_LOCAL_AWARENESS_CAROUSEL:[c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,c('BoostedComponentCreativeEditingElement').CREATIVE_MULTI_PRODUCTS,c('BoostedComponentCreativeEditingElement').CREATIVE_CTA]};f.exports=h;},null);
__d('BoostedComponentMultiAdsProductChangeTypes',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={ADD:'product_add',IMAGE_CHANGE:'product_image_change',IMAGE_CROP_CHANGE:'product_image_crop_change',IMAGE_UPLOAD:'product_image_upload',NAME_CHANGE:'product_name_change',REMOVE:'product_remove'};f.exports=h;},null);
__d('ImageReader',['Promise','DOM','Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k,l,m,n){var o=new Image(),p=function(){l(null,0,0);};c('Event').listen(o,{load:function(){if(m&&o.width>m||n&&o.height>n){var q=Math.max(o.width/m,o.height/n),r=o.width/q<<0,s=o.height/q<<0,t=c('DOM').create('canvas',{css:'background-color: transparent;',width:r,height:s}),u=t.getContext('2d');u.drawImage(o,0,0,o.width,o.height,0,0,r,s);try{l(t.toDataURL('image/jpeg'),o.width,o.height);return;}catch(v){l(k,o.width,o.height);}}else l(k,o.width,o.height);},error:p,abort:p});o.src=k;}function i(k,l,m,n){var o=new b.FileReader();o.onloadend=function(p){h(o.result,l,m,n);};o.readAsDataURL(k);}function j(k,l,m){return new (c('Promise'))(function(n){i(k,function(o){return n(o);},l,m);});}f.exports={promiseRead:j,read:i,resizeIfNeeded:h};},null);
__d("XAdsCFImageUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/create\/imageupload\/",{});},null);
__d('AdsUploadProcess',['cx','AdsImageUploadConstants','AdsDaoGraph','AdsImageLegacy','ArbiterMixin','DOM','ImageReader','XAdsCFImageUploadController','GlobalCallback','getAsyncParams','mixin'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k={IFRAME_NAME:"_57mk"},l=0;i=babelHelpers.inherits(m,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function m(n,o){'use strict';j.constructor.call(this);this.id=l;l++;this.file=n;this.iframe=null;this.$AdsUploadProcess1=o;}m.prototype.getID=function(){'use strict';return this.id;};m.prototype.upload=function(n){'use strict';if(window.FileReader){this.$AdsUploadProcess2();}else this.$AdsUploadProcess3(n);};m.prototype.$AdsUploadProcess2=function(){'use strict';var n=function(o){if(o===null){this.failed();return;}o=o.split(',');var p=function(s){if(s&&s.images){var t=this.file.name,u=new (c('AdsImageLegacy'))(s.images[t]);this.succeeded(u);}else this.failed();}.bind(this),q=function(s){this.progressData=s;this.progressPercent=s.loaded/s.total*100;this.inform('onProgress',s);}.bind(this);try{c('AdsDaoGraph').add.imageForAccount.one(p,{bytes:o[1],name:this.file.name,encoding:o[0],handleError:p,accountId:this.$AdsUploadProcess1},q);}catch(r){this.failed();throw new Error(r.message);}}.bind(this);c('ImageReader').read(this.file,n,c('AdsImageUploadConstants').maxWidth,c('AdsImageUploadConstants').maxHeight);};m.prototype.$AdsUploadProcess3=function(n){'use strict';var o=document.createElement('iframe');o.className="_57mi";var p=k.IFRAME_NAME+this.getID();o.name=p;n.target=p;var q=c('XAdsCFImageUploadController').getURIBuilder();n.action=q.getURI().getQualifiedURI().toString();var r=c('getAsyncParams')('POST');Object.assign(r,{account_id:this.$AdsUploadProcess1,callback:c('GlobalCallback').create(this.$AdsUploadProcess4.bind(this,o)),domain:document.domain});Object.keys(r).forEach(function(s){n.appendChild(c('DOM').create('input',{type:'hidden',name:s,value:r[s]}));});document.body.appendChild(o);n.submit();};m.prototype.$AdsUploadProcess4=function(n,o,p){'use strict';c('GlobalCallback').remove(o);c('DOM').remove(n);if(p&&p.url){this.succeeded(new (c('AdsImageLegacy'))(p));}else this.failed();};m.prototype.succeeded=function(n){'use strict';this.image=n;this.inform('succeeded',n);};m.prototype.failed=function(){'use strict';this.inform('failed');};f.exports=m;},null);
__d('AdsImageUploader',['cx','csx','fbt','invariant','Promise','AdsImageUploadErrorActions','AdsImageValidation','AdsUploadProcess','ArbiterMixin','CSS','DOMEventListener','DOMQuery','ads-lib-connect_DEPRECATED','mixin','Parent','React','ReactDOM','WebApiApplication','getDOMImageSize'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m;if(c.__markCompiled)c.__markCompiled();var n=c('ads-lib-connect_DEPRECATED').FB,o=b.URL||b.webkitURL,p={UPLOAD_ELEMENT:"_57mh",DRAG_OVER:"_57mj",CLICK_HIJACK:"_57mf",CLICK_HIJACK_FORM:"_5ecl"};l=babelHelpers.inherits(q,c('mixin')(c('ArbiterMixin')));m=l&&l.prototype;function q(r,s){m.constructor.call(this);s=s||{};this.accountId=s.accountId;!this.accountId?k(0):void 0;this.acceptsMultiple='multiple' in s?s.multiple:true;this.acceptsMultiple=window.FileReader?this.acceptsMultiple:false;this.validateImageSize=s.validateImageSize;this.validateImageFormat=s.validateImageFormat;this.imageSpec=s.imageSpec;this.onFormInputMount=s.onFormInputMount;this.root=r;if(this.root){this.findAndDecorateUploadElements();this.createDragAndDropArea(this.root);}}q.prototype.findAndDecorateUploadElements=function(){var r=c('DOMQuery').scry(this.root,'.'+p.UPLOAD_ELEMENT);r.forEach(function(s){this.decorateUploadElement(s);},this);if(c('CSS').hasClass(this.root,p.UPLOAD_ELEMENT))this.decorateUploadElement(this.root);};q.prototype.createDragAndDropArea=function(r){c('DOMEventListener').add(r,'dragenter',function(s){s.preventDefault();c('CSS').addClass(this,p.DRAG_OVER);});c('DOMEventListener').add(r,'dragleave',function(s){s.preventDefault();c('CSS').removeClass(this,p.DRAG_OVER);});c('DOMEventListener').add(r,'dragover',function(s){s.preventDefault();s.dataTransfer.dropEffect='copy';});c('DOMEventListener').add(r,'drop',this.onDrop.bind(this));};q.prototype.onDrop=function(r){r.preventDefault();var s=c('DOMQuery').scry(this.root,'.'+p.CLICK_HIJACK_FORM)[0];this.upload(r.dataTransfer.files,s);};q.prototype.decorateUploadElement=function(r){var s=c('WebApiApplication').getAccessToken(),t=n.url('/act_'+this.accountId+'/adimages',null,s);if(c('DOMQuery').scry(r,'.'+p.CLICK_HIJACK).length)return;var u=document.createElement('div');u.className=p.CLICK_HIJACK;var v=c('React').createElement('form',{action:t,className:p.CLICK_HIJACK_FORM,encType:'multipart/form-data',method:'POST'},c('React').createElement('input',{accept:'image/*',className:"_57mg",multiple:this.acceptsMultiple,name:'fileToUpload',ref:this.onFormInputMount,type:'file',onClick:this.handleInputClick.bind(this)}));v=c('ReactDOM').render(v,u);var w=c('DOMQuery').find(u,"._57mg");c('DOMEventListener').add(w,'change',function(x){this.handleInputChange(x,w);}.bind(this));r.appendChild(u);};q.prototype.handleInputClick=function(){this.inform('onUploadClicked');};q.prototype.handleInputChange=function(r,s){var t=r.target||s,u=t.files||[t.value],v=c('Parent').byTag(t,'form');this.upload(u,v);};q.prototype.filterFiles=function(r){var s=r.filter(function(t){return !t.type||t.type.match(/image\.*/i);});return s;};q.prototype.getImageTooSmallErrorMessages=function(r){var s=j._("Image too small."),t=j._({"*":{"*":"This image is too small. Try one that's at least {width} x {height} px."}},[j.param('width',r.minWarningWidth,[0]),j.param('height',r.minWarningHeight,[0])]);return {shortMessage:s,longMessage:t};};q.prototype.getImageNotSupportedErrorMessages=function(r){var s=j._("Image format not supported."),t=!r?j._("The image format isn't supported. Please use a different image."):j._("The {image format} image format isn't supported. Please use a different image.",[j.param('image format',r)]);return {shortMessage:s,longMessage:t};};q.prototype.$AdsImageUploader1=function(r,s){return c('AdsImageValidation').isWarningSize({getWidth:function(){return r;},getHeight:function(){return s;}},this.imageSpec);};q.prototype.upload=function(r,s){r=Array.prototype.slice.call(r);if(!this.acceptsMultiple)r=[r[0]];r=this.filterFiles(r);if(!r)return;var t=[],u=[];if(this.validateImageFormat){r.forEach(function(w){if(c('AdsImageValidation').isValidFormat(w.type)){u.push(w);}else c('AdsImageUploadErrorActions').setUploadFormatError(this.getImageNotSupportedErrorMessages(w.type));}.bind(this));}else u=r;var v=[];v=u.map(function(w){return new (c('Promise'))(function(x,y){c('getDOMImageSize')(o.createObjectURL(w),function(z,aa,ba){if(this.validateImageFormat&&z===0&&aa===0){c('AdsImageUploadErrorActions').setUploadFormatError(this.getImageNotSupportedErrorMessages());x(false);}else if(this.validateImageSize&&this.imageSpec&&!this.$AdsImageUploader1(z,aa)){c('AdsImageUploadErrorActions').setUploadSizeError(this.getImageTooSmallErrorMessages(this.imageSpec));x(false);}else{t.push(new (c('AdsUploadProcess'))(w,this.accountId));x(true);}}.bind(this));}.bind(this));}.bind(this));c('Promise').all(v).done(function(w){if(w.every(function(x){return x;}))c('AdsImageUploadErrorActions').removeErrors();this.startUploadProcesses(t,s);}.bind(this));};q.prototype.$AdsImageUploader2=function(r){var s=c('Parent').byClass(r,p.CLICK_HIJACK),t=s.parentNode;if(t){t.removeChild(s);this.decorateUploadElement(t);}};q.prototype.startUploadProcesses=function(r,s){this.inform('onUploadStarted',r);var t=[],u=r.map(function(v){return new (c('Promise'))(function(w,x){v.subscribe('succeeded',function(y,z){t.push(z);w();});v.subscribe('failed',w);v.upload(s);});});c('Promise').all(u).done(function(){this.$AdsImageUploader2(s);this.uploadEnded(t);}.bind(this));};q.prototype.uploadEnded=function(r){this.inform('onUploadEnded',r);};f.exports={AdsImageUploader:q,AdsImageUploaderConstants:p};},null);
__d('AdsCommonLocalMapUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='#4D6AA4',i='#3b5998',j='#dc3847',k=19,l=1,m={KILOMETERS_TO_METERS:1000,MILES_TO_METERS:1609.34,ZOOM_MAX:k,ZOOM_MIN:l,LEAFLET_TARGET_CIRCLE_OPTIONS:{color:h,clickable:false,fillOpacity:30/255,opacity:95/255,weight:1},LEAFLET_TARGET_MARKER_OPTIONS:{color:'#fff',fillColor:h,fillOpacity:1,opacity:1,radius:4,weight:2},LEAFLET_TARGET_REGION_INCLUDE_OPTIONS:{color:i,clickable:false,opacity:.5,fillColor:i,fillOpacity:.11,weight:1,noClip:true},LEAFLET_TARGET_HIGHLIGHT_REGION_INCLUDE_OPTIONS:{color:i,clickable:false,opacity:.5,fillColor:i,fillOpacity:.22,weight:1,noClip:true},LEAFLET_TARGET_REGION_EXCLUDE_OPTIONS:{color:j,clickable:false,opacity:.5,fillColor:j,fillOpacity:.11,weight:1,noClip:true},LEAFLET_TARGET_HIGHLIGHT_REGION_EXCLUDE_OPTIONS:{color:j,clickable:false,opacity:.5,fillColor:j,fillOpacity:.22,weight:1,noClip:true},LEAFLET_TILES_OPTIONS:{maxZoom:k,minZoom:l},LEAFLET_MARKER_ICON_OPTIONS:{iconSize:[25,32],iconAnchor:[12,32]},getBestZoom:function(n,o,p,q,r){var s=n/180*Math.PI,t=Math.min(p,q),u=60000/800*t/r*Math.cos(s),v=function(x){return Math.log(x)/Math.LN2;},w=10+Math.floor(v(u));return w;},getRadiusInMeters:function(n,o){if(o==='kilometer')return n*m.KILOMETERS_TO_METERS;return n*m.MILES_TO_METERS;}};f.exports=m;},null);
__d('GeoCircularArea',['invariant','ImmutableObject','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('ImmutableObject'));j=i&&i.prototype;function k(l,m){!(m>0)?h(0):void 0;j.constructor.call(this,{center:l,radius:m});}k.prototype.nearlyEquals=function(l){return (this.center.nearlyEquals(l.center)&&c('nearlyEqualNumbers')(this.radius,l.radius));};k.prototype.setCenter=function(l){return new k(l,this.radius);};k.prototype.setRadius=function(l){return new k(this.center,l);};f.exports=k;},null);
__d('AdsTargetingAreaView',['invariant','AdsCommonLocalMapUtils','GeoCircularArea','GeoCoordinates','immutable','LeafletView','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();function k(o){if(o.latitude==null||o.longitude==null)return;return new (c('GeoCoordinates'))(Number(o.latitude),Number(o.longitude));}function l(o){if(o.radius==null)return;!o.distance_unit?h(0):void 0;return c('AdsCommonLocalMapUtils').getRadiusInMeters(o.radius,o.distance_unit);}function m(o,p){return c('AdsCommonLocalMapUtils').getBestZoom(o.center.latitude,o.center.longitude,p.x,p.y,o.radius);}i=babelHelpers.inherits(n,c('immutable').Record({area:undefined,zoom:undefined,isPrecise:false}));j=i&&i.prototype;function n(o){!(o.area!=null)?h(0):void 0;!(o.isPrecise!=null)?h(0):void 0;!(o.zoom!=null)?h(0):void 0;j.constructor.call(this,o);}n.prototype.toLeafletView=function(){return new (c('LeafletView'))({center:this.area.center,zoom:this.zoom});};n.update=function(o,p,q,r){if(r==null)return;if(o==null){var s=m(p,r);return new n({area:p,isPrecise:q,zoom:s});}return o.withMutations(function(t){!(r!=null)?h(0):void 0;t.isPrecise=q;if(!t.area.nearlyEquals(p)){if(!c('nearlyEqualNumbers')(t.area.radius,p.radius))t.zoom=m(p,r);t.area=p;}});};n.updateFromCustomLocationSpec=function(o,p,q){if(q==null)return;var r=k(p);if(!r)return;var s=l(p);if(!s)return;var t=new (c('GeoCircularArea'))(r,s),u=!!p.address_string||!!p.name;return n.update(o,t,u,q);};f.exports=n;},null);
__d('LeafletPath',['Set','areEqual','partitionObjectByKey'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=function(){var j=new (c('Set'))(['color','dashArray','fill','fillColor','fillOpacity','lineCap','lineJoin','opacity','stroke','weight']);return function(k){return c('partitionObjectByKey')(k,j);};}(),i={mutateOptions:function(j,k,l){var m=h(k||{}),n=m[0],o=m[1],p=h(l||{}),q=p[0],r=p[1];if(!c('areEqual')(o,r))return false;if(!c('areEqual')(n,q))j.setStyle(n);return true;}};f.exports=i;},null);
__d('LeafletCircle.react',['GeoCoordinates','leaflet','LeafletLayer.react','LeafletPath','LeafletPopup.react','LeafletUtils','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'LeafletCircle',propTypes:{options:h.object,eventHandlers:h.object,center:h.instanceOf(c('GeoCoordinates')).isRequired,radius:h.number.isRequired,popup:h.instanceOf(c('LeafletPopup.react'))},statics:{mutate:function(j,k,l){if(!c('LeafletPath').mutateOptions(j,k.options,l.options))return false;c('LeafletLayer.react').mutateEventHandlers(j,k.eventHandlers,l.eventHandlers);if(k.center!==l.center)j.setLatLng(c('LeafletUtils').toLatLng(k.center));if(k.radius!==l.radius)j.setRadius(k.radius);if(k.popup){var m=k.popup.type.mutate(j._popup,k.popup.props,l.popup.props);if(!m){j.unbindPopup();j.bindPopup(k.popup.type.toLayer(k.popup.props));}}else if(!k.popup&&l.popup)j.unbindPopup();return true;},toLayer:function(j){var k=c('leaflet').circle(c('LeafletUtils').toLatLng(j.center),j.radius,j.options);c('LeafletLayer.react').addEventHandlers(k,j.eventHandlers);if(j.popup)k.bindPopup(j.popup.type.toLayer(j.popup.props));return k;}},render:function(){return null;}});f.exports=i;},null);
__d('LeafletCircleMarker.react',['GeoCoordinates','leaflet','LeafletPath','LeafletUtils','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'LeafletCircleMarker',propTypes:{options:h.object,center:h.instanceOf(c('GeoCoordinates')).isRequired},statics:{mutate:function(j,k,l){var m=k.options||{},n=m.radius,o=babelHelpers.objectWithoutProperties(m,['radius']),p=l.options||{},q=p.prevRadius,r=babelHelpers.objectWithoutProperties(p,['prevRadius']);if(!c('LeafletPath').mutateOptions(j,o,r))return false;if(k.center!==l.center)j.setLatLng(c('LeafletUtils').toLatLng(k.center));if(n!==q)j.setRadius(k.radius);return true;},toLayer:function(j){return c('leaflet').circleMarker(c('LeafletUtils').toLatLng(j.center),j.options);}},render:function(){return null;}});f.exports=i;},null);
__d('AdsTargetingAreaMap.react',['cx','AdsCommonLocalMapUtils','AdsTargetingAreaView','FBOverlayElement.react','FBTilesMap.react','GeoCoordinates','leaflet','LeafletCircle.react','LeafletCircleMarker.react','LeafletUtils','LeafletView','React','ReactDOM','ReactLayeredComponentMixin','XUIAmbientNUX.react','joinClasses','keyMirror','nearlyEqualNumbers'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=40,j=50,k=c('React').PropTypes,l={boxZoom:false,doubleClickZoom:false,dragging:true,scrollWheelZoom:false,touchZoom:false,zoomControl:false},m=babelHelpers['extends']({},l,{dragging:false}),n=c('leaflet').CRS.EPSG3857,o=c('keyMirror')({NONE:undefined,MOVING:undefined,WAS_DRAGGED:undefined});function p(r,s){var t={center:r.center,radius:s},u=c('LeafletUtils').projectCircle(t,r.zoom),v=c('LeafletUtils').toLatLng(r.center),w=n.latLngToPoint(v,r.zoom),x=u.center.subtract(w).round();return {radius:u.radius,centerDelta:x};}var q=c('React').createClass({displayName:'AdsTargetingAreaMap',propTypes:{areaView:k.instanceOf(c('AdsTargetingAreaView')),className:k.string,defaultView:k.instanceOf(c('LeafletView')).isRequired,nuxMessage:k.string,onAreaCenterChange:k.func,onNUXDismiss:k.func,onSizeSettled:k.func,onStartMovingArea:k.func,onZoomChange:k.func,showNUX:k.bool,style:k.object},mixins:[c('ReactLayeredComponentMixin')],getInitialState:function(){return {draggingState:o.NONE,size:undefined};},renderLayers:function(){if(this.refs.adMapItem===undefined||!this.props.nuxMessage||!this.props.showNUX)return {};var r=c('ReactDOM').findDOMNode(this.refs.adMapItem),s=Math.round((r.offsetHeight-j)/2),t=Math.round((r.offsetWidth-i)/2)*-1;return {nux_below:c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this._getAdMapItem,customwidth:600,offsetX:t,offsetY:s,position:'right',shown:this.props.showNUX,onCloseButtonClick:this.props.onNUXDismiss},this.props.nuxMessage)};},render:function(){var r=this._getView();return (c('React').createElement(c('FBTilesMap.react'),{className:c('joinClasses')("uiContextualLayerParent",this.props.className),eventHandlers:{dragstart:this._onDragStart,moveend:this._onMoveEnd},options:this._getMapOptions(),ref:'adMapItem',showZoomControls:this._shouldShowZoomControls(),style:this.props.style,view:r,onSizeSettled:this._onSizeSettled,onViewChange:this._onViewChange},this._renderArea(),this._renderCircleMarker(),this._renderShadowRadiusOverlay(r),this.props.children));},_getAdMapItem:function(){return this.refs.adMapItem;},_getMapOptions:function(){return this.props.areaView==null?m:l;},_getView:function(){if(this.props.areaView==null)return this.props.defaultView;return this.props.areaView.toLeafletView();},_onDragStart:function(){if(this.props.areaView==null)return;this.setState({draggingState:o.MOVING});if(this.props.onStartMovingArea)this.props.onStartMovingArea();},_onMoveEnd:function(){if(this.state.draggingState===o.MOVING)this.setState({draggingState:o.WAS_DRAGGED});},_onSizeSettled:function(r){this.setState({size:r});if(this.props.onSizeSettled)this.props.onSizeSettled(r);},_onViewChange:function(r){var s=this.state.draggingState;this.setState({draggingState:o.NONE});var t=this.props.areaView;if(t==null)return;if(this.props.onZoomChange!=null&&!c('nearlyEqualNumbers')(r.zoom,t.zoom))this.props.onZoomChange(r.zoom);var u=this.props.onAreaCenterChange;if(u!=null&&s===o.WAS_DRAGGED&&!r.center.nearlyEquals(t.area.center))u(new (c('GeoCoordinates'))(r.center.latitude,c('LeafletUtils').wrapLongitude(r.center.longitude)));},_renderArea:function(){if(this.props.areaView==null||this.state.draggingState===o.MOVING)return;return (c('React').createElement(c('LeafletCircle.react'),{center:this.props.areaView.area.center,options:c('AdsCommonLocalMapUtils').LEAFLET_TARGET_CIRCLE_OPTIONS,radius:this.props.areaView.area.radius}));},_renderCircleMarker:function(){if(this.props.areaView==null||this.state.draggingState===o.MOVING||!this.props.areaView.isPrecise)return;return (c('React').createElement(c('LeafletCircleMarker.react'),{center:this.props.areaView.area.center,options:c('AdsCommonLocalMapUtils').LEAFLET_TARGET_MARKER_OPTIONS}));},_renderShadowRadiusOverlay:function(r){if(this.state.draggingState!==o.MOVING||this.props.areaView==null||this.state.size==null)return;var s=p(r,this.props.areaView.area.radius);return (c('React').createElement(c('FBOverlayElement.react'),null,c('React').createElement('svg',{className:"_qhj"},c('React').createElement('ellipse',{cx:this.state.size.x/2+s.centerDelta.x,cy:this.state.size.y/2+s.centerDelta.y,rx:s.radius.x,ry:s.radius.y}))));},_shouldShowZoomControls:function(){return this.props.areaView!=null&&this.props.onZoomChange!=null;}});f.exports=q;},null);
__d('AdsTargetingNumberSelector.react',['cx','XUISingleSelector.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('XUISingleSelector.react').Option,j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsTargetingNumberSelector',propTypes:{customMaxLabel:j.string,maximum:j.number.isRequired,minimum:j.number.isRequired,selectedValue:j.number.isRequired,size:j.string,onDataUpdate:j.func.isRequired},render:function(){var l=this.props,m=[];for(var n=l.minimum;n<=l.maximum;++n){var o=n;if(l.customMaxLabel&&n===l.maximum)o=l.customMaxLabel;m.push(c('React').createElement(i,{key:n,value:n},o));}return (c('React').createElement('div',{className:"_5tpo"},c('React').createElement(c('XUISingleSelector.react'),{className:"_1d1z",maxheight:200,size:this.props.size,value:l.selectedValue,onChange:l.onDataUpdate},m)));}});f.exports=k;},null);
__d("AdsTargetingTogglerSafeMixin",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={setStateSafe:function(i,j){setTimeout(function(){this.setState(i,j);}.bind(this),0);}};f.exports=h;},null);
__d('AdsAgeSelector.react',['cx','AdsCreationConfig','AdsTargetingConstants','AdsTargetingNumberSelector.react','AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','BoostedComponentTestElement','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsAgeSelector',mixins:[c('AdsTargetingTogglerSafeMixin')],propTypes:{initialMaxAge:i.number,initialMinAge:i.number,maxSelectableAge:i.number,minSelectableAge:i.number,size:i.string,onDataUpdate:i.func.isRequired},getDefaultProps:function(){return {minSelectableAge:c('AdsTargetingConstants').DEFAULT_MIN_SELECTABLE_AGE,maxSelectableAge:c('AdsTargetingConstants').DEFAULT_MAX_SELECTABLE_AGE};},getInitialState:function(){return this._getInitialAges(this.props);},componentWillReceiveProps:function(k){this.setStateSafe(this._getInitialAges(k));},_getInitialAges:function(k){var l=k.minSelectableAge,m=k.maxSelectableAge,n=k.initialMinAge?k.initialMinAge:c('AdsCreationConfig').minAgeDefault,o=k.initialMaxAge?k.initialMaxAge:m;if(l>n)n=l;if(m<o)o=m;return {minAge:n,maxAge:o};},_onMinAgeUpdate:function(k){var l=k.value,m=l>this.state.maxAge?l:this.state.maxAge;this._updateAges(l,m);},_onMaxAgeUpdate:function(k){var l=k.value,m=l<this.state.minAge?l:this.state.minAge;this._updateAges(m,l);},_updateAges:function(k,l){this.setStateSafe({minAge:k,maxAge:l});var m={age_min:k,age_max:l};this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_AGE,m);},render:function(){var k=this.state;return (c('React').createElement('div',{className:"_5so_",'data-testid':c('BoostedComponentTestElement').AGE_SELECTOR},c('React').createElement(c('AdsTargetingNumberSelector.react'),{maximum:this.props.maxSelectableAge,minimum:this.props.minSelectableAge,selectedValue:k.minAge,size:this.props.size,onDataUpdate:this._onMinAgeUpdate})," - ",c('React').createElement(c('AdsTargetingNumberSelector.react'),{customMaxLabel:this.props.maxSelectableAge+'+',maximum:this.props.maxSelectableAge,minimum:this.props.minSelectableAge,selectedValue:k.maxAge,size:this.props.size,onDataUpdate:this._onMaxAgeUpdate})));}});f.exports=j;},null);
__d('AdsCarousel.react',['cx','Locale','React','ReactDOM','clamp','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsCarousel',propTypes:{index:i.number.isRequired,onUpdated:i.func},getDefaultProps:function(){return {onUpdated:c('emptyFunction')};},getInitialState:function(){return {computedOffset:0};},componentDidMount:function(){this._computeOffset(this.props.index);},componentDidUpdate:function(){this._computeOffset(this.props.index);},_computeOffset:function(k){var l=c('ReactDOM').findDOMNode(this).offsetWidth,m=c('ReactDOM').findDOMNode(this.refs.inner).offsetWidth,n=Math.max(m-l,0),o=0;for(var p=0;p<k&&o<n;p++)o+=this._getChildDOMNode(p).offsetWidth;o=c('clamp')(o,0,n);if(o!==this.state.computedOffset){this.setState({computedOffset:o});}else this.props.onUpdated(this._getVisibleChildrenCount());},_getChildDOMNode:function(k){var l=this.refs['child_'+k];return l?c('ReactDOM').findDOMNode(l):null;},render:function(){var k=c('React').Children.map(this.props.children,function(n,o){return (c('React').createElement('div',{className:"_a1x",ref:'child_'+o},n));}),l=null;if(this.state.computedOffset){var m=String(-this.state.computedOffset)+'px';l=c('Locale').isRTL()?{right:m}:{left:m};}return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_a28")}),c('React').createElement('div',{className:"_a2e",ref:'inner',style:l},k)));},_getVisibleChildrenCount:function(){var k=this.state.computedOffset+c('ReactDOM').findDOMNode(this).offsetWidth,l=0,m=this.props.index,n;while(n=this._getChildDOMNode(m++))if(n.offsetLeft+n.offsetWidth<=k){l++;}else break;return l;}});f.exports=j;},null);
__d('AdsArrowedCarousel.react',['AdsArrowedContainer.react','AdsCarousel.react','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'AdsArrowedCarousel',getInitialState:function(){return {index:0,canIncrementIndex:false,canDecrementIndex:false};},_getChildrenCount:function(){var i=0;c('React').Children.forEach(this.props.children,function(j){return i++;});return i;},_update:function(i){var j=this.state.index+i<this._getChildrenCount(),k=this.state.index>0;if(j!==this.state.canIncrementIndex||k!==this.state.canDecrementIndex)this.setState({canIncrementIndex:j,canDecrementIndex:k});},render:function(){return (c('React').createElement(c('AdsArrowedContainer.react'),babelHelpers['extends']({},this.props,{onDecrement:this.state.canDecrementIndex?this._decrementIndex:null,onIncrement:this.state.canIncrementIndex?this._incrementIndex:null}),c('React').createElement(c('AdsCarousel.react'),{index:this.state.index,onUpdated:this._update},this.props.children)));},_incrementIndex:function(){this.setState({index:this.state.index+1});},_decrementIndex:function(){this.setState({index:this.state.index-1});}});f.exports=h;},null);
__d('AdsArrowedCarouselEnhanced.react',['AdsArrowedContainer.react','AdsCarousel.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsArrowedCarouselEnhanced',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{currentSelectedIndex:h.number,currentSelectedShouldVisible:h.bool,maxChangeAmount:h.number},getDefaultProps:function(){return {currentSelectedIndex:0,currentSelectedShouldVisible:false,maxChangeAmount:1};},getInitialState:function(){return {firstVisibleIndex:0,visibleChildrenCount:0};},componentWillReceiveProps:function(j){if(!j.currentSelectedShouldVisible)return;var k=j.currentSelectedIndex;if(this._isSelectedIndexOnLeftNotVisible(k)){this.setState({firstVisibleIndex:k});}else if(this._isSelectedIndexOnRightNotVisible(k)){var l=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1,m=k-l;this.setState({firstVisibleIndex:this.state.firstVisibleIndex+m});}},_isSelectedIndexOnLeftNotVisible:function(j){return j<this.state.firstVisibleIndex;},_isSelectedIndexOnRightNotVisible:function(j){var k=this.state.firstVisibleIndex+this.state.visibleChildrenCount-1;return j>k;},render:function(){var j=this._getNextIncrementAmount(),k=this._getNextDecrementAmount();return (c('React').createElement(c('AdsArrowedContainer.react'),babelHelpers['extends']({},this.props,{isArrowCentered:true,onDecrement:k?this._decrementIndex:null,onIncrement:j?this._incrementIndex:null}),c('React').createElement(c('AdsCarousel.react'),{index:this.state.firstVisibleIndex,onUpdated:this._update},this.props.children)));},_decrementIndex:function(){var j=this._getNextDecrementAmount();this.setState({firstVisibleIndex:this.state.firstVisibleIndex-j});},_incrementIndex:function(){var j=this._getNextIncrementAmount();this.setState({firstVisibleIndex:this.state.firstVisibleIndex+j});},_update:function(j){this.setState({visibleChildrenCount:j});},_getNextIncrementAmount:function(){var j=this.state.visibleChildrenCount,k=c('React').Children.count(this.props.children)-this.state.firstVisibleIndex-j;if(k<=0)return 0;return Math.min(k,this.props.maxChangeAmount||1);},_getNextDecrementAmount:function(){return Math.min(this.state.firstVisibleIndex,this.props.maxChangeAmount||1);}});f.exports=i;},null);
__d('AdsImageSecondaryActions',['keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({X:null});f.exports=h;},null);
__d('AdsCFImageViewActions',['AdsDispatcher','AdsCFActionTypes'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={changeStockSearchText:function(i){c('AdsDispatcher').handleUpdateFromViewAction({searchText:i,type:c('AdsCFActionTypes').STOCK_IMAGE_SEARCH_TEXT_CHANGE});},cancelImageDialog:function(i){c('AdsDispatcher').handleUpdateFromViewAction({imageList:i,type:c('AdsCFActionTypes').IMAGE_DIALOG_CANCEL});},confirmImageDialog:function(i){c('AdsDispatcher').handleUpdateFromViewAction({imageList:i,type:c('AdsCFActionTypes').IMAGE_DIALOG_CONFIRMED});}};f.exports=h;},null);
__d('AdsMediaLibraryExpandedAsset.react',['cx','Image.react','Keys','React','ReactDOM','adsGKCheck'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('adsGKCheck')('ads_pe_migration_bar'),j=c('React').PropTypes,k=24,l=c('React').createClass({displayName:'AdsMediaLibraryExpandedAsset',propTypes:{height:j.number.isRequired,onClickClose:j.func.isRequired,source:j.string.isRequired,topBarHeight:j.number,width:j.number.isRequired},componentDidMount:function(){c('ReactDOM').findDOMNode(this.refs.expandedAssetView).focus();},_onKeyDownHandler:function(m){if(m.keyCode===c('Keys').ESC)this.props.onClickClose();},_onClickHandler:function(m){this.props.onClickClose();m.stopPropagation();},render:function(){var m=this.props.width,n=this.props.height,o={},p=window.innerHeight,q=window.innerWidth;if(m>q||n>p){if(m/q>n/p){m=q;n=this.props.height*(q/this.props.width);o.width=m;}else{n=p;m=this.props.width*(p/this.props.height);o.height=n;}}else o.width=this.props.width;var r=-Math.floor(m/2),s=this.props.topBarHeight||0,t=-Math.floor(n/2)+s+k,u=c('React').createElement('div',{className:"_4-lr",style:{marginLeft:r,marginTop:t}},c('React').createElement(c('Image.react'),{alt:this.props.source,className:"_4vnf",src:this.props.source,style:o})),v=c('React').createElement('div',{className:"_1zn8",style:{marginLeft:-(r+15),marginTop:t-20}});return (c('React').createElement('div',{className:"_1zn6"+(i?' '+"_a2h":''),ref:'expandedAssetView',tabIndex:0,onClick:this._onClickHandler,onKeyDown:this._onKeyDownHandler},c('React').createElement('div',{className:"_4-ls"}),u,v));}});f.exports=l;},null);
__d('AdsMediaPanelImageBoxUtils',['AdsCreationExperimentStore'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=null;function i(){if(h===null){var k=c('AdsCreationExperimentStore').getExperiment('ads_cf_shutterstock_flyover_enabled');k.logExposure();h=k.getParamBool('enabled');}return h;}var j={flyoverPreviewEnabled:i};f.exports=j;},null);
__d('AdsMediaPanelImageBox.react',['cx','cssVar','fbt','AdsCreationExperimentStore','AdsImageLegacy','AdsMediaPanelImageBoxUtils','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','ContextualDialog.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','GradientBox.react','Link.react','React','ReactDOM','ReactLayeredComponentMixin','adsGKCheck','debounce','getElementPosition','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=parseInt("110px",10),m=parseInt("66px",10),n=1000,o=1000,p=65,q=65,r=20,s=c('adsGKCheck')('ads_image_picker_redesign')&&'1'===c('AdsCreationExperimentStore').getExperiment('ads_image_picker_redesign_experiment').getParam('has_redesign');if(s){m=parseInt("58px",10);p=m;q=m;}var t={'default':null,disabled:null,selected:"_5ywk",removable:"_5ywl"},u=c('React').createClass({displayName:'AdsMediaPanelImageBox',mixins:[c('ReactLayeredComponentMixin')],propTypes:{alt:k.string,decoration:k.oneOf(Object.keys(t)),image:k.instanceOf(c('AdsImageLegacy')).isRequired,imageSpec:k.object,isTooSmall:k.bool,igSpecificImageSpec:k.object,onDecorationIconClick:k.func,onImageClick:k.func,onImageDoubleClick:k.func},getDefaultProps:function(){return {decoration:'default',isTooSmall:false};},getInitialState:function(){return {imageReady:this.props.image.hasDimensions(),previewShown:false,hovering:false,isValidForFacebook:true};},_isDisabled:function(){return this.props.decoration==='disabled';},_mayClickImages:function(){return (!this._isDisabled()&&!(this.props.isTooSmall&&!this.state.isValidForFacebook));},_getOnImageClick:function(){return this._mayClickImages()?this.props.onImageClick:null;},_getOnImageDoubleClick:function(){return this._mayClickImages()?this.props.onImageDoubleClick:null;},_mayShowPreviews:function(){return (!this._isDisabled()&&this.props.image.isStockImage()&&c('AdsMediaPanelImageBoxUtils').flyoverPreviewEnabled());},_getOnImageMouseEnter:function(){return this._mayShowPreviews()?this._showPreview:null;},_getOnImageMouseLeave:function(){return this._mayShowPreviews()?this._hidePreview:null;},_showPreview:function(){this._resetSchedulePreviewHide();this.setState({previewShown:true});},_hidePreview:function(){this._resetSchedulePreviewHide();this.setState({previewShown:false});},_onImageDimensionsReady:function(){if(this.isMounted())this.setState({imageReady:true});},componentWillReceiveProps:function(v){if(v.image.equals(this.props.image))return;var w=v.image.hasDimensions();this.setState({imageReady:w});if(!w)v.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},componentWillMount:function(){this._setSchedulePreviewHide(c('debounce')(this._hidePreview,r));if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);if(this.props.igSpecificImageSpec)this.props.image.resetValidation(this.props.igSpecificImageSpec.placement);},componentWillUnmount:function(){this._resetSchedulePreviewHide();this._setSchedulePreviewHide(null);},_setSchedulePreviewHide:function(v){var w=this;w._schedulePreviewHide=v;},_resetSchedulePreviewHide:function(){var v=this;v._schedulePreviewHide.reset();},_renderDecorationIcon:function(){var v=this.props.onDecorationIconClick;return (c('React').createElement(c('Link.react'),{className:"_5ywm",tabIndex:v?null:-1,onClick:v,onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()}));},_renderOverlay:function(){if(!this._isDisabled())return null;return (c('React').createElement('div',{className:"_29wz"}));},_renderImage:function(){var v=this.props.image,w=this._calculateImageDimensions(),x=v.calculatedWidth,y=v.calculatedHeight,z=null,aa=null,ba=null;if(this.props.isTooSmall){z=this._renderErrorIcon();aa=this._renderDimensionInfo();ba=this._renderOverlayGradient();}else if(s&&this.state.hovering){aa=this._renderDimensionInfo();ba=this._renderOverlayGradient();}return (c('React').createElement(c('FBOverlayContainer.react'),{className:"_29w-"},c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',{className:!v.isStockImage()?"_5ywo":''},c('React').createElement(c('BackgroundImage.react'),{alt:this.props.alt,backgroundPosition:'0px',backgroundSize:'cover',className:(!v.isStockImage()&&!s?"_24s3":'')+(!v.isStockImage()&&s?' '+"_24s7":''),height:y||w.height,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,ref:'image',src:v.getThumbnailUrl()||v.getUrl(),style:this._getImageStyle(),width:x||w.width}))),ba,c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement('div',{className:"_20-u"},aa,z))));},_renderOverlayGradient:function(){return (c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},c('React').createElement(c('GradientBox.react'),{className:"_2_4q",color:'black',direction:'up'})));},_renderDimensionInfo:function(){var v=this.props.image.isStockImage()?this._calculateFullSizeStockImageDimensions():this._getImageDimensions();return j._("{width} \u00d7 {height}",[j.param('width',v.width),j.param('height',v.height)]);},_renderErrorIcon:function(){var v=this.props.imageSpec;if(!v)return;if(!this.props.image.isValidated(v.placement))this.props.image.validateNow(v);var w=this.props.image.getValidation(v.placement).errorMessage,x,y=this.props.igSpecificImageSpec;if(y){if(!this.props.image.isValidated(y.placement))this.props.image.validateNow(y);var z=this.props.image.getValidation(y.placement);x=z.errorMessage;}if(w&&this.state.isValidForFacebook)this.setState({isValidForFacebook:false});return (c('React').createElement(c('AdsValidationIcon.react'),{className:"_20-v",messages:[w||x],type:c('AdsValidationIconType').ERROR_IMAGE}));},render:function(){return (c('React').createElement('div',{className:"_5ywp"},c('React').createElement('div',{className:c('joinClasses')((!s?"_24s3":'')+(s?' '+"_24s7":''),t[this.props.decoration],this.props.className),onMouseEnter:function(){return this.setState({hovering:true});}.bind(this),onMouseLeave:function(){return this.setState({hovering:false});}.bind(this)},c('React').createElement(c('Link.react'),{className:"_5ywq",tabIndex:this.props.onImageClick?null:-1,onClick:this._getOnImageClick(),onDoubleClick:this._getOnImageDoubleClick(),onMouseEnter:this._getOnImageMouseEnter(),onMouseLeave:this._getOnImageMouseLeave()},this._renderImage()),this._renderOverlay(),this._renderDecorationIcon())));},renderLayers:function(){var v=this.props.image,w=this._mayShowPreviews()&&this.state.previewShown,x=v.getPreviewWidth(),y=v.getPreviewHeight(),z=null;if(!w)return {};var aa={height:String(y)+'px',width:String(x)+'px'},ba=c('getElementPosition')(c('ReactDOM').findDOMNode(this)),ca=c('getViewportDimensions')(),da=ba.x,ea=ca.width-ba.x-ba.width;z=da>ea?'left':'right';return {preview:c('React').createElement(c('ContextualDialog.react'),{contextRef:function(){return this.refs.image;}.bind(this),position:z,shown:true,style:aa},c('React').createElement(c('BackgroundImage.react'),{backgroudSize:'cover',backgroundPosition:'0px',height:y,loadingIndicatorStyle:'large',optimizeResizeSpeed:true,src:v.getPreviewUrl(),width:x}))};},_getSizeMultiplier:function(v,w,x){return s?Math.min(w/v.width,x/v.height):Math.min(w/v.width,x/v.height,1);},_getStockImageSizeMultiplier:function(){return this._getSizeMultiplier(this._getStockImageVisibleDimensions(),l,m);},_fitDimensions:function(v,w,x){var y=this._getSizeMultiplier(v,w,x);return {height:Math.floor(v.height*y),width:Math.floor(v.width*y)};},_getImageStyle:function(){var v=this.props.image;if(!v.isStockImage()||!this.state.imageReady)return null;var w=this._getStockImageVisibleDimensions(),x=this._getImageDimensions(),y={height:x.height-w.height,width:x.width-w.width},z=this._getStockImageSizeMultiplier(),aa={};if(y.height>0)aa.marginBottom=String(Math.ceil(y.height*-z))+'px';if(y.width>0)aa.marginRight=String(Math.ceil(y.width*-z))+'px';return aa;},_getImageDimensions:function(){return {height:this.props.image.height,width:this.props.image.width};},_getNonStockImageDimensions:function(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};},_getStockImageVisibleDimensions:function(){return {height:this.props.image.getThumbnailHeight(),width:this.props.image.getThumbnailWidth()};},_calculateImageDimensions:function(){return this.props.image.isStockImage()?this._calculateStockImageDimensions():this._calculateNonStockImageDimensions();},_calculateNonStockImageDimensions:function(){if(!this.state.imageReady)return {height:q,width:p};return this._fitDimensions(this._getNonStockImageDimensions(),l,m);},_calculateStockImageDimensions:function(){if(!this.state.imageReady)return this._fitDimensions(this._getStockImageVisibleDimensions(),l,m);var v=this._getImageDimensions(),w=this._getStockImageSizeMultiplier();return {height:Math.floor(v.height*w),width:Math.floor(v.width*w)};},_calculateFullSizeStockImageDimensions:function(){var v=this.props.image;if(v.hasFullSizeDimensions())return {height:v.getFullSizeHeight(),width:v.getFullSizeWidth()};var w=v.getPreviewWidth(),x=v.getPreviewHeight(),y=Math.min(n/w,o/x);return {height:Math.round(x*y),width:Math.round(w*y)};}});f.exports=u;},null);
__d('AdsMediaStandaloneLibraryImageWithDimensions.react',['cx','fbt','AdsImageLegacy','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k={height:600,width:200},l={height:400,width:400},m=c('React').createClass({displayName:'AdsMediaStandaloneLibraryImageWithDimensions',propTypes:{alt:j.string,image:j.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:j.bool},getInitialState:function(){return {thumbnailLoaded:false};},render:function(){var n=this.props.image,o=this._calculateImageDimensions(),p=n.calculatedWidth,q=n.calculatedHeight,r=this.state.thumbnailLoaded?n.getUrl():n.getThumbnailUrl();return (c('React').createElement(c('FBOverlayContainer.react'),{className:"_1bye"},c('React').createElement(c('FBOverlayBase.react'),null,c('React').createElement('div',null,c('React').createElement(c('BackgroundImage.react'),{alt:this.props.alt,backgroundPosition:0,backgroundSize:'cover',className:"_2vjn",height:q||o.height,loadingIndicatorStyle:'small',optimizeResizeSpeed:true,src:r,width:p||o.width,onImageLoad:this._handleImageLoad}))),c('React').createElement(c('FBOverlayElement.react'),{vertical:'bottom'},this._renderImageDimensions(n))));},_renderImageDimensions:function(n){var o=n.getWidth(),p=n.getHeight();return (c('React').createElement('div',{className:"_1byh"},c('React').createElement('span',{className:"_1byi",onClick:this._handleImageInfoClick},c('React').createElement(c('AdsValidationIcon.react'),{className:"_1byj",type:c('AdsValidationIconType').LARGE_IMAGE}),c('React').createElement('span',{className:"_1byk"},i._("{width} \u00d7 {height}",[i.param('width',o),i.param('height',p)])))));},_handleImageLoad:function(){this.setState({thumbnailLoaded:true});},_handleImageInfoClick:function(n){n.stopPropagation();this.props.onExpandClick(this.props.image);},_calculateImageDimensions:function(){if(!this.props.imageReady)return l;return this._fitDimensions(this._getImageDimensions(),k);},_getImageDimensions:function(){return {height:this.props.image.getThumbnailHeight()||this.props.image.height,width:this.props.image.getThumbnailWidth()||this.props.image.width};},_fitDimensions:function(n,o){var p=this._getSizeMultiplier(n,o);return {height:Math.floor(n.height*p),width:Math.floor(n.width*p)};},_getSizeMultiplier:function(n,o){return Math.min(o.width/n.width,o.height/n.height,1);}});f.exports=m;},null);
__d('AdsMediaStandaloneLibraryMetadataImage.react',['cx','fbt','AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','Link.react','React','URI'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=180,l=c('React').createClass({displayName:'AdsMediaStandaloneLibraryMetadataImage',propTypes:{alt:j.string,image:j.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:j.bool.isRequired,onExpandClick:j.func.isRequired},render:function(){var n=this.props.image,o=new (c('URI'))(n.getUrl()).setQueryData({dl:1});return (c('React').createElement('div',{className:"_35qj"},c('React').createElement('div',{className:"_35qk"},c('React').createElement(c('AdsMediaStandaloneLibraryImageWithDimensions.react'),{image:n,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick})),c('React').createElement('div',{className:"_35ql"},c('React').createElement(m,{propertyKey:i._("Name:"),propertyValue:n.name}),c('React').createElement(m,{propertyKey:i._("Hash:"),propertyValue:c('React').createElement(c('Link.react'),{href:o},n.getAdAccountHash())}))));}}),m=c('React').createClass({displayName:'AdsMediaStandaloneLibraryMetadataProperty',propTypes:{propertyKey:j.node.isRequired,propertyValue:j.node.isRequired},render:function(){return (c('React').createElement('div',{className:"_35qo"},c('React').createElement('div',{className:"_35qp"},this.props.propertyKey),' ',c('React').createElement('div',{className:"_35qq"},this.props.propertyValue)));}});f.exports=l;},null);
__d('AdsMediaStandaloneLibrarySelectableImage.react',['cx','AdsImageLegacy','AdsMediaStandaloneLibraryImageWithDimensions.react','Link.react','React','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j={'default':null,disabled:null,selected:"_1byd"},k=c('React').createClass({displayName:'AdsMediaStandaloneLibrarySelectableImage',propTypes:{alt:i.string,decoration:i.oneOf(Object.keys(j)).isRequired,image:i.instanceOf(c('AdsImageLegacy')).isRequired,imageReady:i.bool,onExpandClick:i.func.isRequired,onImageClick:i.func.isRequired},getDefaultProps:function(){return {decoration:'default',onExpandClick:c('emptyFunction'),onImageClick:c('emptyFunction')};},render:function(){return (c('React').createElement('div',{className:"_1bym"},c('React').createElement('div',{className:c('joinClasses')(j[this.props.decoration],this.props.className)},c('React').createElement(c('Link.react'),{className:"_1byn",tabIndex:this.props.onImageClick?null:-1,onClick:this.props.onImageClick},c('React').createElement(c('AdsMediaStandaloneLibraryImageWithDimensions.react'),{image:this.props.image,imageReady:this.props.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick})),this._renderDecorationIcon())));},_renderDecorationIcon:function(){return (c('React').createElement(c('Link.react'),{className:"_1byl"}));}});f.exports=k;},null);
__d('AdsMediaStandaloneLibraryImage.react',['cx','AdsImageLegacy','AdsMediaStandaloneLibraryMetadataImage.react','AdsMediaStandaloneLibrarySelectableImage.react','React','emptyFunction'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsMediaStandaloneLibraryImage',propTypes:{alt:i.string,decoration:i.string.isRequired,image:i.instanceOf(c('AdsImageLegacy')).isRequired,onExpandClick:i.func.isRequired,onImageClick:i.func.isRequired,showImageMetadata:i.bool},getDefaultProps:function(){return {decoration:'default',onExpandClick:c('emptyFunction'),onImageClick:c('emptyFunction'),showImageMetadata:false};},getInitialState:function(){return {imageReady:this.props.image.hasDimensions()};},_onImageDimensionsReady:function(){this.setState({imageReady:true});},componentWillReceiveProps:function(k){if(k.image.equals(this.props.image))return;var l=k.image.hasDimensions();this.setState({imageReady:l});if(!l)k.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},componentWillMount:function(){if(!this.state.imageReady)this.props.image.setDimensionsReadyCallback(this._onImageDimensionsReady);},_renderMetadataImage:function(){return (c('React').createElement(c('AdsMediaStandaloneLibraryMetadataImage.react'),{alt:this.props.alt,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick}));},_renderSelectableImage:function(){return (c('React').createElement(c('AdsMediaStandaloneLibrarySelectableImage.react'),{alt:this.props.alt,decoration:this.props.decoration,image:this.props.image,imageReady:this.state.imageReady,onExpandClick:this.props.onExpandClick,onImageClick:this.props.onImageClick}));},render:function(){return (c('React').createElement('div',{className:"_3tlt"},this.props.showImageMetadata?this._renderMetadataImage():this._renderSelectableImage()));}});f.exports=j;},null);
__d("DimensionTracker",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){"use strict";this.$DimensionTracker1=[];this.$DimensionTracker2=0;}h.prototype.setValue=function(i,j){"use strict";this.$DimensionTracker2++;this.$DimensionTracker1.push({index:i,value:j});};h.prototype.getChangesSince=function(i){"use strict";var j=this.$DimensionTracker1.slice(i,this.$DimensionTracker2);return {changes:j,pointer:this.$DimensionTracker2};};f.exports=h;},null);
__d('ImageRowItem.react',['React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'ImageRowItem',propTypes:{footerRow:h.node,height:h.number.isRequired,imageRowItems:h.array,renderImage:h.func,rowGetter:h.func,rowIndex:h.number.isRequired,width:h.number.isRequired},render:function(){var j=this.props.imageRowItems[this.props.rowIndex];if(j){var k=this.props.renderImage,l=j.map(k);return (c('React').createElement('div',{key:'ImageRowItem'+j[0].getAdAccountHash()},l));}else return (c('React').createElement('div',{key:'ImageRowItemFooter'},this.props.footerRow));}});f.exports=i;},null);
__d('InfiniteScroll.react',['cx','Event','React','ReactDOM','Scroll','SubscriptionsHandler','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'InfiniteScroll',propTypes:{distanceToEnd:i.number,onEndReached:i.func},getDefaultProps:function(){return {distanceToEnd:50};},componentDidMount:function(){var k=c('ReactDOM').findDOMNode(this);this.subscriptions=new (c('SubscriptionsHandler'))();this.subscriptions.addSubscriptions(c('Event').listen(k,'scroll',this._checkIfEndReached),c('Event').listen(k,'resize',this._checkIfEndReached));},componentDidUpdate:function(){this._checkIfEndReached();},componentWillUnmount:function(){this.subscriptions.release();delete this.subscriptions;},_checkIfEndReached:function(){if(!this.props.onEndReached)return;var k=c('ReactDOM').findDOMNode(this);if(!k.offsetHeight)return;var l=c('Scroll').getTop(k)+k.offsetHeight;if(l>=k.scrollHeight-this.props.distanceToEnd)this.props.onEndReached();},render:function(){return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_1ph1")}),this.props.children));}});f.exports=j;},null);
/**
 * @providesModule sha256
 * @preserve-header
 *
 * Copyright (c) 2003, Christoph Bichlmeier
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the copyright holder nor the names of contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ''AS IS'' AND ANY EXPRESS
 * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */__d("sha256",["str2rstr"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c('str2rstr');function i(ga,ha){return ((ha>>>ga)|(ha<<(32-ga)));}function j(ga,ha,ia){return ((ga&ha)^(~ga&ia));}function k(ga,ha,ia){return ((ga&ha)^(ga&ia)^(ha&ia));}function l(ga){return (i(2,ga)^i(13,ga)^i(22,ga));}function m(ga){return (i(6,ga)^i(11,ga)^i(25,ga));}function n(ga){return (i(7,ga)^i(18,ga)^(ga>>>3));}function o(ga){return (i(17,ga)^i(19,ga)^(ga>>>10));}function p(ga,ha){return (ga[ha&15]+=o(ga[(ha+14)&15])+ga[(ha+9)&15]+n(ga[(ha+1)&15]));}var q=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),r=new Array(8),s=new Array(2),t=new Array(64),u=new Array(16),v="0123456789abcdef";function w(ga,ha){var ia=(ga&65535)+(ha&65535),ja=(ga>>16)+(ha>>16)+(ia>>16);return (ja<<16)|(ia&65535);}function x(){s[0]=s[1]=0;r[0]=1779033703;r[1]=3144134277;r[2]=1013904242;r[3]=2773480762;r[4]=1359893119;r[5]=2600822924;r[6]=528734635;r[7]=1541459225;}function y(){var ga,ha,ia,ja,ka,la,ma,na,oa,pa;ga=r[0];ha=r[1];ia=r[2];ja=r[3];ka=r[4];la=r[5];ma=r[6];na=r[7];for(var qa=0;qa<16;qa++)u[qa]=((t[(qa<<2)+3])|(t[(qa<<2)+2]<<8)|(t[(qa<<2)+1]<<16)|(t[qa<<2]<<24));for(var ra=0;ra<64;ra++){oa=na+m(ka)+j(ka,la,ma)+q[ra];if(ra<16){oa+=u[ra];}else oa+=p(u,ra);pa=l(ga)+k(ga,ha,ia);na=ma;ma=la;la=ka;ka=w(ja,oa);ja=ia;ia=ha;ha=ga;ga=w(oa,pa);}r[0]+=ga;r[1]+=ha;r[2]+=ia;r[3]+=ja;r[4]+=ka;r[5]+=la;r[6]+=ma;r[7]+=na;}function z(ga,ha){var ia,ja,ka=0;ja=((s[0]>>3)&63);var la=(ha&63);if((s[0]+=(ha<<3))<(ha<<3))s[1]++;s[1]+=(ha>>29);for(ia=0;ia+63<ha;ia+=64){for(var ma=ja;ma<64;ma++)t[ma]=ga.charCodeAt(ka++);y();ja=0;}for(var ma=0;ma<la;ma++)t[ma]=ga.charCodeAt(ka++);}function aa(){var ga=((s[0]>>3)&63);t[ga++]=128;if(ga<=56){for(var ha=ga;ha<56;ha++)t[ha]=0;}else{for(var ha=ga;ha<64;ha++)t[ha]=0;y();for(var ha=0;ha<56;ha++)t[ha]=0;}t[56]=(s[1]>>>24)&255;t[57]=(s[1]>>>16)&255;t[58]=(s[1]>>>8)&255;t[59]=s[1]&255;t[60]=(s[0]>>>24)&255;t[61]=(s[0]>>>16)&255;t[62]=(s[0]>>>8)&255;t[63]=s[0]&255;y();}function ba(){var ga=0,ha=new Array(32);for(var ia=0;ia<8;ia++){ha[ga++]=((r[ia]>>>24)&255);ha[ga++]=((r[ia]>>>16)&255);ha[ga++]=((r[ia]>>>8)&255);ha[ga++]=(r[ia]&255);}return ha;}function ca(){var ga=new String();for(var ha=0;ha<8;ha++)for(var ia=28;ia>=0;ia-=4)ga+=v.charAt((r[ha]>>>ia)&15);return ga;}function da(ga){var ha=0;for(var ia=0;ia<8;ia++)for(var ja=28;ja>=0;ja-=4)ga[ha++]=v.charCodeAt((r[ia]>>>ja)&15);}function ea(ga,ha){x();z(ga,ga.length);aa();if(ha){da(ha);}else return ca();}function fa(ga,ha,ia){if(ga===null||ga===undefined)return null;ha=(typeof ha=='undefined')?true:ha;if(ha)ga=h(ga);return ea(ga,ia);}f.exports=fa;},null);
__d("PhotoArrange",["Map","sha256"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=.5,i=.5,j={height:-1,isOptimal:false,isValid:false};function k(){"use strict";this.$PhotoArrange1=new (c("Map"))();this.$PhotoArrange2=new (c("Map"))();}k.prototype.solve=function(m,n){"use strict";var o=n.map(function(s){return s.height/s.width;}),p=this.$PhotoArrange3(m,n);if(this.$PhotoArrange1.has(p))return this.$PhotoArrange1.get(p);var q;try{q=this.$PhotoArrange4(m,n,o);}catch(r){q=this.$PhotoArrange5(m,n,o);}this.$PhotoArrange1.set(p,q);return q;};k.prototype.$PhotoArrange3=function(m,n){"use strict";var o=[String(m.containerWidth),String(m.marginPerImage),String(m.maxImageHeight),String(m.minImageHeight),String(m.minImageWidth)].concat(n.map(function(p){return ([String(p.width),String(p.height)].join(","));})).join(",");return c("sha256")(o);};k.prototype.$PhotoArrange5=function(m,n,o){"use strict";var p=(m.maxImageHeight+m.minImageHeight)/2;return n.map(function(q,r){var s=p/o[r];return {height:p,width:s};});};k.prototype.$PhotoArrange4=function(m,n,o){"use strict";if(!n.length)return [];var p=j,q=0,r=j,s=0,t=n.length,u=m.maxImageHeight,v=m.minImageWidth,w=m.containerWidth,x=u/o[0],y=0;while(y<t-1){var z=Math.max(v,u/o[y+1]);if(x+z>w){break;}else{x+=z+m.marginPerImage;y++;}}var aa=[],ba=[],ca;for(;y<t;y++){q=y+1;aa=n.slice(0,q);ba=o.slice(0,q);ca=this.$PhotoArrange3(m,aa);if(this.$PhotoArrange2.has(ca)){p=this.$PhotoArrange2.get(ca);}else{p=new l(m,ba.slice(0,q)).solve();this.$PhotoArrange2.set(ca,p);}if(p.isValid&&p.isOptimal){break;}else if(p.isValid){r=p;s=q;}else{p=r;q=s;break;}}if(p.isValid){var da=p.height,ea=n.slice(0,q);ea=ea.map(function(fa,ga){return {width:da/o[ga],height:da};});return ea.concat(this.$PhotoArrange4(m,n.slice(q),o.slice(q)));}else throw "There is no valid solution to arrange these photos\n        under the specified constraints";};function l(m,n){var o=m.containerWidth,p=m.marginPerImage,q=m.maxImageHeight,r=m.minImageHeight,s=m.minImageWidth;"use strict";this.$ImagesBSSolver1=o;this.$ImagesBSSolver2=n;this.$ImagesBSSolver3=p;this.$ImagesBSSolver4=q;this.$ImagesBSSolver5=r;this.$ImagesBSSolver6=s;}l.prototype.solve=function(){"use strict";var m=this.$ImagesBSSolver5,n=this.$ImagesBSSolver4,o=(n+m)/2,p=this.$ImagesBSSolver7(m),q=this.$ImagesBSSolver7(o),r=this.$ImagesBSSolver7(n);if(!p.isValid){return j;}else if(r.isValid){return {height:n,isOptimal:r.isOptimal,isValid:r.isValid};}else{while(!q.isValid||n-m>h){if(!q.isValid){n=o;}else m=o;o=(n+m)/2;q=this.$ImagesBSSolver7(o);}return {height:o,isOptimal:q.isOptimal,isValid:q.isValid};}};l.prototype.$ImagesBSSolver7=function(m){"use strict";var n=this.$ImagesBSSolver2.reduce(function(q,r){var s=Math.max(this.$ImagesBSSolver6,m/r);return q+s+this.$ImagesBSSolver3;}.bind(this),-this.$ImagesBSSolver3),o=n<this.$ImagesBSSolver1,p=o&&n+i>this.$ImagesBSSolver1;return {isOptimal:p,isValid:o};};f.exports=new k();},null);
__d('AdsMediaLibrary.react',['cx','invariant','AdsCreationExperimentStore','AdsImageLegacy','AdsImageValidation','AdsMediaLibraryExpandedAsset.react','AdsMediaPanelImageBox.react','AdsMediaStandaloneLibraryImage.react','ImageRowItem.react','InfiniteScroll.react','PhotoArrange','React','ReactDOM','DimensionTracker','Scroll','SimpleList.react','XUISpinner.react','adsGKCheck','emptyFunction','joinClasses','setImmediate'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=false,l={height:100,width:100},m=60,n=290,o=90,p=210,q=14,r=48,s=550,t=60,u=50,v=0,w=12,x=49,y=c('React').createClass({displayName:'AdsMediaLibrary',propTypes:{disableTooSmallImages:j.bool,height:j.number.isRequired,imageList:j.arrayOf(j.instanceOf(c('AdsImageLegacy'))).isRequired,imageSpec:j.shape({minWarningWidth:j.number.isRequired,minWarningHeight:j.number.isRequired}),isClickEnabled:j.bool.isRequired,isLoadingInitial:j.bool,igSpecificImageSpec:j.object,onEndReached:j.func,onImageClick:j.func.isRequired,onImageDoubleClick:j.func,photoArrangeConstraints:j.shape({containerPadding:j.number.isRequired,maxImageHeight:j.number.isRequired,minImageHeight:j.number.isRequired,minImageWidth:j.number.isRequired,marginPerImage:j.number.isRequired}).isRequired,photoArrangeEnabled:j.bool,selectedImageList:j.array.isRequired,scrollingAreaFooter:j.object,showStandaloneImageMetadata:j.bool,standalone:j.bool,topBarHeight:j.number},getDefaultProps:function(){return {disableTooSmallImages:false,onImageClick:c('emptyFunction'),photoArrangeConstraints:{containerPadding:m,maxImageHeight:t,minImageHeight:u,minImageWidth:v,marginPerImage:w},selectedImageList:[],showStandaloneImageMetadata:false,standalone:false};},getInitialState:function(){return {containerWidth:0,expandedImage:null};},componentDidMount:function(){c('setImmediate')(this.measureContainerWidth);},componentWillReceiveProps:function(){this.measureContainerWidth();},render:function(){var z=c('joinClasses')(this.props.className,"_3suv"),aa=this.props.children;if(aa)aa=c('React').createElement('div',{className:"_13u2 clearfix"},aa);var ba,ca=this.props.photoArrangeConstraints;if(this.state.containerWidth&&this.props.photoArrangeEnabled){var da=Math.max(0,this.state.containerWidth-ca.containerPadding),ea=this.props.imageList.map(function(la){return babelHelpers['extends']({},la,{width:la.width||l.width,height:la.height||l.height});}),fa=c('PhotoArrange').solve(babelHelpers['extends']({},ca,{containerWidth:da}),ea);ba=this.props.imageList.map(function(la,ma){la.calculatedWidth=fa[ma].width;la.calculatedHeight=fa[ma].height;return la;});}else ba=this.props.imageList;if(this.props.standalone){var ga=null;if(da){var ha=this._imagesToRows(ba,da,ca.marginPerImage,ca.minImageWidth),ia=new (c('DimensionTracker'))();ha.forEach(function(la,ma){var na=la[0],oa=this.props.showStandaloneImageMetadata?o:q,pa=na.calculatedHeight+oa;ia.setValue(ma,pa);}.bind(this));ia.setValue(ha.length,x);var ja=this.props.showStandaloneImageMetadata?n:p,ka=this.state.containerWidth-r;ga=c('React').createElement(c('SimpleList.react'),{height:this.props.height,item:c('React').createElement(c('ImageRowItem.react'),{footerRow:this.props.scrollingAreaFooter,imageRowItems:ha,renderImage:this._renderStandaloneLibraryImage}),rowCount:ha.length+1,rowHeight:ja,rowHeightTracker:ia,width:ka});}return (c('React').createElement('div',{className:z,ref:'AdsMediaLibraryRoot'},c('React').createElement('div',{className:"_13t_",ref:'imagesContainer'},ga),this._renderExpandedView(),this._renderOverlay()));}else return (c('React').createElement('div',{className:z,ref:'AdsMediaLibraryRoot'},c('React').createElement(c('InfiniteScroll.react'),{className:"_13u1",style:{height:this.props.height},onEndReached:this.props.onEndReached},aa,c('React').createElement('div',{className:"_13t_",ref:'imagesContainer'},ba.map(this._renderImage)),this.props.scrollingAreaFooter),this._renderOverlay()));},componentWillMount:function(){if(c('adsGKCheck')('ads_image_picker_redesign')){var z=c('AdsCreationExperimentStore').getExperiment('ads_image_picker_redesign_experiment');z.logExposure();k=z.getParam('has_redesign')==='1';}},measureContainerWidth:function(){var z=this.refs.imagesContainer;if(z){var aa=c('ReactDOM').findDOMNode(z),ba=aa.offsetWidth;this.setState({containerWidth:ba});}},_imagesToRows:function(z,aa,ba,ca){if(!z.length)return [];var da=[[]],ea=0,fa=0;z.forEach(function(ga,ha){var ia=Math.max(ca,ga.calculatedWidth);if(fa+ia>aa){da.push([]);fa=0;ea++;}da[ea].push(ga);fa+=ia+ba;});return da;},_renderOverlay:function(){if(!this.props.isLoadingInitial)return null;return (c('React').createElement('div',{className:"_13u3"},c('React').createElement(c('XUISpinner.react'),{background:'light',className:"_13t-",size:'large'})));},_renderExpandedView:function(){if(!this.state.expandedImage)return null;var z=this.state.expandedImage,aa=Math.min(z.height,s),ba=aa*z.width/z.height;return (c('React').createElement(c('AdsMediaLibraryExpandedAsset.react'),{height:aa,key:'expanded_view',source:z.getUrl(),topBarHeight:this.props.topBarHeight,width:ba,onClickClose:this._onExpandClickClose}));},_onExpandClick:function(z){this.setState({expandedImage:z});},_onExpandClickClose:function(){this.setState({expandedImage:null});},_isImageSelected:function(z){return this.props.selectedImageList.some(function(aa){return aa.getUniqueIdentifier()==z;});},_getImageDecoration:function(z){if(this._isImageSelected(z.getUniqueIdentifier())){return 'selected';}else if(!this.props.isClickEnabled)return 'disabled';return 'default';},_renderStandaloneLibraryImage:function(z){return (c('React').createElement(c('AdsMediaStandaloneLibraryImage.react'),{decoration:this._getImageDecoration(z),image:z,imageSpec:this.props.imageSpec,key:z.getUniqueIdentifier(),ref:z.getUniqueIdentifier(),showImageMetadata:this.props.showStandaloneImageMetadata,onExpandClick:this._onExpandClick,onImageClick:function(event){return this.props.onImageClick(z,event.shiftKey);}.bind(this)}));},_renderImage:function(z){var aa=false;if(this.props.imageSpec){aa=!c('AdsImageValidation').isWarningSize(z,this.props.imageSpec);if(this.props.igSpecificImageSpec)aa=aa||!c('AdsImageValidation').isWarningSize(z,this.props.igSpecificImageSpec);}return (c('React').createElement(c('AdsMediaPanelImageBox.react'),{className:(!k?"_13u0":'')+(k?' '+"_3ubt":''),decoration:this._getImageDecoration(z),igSpecificImageSpec:this.props.igSpecificImageSpec,image:z,imageSpec:this.props.imageSpec,isTooSmall:this.props.disableTooSmallImages&&aa,key:z.getUniqueIdentifier(),ref:z.getUniqueIdentifier(),onImageClick:function(event){this.props.onImageClick&&this.props.onImageClick(z);}.bind(this),onImageDoubleClick:function(event){this.props.onImageDoubleClick&&this.props.onImageDoubleClick(z);}.bind(this)}));},scrollToImage:function(z){var aa=z.getUniqueIdentifier();!(aa in this.refs)?i(0):void 0;var ba=c('ReactDOM').findDOMNode(this.refs[aa]),ca=c('ReactDOM').findDOMNode(this),da=ba.offsetTop;if(ca!=ba.offsetParent)da-=ca.offsetTop;c('Scroll').setTop(ca,da);}});f.exports=y;},null);
__d('AdsMediaPanelInfiniteScrollFooter.react',['cx','fbt','React','ReactComponentWithPureRenderMixin','XUISpinner.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsMediaPanelInfiniteScrollFooter',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{fetchingNextPage:j.bool.isRequired,imagesLoaded:j.bool.isRequired,onEndReached:j.func},componentDidMount:function(){if(this.props.onEndReached)this.props.onEndReached();},render:function(){if(!this.props.imagesLoaded)return null;if(this.props.fetchingNextPage)return (c('React').createElement('div',{className:"_4bnz"},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'})));return (c('React').createElement('div',{className:"_4bn-"},c('React').createElement('div',{className:"_4bn_"},c('React').createElement('div',{className:"_4bo2"},i._("No more images found")))));}});f.exports=k;},null);
__d('AdsMediaPanelMessage.react',['cx','Image.react','React','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsMediaPanelMessage',propTypes:{icon:i.object.isRequired,subtitle:i.string,title:i.string.isRequired},render:function(){var k=c('joinClasses')("_3suv",this.props.className);return (c('React').createElement('div',{className:k,style:this.props.style},c('React').createElement('div',{className:"_5y4t"},c('React').createElement(c('Image.react'),{src:this.props.icon}),c('React').createElement('div',{className:"_5y4u"},c('React').createElement('div',null,this.props.title),c('React').createElement('div',null,this.props.subtitle)))));}});f.exports=j;},null);
__d('AdsShutterstockSearchBar.react',['cx','ix','fbt','Image.react','React','XUITextInput.react','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsShutterstockSearchBar',propTypes:{searchText:k.string,onTriggerSearch:k.func,onTextChange:k.func},getDefaultProps:function(){return {onTriggerSearch:c('emptyFunction'),onTextChange:c('emptyFunction')};},render:function(){return (c('React').createElement('div',{className:"_134r"},c('React').createElement('div',{className:"_134s"},c('React').createElement(c('Image.react'),{className:"_134t",src:i('/images/ads/createflow/stock_images/icon_search.png')}),c('React').createElement('div',{className:"_134u"},j._("Powered by {partner-company-name}",[j.param('partner-company-name','Shutterstock')])),c('React').createElement(c('XUITextInput.react'),{className:"_134v",defaultValue:this.props.searchText,height:'tall',placeholder:j._("Search Free Stock Images"),onChange:this._onChange,onEnter:this._onTriggerSearch}))));},_onTriggerSearch:function(){this.props.onTriggerSearch();},_onChange:function(event){this.props.onTextChange(event.target.value);}});f.exports=l;},null);
__d('AdsShutterstockUseGuidelines.react',['cx','fbt','AdsActionTypes','AdsDispatcher','ContextualDialog.react','LayerFadeOnHide','Link.react','React','ReactLayeredComponentMixin','debounce','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=250,l=320,m=c('React').createClass({displayName:'AdsShutterstockUseGuidelines',mixins:[c('ReactLayeredComponentMixin')],propTypes:{dialogPosition:j.string},getDefaultProps:function(){return {dialogPosition:'right'};},getInitialState:function(){return {dialogShown:false};},_cancelScheduledHides:function(){this._scheduleHide.reset();},_hideDialog:function(){this._cancelScheduledHides();this.setState({dialogShown:false});},_toggleDialog:function(){this._cancelScheduledHides();var n=!this.state.dialogShown;this.setState({dialogShown:n});if(n)c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsActionTypes').SHUTTERSTOCK.GUIDELINES_SHOW});},componentWillMount:function(){this._scheduleHide=c('debounce')(this._hideDialog,k);},componentWillUnmount:function(){this._cancelScheduledHides();this._scheduleHide=null;},render:function(){var n=c('joinClasses')("_54kg",this.props.className);return (c('React').createElement(c('Link.react'),{className:n,ref:'link',onClick:this._toggleDialog,onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},i._("Some stock images may not comply with Facebook policies. Read our Advertising Policies before selecting an image.")));},getLegalLanguage:function(){return i._("Shutterstock images are available at no additional cost for use in your Facebook ads, with the following guidelines: {list of legal guidelines}",[i.param('list of legal guidelines',c('React').createElement('ul',{className:"_3-9n"},c('React').createElement('li',null,i._("You can't use the image as a trademark for a business.")),c('React').createElement('li',null,i._("You may not portray a person in a way that may be offensive, including: a) in ads for dating services; b) in connection with political endorsements; c) with defamatory, unlawful, offensive or immoral content; and d) as suffering from, or being treated for, a physical or mental ailment.")),c('React').createElement('li',null,i._("You may only use the image in ads and content on Facebook, and not with other websites or advertising services."))))]);},renderLayers:function(){return {dialog:c('React').createElement(c('ContextualDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},contextRef:function(){return this.refs.link;}.bind(this),position:this.props.dialogPosition,shown:this.state.dialogShown,width:l},c('React').createElement('div',{className:"_54kh",onMouseEnter:this._cancelScheduledHides,onMouseLeave:this._scheduleHide},c('React').createElement('h2',{className:"_54ki"},i._("Stock Image Use Guidelines")),this.getLegalLanguage()))};}});f.exports=m;},null);
__d('AdsCFShutterstockLibrary.react',['cx','fbt','ix','AdsCFActionTypes','AdsCFImageViewActions','AdsDispatcher','AdsImageCollectionViews','AdsImageLibraryUtils','AdsMediaLibrary.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsShutterstockSearchBar.react','AdsShutterstockUseGuidelines.react','React','ShutterstockApiStatus','debounce','keyMirror'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('AdsImageCollectionViews').views.STOCK,m=c('keyMirror')({NONE:null,INITIAL:null,MORE:null}),n=c('keyMirror')({NEW:null,SUBSEQUENT:null}),o=c('React').createClass({displayName:'AdsCFShutterstockLibrary',propTypes:{defaultSearchText:k.string,imageCollection:k.object.isRequired,imageContainerHeight:k.number.isRequired,isClickEnabled:k.bool.isRequired,onImageClick:k.func,searchText:k.string,selectedImageList:k.array.isRequired},getInitialState:function(){return {loadState:m.NONE,searchTextForAPI:this._getSearchText(this.props)};},componentDidMount:function(){this._debouncedNewSearch=c('debounce')(this._newSearch,200,this);if(this.state.searchTextForAPI&&this.props.imageCollection.getImageCount(l)===0)this._newSearch(this.props.searchText);},_getSearchText:function(p){return p.searchText||p.defaultSearchText||'';},render:function(){if(!c('ShutterstockApiStatus').available)return (c('React').createElement(c('AdsMediaPanelMessage.react'),{className:this.props.className,icon:j('/images/ads/createflow/stock_images/icon_stock_no_results.png'),style:{height:String(this.props.imageContainerHeight)+'px'},subtitle:i._("Please try again later."),title:i._("Sorry, stock images aren't available right now.")}));return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('AdsShutterstockSearchBar.react'),{defaultSearchText:this.props.defaultSearchText,searchText:this.props.searchText,onTextChange:this._onSearchTextChange,onTriggerSearch:this._onTriggerSearch}),this._renderContent()));},_renderContent:function(){var p=this.props.imageCollection,q=p.getImageCount(l);if(q>0||this.state.loadState!==m.NONE){var r=this.state.loadState===m.INITIAL;return (c('React').createElement(c('AdsMediaLibrary.react'),{height:this.props.imageContainerHeight,imageList:p.getImages(l),isClickEnabled:this.props.isClickEnabled,isLoadingInitial:r,scrollingAreaFooter:this._renderScrollingAreaFooter(),selectedImageList:this.props.selectedImageList,onEndReached:this._getOnEndReached(),onImageClick:this.props.onImageClick},c('React').createElement(c('AdsShutterstockUseGuidelines.react'),{className:"_3cl1",dialogPosition:'left'})));}var s,t,u;if(this.props.searchText||this.props.defaultSearchText){s=j('/images/ads/createflow/stock_images/icon_stock_no_results.png');t=i._("There aren't any images that match what you searched.");u=i._("Try using other keywords.");}else{s=j('/images/ads/createflow/stock_images/icon_library_no_images.png');t=i._("Search for professional images to use in your ads.");u=i._("Any images you select will be saved in your image library.");}return (c('React').createElement(c('AdsMediaPanelMessage.react'),{icon:s,style:{height:String(this.props.imageContainerHeight)+'px'},subtitle:u,title:t}));},_shouldEnableInfiniteScroll:function(){return (this.state.loadState===m.NONE&&!!this._fetchNextPage);},_getOnEndReached:function(){return this._shouldEnableInfiniteScroll()?this._searchMore:null;},_renderScrollingAreaFooter:function(){return (c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:!!this._fetchNextPage,imagesLoaded:this.state.loadState!==m.INITIAL}));},_onTriggerSearch:function(){this._debouncedNewSearch.reset();this._newSearch(this.props.searchText);},_newSearch:function(p){var q=this.state.searchTextForAPI;if(!q){this.setState({loadState:m.NONE});return;}this.setState({loadState:m.INITIAL});c('AdsImageLibraryUtils').searchStockImages(this._onSearchResults.bind(null,q,n.NEW),{q:q});c('AdsCFImageViewActions').changeStockSearchText(p);},_searchMore:function(){if(!this._fetchNextPage)return;this.setState({loadState:m.MORE});this._fetchNextPage(function(p,q){this._onSearchResults(this.state.searchTextForAPI,n.SUBSEQUENT,c('AdsImageLibraryUtils').convertStockImages(p),q);}.bind(this));},_onSearchResults:function(p,q,r,s){if(!this.isMounted())return;if(p!==this.state.searchTextForAPI)return;this._fetchNextPage=s;var t=this.props.imageCollection;if(q===n.NEW)t.clearImagesByViewBitmask(l);var u=t.getImageCount(l);t.addImagesToBack_UNSAFE(r,l);this.setState({loadState:m.NONE});c('AdsDispatcher').handleUpdateFromViewAction({data:{offset:u,query:p},type:c('AdsCFActionTypes').STOCK_IMAGE_SEARCH});},_onSearchTextChange:function(p){var q=this._getSearchText(babelHelpers['extends']({},this.props,{searchText:p}));this._fetchNextPage=null;this.setState({searchTextForAPI:q});this._debouncedNewSearch(p);}});f.exports=o;},null);
__d('AdsImageDimensionDataLoader',['Promise','CachedDOMImageSizePool'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$AdsImageDimensionDataLoader1=new (c('CachedDOMImageSizePool'))(1000,30*60*1000);}h.prototype.getDimensionByURL=function(i){return new (c('Promise'))(function(j,k){this.$AdsImageDimensionDataLoader1.get(i,function(l,m){if(l&&m){j({width:l,height:m});}else k(new Error('Failed to fetch dimension for '+i));});}.bind(this));};f.exports=new h();},null);
__d('AdsMediaPanelTabs',['keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({UPLOAD:null,LIBRARY:null,STOCK:null});f.exports=h;},null);
__d('AdsMediaPanelViewFilterBar.react',['cx','fbt','AdsImageCollectionViews','Link.react','React','ReactLayeredComponentMixin','SimpleNUXMessage','SimpleNUXMessageTypes','XUIAmbientNUX.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsMediaPanelViewFilterBar',propTypes:{availableViewFilters:j.array.isRequired,instagramAccountLinked:j.bool.isRequired,viewFilter:j.object.isRequired,onViewFilterChoose:j.func},render:function(){if(this.props.availableViewFilters.length===0)return c('React').createElement('div',{className:"_5y6l"});return (c('React').createElement('div',{className:"_5y6m"},this.props.availableViewFilters.map(this._renderLink)));},_renderLink:function(n){if(n.view===c('AdsImageCollectionViews').views.INSTAGRAM&&!this.props.instagramAccountLinked){return (c('React').createElement(m,{key:n.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:false,viewFilter:n,onViewFilterChoose:this.props.onViewFilterChoose}));}else return (c('React').createElement(l,{key:n.view||'ALL',selectedFilter:this.props.viewFilter,showImageCount:true,viewFilter:n,onViewFilterChoose:this.props.onViewFilterChoose}));}}),l=c('React').createClass({displayName:'LinkItem',render:function(){var n=this.props.showImageCount?c('React').createElement('span',{className:"_5y6p"},this.props.viewFilter.count):null;return (c('React').createElement(c('Link.react'),{className:"_5y6n"+(this.props.viewFilter.view===this.props.selectedFilter.view?' '+"_5y6o":''),onClick:this._onViewLinkClick},c('React').createElement('span',null,c('React').createElement('span',null,this.props.viewFilter.text),n)));},_onViewLinkClick:function(){this.props.onViewFilterChoose&&this.props.onViewFilterChoose(this.props.viewFilter);}}),m=c('React').createClass({displayName:'LinkItemWithNux',mixins:[c('ReactLayeredComponentMixin')],getInitialState:function(){return {nuxShown:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').INSTAGRAM_LIBRARY_ADS_IMAGE_SELECTOR)};},renderLayers:function(){return {nux_above:c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this._getInstagramViewFilterRef,position:'above',shown:this.state.nuxShown,onCloseButtonClick:this._onNUXCloseButtonClick},i._("Connect an Instagram account to use its photos in your ads."))};},render:function(){return (c('React').createElement(l,babelHelpers['extends']({},this.props,{ref:'instagram_view_filter'})));},_getInstagramViewFilterRef:function(){return this.refs.instagram_view_filter;},_onNUXCloseButtonClick:function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').INSTAGRAM_LIBRARY_ADS_IMAGE_SELECTOR);this.setState({nuxShown:false});}});f.exports=k;},null);
__d('AdsMediaPanelViewFilters',['fbt','AdsImageCollectionViews'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=[{view:c('AdsImageCollectionViews').views.LIBRARY,text:h._("Ad Images")},{view:c('AdsImageCollectionViews').views.INSTAGRAM,text:h._("Instagram Images")},{view:c('AdsImageCollectionViews').views.PAGE,text:h._("Page Images")},{view:c('AdsImageCollectionViews').views.SCRAPED,text:h._("Website Images")}],j=0;i.forEach(function(m){j|=m.view;});var k={view:j,text:h._("All")};i.unshift(k);var l={filters:i,all:k};f.exports=l;},null);
__d('AdsShutterstockSearchLoader',['AdsGraphAPI'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=25,i={loadSearchResults:function(j,k){if(k)return k();return (c('AdsGraphAPI').getWithGeneralMigration().search('adstockimage').get({limit:h,locale:'user',q:j}));}};f.exports=i;},null);
__d('AdsShutterstockSearchDispatcher',['AdsImageLegacy','AdsShutterstockSearchActions','AdsShutterstockSearchLoader'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={convertStockImages:function(i){return i.map(function(j){return new (c('AdsImageLegacy'))({previewHeight:j.preview.height,previewUrl:j.preview.url,previewWidth:j.preview.width,stockImageID:j.id,thumbHeight:j.thumbnail.height,thumbWidth:j.thumbnail.width,url:j.thumbnail.url});});},loadSearchResults:function(i,j){c('AdsShutterstockSearchLoader').loadSearchResults(i,j).done(function(k){var l={images:this.convertStockImages(k.data),next:null};if(k.next)l.next=k.next.bind(k);c('AdsShutterstockSearchActions').searchResultsLoaded(i,l);}.bind(this));}};f.exports=h;},null);
__d('AdsShutterstockSearchStore',['AdsActionTypes','AdsDispatcher','AdsShutterstockSearchDispatcher','FluxStore','LoadObject','Map','immutable','adsBaseStoreMixin','nullthrows'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsShutterstockSearchStoreClass1=new (c('Map'))();this.$AdsShutterstockSearchStoreClass2=new (c('Map'))();}j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsActionTypes').SHUTTERSTOCK.SEARCH_RESULTS_LOADED:var m=this.$AdsShutterstockSearchStoreClass1.get(l.data.query),n=null;if(m&&m.hasValue()){n=m.getValueEnforcing().images.concat(l.data.results.images);}else n=new (c('immutable').OrderedSet)(l.data.results.images);this.$AdsShutterstockSearchStoreClass3(l.data.results.images);this.$AdsShutterstockSearchStoreClass1.set(l.data.query,m.setValue(babelHelpers['extends']({},l.data.results,{images:n})).done());this.__emitChange();break;case c('AdsActionTypes').SHUTTERSTOCK.SEARCH_RESULTS_ERROR:this.$AdsShutterstockSearchStoreClass1.set(l.data.query,this.$AdsShutterstockSearchStoreClass1.get(l.data.query).setError(l.data.error).done());this.__emitChange();break;}};j.prototype.$AdsShutterstockSearchStoreClass3=function(k){k.forEach(function(l){var m=c('nullthrows')(l.getStockImageID());this.$AdsShutterstockSearchStoreClass2.set(m,l);}.bind(this));};j.prototype.getSearchResults=function(k,l){var m=this.$AdsShutterstockSearchStoreClass1.get(k);if(!m){m=c('LoadObject').loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c('AdsShutterstockSearchDispatcher').loadSearchResults(k);}else if(m&&m.hasValue()&&!m.hasOperation()&&m.getValueEnforcing().images.size<=l){var n=m.getValueEnforcing().next;if(n){m=m.loading();this.$AdsShutterstockSearchStoreClass1.set(k,m);c('AdsShutterstockSearchDispatcher').loadSearchResults(k,n);}}return m;};j.prototype.getShutterstockImageByID=function(k){return this.$AdsShutterstockSearchStoreClass2.get(k);};f.exports=new j();},null);
__d('AdsShutterstockViewStore',['AdsActionTypes','AdsDispatcher','FluxStore','Map','adsBaseStoreMixin'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsShutterstockViewStoreClass3=new (c('Map'))();}j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsActionTypes').SHUTTERSTOCK.SEARCH_TEXT_CHANGED:this.$AdsShutterstockViewStoreClass1=l.data.searchText;this.__emitChange();break;case c('AdsActionTypes').SHUTTERSTOCK.SEARCH_DONE:this.$AdsShutterstockViewStoreClass2=l.data.searchText;if(!this.$AdsShutterstockViewStoreClass3.get(this.$AdsShutterstockViewStoreClass2))this.$AdsShutterstockViewStoreClass3.set(this.$AdsShutterstockViewStoreClass2,1);this.__emitChange();break;case c('AdsActionTypes').SHUTTERSTOCK.END_REACHED:var m=this.$AdsShutterstockViewStoreClass3.get(l.data.searchText);if(!m){this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,2);}else this.$AdsShutterstockViewStoreClass3.set(l.data.searchText,m+1);this.__emitChange();break;}};j.prototype.getNumPagesForQuery=function(k){var l=this.$AdsShutterstockViewStoreClass3.get(k);return l||0;};j.prototype.getCurrentText=function(){return this.$AdsShutterstockViewStoreClass1;};j.prototype.getDelayedText=function(){return this.$AdsShutterstockViewStoreClass2;};j.prototype.isTyping=function(){var k=this.$AdsShutterstockViewStoreClass1!==null&&this.$AdsShutterstockViewStoreClass1!==undefined;return k&&this.$AdsShutterstockViewStoreClass1!==this.$AdsShutterstockViewStoreClass2;};f.exports=new j();},null);
__d('AdsShutterstockLibrary.react',['cx','fbt','ix','AdsMediaLibrary.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsShutterstockSearchBar.react','AdsShutterstockSearchStore','AdsShutterstockUseGuidelines.react','AdsShutterstockViewActions','AdsShutterstockViewStore','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin','ShutterstockApiStatus','debounce','keyMirror','setImmediate'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=25,m=c('keyMirror')({HAS_MORE:null,LOADING_INITIAL:null,LOADING_MORE:null,NO_MORE_RESULTS:null,NO_REQUEST:null,NO_RESULTS:null}),n=c('debounce')(function(p){return c('AdsShutterstockViewActions').searchDone(p);},200),o=c('React').createClass({displayName:'AdsShutterstockLibrary',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsShutterstockSearchStore'),c('AdsShutterstockViewStore')],{withProps:true})],propTypes:{defaultSearchText:k.string,imageContainerHeight:k.number.isRequired,onImageClick:k.func.isRequired,isClickEnabled:k.bool.isRequired,selectedImageList:k.array.isRequired},getDefaultProps:function(){return {isClickEnabled:true,selectedImageList:[]};},statics:{calculateState:function(p,q){var r=c('AdsShutterstockViewStore').getDelayedText()||q.defaultSearchText,s=c('AdsShutterstockViewStore').getNumPagesForQuery(r)||1,t=null;if(r)t=c('AdsShutterstockSearchStore').getSearchResults(r,l*s);return {currentSearchText:c('AdsShutterstockViewStore').getCurrentText(),isTyping:c('AdsShutterstockViewStore').isTyping(),query:r,results:t};}},_renderPanelMessage:function(p,q,r){return (c('React').createElement(c('AdsMediaPanelMessage.react'),{icon:p,style:{height:this.props.imageContainerHeight},subtitle:q,title:r}));},_getCurrentState:function(){var p=this.state.results,q=null,r=[];if(!p){if(this.state.isTyping){q=m.LOADING_INITIAL;}else q=m.NO_REQUEST;}else if(!p.hasValue()){q=m.LOADING_INITIAL;}else if(!p.getValueEnforcing().next){r=p.getValueEnforcing().images.toArray();if(r.length===0){q=m.NO_RESULTS;}else q=m.NO_MORE_RESULTS;}else{r=p.getValueEnforcing().images.toArray();if(p.hasOperation()){q=m.LOADING_MORE;}else q=m.HAS_MORE;}return {state:q,imageList:r};},_renderContent:function(){var p=this._getCurrentState(),q=p.state,r=p.imageList;switch(q){case m.NO_REQUEST:return this._renderPanelMessage(j('/images/ads/createflow/stock_images/icon_library_no_images.png'),i._("Any images you select will be saved in your image library."),i._("Search for professional images to use in your ads."));case m.NO_RESULTS:return this._renderPanelMessage(j('/images/ads/createflow/stock_images/icon_stock_no_results.png'),i._("Try using other keywords."),i._("There aren't any images that match what you searched."));default:var s=q===m.HAS_MORE||q===m.LOADING_MORE,t=c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:s,imagesLoaded:q!==m.LOADING_INITIAL}),u=q===m.LOADING_INITIAL||this.state.isTyping;return (c('React').createElement(c('AdsMediaLibrary.react'),{height:this.props.imageContainerHeight,imageList:r,isClickEnabled:this.props.isClickEnabled,isLoadingInitial:u,scrollingAreaFooter:t,selectedImageList:this.props.selectedImageList,onEndReached:this._onEndReached,onImageClick:this.props.onImageClick},c('React').createElement(c('AdsShutterstockUseGuidelines.react'),{className:"_3cl1",dialogPosition:'left'})));}},render:function(){if(!c('ShutterstockApiStatus').available)return (c('React').createElement(c('AdsMediaPanelMessage.react'),{className:this.props.className,icon:j('/images/ads/createflow/stock_images/icon_stock_no_results.png'),style:{height:this.props.imageContainerHeight},subtitle:i._("Please try again later."),title:i._("Sorry, stock images aren't available right now.")}));return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('AdsShutterstockSearchBar.react'),{searchText:this.state.currentSearchText,onTextChange:this._onSearchTextChange}),this._renderContent()));},_onEndReached:function(){var p=this._getCurrentState(),q=p.state;if(q===m.HAS_MORE)c('setImmediate')(function(){return c('AdsShutterstockViewActions').endReached(this.state.query);}.bind(this));},_onSearchTextChange:function(p){c('AdsShutterstockViewActions').searchTextChanged(p);n(p);}});f.exports=o;},null);
__d('AdsAbstractImageUploadElement.react',['cx','invariant','AdsAbstractImageUploadElementStates','AdsImageUploader','React','ReactDOM','SubscriptionsHandler','emptyFunction','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('AdsImageUploader').AdsImageUploader,k=c('React').PropTypes,l={};l[c('AdsAbstractImageUploadElementStates').IDLE]="_2uq";l[c('AdsAbstractImageUploadElementStates').UPLOADING]="_2ur";var m=c('React').createClass({displayName:'AdsAbstractImageUploadElement',propTypes:{accountId:k.string.isRequired,allowMultiImage:k.bool,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired}),onFormInputMount:k.func,onUploadClick:k.func.isRequired,onUploadEnd:k.func.isRequired,onUploadFail:k.func.isRequired,onUploadStart:k.func.isRequired,onUploadSuccess:k.func.isRequired,validateImageSize:k.bool,validateImageFormat:k.bool},getInitialState:function(){return {isUploading:false,subscriptions:new (c('SubscriptionsHandler'))()};},getDefaultProps:function(){return {allowMultiImage:false,onUploadClick:c('emptyFunction'),onUploadEnd:c('emptyFunction'),onUploadFail:c('emptyFunction'),onUploadStart:c('emptyFunction'),onUploadSuccess:c('emptyFunction')};},_getStateIdentifier:function(){return (this.state.isUploading?c('AdsAbstractImageUploadElementStates').UPLOADING:c('AdsAbstractImageUploadElementStates').IDLE);},render:function(){return (c('React').createElement('div',{className:c('joinClasses')("_2us",l[this._getStateIdentifier()],this.props.className),style:this.props.style},this.props.children));},componentWillReceiveProps:function(n){},componentDidMount:function(){var n=new j(c('ReactDOM').findDOMNode(this),{accountId:this.props.accountId,imageSpec:this.props.imageSpec,multiple:this.props.allowMultiImage,onFormInputMount:this.props.onFormInputMount,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize});this.state.subscriptions.addSubscriptions(n.subscribe('onUploadClicked',this.props.onUploadClick),n.subscribe('onUploadStarted',function(o,p){this.setState({isUploading:true});this.props.onUploadStart(p);}.bind(this)),n.subscribe('onUploadFailed',function(){this.setState({isUploading:false});this.props.onUploadFail();}.bind(this)),n.subscribe('onUploadEnded',function(o,p){this.setState({isUploading:false});if(p.length)p.forEach(function(q){this.props.onUploadSuccess(q);}.bind(this));this.props.onUploadEnd(p);}.bind(this)));},componentWillUnmount:function(){this.state.subscriptions.release();}});f.exports=m;},null);
__d('AdsAbstractImageUploadElementContent.react',['cx','AdsAbstractImageUploadElementStates','AdsImageUploader','React','getObjectValues','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('AdsImageUploader').AdsImageUploaderConstants,j=c('React').PropTypes,k={};k[c('AdsAbstractImageUploadElementStates').IDLE]=c('joinClasses')("_5y7b",i.UPLOAD_ELEMENT);k[c('AdsAbstractImageUploadElementStates').UPLOADING]="_5y7c";var l=c('React').createClass({displayName:'AdsAbstractImageUploadElementContent',propTypes:{uploadState:j.oneOf(c('getObjectValues')(c('AdsAbstractImageUploadElementStates'))).isRequired},render:function(){return (c('React').createElement('div',{className:c('joinClasses')("_5y7d",k[this.props.uploadState])},this.props.children));}});f.exports=l;},null);
__d('AdsImageUploadErrorStore',['AdsCreationUIStore','AdsActionTypes','immutable'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AdsCreationUIStore'));i=h&&h.prototype;j.prototype.getStoreName=function(){return 'AdsImageUploadErrorStore';};j.prototype.__getStateClass=function(){return c('immutable').Record({sizeError:null,formatError:null});};j.prototype.__handleAction=function(k,l){var m=k.action;switch(m.type){case c('AdsActionTypes').IMAGE_UPLOAD.FORMAT_ERROR:l.formatError=m.message;break;case c('AdsActionTypes').IMAGE_UPLOAD.SIZE_ERROR:l.sizeError=m.message;break;case c('AdsActionTypes').IMAGE_UPLOAD.REMOVE_ERRORS:l.sizeError=null;l.formatError=null;break;}};j.prototype.getUploadErrors=function(){var k=[];this.getState().forEach(function(l){if(l)k.push(l);});return k;};function j(){h.apply(this,arguments);}f.exports=new j();},null);
__d('AdsUploadImageBox.react',['cx','ix','fbt','AdsAbstractImageUploadElement.react','AdsAbstractImageUploadElementContent.react','AdsAbstractImageUploadElementStates','AdsImageUploadErrorStore','AdsValidationIcon.react','AdsValidationIconType','FluxMixinLegacy','Image.react','InlineBlock.react','React','ReactDOM','ReactComponentWithPureRenderMixin','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=180,m=35,n=c('React').createClass({displayName:'AdsUploadImageBox',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsImageUploadErrorStore')])],propTypes:{accountId:k.string.isRequired,allowMultiImage:k.bool,height:k.number.isRequired,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired}),onUploadClick:k.func,onUploadEnd:k.func,onUploadFail:k.func,onUploadStart:k.func,onUploadSuccess:k.func,validateImageFormat:k.bool,validateImageSize:k.bool},statics:{calculateState:function(){return {uploadErrors:c('AdsImageUploadErrorStore').getUploadErrors()};}},getDefaultProps:function(){return {style:{}};},_onWarningTextClick:function(){if(this.state.inputFormDOMElement)this.state.inputFormDOMElement.click();},_onFormInputMount:function(o){this.setState({inputFormDOMElement:c('ReactDOM').findDOMNode(o)});},render:function(){var o=this.props.height-l-6,p=Math.floor(o/2),q=o-p,r={marginTop:p+'px',marginBottom:q+'px'},s=null;if(this.state.uploadErrors.length>0){var t=this.state.uploadErrors.map(function(v,w){return (c('React').createElement('div',{key:w,onClick:this._onWarningTextClick},c('React').createElement(c('AdsValidationIcon.react'),{className:"_3sft",messages:[v.longMessage],type:c('AdsValidationIconType').ERROR_IMAGE}),v.shortMessage));}.bind(this));s=c('React').createElement('div',{className:"_3sfu"},t);}var u=this.props.allowMultiImage?j._("Drag and drop multiple images or click to upload images"):j._("Drag and drop an image or click to upload");return (c('React').createElement(c('AdsAbstractImageUploadElement.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_3sfv"),style:babelHelpers['extends']({},r,this.props.style),onFormInputMount:this._onFormInputMount}),c('React').createElement(c('AdsAbstractImageUploadElementContent.react'),{uploadState:c('AdsAbstractImageUploadElementStates').IDLE},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:l},c('React').createElement(c('Image.react'),{className:"_3sfw",src:i('/images/ads/createflow/upload_box_icon.png')}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_3sfx",height:m},u))),c('React').createElement(c('AdsAbstractImageUploadElementContent.react'),{uploadState:c('AdsAbstractImageUploadElementStates').UPLOADING},c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:l},j._("Uploading..."))),s));}});f.exports=n;},null);
__d('AdsMediaPanel.react',['cx','fbt','ix','Promise','AdsArrowedCarouselEnhanced.react','AdsCFShutterstockLibrary.react','AdsImageActions','AdsImageCollectionViews','AdsImageDimensionDataLoader','AdsImageSecondaryActions','AdsImageStore','AdsImageValidation','AdsLoadState','AdsMediaLibrary.react','AdsMediaPanelImageBox.react','AdsMediaPanelInfiniteScrollFooter.react','AdsMediaPanelMessage.react','AdsMediaPanelPageLinkInstagramAccountUnit.react','AdsMediaPanelTabs','AdsMediaPanelViewFilterBar.react','AdsMediaPanelViewFilters','AdsShutterstockLibrary.react','AdsUploadImageBox.react','Event','FluxMixinLegacy','Link.react','Map','React','ReactComponentWithPureRenderMixin','adsGKCheck','emptyFunction','getViewportDimensions','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=49,m=215,n=332,o=658,p=100;function q(){var t=m+l,u=n+l,v=o-u,w=c('getViewportDimensions')().height,x=w-p-v;return Math.max(t,Math.min(u,x));}var r={};r[c('AdsMediaPanelTabs').UPLOAD]={className:"_5xhy",title:i._("Upload Images"),renderer:'_renderUploadTab'};r[c('AdsMediaPanelTabs').LIBRARY]={className:"_5xh-",title:i._("Image Library"),renderer:'_renderLibraryTab'};r[c('AdsMediaPanelTabs').STOCK]={className:"_5xh_",title:i._("Stock Images"),renderer:'_renderStockTab'};var s=c('React').createClass({displayName:'AdsMediaPanel',mixins:[c('FluxMixinLegacy')([c('AdsImageStore')],{withProps:true}),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:k.string.isRequired,defaultStockSearchText:k.string,disableTooSmallImages:k.bool,igSpecificImageSpec:k.object,imageCollection:k.object.isRequired,imageHandlers:k.shape({onClick:k.func,onDoubleClick:k.func,onSecondaryAction:k.func}).isRequired,imageSpec:k.shape({minWarningWidth:k.number.isRequired,minWarningHeight:k.number.isRequired}),initialSelectedTab:k.oneOf(Object.keys(r)),instagramAccount:k.shape({id:k.string.isRequired,is_published:k.bool.isRequired,profile_pic:k.string.isRequired,username:k.string.isRequired}),instagramAccountLoadState:k.oneOf(Object.keys(c('AdsLoadState'))),maxSelectedImages:k.number.isRequired,pageID:k.string,pageLinkOrUnlinkAccountError:k.arrayOf(k.string),selectedImageList:k.array.isRequired,stockSearchText:k.string,tabKeys:k.arrayOf(k.string).isRequired,uploadHandlers:k.shape({onClick:k.func,onEnd:k.func,onFail:k.func,onStart:k.func,onSuccess:k.func}).isRequired,useInstagramImageCreative:k.bool,userImagesLoaded:k.bool,validateImageFormat:k.bool,validateImageSize:k.bool,onTabSwitch:k.func.isRequired},getDefaultProps:function(){return {disableTooSmallImages:false,imageHandlers:{onClick:c('emptyFunction'),onDoubleClick:c('emptyFunction'),onSecondaryAction:c('emptyFunction')},maxSelectedImages:1,onTabSwitch:c('emptyFunction'),selectedImageList:[],uploadHandlers:{},userImagesLoaded:true};},getInitialState:function(){return {viewFilter:c('AdsMediaPanelViewFilters').all,selectedTab:this.props.initialSelectedTab||c('AdsMediaPanelTabs').LIBRARY};},statics:{calculateState:function(t,u){return {canFetchNextLibraryPage:c('AdsImageStore').hasCursorForNextPage(u.accountID),fetchingNextLibraryPage:c('AdsImageStore').isFetchingNextPage(u.accountID)};}},componentWillMount:function(){this._setResizeHandlerRef(c('Event').listen(window,'resize',this.forceUpdate.bind(this)));},componentWillUnmount:function(){this._removeResizeHandlerRef();this._setResizeHandlerRef(null);},_removeResizeHandlerRef:function(){var t=this;t._resizeHandlerRef.remove();},_setResizeHandlerRef:function(t){var u=this;u._resizeHandlerRef=t;},_isTabAllowed:function(t){return this.props.tabKeys.indexOf(t)!==-1;},_renderMultipleSelectedImagesRow:function(){var t=null;if(this.props.maxSelectedImages>1){var u=this.props.selectedImageList.map(function(v,w){return (c('React').createElement(c('AdsMediaPanelImageBox.react'),{alt:i._("Selected Image {number} of {total}",[i.param('number',w+1),i.param('total',this.props.selectedImageList.length)]),className:"_16es",decoration:'removable',image:v,imageSpec:this.props.imageSpec,key:v.getUniqueIdentifier(),onDecorationIconClick:this.props.imageHandlers.onSecondaryAction&&this.props.imageHandlers.onSecondaryAction.bind(null,v,c('AdsImageSecondaryActions').X)}));}.bind(this));t=c('React').createElement('div',{className:"_16et _5xi2 clearfix"},c('React').createElement('div',{className:"_16eu"},c('React').createElement('h2',{className:"_5xht"},i._("Selected Images")),c('React').createElement('span',{className:"_5xi4"},i._({"*":{"*":"({images} of {max-images})"}},[i.param('images',this.props.selectedImageList.length,[0]),i.param('max-images',this.props.maxSelectedImages,[0])]))),c('React').createElement(c('AdsArrowedCarouselEnhanced.react'),{maxChangeAmount:6},u));}return t;},render:function(){r[c('AdsMediaPanelTabs').UPLOAD].title=this.props.maxSelectedImages>1?i._("Upload Images"):i._("Upload Image");return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5xhs"},this.props.tabKeys.map(this._renderTabTitle)),this._renderTabContent(),this._renderMultipleSelectedImagesRow()));},_renderTabTitle:function(t){var u=r[t],v=t===this.state.selectedTab,w=c('joinClasses')(u.className,"_5xhu"+(v?' '+"_5xhw":''));return (c('React').createElement(c('Link.react'),{className:w,key:t,onClick:this._switchToTab.bind(null,t)},c('React').createElement('div',{className:"_5xhz"}),u.title));},_switchToTab:function(t){this.setState({selectedTab:t});this.props.onTabSwitch(t);},_renderTabContent:function(){var t=r[this.state.selectedTab],u=c('joinClasses')(t.className,"_5xhx"+(' '+"_5xhw")),v=this;return v[t.renderer](this.state.selectedTab,u);},_renderUploadTab:function(t,u){return (c('React').createElement('div',{className:u,key:t},c('React').createElement(c('AdsUploadImageBox.react'),{accountId:this.props.accountID,allowMultiImage:this.props.maxSelectedImages>1,height:q(),imageSpec:this.props.imageSpec,validateImageFormat:this.props.validateImageFormat,validateImageSize:this.props.validateImageSize,onUploadClick:this.props.uploadHandlers.onClick,onUploadEnd:this._onUploadEnd,onUploadFail:this.props.uploadHandlers.onFail,onUploadStart:this.props.uploadHandlers.onStart,onUploadSuccess:this.props.uploadHandlers.onSuccess})));},_onUploadEnd:function(t){c('Promise').all(t.map(function(u){return (c('AdsImageDimensionDataLoader').getDimensionByURL(u.getUrl()).then(function(v){var w=v.width,x=v.height;return u.clone({width:w,height:x});}));})).done(function(u){if(this.props.uploadHandlers.onEnd)this.props.uploadHandlers.onEnd(u);if(this.props.maxSelectedImages===1&&u.length>0)this.setState({selectedTab:c('AdsMediaPanelTabs').LIBRARY},function(){return this.scrollToImage(u[0]);}.bind(this));}.bind(this));},_sortDownTooSmallImages:function(t){var u=this.props.imageSpec,v=this.props.igSpecificImageSpec,w=new (c('Map'))();t.forEach(function(x,y){return w.set(x,y);});return t.sort(function(x,y){var z=0,aa=0;if(v){z+=c('AdsImageValidation').isWarningSize(x,v)?1:0;aa+=c('AdsImageValidation').isWarningSize(y,v)?1:0;}z+=c('AdsImageValidation').isWarningSize(x,u)?1:0;aa+=c('AdsImageValidation').isWarningSize(y,u)?1:0;if(z>aa){return -1;}else if(z<aa){return 1;}else return w.get(x)-w.get(y);});},_onLibraryEndReached:function(){if(this.state.canFetchNextLibraryPage&&!this.state.fetchingNextLibraryPage)c('AdsImageActions').loadNextPage(this.props.accountID);},_canSelectImages:function(){return (this.props.maxSelectedImages===1||this.props.selectedImageList.length<this.props.maxSelectedImages);},_renderLibraryTab:function(t,u){var v=this.props.imageCollection,w=v.getImageCount(this.state.viewFilter.view),x=v.getImages(this.state.viewFilter.view);if(this.props.disableTooSmallImages)x=this._sortDownTooSmallImages(x);var y=c('emptyFunction'),z=null;if(c('adsGKCheck')('ads_image_picker_pagination')){y=this._onLibraryEndReached;if(this.state.fetchingNextLibraryPage||!this.state.canFetchNextLibraryPage)z=c('React').createElement(c('AdsMediaPanelInfiniteScrollFooter.react'),{fetchingNextPage:this.state.fetchingNextLibraryPage,imagesLoaded:this.props.userImagesLoaded});}var aa=q()-l,ba=void 0;if(this.state.viewFilter.view===c('AdsImageCollectionViews').views.INSTAGRAM){ba=c('React').createElement(c('AdsMediaPanelPageLinkInstagramAccountUnit.react'),babelHelpers['extends']({},this.props,{imageList:x,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,photoArrangeEnabled:true,ref:'imageLib',scrollingAreaFooter:z,totalHeight:aa,onEndReached:y,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick}));}else if(w>0||!this.props.userImagesLoaded){ba=c('React').createElement(c('AdsMediaLibrary.react'),{disableTooSmallImages:this.props.disableTooSmallImages,height:aa,igSpecificImageSpec:this.props.igSpecificImageSpec,imageList:x,imageSpec:this.props.imageSpec,isClickEnabled:this._canSelectImages(),isLoadingInitial:!this.props.userImagesLoaded,key:t,photoArrangeEnabled:true,ref:'imageLib',scrollingAreaFooter:z,selectedImageList:this.props.selectedImageList,onEndReached:y,onImageClick:this.props.imageHandlers.onClick,onImageDoubleClick:this.props.imageHandlers.onDoubleClick});}else{var ca=this._isTabAllowed(c('AdsMediaPanelTabs').STOCK)?i._("Upload images or try using professional stock images at no extra cost."):i._("Upload images to use them for your ads.");ba=c('React').createElement(c('AdsMediaPanelMessage.react'),{className:u,icon:j('/images/ads/createflow/stock_images/icon_library_no_images.png'),style:{height:String(aa)+'px'},subtitle:ca,title:i._("There aren't any images in your library.")});}var da=c('AdsMediaPanelViewFilters').filters.map(function(ea){return babelHelpers['extends']({},ea,{count:v.getImageCount(ea.view)});}).filter(function(ea){return (ea.view!==c('AdsImageCollectionViews').views.INSTAGRAM&&ea.count>0||ea.view===c('AdsImageCollectionViews').views.INSTAGRAM&&this.props.useInstagramImageCreative);}.bind(this));return (c('React').createElement('div',{className:u},c('React').createElement(c('AdsMediaPanelViewFilterBar.react'),{availableViewFilters:da,instagramAccountLinked:!!this.props.instagramAccount&&this.props.instagramAccount.is_published,viewFilter:this.state.viewFilter,onViewFilterChoose:this._onViewFilterChoose}),ba));},_onViewFilterChoose:function(t){if(t.view===this.state.viewFilter.view)return;this.setState({viewFilter:t});},_onStockImageClick:function(t){this.props.imageCollection.addImagesToBack_UNSAFE([t],c('AdsImageCollectionViews').views.STOCK);var u=this.props.imageHandlers.onClick;if(u)u.call(this.props.imageHandlers,t);},_renderStockTab:function(t,u){if(c('adsGKCheck')('ads_use_new_shutterstock_component')){return (c('React').createElement(c('AdsShutterstockLibrary.react'),{className:u,defaultSearchText:this.props.defaultStockSearchText,imageContainerHeight:q()-l,isClickEnabled:this._canSelectImages(),key:t,selectedImageList:this.props.selectedImageList,onImageClick:this._onStockImageClick}));}else return (c('React').createElement(c('AdsCFShutterstockLibrary.react'),{className:u,defaultSearchText:this.props.defaultStockSearchText,imageCollection:this.props.imageCollection,imageContainerHeight:q()-l,isClickEnabled:this._canSelectImages(),key:t,searchText:this.props.stockSearchText,selectedImageList:this.props.selectedImageList,onImageClick:this.props.imageHandlers.onClick}));},scrollToImage:function(t){this.refs.imageLib.scrollToImage(t);}});f.exports=s;},null);
__d('AdsImageDialog.react',['invariant','Promise','AdImageSpecsUtils','AdsShutterstockImageByIDStore','AdsImageCollection','AdsImageCollectionViews','AdsImageLegacy','AdsImageSecondaryActions','AdsMediaPanel.react','AdsMediaPanelTabs','LayerFadeOnHide','LayerRemoveOnHide','React','ReactComponentWithPureRenderMixin','XUIDialog.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','adsGKCheck','deepFreezeValue','emptyFunction'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=[c('AdsMediaPanelTabs').UPLOAD,c('AdsMediaPanelTabs').LIBRARY,c('AdsMediaPanelTabs').STOCK],k={LayerFadeOnHide:c('LayerFadeOnHide'),LayerRemoveOnHide:c('LayerRemoveOnHide')},l=[];c('deepFreezeValue')(l);var m=c('React').createClass({displayName:'AdsImageLegacyDialog',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:i.string.isRequired,defaultStockSearchText:i.string,initialTab:i.string,libraryImages:i.arrayOf(i.shape({url:i.string.isRequired,hash:i.string.isRequired})).isRequired,maxSelectedImages:i.number.isRequired,pageImages:i.arrayOf(i.instanceOf(c('AdsImageLegacy'))),selectedImages:i.arrayOf(i.shape({stockImageID:i.string,url:i.string,hash:i.string}).isRequired).isRequired,specs:i.arrayOf(i.shape({minWarningWidth:i.number.isRequired,minWarningHeight:i.number.isRequired})).isRequired,tabKeys:i.arrayOf(i.string),onCancel:i.func,onSelect:i.func.isRequired},getDefaultProps:function(){return {defaultStockSearchText:'',initialTab:c('AdsMediaPanelTabs').LIBRARY,libraryImages:[],instagramImages:[],pageImages:[],maxSelectedImages:1,onSelect:c('emptyFunction'),selectedImages:[],specs:[]};},getInitialState:function(){var t=this.props.selectedImages.map(q);return {selectedLegacyImageList:t,userConfirmed:false,userSelected:false};},componentWillMount:function(){n(this.props.accountID,this.props.libraryImages,this.props.instagramImages,this.props.pageImages||[],{maxSelectedImages:this.props.maxSelectedImages});},componentWillReceiveProps:function(t){var u=t.accountID,v=t.libraryImages,w=t.instagramImages,x=t.pageImages,y=t.maxSelectedImages;n(u,v,w,x,{maxSelectedImages:y});},render:function(){var t=c('AdImageSpecsUtils').reduceMinImageSpec(this.props.specs),u=t.imageSpec,v=t.igSpecificImageSpec,w={onClick:this._onImageClick,onDoubleClick:this._onImageDblClick,onSecondaryAction:this._onImageSecondaryAction},x={onEnd:this._onUploadEnd},y=this.props.maxSelectedImages,z=r(this.props.accountID,{maxSelectedImages:y});return (c('React').createElement(c('XUIDialog.react'),{behaviors:k,shown:true,width:768,onToggle:this.props.onCancel},c('React').createElement(c('AdsMediaPanel.react'),babelHelpers['extends']({},this.props,{buttonStyle:'done',disableTooSmallImages:!!u,igSpecificImageSpec:v,imageCollection:z,imageHandlers:w,imageSpec:u,initialSelectedTab:this.props.initialTab,maxSelectedImages:y,selectedImageList:this.state.selectedLegacyImageList,stockSearchText:'',tabKeys:this.props.tabKeys||j,uploadHandlers:x})),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogConfirmButton.react'),{disabled:!this.state.userSelected||this.state.userConfirmed,use:'confirm',onClick:this._onSelect}))));},_addSelectedImage:function(t,u){var v=this.props.maxSelectedImages,w=r(this.props.accountID,{maxSelectedImages:v});w.setImageSelected(t,true);var x=this.state.selectedLegacyImageList.concat(t),y=x.length-v;if(y>0){for(var z=0;z<y;z++)w.setImageSelected(t,false);x=x.slice(y,x.length);}this.setState({selectedLegacyImageList:x,userSelected:true},u||c('emptyFunction'));},_onImageSecondaryAction:function(t,u){if(u===c('AdsImageSecondaryActions').X)this._removeSelectedImage(t);},_removeSelectedImage:function(t){var u=r(this.props.accountID,{maxSelectedImages:this.props.maxSelectedImages});u.setImageSelected(t,false);var v=this.state.selectedLegacyImageList.filter(function(w){return !w.equals(t);});this.setState({selectedLegacyImageList:v,userSelected:true});},_setImageData:function(t){t.forEach(function(u){return delete u.crops;});if(this.props.maxSelectedImages===1)!t.length?h(0):void 0;this.props.onSelect(t);},_promiseStockImageData:function(t){return new (c('Promise'))(function(u,v){c('AdsShutterstockImageByIDStore').addLegacyCallback_DONT_USE_IN_NEW_CODE(t.getStockImageID(),function(w){if(w.hasError()){this.setState({userConfirmed:false});h(0);}else if(w.hasValue())u(babelHelpers['extends']({},t.toJSON(),{url:w.getValueEnforcing().get('preview_url')}));}.bind(this));}.bind(this));},_onSelect:function(t){var u=this;t&&t.preventDefault();var v=[];if(this.state.userSelected)(function(){var w=[];u.state.selectedLegacyImageList.forEach(function(x){if(x.isStockImage()){w.push(this._promiseStockImageData(x));}else v.push(x.toJSON());}.bind(u));if(w.length===0){u._setImageData(v);}else{u.setState({userConfirmed:true});c('Promise').all(w).done(function(x){this._setImageData(v.concat(x));}.bind(u));}})();},_onImageClick:function(t){var u=this.state.selectedLegacyImageList.some(function(v){return v.equals(t);});if(u){if(this.props.maxSelectedImages>1)this._removeSelectedImage(t);}else this._addSelectedImage(t);},_onImageDblClick:function(t){var u=this.props.selectedImages;if(this.props.maxSelectedImages==1&&u.length){var v=q(u[0]);if(v&&v.equals(t)){return;}else if(v)this._addSelectedImage(t,this._onSelect);}},_onUploadEnd:function(t){var u=[];u=t.map(function(v){return {legacyImage:v,view:c('AdsImageCollectionViews').views.LIBRARY};});o(this.props.accountID,u,false,{maxSelectedImages:this.maxSelectedImages});t.forEach(function(v){return this._addSelectedImage(v);}.bind(this));}});function n(t,u,v,w,x){var y=[];if(u.length)u.forEach(function(z){y.push({legacyImage:new (c('AdsImageLegacy'))(z),view:c('AdsImageCollectionViews').views.LIBRARY});});if(v.length)v.forEach(function(z){y.push({legacyImage:new (c('AdsImageLegacy'))({url:z.url,imageType:'INSTAGRAM'}),view:c('AdsImageCollectionViews').views.INSTAGRAM});});if(w.length)w.forEach(function(z){y.push({legacyImage:z,view:c('AdsImageCollectionViews').views.PAGE});});if(y.length)o(t,y,c('adsGKCheck')('ads_image_picker_pagination'),x);}function o(t,u,v,w){if(u&&u.length)(function(){var x=r(t,w),y=[];u.forEach(function(aa){if(!x.hasImage(aa.legacyImage))y.push(aa);});if(y.length){var z=[c('AdsImageCollectionViews').views.INSTAGRAM,c('AdsImageCollectionViews').views.LIBRARY,c('AdsImageCollectionViews').views.PAGE];z.map(function(aa){var ba=y.filter(function(ca){return ca.view===aa;}).map(function(ca){return ca.legacyImage;});if(v){x.addImagesToBack(ba,aa);}else x.addImagesToFront(ba,aa);});}})();}var p={};function q(t){if(t){return new (c('AdsImageLegacy'))(t);}else return null;}function r(t,u){var v=p[t];if(!v){v=new (c('AdsImageCollection'))(u);p[t]=v;}return v;}var s=c('React').createClass({displayName:'AdsImageDialog',render:function(){return c('React').createElement(m,this.props);}});f.exports=s;},null);
__d('AdsPaymentsPaymentMethodUtils',['fbt','AdproAccountCreditStatus','AdsDateUtils','AdsCurrencyFormatter','AdsPayAPIAltpayInstrumentTypes','AdsPayAPIPaymentMethodCreditCardFields','CreditCardTypeEnum','Currency','AdsPayAPIPaymentMethodExtendedCreditFields','PaymentCouponToken','FBDate','AdsPayAPIAllPaymentMethodsFields','AdsPayAPIPaymentMethodTokenFields','formatDate'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('AdsCurrencyFormatter').formatCurrencyWithISO,j=c('AdsCurrencyFormatter').parseCurrency,k='m/d/Y',l='m/d/Y g:ia',m={getCreatedDateString:function(n,o){var p=c('FBDate').createFromISOString(n,o);return p.format(k);},getExpirationDateString:function(n,o){var p=c('FBDate').createFromISOString(n,o);return p.format(l);},getAmountString:function(n,o,p,q){var r=j(o,n);return c('AdsCurrencyFormatter').formatCurrencyFullFormat(o,r,p,q);},renderCurrencyAmount:function(n){var o=100,p=c('Currency').getOffset(n.currency);return c('AdsCurrencyFormatter').formatCurrencyFullFormat(n.currency,n.offsetted_amount/o*p,true,true);},getAvailableCreditString:function(n,o,p){var q=j(p,n),r=j(p,o);return i(p,q-r);},sortCoupons:function(n){var o=n.sort(function(p,q){var r=c('AdsDateUtils').parseISODate(p[c('AdsPayAPIPaymentMethodTokenFields').TIME_EXPIRE]),s=c('AdsDateUtils').parseISODate(q[c('AdsPayAPIPaymentMethodTokenFields').TIME_EXPIRE]);return r-s;});return o;},isCouponValid:function(n){if(n[c('AdsPayAPIPaymentMethodTokenFields').IS_ACTIVE]===false)return false;var o=j(n[c('AdsPayAPIPaymentMethodTokenFields').CURRENT_BALANCE].currency,n[c('AdsPayAPIPaymentMethodTokenFields').CURRENT_BALANCE].amount);if(n[c('AdsPayAPIPaymentMethodTokenFields').TYPE]===c('PaymentCouponToken').VIRTUAL_GIFT)return o>0;var p=new Date(),q=c('AdsDateUtils').parseISODate(n[c('AdsPayAPIPaymentMethodTokenFields').TIME_EXPIRE]);return p<q&&o>0;},isExtendedCreditStatusEligibletoShow:function(n){return n===c('AdproAccountCreditStatus').ELIGIBLE||n===c('AdproAccountCreditStatus').APPROVED;},initializeExtendedCredit:function(n,o,p,q,r){var s={isBrandOwnedxtendedCredit:false,isExtendedCreditPrimary:false,extendedCreditAccountID:p,hasEligibleExtendedCredit:false};s.hasEligibleExtendedCredit=m.isExtendedCreditStatusEligibletoShow(r);if(n&&o&&s.hasEligibleExtendedCredit&&n[c('AdsPayAPIAllPaymentMethodsFields').EXTENDED_CREDITS]){var t=n[c('AdsPayAPIAllPaymentMethodsFields').EXTENDED_CREDITS].data;t.forEach(function(u){if(u[c('AdsPayAPIPaymentMethodExtendedCreditFields').BALANCE].currency==='FBZ'){s.hasEligibleExtendedCredit=false;return;}if(u[c('AdsPayAPIPaymentMethodExtendedCreditFields').CREDENTIAL_ID]==o.id){s.isExtendedCreditPrimary=true;s.extendedCreditAccountID=u[c('AdsPayAPIPaymentMethodExtendedCreditFields').ACCOUNT_ID];s.isBrandOwnedxtendedCredit=this.isBrandOwnedPaymentMethod(q,u[c('AdsPayAPIPaymentMethodExtendedCreditFields').ACCOUNT_ID]);}s.partitionedFrom=u[c('AdsPayAPIPaymentMethodExtendedCreditFields').PARTITIONED_FROM];s.liableAmount=u[c('AdsPayAPIPaymentMethodExtendedCreditFields').SEQUENTIAL_LIABILITY_AMOUNT];},this);}return s;},getAltpayMethodTitle:function(n,o){if(n===c('AdsPayAPIAltpayInstrumentTypes').MOBILE)return h._("Mobile Phone ({phone number})",[h.param('phone number',o)]);return o;},showApplyLink:function(n,o,p,q){var r=parseInt(n,10)+parseInt(o,10);return q&&!p&&r===0;},isBrandOwnedPaymentMethod:function(n,o){return n===o;},getCCTitle:function(n,o){if(o===c('CreditCardTypeEnum').AMERICANEXPRESS)return n.replace('xxx xxxx xxxx ','*');return n.replace('xxxx xxxx xxxx ','*');},getDirectDebitTitle:function(n){var o=h._("Bank Account");return o+' '+n.split(":")[1].replace('xxxx','*');},_isIbanCountry:function(n,o){var p=['FR','ES','IT','AT','BE','CY','EE','FI','GR','IE','LU','MT','MC','PT','SK','SI'],q=['DE','NL'];return p.indexOf(n)!==-1||q.indexOf(n)!==-1&&o.indexOf(n)===0;},getCreditCardString:function(n,o){var p=void 0;switch(n){case c('CreditCardTypeEnum').VISA:p=h._("VISA");break;case c('CreditCardTypeEnum').MASTERCARD:p=h._("MASTERCARD");break;case c('CreditCardTypeEnum').DISCOVER:p=h._("DISCOVER");break;case c('CreditCardTypeEnum').AMERICANEXPRESS:p=h._("AMEX");break;case c('CreditCardTypeEnum').JCB:p=h._("JCB");break;case c('CreditCardTypeEnum').DINERSCLUB:p=h._("DINERSCLUB");break;default:p=h._("Credit Card");}if(o)p=p.toString()+' *'+o;return p;},getPaypalString:function(n){if(!n)return h._("PayPal Account");return h._("PayPal ({email})",[h.param('email',n)]);},isCreditCardExpired:function(n){var o=new Date(),p=new Date(n[c('AdsPayAPIPaymentMethodCreditCardFields').EXP_YEAR],n[c('AdsPayAPIPaymentMethodCreditCardFields').EXP_MONTH]);return Boolean(o>p);},getCreditCardExpiryText:function(n){var o=new Date(n[c('AdsPayAPIPaymentMethodCreditCardFields').EXP_YEAR],n[c('AdsPayAPIPaymentMethodCreditCardFields').EXP_MONTH]-1);if(this.isCreditCardExpired(n)){return h._("Expired on {expiry date}",[h.param('expiry date',c('formatDate')(o,'m/y',{skipPatternLocalization:true}))]);}else return h._("Expires on {expiry date}",[h.param('expiry date',c('formatDate')(o,'m/y',{skipPatternLocalization:true}))]);}};f.exports=m;},null);
__d('BoostedComponentPaymentMethodItem.react',['cx','Image.react','React','ReactComponentWithPureRenderMixin','XUIText.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentPaymentMethodItem',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{brandName:i.string,image:c('Image.react').validateImageSrcPropType,isBrandOwned:i.bool.isRequired,onClick:i.func,size:i.oneOf(['small','medium','large','xlarge','xxlarge']),title:i.string.isRequired},getDefaultProps:function(){return {size:'medium'};},_getTitleText:function(){return (c('React').createElement('span',null,this.props.title,this.props.isBrandOwned?c('React').createElement('span',null,'  '):null,this.props.isBrandOwned?this.props.brandName:null));},render:function(){return (c('React').createElement('div',{className:"_4i6_",onClick:this.props.onClick},c('React').createElement(c('Image.react'),{className:"_4t-n",src:this.props.image,width:'36'}),c('React').createElement(c('XUIText.react'),this.props,this._getTitleText())));}});f.exports=j;},null);
__d('PaymentMethodIcons',['CreditCardTypeEnum','FundingSourceType'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_baseURI:'/images/payments/icons/',_mapCreditCardName:function(i){switch(i){case c('CreditCardTypeEnum').VISA:return 'visa';case c('CreditCardTypeEnum').MASTERCARD:return 'mc';case c('CreditCardTypeEnum').DISCOVER:return 'disc';case c('CreditCardTypeEnum').AMERICANEXPRESS:return 'amex';case c('CreditCardTypeEnum').JCB:return 'jcb';default:return null;}},_mapPaymentMethodName:function(i,j){switch(i){case c('FundingSourceType').FUNDING_TYPE_CREDIT_CARD:return this._mapCreditCardName(j);case c('FundingSourceType').FUNDING_TYPE_PAYPAL_TOKEN:case c('FundingSourceType').FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT:return 'paypal';default:return null;}},getIconFilePath:function(i,j){var k=this._mapPaymentMethodName(i,j);if(k===null)return '';return this._baseURI+k+'.png';}};f.exports=h;},null);
__d('AdsPaymentsPaymentMethodSelector.react',['cx','fbt','ix','AdsPayAPICreditCardAddressFields','AdsAltpayPaymentMetadataKeys','AdsCurrencyFormatter','AdsLoadState','AdsPaymentsPaymentMethodUtils','AdsPayAPIPaymentMethodAltpayFields','BoostedComponentPaymentMethodItem.react','AdsPayAPIPaymentMethodCreditCardFields','AdsPayAPIPaymentMethodDirectDebitFields','AdsAPIExtendedCreditInfoFields','FundingSourceType','Image.react','Link.react','PaymentMethodIcons','AdsPayAPIAllPaymentMethodsFields','AdsPayAPIPaymentMethodPaypalFields','PopupWindow','React','ReactComponentWithPureRenderMixin','AdsPayAPIPaymentMethodTokenFields','XUIButton.react','XUIGrayText.react','XUINotice.react','XUISelector.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l='pm_add_new',m=c('XUISelector.react').Option,n=c('AdsCurrencyFormatter').formatCurrencyWithNumberDelimiters,o=c('React').createClass({displayName:'AdsPaymentsPaymentMethodSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:k.string.isRequired,allPaymentMethods:k.object.isRequired,altpayPendingPayments:k.object,businessInfo:k.object.isRequired,currency:k.string.isRequired,extendedCreditInfo:k.object.isRequired,extendedCreditStatus:k.number.isRequired,hasBillingWritePermission:k.bool.isRequired,hasCreatedAdsBefore:k.bool.isRequired,hasExtendedCredit:k.bool.isRequired,hasFundingSource:k.bool.isRequired,isCorporate:k.bool.isRequired,isPrepayAccount:k.bool.isRequired,maxWidth:k.number.isRequired,onChangePrimaryPaymentMethod:k.func.isRequired,onPaymentMethodButtonClick:k.func.isRequired,paymentMethodLoadingStatus:k.string.isRequired,prepayBalance:k.object,primaryPMDisplayString:k.string.isRequired,primaryPaymentMethod:k.object,errors:k.array.isRequired,successes:k.array.isRequired},getDefaultProps:function(){return {primaryPaymentMethod:{},prepayBalance:{}};},getInitialState:function(){return {selectedValue:this._getPrimaryPMDropdownValue()};},_getAddPaymentMethodButton:function(){return (c('React').createElement(c('XUIButton.react'),{imageRight:c('React').createElement(c('Image.react'),{src:j('/images/ui/xhp/image/glyph/create.png')}),label:i._("Add New Payment Method"),size:'xlarge',onClick:this.props.onPaymentMethodButtonClick}));},_getExtendedCreditMethod:function(p){var q=n(this.props.currency,parseInt(this.props.extendedCreditInfo[c('AdsAPIExtendedCreditInfoFields').CREDIT_LEFT],10));return (c('React').createElement('div',{className:"_4i70"},c('React').createElement('div',{className:"_3n8l"},c('React').createElement(c('BoostedComponentPaymentMethodItem.react'),{businessName:this.props.businessInfo.name,image:j('/images/cc_logos/adcoupon.png'),isBrandOwned:p,title:i._("Account Credit ({credit left})",[i.param('credit left',q)]),weight:'bold'}))));},_hasValidCoupon:function(){if(!this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').TOKENS])return false;var p=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').TOKENS].data;return p.some(function(q){if(c('AdsPaymentsPaymentMethodUtils').isCouponValid(q))return true;return false;});},_getCouponTitle:function(p){return i._("Facebook Ad Coupon: {current balance}",[i.param('current balance',c('AdsPaymentsPaymentMethodUtils').getAmountString(p[c('AdsPayAPIPaymentMethodTokenFields').CURRENT_BALANCE].amount,p[c('AdsPayAPIPaymentMethodTokenFields').CURRENT_BALANCE].currency,false,false))]);},_getValidCoupon:function(){var p=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').TOKENS].data;for(var q=0;q<p.length;q++)if(c('AdsPaymentsPaymentMethodUtils').isCouponValid(p[q]))return (c('React').createElement('div',{className:"_4i70"},c('React').createElement('div',{className:"_3n8l"},c('React').createElement(c('BoostedComponentPaymentMethodItem.react'),{image:j('/images/cc_logos/adcoupon.png'),isBrandOwned:false,title:this._getCouponTitle(p[q]),weight:'bold'}))));return null;},_getSelectorOption:function(p,q,r,s,t){return (c('React').createElement(m,{className:"_3-8n",key:p,value:p},c('React').createElement(c('BoostedComponentPaymentMethodItem.react'),{brandName:t,image:q,isBrandOwned:s,size:'small',title:r})));},_loadMethodsToRender:function(p,q,r,s,t,u,v){if(this.props.primaryPaymentMethod&&r==this.props.primaryPaymentMethod.id){var w=false,x=null;if(this.props.businessInfo!==null||this.props.businessInfo!==undefined){w=c('AdsPaymentsPaymentMethodUtils').isBrandOwnedPaymentMethod(this.props.businessInfo.paymentAccountID,u);x=w?this.props.businessInfo.name:null;}q.primaryPaymentMethod=this._getSelectorOption(p,s,t,w,x);}else if(v)q.backupPaymentMethods.push(this._getSelectorOption(p,s,t,false,''));},_loadCreditcardsToRender:function(p){if(!this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').CREDIT_CARDS])return;var q=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').CREDIT_CARDS].data;q.forEach(function(r){var s=this._getMethodKey(r[c('AdsPayAPIPaymentMethodCreditCardFields').CREDENTIAL_ID],c('FundingSourceType').FUNDING_TYPE_CREDIT_CARD),t=c('PaymentMethodIcons').getIconFilePath(c('FundingSourceType').FUNDING_TYPE_CREDIT_CARD,r[c('AdsPayAPIPaymentMethodCreditCardFields').CREDIT_CARD_TYPE]),u=c('AdsPaymentsPaymentMethodUtils').getCCTitle(r[c('AdsPayAPIPaymentMethodCreditCardFields').DISPLAY_STRING],r[c('AdsPayAPIPaymentMethodCreditCardFields').CREDIT_CARD_TYPE]);this._loadMethodsToRender(s,p,r[c('AdsPayAPIPaymentMethodCreditCardFields').CREDENTIAL_ID],t,u,r[c('AdsPayAPIPaymentMethodCreditCardFields').ACCOUNT_ID],r[c('AdsPayAPIPaymentMethodCreditCardFields').IS_VERIFIED]);},this);},_loadPaypalsToRender:function(p){if(!this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').PAYPALS])return;var q=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').PAYPALS].data;q.forEach(function(r){var s=this._getMethodKey(r[c('AdsPayAPIPaymentMethodPaypalFields').CREDENTIAL_ID],c('FundingSourceType').FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT),t=i._("PayPal ({email})",[i.param('email',r[c('AdsPayAPIPaymentMethodPaypalFields').EMAIL_ADDRESS])]),u=c('PaymentMethodIcons').getIconFilePath(c('FundingSourceType').FUNDING_TYPE_PAYPAL_BILLING_AGREEMENT);this._loadMethodsToRender(s,p,r[c('AdsPayAPIPaymentMethodPaypalFields').CREDENTIAL_ID],u,t,r[c('AdsPayAPIPaymentMethodPaypalFields').ACCOUNT_ID],true);},this);},_loadDirectDebitToRender:function(p){if(!this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').DIRECT_DEBITS])return;var q=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').DIRECT_DEBITS].data;q.forEach(function(r){var s=this._getMethodKey(r[c('AdsPayAPIPaymentMethodDirectDebitFields').CREDENTIAL_ID],c('FundingSourceType').FUNDING_TYPE_DIRECT_DEBIT),t=r[c('AdsPayAPIPaymentMethodDirectDebitFields').ADDRESS],u=c('AdsPaymentsPaymentMethodUtils').getDirectDebitTitle(r[c('AdsPayAPIPaymentMethodDirectDebitFields').DISPLAY_STRING],t[c('AdsPayAPICreditCardAddressFields').COUNTRY_CODE]),v=t[c('AdsPayAPICreditCardAddressFields').COUNTRY_CODE]==='GB'?j('/images/payments/icons/bacs-sq.png'):j('/images/cc_logos/direct_debit.png');this._loadMethodsToRender(s,p,r[c('AdsPayAPIPaymentMethodDirectDebitFields').CREDENTIAL_ID],v,u,r[c('AdsPayAPIPaymentMethodDirectDebitFields').ACCOUNT_ID],!r[c('AdsPayAPIPaymentMethodDirectDebitFields').IS_PENDING]);},this);},_getMethodKey:function(p,q){return p+'.'+q;},_getPrimaryPMDropdownValue:function(){if(!this.props.primaryPaymentMethod||!this.props.primaryPaymentMethod.hasOwnProperty('id'))return '';return this._getMethodKey(''+this.props.primaryPaymentMethod.id,this.props.primaryPaymentMethod.type);},_getAddBalanceButton:function(){return (c('React').createElement(c('XUIButton.react'),{className:"_4i6_",label:i._("Add to Balance"),size:'xlarge',onClick:this.props.onPaymentMethodButtonClick}));},_getLatestPendingPayment:function(p){var q={},r=0;for(var s in p){if(!p.hasOwnProperty(s))continue;var t=p[s];for(var u=0;u<t.length;u++){if(t[u][c('AdsAltpayPaymentMetadataKeys').TIME_CREATED]<r)continue;r=t[u][c('AdsAltpayPaymentMetadataKeys').TIME_CREATED];q=t[u];}}return q;},_getLatestAltpayPendingPaymentToRender:function(){if(this.props.altpayPendingPayments===null||this.props.altpayPendingPayments===undefined||!this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').ALTPAYS])return null;var p=this.props.allPaymentMethods[c('AdsPayAPIAllPaymentMethodsFields').ALTPAYS].data,q=this._getLatestPendingPayment(this.props.altpayPendingPayments);if(!q)return null;var r=p.filter(function(t){return t[c('AdsPayAPIPaymentMethodAltpayFields').CREDENTIAL_ID]===q[c('AdsAltpayPaymentMetadataKeys').CREDENTIAL_ID];})[0],s=c('AdsPaymentsPaymentMethodUtils').getAltpayMethodTitle(r[c('AdsPayAPIPaymentMethodAltpayFields').INSTRUMENT_TYPE],r[c('AdsPayAPIPaymentMethodAltpayFields').TITLE]);return (c('React').createElement('div',{className:"_3-8z"},c('React').createElement(c('XUIGrayText.react'),{display:'inline',size:'medium',weight:'bold'},s,": "),c('React').createElement(c('XUIText.react'),{display:'inline',size:'medium',weight:'bold'},q[c('AdsAltpayPaymentMetadataKeys').AMOUNT]),c('React').createElement(c('Link.react'),{className:"_3-9a",onClick:this._openPopup.bind(this,q[c('AdsAltpayPaymentMetadataKeys').DOWNLOAD_LINK])},i._("View Boleto"))));},_openPopup:function(p){c('PopupWindow').open(p,500,500);},_renderPrepay:function(){if(this.props.prepayBalance===null||this.props.prepayBalance===undefined)return null;var p=this.props.prepayBalance.currency,q=c('AdsCurrencyFormatter').parseCurrency(p,this.props.prepayBalance.amount);return (c('React').createElement('div',null,c('React').createElement('div',{className:"inlineBlock"},c('React').createElement('div',{className:"_4i70"},c('React').createElement(c('XUIText.react'),{className:"_3-8i",display:'block',size:'medium',weight:'bold'},c('AdsCurrencyFormatter').formatCurrencyWithISO(p,q))),this._getAddBalanceButton()),this._getLatestAltpayPendingPaymentToRender()));},_getAddPaymentMethodOption:function(){return (c('React').createElement(m,{className:"_4i71",key:l,value:l,onClick:this.props.onPaymentMethodButtonClick},c('React').createElement(c('XUIText.react'),{size:'small'},i._("Add New Payment Method"))));},_onPaymentMethodChange:function(p){var q=p.value;if(q===this._getDefaultDropdownOptionValue())return;var r=q.split('.'),s=r[0],t=parseInt(r[1],10);if(q==l){this.props.onPaymentMethodButtonClick();return;}this.props.onChangePrimaryPaymentMethod(this.props.accountID,s,t);},_getPrimaryPMDisplayString:function(){return (c('React').createElement('div',{className:"_4i70"},c('React').createElement(c('XUIText.react'),{className:"_3-8i",display:'block',size:'small',weight:'bold'},this.props.primaryPMDisplayString)));},_getMessagesToShow:function(){var p=[];this.props.errors.forEach(function(q){p.push(c('React').createElement(c('XUINotice.react'),{className:"_3-8w",size:'small',use:'warn'},q));});this.props.successes.forEach(function(q){p.push(c('React').createElement(c('XUINotice.react'),{className:"_3-8w",size:'small',use:'notify'},q));});return p;},_getDefaultDropdownOptionValue:function(){return 'pm_select_one';},_getDefaultDropdownOption:function(){var p=this._getDefaultDropdownOptionValue();return (c('React').createElement(m,{className:"_3-8n",key:p,value:p},i._("Select One")));},renderData:function(){if(this.props.paymentMethodLoadingStatus===c('AdsLoadState').LOADING||this.props.paymentMethodLoadingStatus===c('AdsLoadState').NOT_LOADED)return null;if(!this.props.hasBillingWritePermission||this.props.paymentMethodLoadingStatus===c('AdsLoadState').ERROR)return this._getPrimaryPMDisplayString();if(this.props.isPrepayAccount===true)return this._renderPrepay();if(!this.props.hasFundingSource)return this._getAddPaymentMethodButton();if(this._hasValidCoupon())return this._getValidCoupon();var p=c('AdsPaymentsPaymentMethodUtils').initializeExtendedCredit(this.props.allPaymentMethods,this.props.primaryPaymentMethod,this.props.accountID,this.props.businessInfo.paymentAccountID,this.props.extendedCreditStatus);if(this.props.hasExtendedCredit===true&&p.isExtendedCreditPrimary===true)return this._getExtendedCreditMethod(p.isBrandOwnedxtendedCredit);var q={defaultOption:null,primaryPaymentMethod:null,backupPaymentMethods:[]};this._loadCreditcardsToRender(q);this._loadPaypalsToRender(q);this._loadDirectDebitToRender(q);if(q.primaryPaymentMethod===null&&q.backupPaymentMethods.length===0)return this._getPrimaryPMDisplayString();var r=this._getPrimaryPMDropdownValue();if(q.primaryPaymentMethod===null){q.defaultOption=this._getDefaultDropdownOption();r=this._getDefaultDropdownOptionValue();}var s=this._getAddPaymentMethodOption();return (c('React').createElement(c('XUISelector.react'),{maxwidth:this.props.maxWidth,name:'payment method selector',size:'xlarge',value:r,onChange:this._onPaymentMethodChange},[q.defaultOption,q.primaryPaymentMethod,q.backupPaymentMethods,s]));},render:function(){return (c('React').createElement('div',null,this.renderData(),this._getMessagesToShow()));}});f.exports=o;},null);
__d('AdsImageCropperWindow.react',['cx','fbt','ix','CenteredContainer.react','Image.react','React','ReactDOM','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsImageCropperWindow',propTypes:{height:k.number,isCropping:k.bool,isResizable:k.bool,isResizing:k.bool,width:k.number},getInitialState:function(){return {ctaFullWidth:null};},getDefaultProps:function(){return {isResizable:false};},componentDidUpdate:function(m){this._reflowCTA();},shouldComponentUpdate:function(m){return (!this.state.ctaFullWidth||this.props.width!==m.width||this.props.height!==m.height||this.props.isCropping!==m.isCropping);},_reflowCTA:function(){if(!this.state.ctaFullWidth){var m=this.refs&&this.refs.cta,n=m&&c('ReactDOM').findDOMNode(m);if(n&&n.offsetWidth)this.setState({ctaFullWidth:n.offsetWidth});}},render:function(){return (c('React').createElement(c('CenteredContainer.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_5tw4 lfloat"),style:babelHelpers['extends']({},this.props.style||{},{width:this.props.width,height:this.props.height}),vertical:true}),c('React').createElement('div',{className:"_5tw5"}),this._renderCTA()));},_renderCTA:function(){var m=this.state.ctaFullWidth,n=!m||this.props.width&&this.props.width>m,o=this.props.isResizable?i._("Crop Image"):i._("Drag to Reposition Image");return (c('React').createElement('div',{className:"_5tw6"+(this.props.isCropping?' '+"_5tw7":'')+(!m?' '+"_5tw8":''),ref:'cta'},c('React').createElement(c('Image.react'),{src:j('images/ads/cropper/drag.png')}),c('React').createElement('div',{className:(!n&&this.props.isResizing?"hidden_elem":'')+(' '+"_5tw9")},o)));}});f.exports=l;},null);
__d('AdsImageCropSelector.react',['cx','invariant','ix','AdsImageLegacy','AdsImageCropperWindow.react','BackgroundImage.react','Event','Image.react','React','ReactDOM','isEmpty','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=function(o){return o*o;},m=function(o,p,q){return Math.min(Math.max(o,p),q);},n=c('React').createClass({displayName:'AdsImageCropSelector',_dragging:false,_dragEvent:null,_handler:null,_node:null,_origin:{},_releaseEvent:null,propTypes:{disableResizer:k.bool.isRequired,height:k.number.isRequired,image:k.instanceOf(c('AdsImageLegacy')).isRequired,imageSpec:k.object.isRequired,isDisabled:k.bool.isRequired,isError:k.bool.isRequired,isReady:k.bool.isRequired,width:k.number.isRequired,onCropUpdate:k.func.isRequired},getInitialState:function(){return {coordinates:{},imageDimensions:{},isCropping:false,isResizing:false,min:{},max:{},scale:1,screenX:0,screenY:0};},componentWillMount:function(){this._calculateState(this.props);},componentWillUnmount:function(){if(this._dragEvent)this._dragEvent.remove();if(this._releaseEvent)this._releaseEvent.remove();},componentWillReceiveProps:function(o){this._calculateState(o);},render:function(){var o=this._isCroppingAllowed();return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_5tv-"),style:babelHelpers['extends']({},this.props.style||{},{width:this.props.width}),onContextMenu:this._onContextMenu},c('React').createElement(c('BackgroundImage.react'),{backgroundSize:o?'contain':'containinside',className:"_537t",height:this.props.height,loadingIndicatorStyle:'large',src:this._getImageUrl(),width:this.props.width}),this._renderCropperMask(),this._renderFooter()));},_getImageUrl:function(){var o=this.props.image;return o.isStockImage()?o.getFullSizeUrl():o.getUrl();},_drawCropperGrid:function(){var o=c('React').createElement('td',{className:"_35i_"}),p=c('React').createElement('tr',null,o,o,o);return (c('React').createElement('table',{className:"_35j0"},c('React').createElement('tbody',null,p,p,p)));},_renderCropperMask:function(){if(!this._isCroppingAllowed())return null;var o=this._getFillStyle(this.state.coordinates),p=this.state.coordinates.width+'px',q=this.state.coordinates.height+'px',r=this.props.disableResizer?'none':'block';return (c('React').createElement('div',{className:"_537t _4jo2"},c('React').createElement('div',{className:"_537t _537u",ref:'selector',style:{borderWidth:o,width:p,height:q,display:r}},this._drawCropperGrid(),this._getResizeHandles(),c('React').createElement(c('AdsImageCropperWindow.react'),{className:"_537t",height:this.state.isResizing?undefined:this.state.coordinates.height,isCropping:this.state.isCropping&&this._dragging,isResizable:true,isResizing:this.state.isResizing,width:this.state.isResizing?undefined:this.state.coordinates.width,onMouseDown:this._onCropMoveStart}))));},_isCroppingAllowed:function(){return (!this.props.isDisabled&&!this.props.isError&&this.props.isReady);},_renderFooter:function(){if(!this.props.isReady)return null;var o=this.props.image,p=this.props.imageSpec,q=p.placement,r=o.getValidation(q),s=r.errorMessage||r.warningMessage||r.successMessage,t=j('/images/ads/createflow/creative/image_check.png');if(r.errorMessage||r.warningMessage)t=j('/images/ads/createflow/creative/image_error.png');return (c('React').createElement('div',{className:"_5tw0"},c('React').createElement('div',{className:(!s?"hidden_elem":'')+(' '+"lfloat")},c('React').createElement(c('Image.react'),{className:"_5tw1",src:t}),c('React').createElement('span',{className:"_5tw2"},s&&s.split('\n')[0]))));},_getResizeHandles:function(){return (c('React').createElement('div',{className:"_u4e",ref:'handles'},c('React').createElement('div',{className:"_u49 _u4a",key:'top_left',onMouseDown:this._onCropResizeStart}),c('React').createElement('div',{className:"_u49 _u4b",key:'top_right',onMouseDown:this._onCropResizeStart}),c('React').createElement('div',{className:"_u49 _u4c",key:'bottom_right',onMouseDown:this._onCropResizeStart}),c('React').createElement('div',{className:"_u49 _u4d",key:'bottom_left',onMouseDown:this._onCropResizeStart})));},_getFillStyle:function(o){var p=Math.floor(o.top),q=Math.floor(o.left),r=Math.ceil(o.right),s=Math.ceil(o.bottom);return p+'px '+r+'px '+s+'px '+q+'px';},_updateFormats:function(){var o=this.props.image,p=this.props.imageSpec,q=p.cropKey,r=p.placement,s=this.getOffset(),t=this.getCoordinates(s);this.props.onCropUpdate(o,q,r,t);},getOffset:function(){return {left:this.state.coordinates.left-this.state.min.x,right:this.state.coordinates.right-this.state.min.x,top:this.state.coordinates.top-this.state.min.y,bottom:this.state.coordinates.bottom-this.state.min.y};},getCoordinates:function(o){var p=this.state.imageDimensions,q={bottom:0,left:Math.round(o.left/this.state.scale),right:Math.round(p.width-o.right/this.state.scale),top:Math.round(o.top/this.state.scale)},r=this.props.imageSpec;if(r.aspectRatio){q.bottom=Math.round(q.top+(q.right-q.left)/r.aspectRatio);}else q.bottom=Math.round(p.height-o.bottom/this.state.scale);return [[q.left,q.top],[q.right,q.bottom]];},_onCropResizeStart:function(event){this._onCropChangeStart(event,true);},_onCropMoveStart:function(event){this._onCropChangeStart(event,false);},_onCropChangeStart:function(event,o){event.preventDefault();this._setSelectorNodeToRendered();if(!this._dragging){this._handler=this._getHandler(o);var p=c('ReactDOM').findDOMNode(this.refs.handles);!p?i(0):void 0;var q=p.getBoundingClientRect(),r=q.left,s=q.top,t=q.width,u=q.height;this._origin={x:r+t/2,y:s+u/2};this._dragEvent=c('Event').listen(window,'mousemove',this._cropMove);this._releaseEvent=c('Event').listen(window,'mouseup',this._cropEnd);this.setState({isCropping:true,isResizing:o,screenX:event.pageX,screenY:event.pageY});this._dragging=true;this._place(this.state.coordinates.left,this.state.coordinates.top,this.state.coordinates.width,this.state.coordinates.height);}},_setSelectorNodeToRendered:function(){!!this._node?i(0):void 0;this._node=c('ReactDOM').findDOMNode(this.refs.selector);!this._node?i(0):void 0;},_cropMove:function(event){if(this._dragging){event.prevent();!this._handler?i(0):void 0;this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY);}},_cropEnd:function(event){if(this._dragging){this._dragging=false;this.setState({isCropping:false,isResizing:false});!this._handler?i(0):void 0;this._handler(event.pageX-this.state.screenX,event.pageY-this.state.screenY);this._dragEvent&&this._dragEvent.remove();this._dragEvent=null;this._releaseEvent&&this._releaseEvent.remove();this._releaseEvent=null;this._handler=null;}this._resetSelectorNode();},_resetSelectorNode:function(){delete this._node;},_resize:function(o,p){var q=Math.sqrt(l(this.state.screenX-this._origin.x)+l(this.state.screenY-this._origin.y)),r={x:o/2+this.state.screenX,y:p/2+this.state.screenY},s=Math.sqrt(l(this._origin.x-r.x)+l(this._origin.y-r.y)),t=m(s/q,this.state.min.scale,this.state.max.scale),u=Math.round(this.state.coordinates.width*t),v=Math.round(this.state.coordinates.height*t),w=this.state.screenX<this._origin.x?this.state.coordinates.width-u:0,x=this.state.screenY<this._origin.y?this.state.coordinates.height-v:0,y=m(this.state.coordinates.left+w,this.state.min.x,this.state.max.x-u),z=m(this.state.coordinates.top+x,this.state.min.y,this.state.max.y-v);this._place(y,z,u,v);},_move:function(o,p){var q=this.state.coordinates.width,r=this.state.coordinates.height,s=m(this.state.coordinates.left+o,this.state.min.x,this.state.max.x-q),t=m(this.state.coordinates.top+p,this.state.min.y,this.state.max.y-r);this._place(s,t,q,r);},_place:function(o,p,q,r){var s=this.props.height-p-r,t=this.props.width-o-q,u=this._getFillStyle({top:p,left:o,bottom:s,right:t});!this._node?i(0):void 0;this._node.style.borderWidth=u;this._node.style.width=q+'px';this._node.style.height=r+'px';if(!this._dragging)this.setState({coordinates:{top:p,left:o,bottom:s,right:t,width:q,height:r}},function(){this._updateFormats();}.bind(this));},_getHandler:function(o){return o?this._resize:this._move;},_calculateState:function(o){if(!o.isReady)return;var p=o.image.getCrop(o.imageSpec.cropKey),q=Math.min(o.width/o.image.getWidth(),o.height/o.image.getHeight()),r={height:o.image.getHeight(),scaledWidth:Math.round(o.image.getWidth()*q),scaledHeight:Math.round(o.image.getHeight()*q),width:o.image.getWidth()},s={scale:1,x:(o.width-r.scaledWidth)/2,y:(o.height-r.scaledHeight)/2},t={scale:1,x:s.x+r.scaledWidth,y:s.y+r.scaledHeight},u={};if(p&&p.length){u.top=s.y+p[0][1]*q;u.left=s.x+p[0][0]*q;u.bottom=s.y+(r.height-p[1][1])*q;u.right=s.x+(r.width-p[1][0])*q;u.width=o.width-u.right-u.left;u.height=o.height-u.bottom-u.top;}if(c('isEmpty')(u)||Object.keys(u).some(function(v){return u[v]<0;})){if(r.width/o.imageSpec.aspectRatio>r.height){u.height=r.scaledHeight;u.width=u.height*o.imageSpec.aspectRatio;}else{u.width=r.scaledWidth;u.height=u.width/o.imageSpec.aspectRatio;}u.top=s.y+(r.scaledHeight-u.height)/2;u.left=s.x+(r.scaledWidth-u.width)/2;u.bottom=o.height-u.top-u.height;u.right=o.width-u.left-u.width;}s.scale=Math.min(o.imageSpec.minWarningWidth*q/u.width,o.imageSpec.minWarningHeight*q/u.height);t.scale=Math.min(r.scaledWidth/u.width,r.scaledHeight/u.height);this.setState({max:t,min:s,imageDimensions:r,scale:q,coordinates:u});},_onContextMenu:function(event){this.props.onContextMenu(this.props.image,event);}});f.exports=n;},null);
__d('AdsImageCropperEditorItem.react',['cx','AdsImageLegacy','AdsImageUtils','BackgroundImage.react','React','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsImageCropperEditorItem',propTypes:{height:i.number.isRequired,image:i.object.isRequired,imageSpec:i.object.isRequired,isDisabled:i.bool.isRequired,isError:i.bool.isRequired,isReady:i.bool.isRequired,isSelected:i.bool,width:i.number.isRequired,onCropUpdate:i.func.isRequired},componentDidMount:function(){this._initImageCrops();},componentDidUpdate:function(){this._initImageCrops();},shouldComponentUpdate:function(k){return (this.props.image.getCrops()!==k.image.getCrops()||this.props.isDisabled!==k.isDisabled||this.props.isError!==k.isError||this.props.isReady!==k.isReady||this.props.isSelected!==k.isSelected||this.props.imageSpec.aspectRatio!==k.imageSpec.aspectRatio||this.props.height!==k.height);},render:function(){var k=this.props.image,l=this.props.imageSpec,m=this._getImageURL(),n=this._isCroppingAllowed(),o=n&&this._getBackgroundPosition(k,l),p=n?this._getScale(k,l):1,q;if(m)q={backgroundImage:'url('+m+')',backgroundSize:Math.round(p*100)+'%',backgroundPosition:o,backgroundRepeat:'no-repeat'};var r=c('React').createElement('div',{style:babelHelpers['extends']({},q,{height:this.props.height,width:this.props.width}),onContextMenu:this._onContextMenu});return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_5twa"+(this.props.isSelected?' '+"_5twb":'')),onClick:this._onClick},r));},_initImageCrops:function(){var k=this.props.image,l=this.props.imageSpec,m=l.placement,n=l.cropKey,o=c('AdsImageUtils').calculateDefaultCoordinates(k.getWidth(),k.getHeight(),l.aspectRatio);if(!k.getCrop(n)&&this._isCroppingAllowed())this.props.onCropUpdate(k,n,m,o);},_getImageURL:function(){var k=this.props.image;return k.isStockImage()?k.getFullSizeUrl():k.getUrl();},_isCroppingAllowed:function(){var k=this.props.isDisabled,l=this.props.isError,m=this.props.isReady;return !k&&!l&&m;},_getBackgroundPosition:function(k,l){var m=k.getCrop(l.cropKey)||[],n='50% 50%';if(m.length){var o=k.getWidth(),p=k.getHeight(),q=this.props.width,r=this.props.height;n=c('AdsImageUtils').calculateCroppedPosition(o,p,q,r,m);}return n;},_getScale:function(k,l){var m=1,n=k.getCrop(l.cropKey)||[];if(n.length)m=c('AdsImageUtils').calculateBackgroundScale(k.getWidth(),k.getHeight(),n);return m;},_onClick:function(){this.props.onClick(this.props.imageSpec.placement);},_onContextMenu:function(event){this.props.onContextMenu(this.props.image,event);}});f.exports=j;},null);
__d('AdsImageCropperImageSpecSelector.react',['cx','fbt','AdImageSpecCropKeys','React','XUIButton.react','XUIButtonGroup.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k={SQUARE:i._("Square"),NO_CROP:i._("Original")},l=c('React').createClass({displayName:'AdsImageCropperImageSpecSelector',propTypes:{hideSingleOption:j.bool,imageSpecs:j.arrayOf(j.object).isRequired,orderByAspectRatio:j.bool,selectedSpec:j.object,onUpdateImageSpec:j.func.isRequired},getInitialState:function(){return {selectedSpec:this.props.selectedSpec};},componentWillReceiveProps:function(m){this.setState({selectedSpec:m.selectedSpec});},render:function(){var m=this.props.imageSpecs;if(!m||m.length===0||m.length===1&&this.props.hideSingleOption)return null;if(this.props.orderByAspectRatio)m.sort(function(p,q){return p.aspectRatio-q.aspectRatio;});var n=this.state.selectedSpec,o=m.map(function(p){return (c('React').createElement(c('XUIButton.react'),{className:"_5qc-"+(!n||n.aspectRatio!==p.aspectRatio||n.placement!==p.placement?' '+"_5qc_":'')+(' '+"_5bv8"),key:p.placement+p.cropKey,label:this._getLabelForImageSpec(p),size:'large',onClick:function(){return this._onClickSpecItem(p);}.bind(this)}));}.bind(this));return (c('React').createElement(c('XUIButtonGroup.react'),null,o));},_onClickSpecItem:function(m){this.setState({selectedSpec:m});this.props.onUpdateImageSpec(m);},_getLabelForImageSpec:function(m){if(m.aspectRatio===1)return k.SQUARE;if(m.cropKey===c('AdImageSpecCropKeys').NO_CROP)return k.NO_CROP;return m.aspectRatio;}});f.exports=l;},null);
__d('AdsImageCropperEditor.react',['cssVar','cx','fbt','AdImageSpecsUtils','AdsImageCropperEditorItem.react','AdsImageCropperImageSpecSelector.react','AdsImageCropSelector.react','AdsImageDialog.react','AdsImageLegacy','AdsImagePanelNote.react','ApiAdPageTypeToPlatformMap','CenteredContainer.react','Event','InputLabel.react','Link.react','React','ReactLayeredComponentMixin','XUIButton.react','XUICheckboxInput.react','XUICloseButton.react','XUIText.react','arrayContains','debounce','emptyFunction','getViewportDimensions','mapObject'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l="684",m="584",n=40,o=50,p="880",q=2,r=12,s=16,t=32,u=20,v=12,w=70,x=186,y=100,z=12,aa=28,ba=c('React').createClass({displayName:'AdsImageCropperEditor',mixins:[c('ReactLayeredComponentMixin')],propTypes:{accountID:k.string,enablePlatformCustomizations:k.bool,header:k.string.isRequired,image:k.instanceOf(c('AdsImageLegacy')).isRequired,imageSpecs:k.array.isRequired,libraryImages:k.arrayOf(k.shape({url:k.string.isRequired,hash:k.string.isRequired})),platformCustomizations:k.objectOf(k.instanceOf(c('AdsImageLegacy')).isRequired),selectedPlacement:k.string,showSpecSelector:k.bool,suppressValidationError:k.bool,onClose:k.func,onImageUpdate:k.func.isRequired},_resizeHandlerRef:null,getDefaultProps:function(){return {onClose:c('emptyFunction'),onImageUpdate:c('emptyFunction')};},getInitialState:function(){return {placementImageSpecs:this._getImageSpecsForPlacements(this.props.image,this.props.platformCustomizations,this._groupImageSpecsByPlacement(this.props.imageSpecs)),selectedPlacement:this.props.selectedPlacement||this.props.imageSpecs[0].placement};},componentWillMount:function(){var ca=c('debounce')(function(){return this.forceUpdate();}.bind(this));this._resizeHandlerRef=c('Event').listen(window,'resize',ca);},componentWillUnmount:function(){if(this._resizeHandlerRef&&this._resizeHandlerRef.remove)this._resizeHandlerRef.remove();this._resizeHandlerRef=null;},componentWillReceiveProps:function(ca){var da=ca.imageSpecs;if(da.length===0)return;var ea=ca.image,fa=this.state.selectedPlacement,ga=ca.platformCustomizations,ha=this.state.placementImageSpecs[fa],ia=da.every(function(ja){return ha!==ja;});if(!ha||ia)this.setState({selectedPlacement:da[0].placement});this.setState({placementImageSpecs:this._getImageSpecsForPlacements(ea,ga,this._groupImageSpecsByPlacement(da))});},renderLayers:function(){var ca;if(this.state.showImageLibrary)ca=c('React').createElement(c('AdsImageDialog.react'),{accountID:this.props.accountID,libraryImages:this.props.libraryImages,maxSelectedImages:1,selectedImages:[this._getImageForPlacement(this.state.selectedPlacement).toJSON()],specs:this._getSpecsForCustomImage(),onCancel:this._hideCustomImageDialog,onSelect:this._selectCustomImage});return {dialog:ca};},render:function(){var ca=this.state.selectedPlacement,da=this._getImageForPlacement(ca),ea=this.state.placementImageSpecs[ca];if(this.props.imageSpecs.length===0||!ea)return null;var fa=this._getTabContentHeight()-o-2*z-(this.props.showSpecSelector?aa:0),ga=c('React').createElement(c('AdsImageCropSelector.react'),{disableResizer:ea.aspectRatio<=0,height:fa,image:da,imageSpec:ea,isDisabled:false,isError:this._isImageError(da,ea),isReady:this._isImageReady(da,ea),suppressValidationError:this.props.suppressValidationError,width:p-this._getEditorWidth()-2*z,onContextMenu:this._onImageContextMenu,onCropUpdate:this.props.onImageUpdate}),ha=this.props.showSpecSelector?this._renderCropSpecSelector():null,ia=c('React').createElement('div',{className:"_5twc",style:{width:this._getEditorWidth()}},this._renderEditorHeader(),this._renderEditorRows(),this._renderEditorFooter());return (c('React').createElement('div',{className:"_5twd",style:{height:this._getTabContentHeight()}},c('React').createElement('div',{className:"_5oh2"},ga,ha),ia));},_renderEditorHeader:function(){return (c('React').createElement('div',{className:"_5twe"},this.props.header,c('React').createElement(c('XUICloseButton.react'),{className:"_5twf rfloat",onClick:this.props.onClose})));},_renderEditorFooter:function(){return (c('React').createElement('div',{className:"_5twg"},c('React').createElement(c('XUIButton.react'),{className:'rfloat',label:j._("Done"),use:'confirm',onClick:this.props.onClose})));},_renderEditorRows:function(){var ca=this.state.selectedPlacement,da=this._groupImageSpecsByPlacement(this.props.imageSpecs),ea=Object.keys(da).length,fa=ea>1,ga=this._getEditorWidth()-(ea-1)*v-ea*q*2-2*(fa?r:t),ha=this._getTabContentHeight()-n-o-2*(fa?s:u),ia=Math.min(ha-q*2,fa?w:x),ja=this._calculateRowHeightColumnWidth(da,ga,ia),ka=this.state.placementImageSpecs,la=Object.keys(ka).map(function(na){return ka[na];}),ma=la.map(function(na){var oa=this._getImageForPlacement(na.placement),pa=na.aspectRatio>0?na.aspectRatio:oa.width/oa.height,qa=ja[na.placement].width,ra=qa/pa;if(fa){ra=ja[na.placement].height;qa=ja[na.placement].height*pa;}if(ra>ia){ra=ia;qa=ra*pa;}var sa=ca===na.placement;if(!sa){qa+=q;ra+=q;}if(na.aspectRatio<=0)na=babelHelpers['extends']({},na,{height:oa.height,width:oa.width,aspectRatio:oa.width/oa.height});return (c('React').createElement('div',{className:"_145i",key:oa.getUniqueIdentifier()+na.placement+na.cropKey,style:{width:ja[na.placement].width}},c('React').createElement(c('AdsImageCropperEditorItem.react'),{height:Math.floor(ra),image:oa,imageSpec:na,isDisabled:false,isError:this._isImageError(oa,na),isReady:this._isImageReady(oa),isSelected:sa,width:Math.floor(qa),onClick:this._setCropperItem,onContextMenu:this._onImageContextMenu,onCropUpdate:this.props.onImageUpdate})));}.bind(this));return (c('React').createElement('div',null,this._renderEditorHelpText(fa),this._renderEditorRowHeader(da,ja),c('React').createElement('div',{className:"_5twi"},ma),this._renderCustomImagePanel()));},_renderCustomImagePanel:function(){if(!this.props.enablePlatformCustomizations)return null;var ca=this.state.selectedPlacement;if(!c('ApiAdPageTypeToPlatformMap')[ca])return null;var da=this.props.image,ea=this._getImageForPlacement(ca),fa=this.state.showCustomImagePanel||!da.equals(ea),ga=c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{checked:fa,onClick:fa?this._removeCustomImage:this._showCustomImagePanel}),c('React').createElement('label',null,j._("Select a separate image for this placement"))),ha;if(fa)ha=c('React').createElement('div',null,c('React').createElement(c('XUIButton.react'),{className:"_3-8y",label:j._("Change Image"),onClick:this._showCustomImageDialog}),c('React').createElement(c('AdsImagePanelNote.react'),{imageSpec:this._getSpecsForCustomImage()[0]}));return (c('React').createElement('div',{className:"_2ph_"},ga,ha));},_renderCropSpecSelector:function(){if(!this.props.showSpecSelector)return null;var ca=this.state.selectedPlacement,da=this._groupImageSpecsByPlacement(this.props.imageSpecs),ea=this.state.placementImageSpecs[ca];return (c('React').createElement('div',{className:"_23et"},c('React').createElement(c('AdsImageCropperImageSpecSelector.react'),{hideSingleOption:true,imageSpecs:da[ca],orderByAspectRatio:true,selectedSpec:ea,onUpdateImageSpec:this._updateImageCrops})));},_renderEditorRowHeader:function(ca,da){if(Object.keys(da).length<=1)return null;var ea=Object.keys(ca).map(function(fa){return (c('React').createElement('div',{className:"_qmy",key:'header title'+fa,style:{width:da[fa].width}},c('AdImageSpecsUtils').getImageSpecPlacementPlatform(ca[fa][0])));});return (c('React').createElement(c('CenteredContainer.react'),{className:"_qmz",horizontal:true,vertical:false},c('React').createElement('div',null,ea)));},_renderEditorHelpText:function(ca){if(!ca)return null;return (c('React').createElement(c('XUIText.react'),{className:"_3-8z _3-8t _3-96",display:'block',size:'small'},j._("Select the image to edit how it is cropped. {=Learn about ad placements} on Facebook and Instagram.",[j.param('=Learn about ad placements',c('React').createElement(c('Link.react'),{href:'/business/help/274759766036201',target:'_blank'},j._("Learn about ad placements")))])));},_getTabContentHeight:function(){var ca=c('getViewportDimensions')().height,da=ca-y;return Math.max(m,Math.min(l,da));},_setCropperItem:function(ca){this.setState({selectedPlacement:ca});},_isImageError:function(ca,da){if(this.props.suppressValidationError)return false;return ca.hasValidationError(da.placement);},_isImageReady:function(ca){return (ca.isStockImage()?ca.hasFullSizeDimensions():ca.hasDimensions());},_getEditorWidth:function(){var ca="250";return parseInt(ca,10);},_onImageContextMenu:function(ca,event){if(ca.isStockImage())event.preventDefault();},_getImageSpecsForPlacements:function(ca,da,ea){return c('mapObject')(ea,function(fa,ga){var ha=c('ApiAdPageTypeToPlatformMap')[ga],ia=ha&&da&&da[ha];if(!ia)ia=ca;var ja=Object.keys(ia.crops),ka=fa[fa.length-1];fa.forEach(function(la){if(c('arrayContains')(ja,la.cropKey)&&ia.crops[la.cropKey])ka=la;});return ka;});},_updateImageCrops:function(ca){var da=this._getImageForPlacement(this.state.selectedPlacement),ea=this.state.placementImageSpecs,fa=ea[this.state.selectedPlacement];if(fa!==ca){ea[this.state.selectedPlacement]=ca;this.setState({placementImageSpecs:ea});this.props.onImageUpdate(da,ca.cropKey,this.state.selectedPlacement,da.crops[ca.cropKey],fa.cropKey);}},_groupImageSpecsByPlacement:function(ca){var da={};ca.forEach(function(ea){da[ea.placement]=da[ea.placement]||[];da[ea.placement].push(ea);});return da;},_calculateRowHeightColumnWidth:function(ca,da,ea){var fa=0,ga={};Object.keys(ca).map(function(ia){var ja=this._getImageForPlacement(ia),ka=ja.width/ja.height;ga[ia]=ca[ia].map(function(la){return la.aspectRatio>0?la.aspectRatio:ka;}).reduce(function(la,ma){return Math.max(la,ma);});fa+=ga[ia];}.bind(this));var ha={};Object.keys(ga).forEach(function(ia){var ja=ga[ia],ka=ja/fa*da,la=ka/ja;if(la>ea){la=ea;ka=la*ja;}ha[ia]={height:la,width:ka};});return ha;},_getImageForPlacement:function(ca){var da,ea=c('ApiAdPageTypeToPlatformMap')[ca],fa=this.props.platformCustomizations;if(fa&&ea)da=fa[ea];return da||this.props.image;},_showCustomImagePanel:function(){this.setState({showCustomImagePanel:true});},_showCustomImageDialog:function(){this.setState({showImageLibrary:true});},_hideCustomImageDialog:function(){this.setState({showImageLibrary:false});},_selectCustomImage:function(ca){if(ca[0]){this.props.onImageUpdate(this.props.image,this.state.placementImageSpecs[this.state.selectedPlacement].cropKey,this.state.selectedPlacement,null,null);this.props.onImageUpdate(new (c('AdsImageLegacy'))(babelHelpers['extends']({},ca[0])),null,this.state.selectedPlacement,null,null);}this._hideCustomImageDialog();},_removeCustomImage:function(){this.props.onImageUpdate(null,null,this.state.selectedPlacement,null,null);this.setState({showCustomImagePanel:false});},_getSpecsForCustomImage:function(){var ca=this.props.imageSpecs.filter(function(da){return (c('ApiAdPageTypeToPlatformMap')[da.placement]===c('ApiAdPageTypeToPlatformMap')[this.state.selectedPlacement]);}.bind(this));return c('AdImageSpecsUtils').filterCropImageSpecs(ca);}});f.exports=ba;},null);
__d('AdsImageCropperEditorDialogMixins',['AdsImageCropperEditor.react','AdsImageLegacy','LayerFadeOnHide','React','ReactLayeredComponentMixin','XUIDialog.react','emptyFunction'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=880,j={propTypes:{header:h.string.isRequired,image:h.instanceOf(c('AdsImageLegacy')),imageSpecs:h.array.isRequired,onCropUpdate:h.func,onShow:h.func},getDefaultProps:function(){return {onCropUpdate:c('emptyFunction'),onShow:c('emptyFunction')};},getInitialState:function(){return {dialogShown:false};},renderLayers:function(){if(!this.state.dialogShown||!this.props.image)return {};return {dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},shown:this.state.dialogShown,width:i,onToggle:this._onToggle},c('React').createElement(c('AdsImageCropperEditor.react'),{header:this.props.header,image:this.props.image,imageSpecs:this.props.imageSpecs,onClose:this.hideCropper,onImageUpdate:this.props.onCropUpdate}))};},showCropper:function(){this.props.onShow();this.setState({dialogShown:true});},hideCropper:function(){this.setState({dialogShown:false});},_onToggle:function(l){if(!l)setTimeout(function(){return this.setState({dialogShown:false});}.bind(this),0);}},k=[j,c('ReactLayeredComponentMixin')];f.exports=k;},null);
__d('AdsLocationValidationDialog.react',['fbt','cx','React','ReactDOM','ReactLayeredComponentMixin','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','LayerAutoFocus','LayerFadeOnHide','LayerHideOnEscape'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;function k(m){return m.split(',')[0];}var l=c('React').createClass({displayName:'AdsLocationValidationDialog',propTypes:{entriesRadius:j.object.isRequired,exclusionEntries:j.object.isRequired,updateRadius:j.func.isRequired,updateExclusion:j.func.isRequired,addEntry:j.func.isRequired,removeEntry:j.func.isRequired,currentEntries:j.array},mixins:[c('ReactLayeredComponentMixin')],getInitialState:function(){return {dialogShown:false,invalidEntries:[]};},show:function(event){this.setState({dialogShown:true});},_onToggle:function(m){if(m!==this.state.dialogShown)setTimeout(this.setState.bind(this,{dialogShown:m},null),0);},renderLayers:function(){var m=this.state.newEntry,n=this.state.invalidEntries,o;if(n.length===1){var p=n[0];if(p.exclusionEntries&&p.exclusionEntries.length>0){var q=n[0].exclusionEntries.map(function(v){return k(v.getTitle());});o=c('React').createElement('span',{className:"_5dj8"},h._("{location} Excluding {excluded locations}",[h.param('location',k(p.getTitle())),h.param('excluded locations',q.join(', '))]));}else o=c('React').createElement('span',{className:"_5dj8"},k(p.getTitle()));}else if(n.length>1){var r=n.map(function(v){return k(v.getTitle());});o=c('React').createElement('span',{className:"_5dj8"},r.join(', '));}else return {};var s=this.state.errorDescription?c('React').createElement('span',null,' ',this.state.errorDescription,' '):'',t=m?k(m.getTitle()):'',u=h._("Your audience location is currently set to {old location}. Do you want to change it to {new location}?",[h.param('old location',o),h.param('new location',c('React').createElement('span',{className:"_5dj8"},t))]);return {dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerAutoFocus:c('LayerAutoFocus'),LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},shown:this.state.dialogShown,width:445,onToggle:this._onToggle},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',null,s,u)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:h._("Cancel"),use:'default'}),c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',className:'autofocus',label:h._("Okay"),ref:'confirmButton',use:'confirm',onClick:this._onConfirmClick})))};},render:function(){return (c('React').createElement('div',null));},componentDidUpdate:function(){c('ReactLayeredComponentMixin').componentDidUpdate.call(this);this.refs&&this.refs.confirmButton&&c('ReactDOM').findDOMNode(this.refs.confirmButton).focus();},_onConfirmClick:function(){var m=this.props.currentEntries?this.props.currentEntries.slice():[],n={},o=this.props.entriesRadius,p=this.props.exclusionEntries;m.push(this.state.newEntry);o[this.state.newEntry.getUniqueID()]=0;p[this.state.newEntry.getUniqueID()]=[];this.state.invalidEntries.map(function(q){n[q.getUniqueID()]=true;});m.forEach(function(q){if(n[q.getUniqueID()])this.props.removeEntry(q);},this);this.props.updateRadius(o);this.props.updateExclusion(p);this.props.addEntry(this.state.newEntry);},setInfo:function(m,n,o){this.setState({newEntry:m,invalidEntries:n,errorDescription:o});}});f.exports=l;},null);
__d('AdsPixelConversionDetailUtil',['AdsAccountStoreWrapper_DEPRECATED','AdsConversionPixelStatusUI','AdsPixelConversionTypes','AdsPixelStatus','AdsPixelStatusEnum','AdsPixelStore','getByPath'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getFiredConversions:function(i){return Object.keys(i).filter(function(j){return (this._getPixelStatus(i[j]).getStatus()!==c('AdsPixelStatusEnum').NEVER_ACTIVE);}.bind(this)).reduce(function(j,k){j[k]=i[k];return j;},{});},getActiveConversions:function(i){return Object.keys(i).filter(function(j){return (this._getPixelStatus(i[j]).getStatus()===c('AdsPixelStatusEnum').ACTIVE);}.bind(this)).reduce(function(j,k){j[k]=i[k];return j;},{});},hasTraffic:function(i){return Object.keys(i).some(function(j){var k=i[j],l=k.lastFiredTime,m=k.last_firing_time,n=k.last_fired_time;return !!l||!!m||!!n;});},getConversionDetails:function(i){if(i.type===c('AdsPixelConversionTypes').NEW){var j=c('AdsPixelStore').getPixelInfo(i.pixelID),k=c('getByPath')(j,['owner_ad_account','account_id']),l=c('AdsAccountStoreWrapper_DEPRECATED').getAccountID();return {businessID:c('getByPath')(j,['owner_business','id']),businessName:c('getByPath')(j,['owner_business','name']),isPixelOwner:k===l,pixelID:i.pixelID,pixelName:c('getByPath')(j,['name'])};}else return {pixelID:i.pixelID,pixelName:i.name};},getConversionStatusDescription:function(i){if(i.type===c('AdsPixelConversionTypes').NEW){var j=new (c('AdsPixelStatus'))(i.lastFiredTime);return j.getUserFacingStatus();}else return c('AdsConversionPixelStatusUI').getStatusUI(i).text;},_getPixelStatus:function(i){var j=i.lastFiredTime,k=i.last_firing_time,l=i.last_fired_time,m=j||k||l||'';return new (c('AdsPixelStatus'))(String(m));}};f.exports=h;},null);
__d('AdsPixelConversionItemFlyoutDetail.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsCurrencyFormatter','AdsCustomConversionRuleInfo.react','AdsCustomConversionsUtil','AdsPixelConversionStatusUtils','Layout.react','Link.react','React','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperators','XAdsManagerConversionTrackingController','XAdsManagerPixelsController','XUIGrayText.react','dotAccess','getByPath','intlList'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('WebsiteCustomAudienceModel').Operations,k=c('WebsiteCustomAudienceOperators').URLOperators,l=c('Layout.react').Column,m=c('React').PropTypes,n=c('React').createClass({displayName:'AdsPixelConversionItemFlyoutDetail',propTypes:{conversion:m.object.isRequired,eventName:m.string.isRequired,isFacebookPixel:m.bool.isRequired,conversionDetails:m.shape({businessID:m.string,businessName:m.string,isPixelOwner:m.bool,pixelName:m.string}),statusIcon:m.object,statusDescription:m.string.isRequired},render:function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{size:'medium',weight:'bold'},this.props.eventName),this._getDetails(),this._getRules(),this._getSources()));},_getDetails:function(){var o;if(this._shouldDisplayEventDescription()){o=this.props.conversion.description;}else o=c('React').createElement('div',null,this._getEventStatus(),this._getLastReceivedEvent(),this._getCategory(),this._getConversionValue());return (c('React').createElement('div',{className:"_64l"},c('React').createElement(c('XUIGrayText.react'),{className:"_2pie",display:'block',size:'small',weight:'bold'},i._("Details")),o));},_getRules:function(){if(!this._getIsCustomConversion())return null;return (c('React').createElement('div',{className:"_64l"},c('React').createElement(c('XUIGrayText.react'),{className:"_2pie",display:'block',size:'small',weight:'bold'},i._("Rules")),this._getRuleInfo()));},_getRuleInfo:function(){var o=this.props.conversion.pixel_rule;if(c('AdsCustomConversionsUtil').isEventBased(o))return c('React').createElement(c('AdsCustomConversionRuleInfo.react'),{pixelRule:o});var p=this._getRuleValues();return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',weight:'normal'},i._("Include traffic that meets the following conditions:")),c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium',weight:'bold'},i._("{rule type}",[i.param('rule type',p.ruleLabel)])),this._getTokenList(p.ruleTokens))));},_getTokenList:function(o){if(!o)return null;return c('intlList')(o,c('intlList').CONJUNCTIONS.OR);},_getRuleValues:function(){var o=null,p=null,q=this.props.conversion.pixel_rule,r=j.deserializeRule(q)||{},s=c('dotAccess')(r,'clauses')||[],t=s[0]||{};o=j.getOperatorLabel(k,c('dotAccess')(t,'filter'));p=c('dotAccess')(t,'tokens');return {ruleLabel:o,ruleTokens:p};},_getSources:function(){var o=c('getByPath')(this.props.conversionDetails,['pixelName']),p=this.props.conversion.pixelID||this.props.conversion.id;return (c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_2pie",display:'block',size:'small',weight:'bold'},i._("Sources")),c('React').createElement(c('Layout.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Pixel:")),c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",size:'small'},i._("{pixel name} ({pixel ID})",[i.param('pixel name',this._getPixelDetailLink(o)),i.param('pixel ID',p)]))),this._getSharedSource()));},_getSharedSource:function(){if(!this._isPixelShared())return null;return (c('React').createElement(c('Layout.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Shared by:")),c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",size:'small'},i._("{pixel's business name} ({pixel's business ID})",[i.param('pixel\'s business name',c('getByPath')(this.props.conversionDetails,['businessName'])),i.param('pixel\'s business ID',c('getByPath')(this.props.conversionDetails,['businessID']))]))));},_isPixelShared:function(){return (this.props.isFacebookPixel&&!c('getByPath')(this.props.conversionDetails,['isPixelOwner']));},_getIsCustomConversion:function(){return (c('AdsCustomConversionsUtil').getIsCustomConversion(this.props.conversion));},_getEventStatus:function(){return (c('React').createElement(c('Layout.react'),null,c('React').createElement(l,null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Status:"))),c('React').createElement(l,{className:"_5tzo"},this.props.statusIcon,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},this.props.statusDescription))));},_getPixelDetailLink:function(o){var p=this._getPixelLinkURI();return (c('React').createElement(c('Link.react'),{href:p,target:'_blank',onMouseDown:function(event){return event.preventDefault();}},o));},_getPixelLinkURI:function(){if(this.props.isFacebookPixel)return c('XAdsManagerPixelsController').getURIBuilder().setInt('act',c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).setInt('pixel_id',this.props.conversion.pixelID).getURI();return c('XAdsManagerConversionTrackingController').getURIBuilder().setInt('act',c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).getURI();},_getLastReceivedEvent:function(){var o=this._getLastReceivedSentence();if(!o)return null;return (c('React').createElement(c('Layout.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Last Event:")),c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",shade:'light',size:'small'},o)));},_getCategory:function(){if(this.props.isFacebookPixel&&!this._getIsCustomConversion())return null;var o=this._getIsCustomConversion()?this.props.conversion.category:this.props.conversion.value;return (c('React').createElement(c('Layout.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Category:")),c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",shade:'light',size:'small'},o)));},_getConversionValue:function(){if(!this._getIsCustomConversion())return null;return (c('React').createElement(c('Layout.react'),null,c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small'},i._("Conversion Value:")),c('React').createElement(c('XUIGrayText.react'),{className:"_2pir",shade:'light',size:'small'},this._getConversionCurrencyValue())));},_getConversionCurrencyValue:function(){return c('AdsCurrencyFormatter').formatCurrencyWithISO(c('AdsAccountStoreWrapper_DEPRECATED').getCurrency(),this.props.conversion.default_conversion_value);},_getLastReceivedSentence:function(){return (c('AdsPixelConversionStatusUtils').getStatusObjectFromConversion(this.props.conversion).getLastReceivedSentence());},_shouldDisplayEventDescription:function(){return !!(!this._getIsCustomConversion()&&this.props.conversion.description&&!this.props.conversion.lastFiredTime);}});f.exports=n;},null);
__d('AdsPixelSelector.react',['cx','fbt','AdsPixelConversionStatusUtils','AdsPixelSelectorOption.react','AdsPixelSelectorStoreWrapper','AdsPixelStatusUtils','AdsRichSelector.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('AdsRichSelector.react').Option,l=c('AdsRichSelector.react').Separator,m=c('React').createClass({displayName:'AdsPixelSelector',propTypes:{conversionPixels:j.object.isRequired,maxheight:j.number.isRequired,maxwidth:j.number.isRequired,onChange:j.func,selectedValue:j.string,size:j.string,unifiedPixels:j.object.isRequired},render:function(){if(!this._getShouldDisplaySelector())return null;var n=c('React').createElement('div',null);if(this._getHasPixel(this.props.unifiedPixels))n=this._getUnifiedPixelSelectorOptions().props.children;var o=c('React').createElement('div',null);if(this._getHasPixel(this.props.conversionPixels))o=this._getConversionPixelSelectorOptions().props.children;return (c('React').createElement(c('AdsRichSelector.react'),{defaultValue:this.props.selectedValue||'',key:'pixel_'+this.props.selectedValue,maxheight:this.props.maxheight,maxwidth:this.props.maxwidth,size:this.props.size,onChange:this._handleChange},this._getNoPixelOption(),n,o));},_getShouldDisplaySelector:function(){return c('AdsPixelSelectorStoreWrapper').getShouldDisplaySelector(this.props.unifiedPixels,this.props.conversionPixels);},_getHasPixel:function(n){return c('AdsPixelSelectorStoreWrapper').getHasPixel(n);},_getUnifiedPixelSelectorOptions:function(){var n=i._("Facebook Pixel"),o=this._getPixelSelectorOptionsForType(true,this.props.unifiedPixels);return (c('React').createElement('div',null,this._getPixelSeparator(n),o));},_getConversionPixelSelectorOptions:function(){var n=i._("Conversion Tracking Pixel"),o=this._getPixelSelectorOptionsForType(false,this.props.conversionPixels);return (c('React').createElement('div',null,this._getPixelSeparator(n),o));},_getPixelSelectorOptionsForType:function(n,o){var p=[];Object.keys(o).forEach(function(q){var r=o[q],s=c('AdsPixelConversionStatusUtils').getStatusFromConversion(r),t=c('AdsPixelStatusUtils').getUserFacingStatus(s),u=c('AdsPixelStatusUtils').getIcon(s);p.push(c('React').createElement(c('AdsPixelSelectorOption.react'),{icon:u,isFacebookPixel:n,key:r.id,label:r.name,pixel:r,statusDescription:t,value:r.id},c('React').createElement('div',{className:"_31wu"},c('React').createElement('div',{className:"_31wv ellipsis"},r.name),c('React').createElement('div',{className:"_31ww"},i._("ID: {Conversion tracking pixel ID}",[i.param('Conversion tracking pixel ID',r.id)])))));});return p;},_getPixelSeparator:function(n){return (c('React').createElement(l,{key:n,label:n}));},_getNoPixelOption:function(){var n;if(this.props.selectedValue){n=i._("No pixel selected");}else n=i._("Choose a pixel (optional)");return (c('React').createElement(k,{key:'default',label:n,value:''},n));},_handleChange:function(n){this.props.onChange&&this.props.onChange(n.value);}});f.exports=m;},null);
__d('AdsPixelCreateButton.react',['fbt','AdInterfacesUiLogger','AdsPixelDialogLazy.react','AdsPixelDialogTypes','AdsPixelStore','AdsPixelViewActions','FluxMixinLegacy','PixelCreationUIConstants','React','ReactComponentWithPureRenderMixin','ReactLayeredComponentMixin','XUIButton.react','XUIDialog.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsPixelCreateButton',contextTypes:{componentEnvironment:i.string.isRequired},mixins:[c('FluxMixinLegacy')([c('AdsPixelStore')]),c('ReactComponentWithPureRenderMixin'),c('ReactLayeredComponentMixin')],propTypes:{className:i.string,label:i.string,size:i.string.isRequired,use:i.string.isRequired},statics:{calculateState:function(){return {hasPixels:c('AdsPixelStore').hasPixels()};}},render:function(){return (c('React').createElement(c('XUIButton.react'),{className:this.props.className,label:this._getButtonLabel(),size:this.props.size,use:this.props.use,onClick:this._onCreatePixel}));},renderLayers:function(){return {dialog:c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,width:c('PixelCreationUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},this._getDialogBody())};},_getButtonLabel:function(){return (this.props.label?this.props.label:h._("Create a Pixel"));},_getDialogBody:function(){return c('React').createElement(c('AdsPixelDialogLazy.react'),null);},_onCreatePixel:function(){c('AdInterfacesUiLogger').log('ads_pixel_pixel_creation_dialog_open',{componentEnvironment:this.context.componentEnvironment});c('AdsPixelViewActions').startPixelCreate();c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').CREATE_PIXEL);},_onToggle:function(k){if(!k)this._onClose();},_onClose:function(){if(this.state.hasPixels)c('AdsPixelViewActions').endPixelNUX();c('AdsPixelViewActions').endPixelCreate();c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);}});f.exports=j;},null);
__d('AdsPixelCreationCard.react',['cx','fbt','ix','AdsPixelCreateButton.react','AdsPixelHelpCenter','Image.react','ImageBlock.react','React','ReactComponentWithPureRenderMixin','XUIGrayText.react','XUIText.react','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsPixelCreationCard',contextTypes:{getHelpLink:k.func.isRequired,isCampaignManager:k.func.isRequired},mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{className:k.string},render:function(){return (c('React').createElement('div',{className:"_2pie",horizontal:true},this._getPixelCreateDialog()));},_getPixelCreateDialog:function(){var m=c('joinClasses')("_23ne",this.props.className);return (c('React').createElement('div',{className:m},c('React').createElement(c('ImageBlock.react'),{className:"_23nf"},c('React').createElement(c('Image.react'),{src:j('/images/ads/pixel/icons/UP_Pixel_60.png')}),c('React').createElement('div',null,c('React').createElement(c('XUIGrayText.react'),{className:"_3-8m",display:'block',shade:'medium',size:'medium',weight:'bold'},i._("Facebook Pixel")),c('React').createElement(c('XUIGrayText.react'),{shade:'medium',size:'medium'},i._("You can now create one pixel for tracking, optimization and remarketing."),c('React').createElement('span',{className:"_3-99"},this._getHelpLink())),this._getPixelCreateButton()))));},_getHelpLink:function(){return this.context.getHelpLink(c('AdsPixelHelpCenter').GENERAL,this.context.isCampaignManager(),c('React').createElement(c('XUIText.react'),{size:'medium'},i._("Learn More")));},_getPixelCreateButton:function(){return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('AdsPixelCreateButton.react'),{className:"_23ng",size:'large',use:'confirm'})));}});f.exports=l;},null);
__d('AdsPixelHelpCenterLinkUtil',['AdsHelpTrayUIActions','Link.react','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getHelpLink:function(i,j,k){if(j)return (c('React').createElement(c('Link.react'),{onClick:function(event){return (c('AdsHelpTrayUIActions').pushCMSIDToHistory(i.cmsID));}},k));return (c('React').createElement(c('Link.react'),{href:i.uri,target:'_blank'},k));}};f.exports=h;},null);
__d('AdsPixelTrackingContextUtils',['AdsOffsiteConversionConstants','AdsPixelHelpCenterLinkUtil','React','getOwnObjectValues'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i={getContextTypes:function(){return {componentEnvironment:h.string,conversionPixelSelector:h.any.isRequired,getConversionInfoBoxContentForActivePixel:h.func,getHelpLink:h.func.isRequired,isCampaignManager:h.func.isRequired,legacyPixelSelectType:h.string.isRequired,maxheight:h.number,updateTrackingSpec:h.func.isRequired,onCreateConversionPixel:h.func,conversionPixelEmailSource:h.oneOf(c('getOwnObjectValues')(c('AdsOffsiteConversionConstants').emailSources))};},getDefaultContext:function(){return {getHelpLink:function(j,k,l){return (c('AdsPixelHelpCenterLinkUtil').getHelpLink(j,k,l));}};}};f.exports=i;},null);
__d('AdsPixelSelectorLoggerConstants',['ImmutableObject','keyMirror'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({BOOSTED_POST:null,BOOSTED_WEBSITE:null,CONVERSION_TRACKING_PIXEL:null,CUSTOM_AUDIENCE_PIXEL:null,DEFAULT_PIXEL_LOADED:null,NO_CONTEXT:null,PIXEL_SELECTION_CHANGED:null});f.exports=new (c('ImmutableObject'))(h);},null);
__d('AdsPixelSelectorLoggerContext',['AdsAPIObjectives','AdsPixelSelectorLoggerConstants','AdsPixelUIEnvironments','BoostedComponentAppID'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i,j){this.$AdsPixelSelectorLoggerContext1=i;this.$AdsPixelSelectorLoggerContext2=j;this.$AdsPixelSelectorLoggerContext3();}h.prototype.getEnvironment=function(){return this.$AdsPixelSelectorLoggerContext1;};h.prototype.getPixelContext=function(){return this.$AdsPixelSelectorLoggerContext2;};h.prototype.$AdsPixelSelectorLoggerContext3=function(){switch(this.$AdsPixelSelectorLoggerContext1){case c('AdsPixelUIEnvironments').CF:if(!(this.$AdsPixelSelectorLoggerContext2 in c('AdsAPIObjectives')))this.$AdsPixelSelectorLoggerContext2=c('AdsPixelSelectorLoggerConstants').NO_CONTEXT;break;case c('AdsPixelUIEnvironments').LWI:this.$AdsPixelSelectorLoggerContext4();break;default:this.$AdsPixelSelectorLoggerContext2=c('AdsPixelSelectorLoggerConstants').NO_CONTEXT;}};h.prototype.$AdsPixelSelectorLoggerContext4=function(){switch(this.$AdsPixelSelectorLoggerContext2){case c('BoostedComponentAppID').BOOSTED_POST:this.$AdsPixelSelectorLoggerContext2=c('AdsPixelSelectorLoggerConstants').BOOSTED_POST;break;case c('BoostedComponentAppID').BOOSTED_WEBSITE:this.$AdsPixelSelectorLoggerContext2=c('AdsPixelSelectorLoggerConstants').BOOSTED_WEBSITE;break;default:this.$AdsPixelSelectorLoggerContext2=c('AdsPixelSelectorLoggerConstants').NO_CONTEXT;}};f.exports=h;},null);
__d("XAdsConversionPixelSendingEmailDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/convtrack\/send_email\/",{pixel_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d("XAdsConversionPixelViewingCodeDialogController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/manage\/convtrack\/view_code\/",{pixel_id:{type:"Int",required:true},__asyncDialog:{type:"Int"}});},null);
__d('AdsPixelTrackingInfoBox.react',['cx','fbt','AdsPixelConversionStore','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelStatusEnum','AdsPixelStore','AdsPixelTrackingContextUtils','AdsPixelUtil','AdsPixelViewActions','FluxMixinLegacy','Link.react','React','ReactComponentWithPureRenderMixin','XAdsConversionPixelSendingEmailDialogController','XAdsConversionPixelViewingCodeDialogController','XUINotice.react','XUISpinner.react','joinClasses'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsPixelTrackingInfoBox',contextTypes:c('AdsPixelTrackingContextUtils').getContextTypes(),mixins:[c('FluxMixinLegacy')([c('AdsPixelConversionStore'),c('AdsPixelStore')],{withProps:true}),c('ReactComponentWithPureRenderMixin')],propTypes:{className:j.string,pixelID:j.string.isRequired},statics:{calculateState:function(l,m){var n=c('AdsPixelUtil').isUnifiedPixel(m.pixelID),o=!c('AdsPixelStore').isListLoaded(),p=c('AdsPixelUtil').getStatusObject(m.pixelID);return {isLoading:o,isUnified:n,status:p};}},render:function(){if(this.state.isLoading)return c('React').createElement(c('XUISpinner.react'),null);var l=this.state.status&&this.state.status.getStatus();if(l===c('AdsPixelStatusEnum').ACTIVE)return null;var m=this.state.isUnified?this._getUnifiedInfoBoxContent(l):this._getConversionInfoBoxContent(l);return (c('React').createElement('div',{className:this._getClassName()},c('React').createElement(c('XUINotice.react'),{className:"_1bji",size:'small'},m)));},_getClassName:function(){return c('joinClasses')(this.props.className,"_2e6y");},_renderPixelEmailDialog:function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_CODE);},_renderSetupConversionsDialog:function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').SETUP_CONVERSION);},_getUnifiedInfoBoxContent:function(l){switch(l){case c('AdsPixelStatusEnum').NEVER_ACTIVE:return i._("You don't have any conversions set up from your Facebook pixel yet. Once you set them up, all conversions from the pixel will be tracked by default. {Email} or {Set up Conversions} now.",[i.param('Email',this._getEmailLink()),i.param('Set up Conversions',this._getSetupConversionsLink())]);case c('AdsPixelStatusEnum').INACTIVE:return i._("We haven't received any events from this pixel in more than 7 days. Make sure the pixel is properly configured. {Get help}.",[i.param('Get help',this._getUnifiedHelpLink())]);default:return null;}},_getConversionInfoBoxContent:function(l){switch(l){case c('AdsPixelStatusEnum').NEVER_ACTIVE:return i._("Your Conversion Tracking pixel is not set up currently. Once you set it up, conversions will be tracked from this pixel by default. {Email} or {View Pixel Code} now.",[i.param('Email',this._getEmailPixelCode()),i.param('View Pixel Code',this._getViewPixelCode())]);case c('AdsPixelStatusEnum').INACTIVE:return i._("We haven't received any activity from this pixel in more than 7 days. Make sure the pixel is properly configured. {Get help}.",[i.param('Get help',this._getConversionHelpLink())]);default:return null;}},_getUnifiedHelpLink:function(){return this.context.getHelpLink(c('AdsPixelHelpCenter').INSTALL,this.context.isCampaignManager(),i._("Get help"));},_getConversionHelpLink:function(){return this.context.getHelpLink(c('AdsPixelHelpCenter').INSTALL_CONVERSION_PIXEL,this.context.isCampaignManager(),i._("Get help"));},_getEmailLink:function(){return (c('React').createElement(c('Link.react'),{onClick:this._renderPixelEmailDialog},i._("Email")));},_getSetupConversionsLink:function(){return (c('React').createElement(c('Link.react'),{onClick:this._renderSetupConversionsDialog},i._("set up conversions")));},_getEmailPixelCode:function(){var l=c('XAdsConversionPixelSendingEmailDialogController').getURIBuilder().setInt('pixel_id',this.props.pixelID).getURI();return (c('React').createElement(c('Link.react'),{className:"_4w_a",href:l,rel:'dialog'},i._("Email")));},_getViewPixelCode:function(){var l=c('XAdsConversionPixelViewingCodeDialogController').getURIBuilder().setInt('pixel_id',this.props.pixelID).getURI();return (c('React').createElement(c('Link.react'),{className:"_4w_a",href:l,rel:'dialog'},i._("View Pixel Code")));}});f.exports=k;},null);
__d('AdsPixelSelectorContainer.react',['cx','AdInterfacesUiLogger','AdsAccountStoreWrapper_DEPRECATED','AdsPixelNudgeConversionsInfoBox.react','AdsConversionPixelStore','AdsCreationExperimentStore','AdsGoalStore','AdsPixelConversionDetailUtil','AdsPixelConversionStore','AdsPixelTrackingContextUtils','AdsPixelTrackingSpecActionDispatcher','AdsPixelCreationCard.react','AdsPixelDefaultPixelStore','AdsPixelDialogLazy.react','AdsPixelSelector.react','AdsPixelSelectorLoggerConstants','AdsPixelSelectorLoggerContext','AdsPixelSelectorStoreWrapper','AdsPixelStore','AdsPixelTrackingInfoBox.react','AdsPixelTrackingStore','AdsPixelUIEnvironments','AdsPixelUtil','AdsTrackingPixelUtils','FluxMixinLegacy','React','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsPixelSelectorContainer',contextTypes:c('AdsPixelTrackingContextUtils').getContextTypes(),propTypes:{defaultPixelDomains:i.array,logContext:i.instanceOf(c('AdsPixelSelectorLoggerContext')).isRequired,onChange:i.func},mixins:[c('FluxMixinLegacy')([c('AdsConversionPixelStore'),c('AdsGoalStore'),c('AdsPixelConversionStore'),c('AdsPixelDefaultPixelStore'),c('AdsPixelStore'),c('AdsPixelTrackingStore')],{withProps:true})],getDefaultProps:function(){return {defaultPixelDomains:null};},statics:{calculateState:function(k,l){var m=c('AdsConversionPixelStore').getKeyedPixels(),n=c('AdsPixelStore').getPixels(),o=c('AdsPixelDefaultPixelStore').getDefaultPixelID(l.defaultPixelDomains),p=c('AdsPixelDefaultPixelStore').hasDefaultPixelLoaded(),q=c('AdsTrackingPixelUtils').getTrackingPixelIDsFromSpecs([c('AdsPixelTrackingStore').getTrackingSpec()]),r=c('AdsConversionPixelStore').isListLoaded(),s=c('AdsPixelStore').isListLoaded(),t=c('AdsPixelConversionStore').isAllConversionStatsReceived(),u=c('AdsGoalStore').isGoalListLoaded(),v=c('AdsGoalStore').getGoals(),w=false,x={};if(q){w=c('AdsPixelUtil').isUnifiedPixel(q);x=w?c('AdsPixelConversionStore').getConversionsByPixelID(q):c('AdsConversionPixelStore').getPixel(q);}var y=c('AdsCreationExperimentStore').getExperiment('pixel_optimization_upsell_dbp'),z=y&&y.getParamBool('is_pixel_upsell');return {conversionPixels:m,conversionValues:x,customConversions:v,defaultPixelID:o,defaultPixelLoaded:p,environment:c('AdsAccountStoreWrapper_DEPRECATED').getEnvironment(),isConversionPixelStoreLoaded:r,isGoalStoreLoaded:u,isInPixelUpsellExperiment:z,isPixelStoreLoaded:s,isPixelConversionStoreLoaded:t,isUnified:w,selectedValue:q,unifiedPixels:n};}},componentDidMount:function(){c('AdsPixelDefaultPixelStore').resetDefaultPixelState();},render:function(){if(!this._getIsLoaded())return null;var k=this._renderPixelDialog();return (c('React').createElement('div',null,c('React').createElement(c('AdsPixelSelector.react'),{conversionPixels:this.state.conversionPixels,maxheight:300,maxwidth:0,selectedValue:this._getSelectedPixelID()||undefined,size:'xlarge',unifiedPixels:this.state.unifiedPixels,onChange:this._handlePixelSelectionChange}),this._renderTrackingInfoBox(),this._renderActivePixelUpsellTrackingInfoBox(),this._renderPixelCreationCard(),k));},_renderPixelCreationCard:function(){if(this.props.logContext.getEnvironment()!==c('AdsPixelUIEnvironments').CF||c('AdsPixelSelectorStoreWrapper').getHasPixel(this.state.unifiedPixels))return null;return c('React').createElement(c('AdsPixelCreationCard.react'),null);},_renderTrackingInfoBox:function(){var k=this.state.selectedValue;if(!k)return null;return (c('React').createElement(c('AdsPixelTrackingInfoBox.react'),{className:c('joinClasses')("_3awi","_3-8y"),pixelID:k}));},_renderActivePixelUpsellTrackingInfoBox:function(){if(!this._shouldRenderActivePixelUpsell())return null;return (c('React').createElement(c('AdsPixelNudgeConversionsInfoBox.react'),{className:c('joinClasses')("_3awi","_3-8y"),pixelID:this.state.selectedValue}));},_renderPixelDialog:function(){return c('React').createElement(c('AdsPixelDialogLazy.react'),{pixelID:this.state.selectedValue});},_getSelectedPixelID:function(){if(this._getShouldSetDefaultPixelID()){this._logPixelSelectionChange(c('AdsPixelSelectorLoggerConstants').DEFAULT_PIXEL_LOADED,this.state.defaultPixelID);this._handlePixelSelectionChange(this.state.defaultPixelID);}return this.state.selectedValue;},_getShouldSetDefaultPixelID:function(){return (this.state.defaultPixelID!==null&&this.state.selectedValue===null);},_handlePixelSelectionChange:function(k){this._logPixelSelectionChange(c('AdsPixelSelectorLoggerConstants').PIXEL_SELECTION_CHANGED,k);if(this.props.onChange)this.props.onChange(k);c('AdsPixelTrackingSpecActionDispatcher').dispatchTrackingPixelUpdateAction(k,this.state.unifiedPixels,this.state.conversionPixels);},_logPixelSelectionChange:function(k,l){var m=this.props.logContext;if(!m)return;c('AdInterfacesUiLogger').log('AdsPixelSelector',{event:k,pixel_selector_context:m.getPixelContext(),'interface':m.getEnvironment(),pixel_id:l,pixel_type:this._getPixelTypeForLogging(l)});},_getPixelTypeForLogging:function(k){return (k in this.state.unifiedPixels?c('AdsPixelSelectorLoggerConstants').CUSTOM_AUDIENCE_PIXEL:c('AdsPixelSelectorLoggerConstants').CONVERSION_TRACKING_PIXEL);},_getIsLoaded:function(){return (this.state.defaultPixelLoaded&&this.state.isPixelConversionStoreLoaded&&this.state.isPixelStoreLoaded&&this.state.isConversionPixelStoreLoaded&&this.state.isGoalStoreLoaded);},_hasActiveConversions:function(k){if(!k)return false;var l={};if(this.state.isUnified){var m=Object.keys(this.state.customConversions).filter(function(o){return this.state.customConversions[o].pixelID===k;}.bind(this)).reduce(function(o,p){o[p]=this.state.customConversions[p];return o;}.bind(this),{});l=Object.assign({},this.state.conversionValues,m);}else if(this.state.conversionValues)l[k]=this.state.conversionValues;var n=c('AdsPixelConversionDetailUtil').getActiveConversions(l);return Object.keys(n).length>0;},_shouldRenderActivePixelUpsell:function(){return (this.state.isInPixelUpsellExperiment&&this.context.isCampaignManager()&&!!this.state.selectedValue&&this._hasActiveConversions(this.state.selectedValue));}});f.exports=j;},null);
__d('AdsAudienceSizeDisplay.react',['cx','fbt','React','XUIText.react','joinClasses','ads-lib-formatters'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),k=c('React').PropTypes,l=100,m=c('React').createClass({displayName:'AdsAudienceSizeDisplay',propTypes:{audienceSize:k.number.isRequired,className:k.string,size:k.oneOf(['medium','xlarge'])},getDefaultProps:function(){return {size:'xlarge'};},render:function(){return this.props.audienceSize>=l?this._renderAudienceSize():this._renderSmallAudience();},_renderAudienceSize:function(){return (c('React').createElement('div',{className:c('joinClasses')("_16qo",this.props.className)},i._({"*":"{estimated number of people, usually in the thousands} People"},[i.param('estimated number of people, usually in the thousands',c('React').createElement(c('XUIText.react'),{className:"_16qp"+(this.props.size==='xlarge'?' '+"_16qq":''),weight:'bold'},j(this.props.audienceSize)),[0,this.props.audienceSize])])));},_renderSmallAudience:function(){return (c('React').createElement('div',{className:c('joinClasses')("_16qr",this.props.className)},i._({"*":"Fewer than {a round number (currently 100)} people"},[i.param('a round number (currently 100)',j(l),[0,l])])));}});f.exports=m;},null);
__d('AdsReachEstimatePlatformConstant',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={NONE:0,FACEBOOK:1,INSTAGRAM:2};f.exports=h;},null);
__d('AdsReachEstimateBar.react',['ix','cx','fbt','AdsHelpLink.react','AdsEstimatesValidator','AdsReachEstimatePlatformConstant','Image.react','LeftRight.react','React','XUINotice.react','fbglyph','ads-lib-formatters'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),m=100,n=c('React').createClass({displayName:'AdsReachEstimateBar',propTypes:{estimateDAU:k.number.isRequired,explanationMessage:k.string,fillStyle:k.oneOf(['fixed','stretch']),glyphName:k.string,platform:k.number,reachBounds:k.shape({max:k.number.isRequired,min:k.number.isRequired}).isRequired},getDefaultProps:function(){return {fillStyle:'fixed',platform:c('AdsReachEstimatePlatformConstant').FACEBOOK};},render:function(){if(!c('AdsEstimatesValidator').areEstimatesAndDAUValid(this.props.reachBounds.min,this.props.reachBounds.max,this.props.estimateDAU))return this._renderErrorMsg();return (c('React').createElement('div',null,c('React').createElement('div',{className:'clearfix'},c('React').createElement(c('LeftRight.react'),null,this.renderReachEstimate(),this.props.platform===c('AdsReachEstimatePlatformConstant').NONE?this._renderAudienceSize():c('React').createElement('div',null))),this.renderBar(),this.renderFooter()));},renderBar:function(){var o=(this.props.fillStyle==='fixed'?"_3o8h":'')+(this.props.fillStyle==='stretch'?' '+"_26hs":'')+(' '+"clearfix"),p=(this.props.fillStyle==='fixed'?"_3o8i":'')+(this.props.fillStyle==='stretch'?' '+"_26ht":''),q={};if(this.props.fillStyle==='stretch'){q.width=10+this.getCenterPercent()+'%';}else q.marginLeft=this.getCenterPercent()+'%';return (c('React').createElement('div',{className:o},c('React').createElement('div',{className:p,style:q})));},getCenterPercent:function(){var o=(this.props.reachBounds.min+this.props.reachBounds.max)/2;if(o>0)o=Math.sqrt(o)*Math.log(o);var p=this.props.estimateDAU;if(p>0)p=Math.sqrt(p)*Math.log(p);var q=10,r=Math.min(o/p*100,98-q*.5);r-=q*.5;if(r<0)r=0;return Math.round(r);},getReachEstimateRangeString:function(o,p){return j._({"*":{"*":"{min reach} - {max reach} people {on platform}"}},[j.param('min reach',l(o),[0,o]),j.param('max reach',l(p),[0,p]),j.param('on platform',this._renderPlatformString())]);},renderReachEstimate:function(){if(this.props.estimateDAU<m)return (c('React').createElement('span',{className:"_kn_"},this.renderPlatformGlyph(),j._({"*":"Fewer than {a round number (currently 100)} people {on platform}"},[j.param('a round number (currently 100)',l(m),[0,m]),j.param('on platform',this._renderPlatformString())])));return (c('React').createElement('span',{className:"_kn_"},this.renderPlatformGlyph(),this.getReachEstimateRangeString(this.props.reachBounds.min,this.props.reachBounds.max)));},renderPlatformGlyph:function(){switch(this.props.platform){case c('AdsReachEstimatePlatformConstant').FACEBOOK:return (c('React').createElement(c('Image.react'),{className:"_3-90 _5lhp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/app-facebook_16_bluegray-40.png")}));case c('AdsReachEstimatePlatformConstant').INSTAGRAM:return (c('React').createElement(c('Image.react'),{className:"_3-90 _5lhp",src:h("\/images\/assets_DO_NOT_HARDCODE\/fb_glyphs\/app-instagram_16_bluegray-40.png")}));default:return null;}},renderFooter:function(){if(this.props.platform===c('AdsReachEstimatePlatformConstant').NONE)return c('React').createElement('div',null);return (c('React').createElement(c('LeftRight.react'),null,c('React').createElement('span',{className:"_3o8k"},j._("0")),this._renderAudienceSize()));},_renderAudienceSize:function(){var o=this.props.explanationMessage,p;if(o)p=c('React').createElement(c('AdsHelpLink.react'),{position:'left',width:300},o);return (c('React').createElement('span',{className:"_3o8l"},j._("of {audience size}",[j.param('audience size',l(Math.max(this.props.estimateDAU,m)))]),p));},_renderPlatformString:function(){switch(this.props.platform){case c('AdsReachEstimatePlatformConstant').FACEBOOK:return j._("on Facebook");case c('AdsReachEstimatePlatformConstant').INSTAGRAM:return j._("on Instagram");case c('AdsReachEstimatePlatformConstant').NONE:default:return null;}},_renderErrorMsg:function(){return (c('React').createElement(c('XUINotice.react'),{use:'notify'},j._("Estimated reach is unavailable.")));}});f.exports=n;},null);
__d('AdsReachEstimateStrings',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={ESTIMATE_FACEBOOK_DAU_EXPLANATION:h._("This is the total number of people in your selected audience who are active on Facebook each day."),ESTIMATE_INSTAGRAM_DAU_EXPLANATION:h._("The potential reach is an estimation based on an approximation of the audience eligible to see your ads on Instagram and several other factors.")};f.exports=i;},null);
__d('AdsLocationSearchSource',['Promise','AbstractSearchSource','AdsCreationConfig','AdsDaoGraph','AdInterfacesUiLogger','AdsTargetingLocationDataTransformer','AdsTargetingLocationLoggingEvents','AdsTargetingLocationUtils','CurrentLocale','LocationConstants','SearchableEntry','Set','debounce','nullthrows','uki-fb-view-typeahead-util'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('uki-fb-view-typeahead-util').Util,k=200,l=c('AdsCreationConfig').geoLocationTypeaheadMinLength,m=10,n=50,o,p=[],q=[],r=[];function s(z,aa){var ba=[],ca=z.slice();while(ca.length>0)ba.push(ca.splice(0,aa));return ba;}var t=c('debounce')(function(z,aa){var ba=c('AdsDaoGraph').primedForLocale(c('CurrentLocale').get());ba.fetch.geolocation.one(aa,z);},k);function u(z,aa){z=j.tokenize(z).join(' ');for(var ba=0;ba<aa.length;ba++)if(j.tokenize(aa[ba].text||aa[ba].name).join(' ')==z)return aa[ba];return aa[0];}function v(z,aa){var ba=aa.allowedCountryList,ca=aa.disallowedCountryList,da=aa.disallowedLocationTypes,ea=babelHelpers['extends']({q:z,limit:m,place_fallback:true},{});if(ba&&ba.length>0)ea.allowed_countries=ba;if(ca&&ca.length>0)ea.disallowed_countries=ca;if(da&&da.size>0)ea.location_types=c('LocationConstants').locationTypes.filter(function(fa){return !c('nullthrows')(da).has(fa);}).map(c('LocationConstants').getSingularLocationType);return ea;}function w(z,aa,ba,ca){var da=c('AdsDaoGraph').primedForLocale(c('CurrentLocale').get()),ea=v(z,ba);da.fetch.geolocation.one(function(fa){if(fa&&fa.length){var ga=u(z,fa);ga.type=aa;p.push(ga);}else q.push(z);ca();},babelHelpers['extends']({},ea,{location_types:[c('LocationConstants').getSingularLocationType(aa)],handleError:function(){q.push(z);ca();}}));}function x(z,aa){var ba=z.map(function(ca){var da=ca.indexOf(':');if(da===-1){return 'US:'+ca;}else return ca.substring(0,da).toUpperCase()+ca.substring(da);});c('AdsDaoGraph').fetch.adGeoLocationMetaInfo.one(function(ca){var da=ca.zips||[];ba.forEach(function(ea,fa){if(ea in da){var ga=da[ea];ga.name=ga.name.split(', ')[0];ga.type=c('LocationConstants').ZIPS;p.push(ga);}else q.push(z[fa]);});aa();},{zips:ba,locale:c('CurrentLocale').get(),handleError:function(){q=z;aa();}});}h=babelHelpers.inherits(y,c('AbstractSearchSource'));i=h&&h.prototype;y.getInstance=function(){if(!o)o=new y();return o;};function y(){i.constructor.call(this);if(o)return o;}y.prototype.onValidateProgress=function(z){this.$AdsLocationSearchSource1=z;};y.prototype.reportProgress=function(z){this.$AdsLocationSearchSource1&&this.$AdsLocationSearchSource1(z);};y.prototype.validate=function(z,aa,ba,ca){var da=function(){var ja=p.map(function(ka){return c('AdsTargetingLocationDataTransformer').searchDataToDataStore(ka,!!ca.countryAsObject);});ba(ja,q);};p=[];q=[];var ea=c('LocationConstants').BULK_INUT_GEO_MARKET_INPUT_FORMAT;if(aa===c('LocationConstants').ZIPS){x(z,da);}else if(aa===c('LocationConstants').CUSTOM_LOCATIONS){this.validateCustomLocations(z,da);}else if(aa===c('LocationConstants').GEO_MARKETS&&ca.geoMarketInputFormat===ea.CODE){this.$AdsLocationSearchSource2(z,da);}else{p=[];q=[];var fa=s(z,n),ga=fa.length,ha=0,ia=function(){this.reportProgress(ha/ga);var ja=fa.shift();if(ja){this.validateChunk(ja,aa,ia,ca);ha++;}else da();}.bind(this);ia();}};y.prototype.validateChunk=function(z,aa,ba,ca){var da=z.map(function(ea){return new (c('Promise'))(function(fa,ga){w(ea,aa,ca,fa);});});c('Promise').all(da).done(ba);};y.prototype.$AdsLocationSearchSource2=function(z,aa){c('AdsDaoGraph').fetch.adGeoLocationMetaInfo.one(function(ba){var ca=ba[c('LocationConstants').GEO_MARKETS]||{};z.forEach(function(da){if(da in ca){var ea=ca[da];ea.type=c('LocationConstants').GEO_MARKETS;p.push(ea);}else q.push(da);});aa();},{geo_markets:z,locale:c('CurrentLocale').get(),handleError:function(){q=z;aa();}});};y.prototype.validateCustomLocations=function(z,aa){var ba=z.map(function(ca){return new (c('Promise'))(function(da,ea){this.validateAddress(ca,function(fa,ga,ha){if(fa||!ga){q.push(ca);}else p.push(c('AdsTargetingLocationDataTransformer').geoCoderDataToSearchData(ha));da();});}.bind(this));}.bind(this));c('Promise').all(ba).done(function(){return aa(p,q);});};y.prototype.validateAddress=function(z,aa){c('AdsDaoGraph').fetch.geocoder.one(function(ba){var ca=ba[0];if(!ca||ca&&ca.confirmed===false){aa(null,false);}else aa(null,true,ca);},{locale:c('CurrentLocale').get(),address:z,confirm:1,handleError:function(ba,ca){var da=ca&&ca.error?ca.error:new Error('unknown error');aa(da,false);}});};y.prototype.searchImpl=function(z,aa,ba){if(z.length<=l)aa([],z);ba=ba||{};t(v(z,ba),this.$AdsLocationSearchSource3.bind(this,z,aa,ba));};y.prototype.$AdsLocationSearchSource3=function(z,aa,ba,ca){if(z.length<=l)return;ca.forEach(function(ha){ha.type=c('LocationConstants').getPluralLocationType(ha.type);});var da=[];if(!ca||!ca.length)c('AdInterfacesUiLogger').log(c('AdsTargetingLocationLoggingEvents').GEO_LOCATION_NO_MATCH,{query:z});var ea=ba.disallowedLocationTypes||new (c('Set'))(),fa={};ca.map(function(ha,ia){if(!fa[ha.key]){fa[ha.key]=true;var ja=ea.has(ha.type);if(ja)return;var ka=ba.bulkInputEntry?c('AdsTargetingLocationUtils').getLocationFullName(ha):ha.name,la=new (c('SearchableEntry'))({uniqueID:ha.key,title:ka,type:ha.type,order:ia,auxiliaryData:babelHelpers['extends']({matchedText:z},ha)});da.push(la);}});r=ca;if(da.length===0&&!ea.has(c('LocationConstants').CUSTOM_LOCATIONS)){var ga=new (c('SearchableEntry'))({uniqueID:z,title:z,type:c('LocationConstants').CUSTOM_LOCATIONS,auxiliaryData:{matchedText:z,type:c('LocationConstants').CUSTOM_LOCATIONS,showSearchLabel:true,key:z,name:z}});da.push(ga);}aa(da,z);};y.prototype.getCurrentRawResult=function(){return r;};f.exports=y;},null);
__d('AdsLocationTypeTranslationHelper',['fbt','LocationConstants'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){switch(j){case c('LocationConstants').COUNTRIES:return h._("Country");case c('LocationConstants').REGIONS:return h._("State");case c('LocationConstants').GEO_MARKETS:return h._("Market");case c('LocationConstants').CITIES:return h._("City");case c('LocationConstants').ELECTORAL_DISTRICTS:return h._("Congressional District");case c('LocationConstants').ZIPS:return h._("Zip\/Postal Code");case c('LocationConstants').CUSTOM_LOCATIONS:return h._("Address");case c('LocationConstants').PLACES:return h._("Place");}}g.translatedLocationType=i;},null);
__d('AdsLocationValidationHelpers',['LocationConstants'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/^\d+(-\d+)?\s+\d*\D/i;function i(m){return h.test(m);}function j(m,n){var o=m.getAuxiliaryData(),p=o&&o.type;if(p===c('LocationConstants').GEO_MARKETS&&n){return false;}else return true;}function k(m,n){return m.map(function(o){var p=o.getType(),q=o.getTitle(),r=o.getAuxiliaryData(),s={};switch(p){case c('LocationConstants').COUNTRIES:s={zipcode:'',city:'',region:'',country:q,country_code:r.key};break;case c('LocationConstants').REGIONS:s={zipcode:'',city:'',region:q,region_id:r.key,country:n[r.country_code]};break;case c('LocationConstants').CITIES:var t=q.split(',');s={zipcode:'',city:t[0],region:r.region||'',region_id:r.region_id,country:n[r.country_code]};break;case c('LocationConstants').CUSTOM_LOCATIONS:s={zipcode:'',city:'',region:'',country:n[r.country_code]};break;case c('LocationConstants').GEO_MARKETS:s={zipcode:'',city:'',region:'',country:n[r.country_code]};break;case c('LocationConstants').ZIPS:var u=r.key.split(':');s={zipcode:u[u.length-1],city:r.primary_city||'',region:r.region||'',region_id:r.region_id,country:n[r.country_code]};break;}s.country_code=s.country_code||r.country_code;s.category=p;s.entry=o;return s;});}function l(m,n){var o=k(m,n),p={},q={};o.map(function(y){var z=y.category,aa=y.entry;switch(z){case c('LocationConstants').COUNTRIES:p[y.country_code]=aa;break;case c('LocationConstants').REGIONS:q[y.region_id]=aa;}});var r,s=[];for(var t=0;t<o.length;t++){var u=o[t],v=u.entry,w=p[u.country_code],x=q[u.region_id];if(w&&w!==v){r=r?r:w;s.push(v);}else if(x&&x!==v){r=r?r:x;s.push(v);}}return {invalidEntry:r,subsetEntries:s};}g.isValidEntry=j;g.looksLikeAddress=i;g.normalizeEntriesAsLocationInfo=k;g.determineInvalidEntry=l;},null);
__d('AdsLocationTypeaheadEntriesView.react',['cx','fbt','AdInterfacesUiLogger','AdsTargetingLocationLoggingEvents','AdsLocationValidationHelpers','AdsLocationTypeTranslationHelper','Grid.react','LocationConstants','React','ScrollableArea.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('Grid.react').GridItem,l=10,m=250,n=467,o=[],p=c('React').createClass({displayName:'AdsLocationTypeaheadEntriesView',propTypes:{highlightedEntry:j.object,entries:j.array.isRequired,onSelect:j.func.isRequired,onHighlight:j.func,width:j.number},getDefaultProps:function(){return {width:n};},render:function(){var s=this.props.entries,t=[],u=[];s.forEach(function(x){if(c('AdsLocationValidationHelpers').isValidEntry(x,true)){t.push(x);}else u.push(x);},this);if(s&&s.length){var v=t.map(this._renderRow,this),w=s.length>l?m:null;return (c('React').createElement('div',null,c('React').createElement('ul',{className:"_5gs5",style:{width:this.props.width}},c('React').createElement(c('ScrollableArea.react'),{height:w},v,c('React').createElement(q,{countries:this.props.countries,invalidEntries:u,validEntries:t})))));}return c('React').createElement('ul',{className:"_5d5w"});},_renderRow:function(s){if(s.getUniqueID()==='-1')return (c('React').createElement('li',{className:"_5d5x",key:'no_match_found'},c('React').createElement('div',{className:"fwb"},i._("No Matches Found")),c('React').createElement('div',{className:"_5lp8"},i._("Check your spelling, formatting or enter another location"))));return (c('React').createElement(r,{countries:this.props.countries,entry:s,highlighted:s===this.props.highlightedEntry&&s.getAuxiliaryData()!==null,key:s.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}}),q=c('React').createClass({displayName:'InvalidEntriesView',render:function(){var s=this.props.invalidEntries.map(this._renderRow,this);if(s.length){var t=this.props.invalidEntries.map(function(u){return u.getTitle();});if(t.sort().join()!==o.sort().join()){c('AdInterfacesUiLogger').log(c('AdsTargetingLocationLoggingEvents').GEO_LOCATION_UNSUPPORTED,{unsupported_locations:t});o=t;}if(s.length===1){return (c('React').createElement('div',{className:"_59fy"},c('React').createElement('div',{className:"_5i39"},c('React').createElement('div',{className:"_5i3a"},i._("Cannot Target The Following Location")),i._("This location isn't available to target. Try choosing another location.")),s));}else return (c('React').createElement('div',{className:"_59fy"},c('React').createElement('div',{className:"_5i39"},c('React').createElement('div',{className:"_5i3a"},i._("Cannot Target The Following Locations")),i._("These locations aren't available to target. Try choosing another location.")),s));}return c('React').createElement('div',null);},_renderRow:function(s){return (c('React').createElement(r,{countries:this.props.countries,entry:s,highlighted:s===this.props.highlightedEntry&&s.getAuxiliaryData()!==null,key:s.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}}),r=c('React').createClass({displayName:'EntryRowView',render:function(){var s="_5d5x"+(this.props.highlighted?' '+"_2avc":'');return (c('React').createElement('li',{className:s,key:this.props.entry.getUniqueID(),onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},this._getTypeaheadText(this.props.entry)));},_getTypeaheadText:function(s){var t=this._getText(s),u=!c('AdsLocationValidationHelpers').isValidEntry(s,true)?"_5ibt":'',v=0,w=0,x=t.toLowerCase().indexOf(s.getAuxiliaryData().matchedText.toLowerCase());if(x>=0){v=x;w=x+s.getAuxiliaryData().matchedText.length;}var y=t.substring(0,v),z=t.substring(v,w),aa=t.substring(w);return (c('React').createElement(c('Grid.react'),{className:u,cols:2,fixed:true},c('React').createElement(k,{className:"_4ou2"},y,c('React').createElement('span',{className:"_5d5z"},z),aa),c('React').createElement(k,{className:"_5wup"},c('AdsLocationTypeTranslationHelper').translatedLocationType(s.getType()))));},_getText:function(s){var t=s.getTitle(),u=s.getAuxiliaryData(),v=this.props.countries;switch(s.getType()){case c('LocationConstants').REGIONS:t+=', '+v[u.country_code];return t;case c('LocationConstants').CITIES:t+=u.region?', '+u.region:'';t+=', '+v[u.country_code];return t;case c('LocationConstants').ZIPS:if(u.primary_city)t+=', '+u.primary_city;if(u.region)t+=', '+u.region;t+=', '+v[u.country_code];return t;default:return t;}},_onMouseDown:function(s){if(this.props.entry.getUniqueID()!=='-1')this.props.onSelect&&this.props.onSelect(this.props.entry,s);},_onMouseEnter:function(){if(this.props.entry.getUniqueID()!=='-1')this.props.onHighlight&&this.props.onHighlight(this.props.entry);}});f.exports=p;},null);
__d('AdsLocationTypeaheadPresenter',['XUITokenizerToken.react','AdsLocationTypeaheadEntriesView.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=50,i={ViewRenderer:c('AdsLocationTypeaheadEntriesView.react'),TokenRenderer:c('XUITokenizerToken.react'),useLayer:true,maxEntries:h};f.exports=i;},null);
__d('AdsLocationTokenizer.react',['cx','emptyFunction','React','AbstractTokenizer.react','AdsLocationSearchSource','AdsLocationTypeaheadPresenter','AdsLocationValidationDialog.react','AdsLocationValidationHelpers'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsLocationTokenizer',propTypes:{entries:i.array.isRequired,countries:i.object.isRequired,onChange:i.func,searchSource:i.object,searchSourceOptions:i.object},getInitialState:function(){return {entries:this.props.entries};},render:function(){var k=this.props.searchSource;if(!k)k=c('AdsLocationSearchSource').getInstance();var l={},m={},n="_59_m"+(' '+"_557c")+(this.props.smallInput?' '+"_p63":''),o=c('AdsLocationTypeaheadPresenter');o.extraRendererProps={countries:this.props.countries};return (c('React').createElement('div',{className:n},c('React').createElement(c('AdsLocationValidationDialog.react'),{addEntry:this.onAddEntryAttempt,currentEntries:this.state.entries,entriesRadius:l,exclusionEntries:m,ref:'validationDialog',removeEntry:this.onRemoveEntryAttempt,updateExclusion:c('emptyFunction'),updateRadius:c('emptyFunction')}),c('React').createElement(c('AbstractTokenizer.react'),{className:"_59_n",countries:this.props.countries,entries:this.props.entries,presenter:o,ref:'tokenizer',searchSource:k,searchSourceOptions:this.props.searchSourceOptions,onAddEntryAttempt:this.onAddEntryAttempt,onRemoveEntryAttempt:this.onRemoveEntryAttempt})));},onAddEntryAttempt:function(k){if(!k||!c('AdsLocationValidationHelpers').isValidEntry(k,true))return;var l=k.getUniqueID(),m=this.state.entries,n=m.some(function(s){return s.getUniqueID()===l;});if(n)return;var o=m.slice();o.push(k);var p=c('AdsLocationValidationHelpers').determineInvalidEntry(o,this.props.countries),q=p.invalidEntry;if(q){var r=this.refs.validationDialog;if(q===k){r.setInfo(k,p.subsetEntries);r.show();}else{r.setInfo(k,[q]);r.show();}return;}m.push(k);this.setState({entries:m});this.refs.tokenizer.setState({queryString:''});this.notifyChange();},onRemoveEntryAttempt:function(k){var l=this.state.entries,m=l.indexOf(k);if(m==-1)return;l.splice(m,1);this.setState({entries:l});this.notifyChange();},notifyChange:function(){if(this.props.onChange)this.props.onChange(this.state.entries.slice());}});f.exports=j;},null);
__d('MultiImageSelectorConstants',['AdsCreationExperimentStore'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('AdsCreationExperimentStore').getExperiment('ads_creation_image_panel_new_design_experiment'),i=parseInt(h.getParam('num_images')||6,10),j={MAX_NUMBER_OF_IMAGES:i,SHOW_BUDGET_RECOMMENDATION:i>6,SHOW_BUDGET_RECOMMENDATION_THRESHOLD:9};f.exports=j;},null);
__d('AdsCFCreativeImagePanelAction.react',['cx','React','XUIButton.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsCFCreativeImagePanelAction',propTypes:{label:i.oneOfType([i.string,i.object]).isRequired,className:i.string,disabled:i.bool,fileInputNodeID:i.string,hide:i.bool,iconHeight:i.number,iconWidth:i.number,iconSrc:i.object,onClick:i.func,onUploadEnd:i.func,onUploadStart:i.func,size:i.oneOf(['small','medium','large','xlarge','xxlarge'])},getDefaultProps:function(){return {disabled:false,size:'xlarge'};},render:function(){var k=this.props.label,l=this.props.disabled,m=l?null:this.props.onClick,n=this.props.fileInputNodeID||'',o=c('joinClasses')(this.props.className,"_5y_t"+(l?' '+"_5y_u":'')),p=this.props['aria-label'],q='tooltip',r,s,t;if(n){r=c('React').createElement('span',{'aria-label':p,className:"_5y_v",'data-hover':q,onClick:m});m=null;}else{s=p;t=q;}if(this.props.hide)return (c('React').createElement('label',{className:o,htmlFor:l?'':n},r,this.props.children));return (c('React').createElement('label',{className:o,htmlFor:l?'':n},r,this.props.children,c('React').createElement(c('XUIButton.react'),{'aria-label':s,'data-hover':t,disabled:l,label:k,size:this.props.size,onClick:m})));}});f.exports=j;},null);
__d('AdsCFCreativeImagePanelUploaderAction.react',['cx','fbt','ix','AdsCFCreativeImagePanelAction.react','AdsImageUploader','DOM','MultiImageSelectorConstants','React','ReactDOM','SubscriptionsHandler','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('AdsImageUploader').AdsImageUploader,l=c('AdsImageUploader').AdsImageUploaderConstants,m=c('React').PropTypes,n=c('MultiImageSelectorConstants').MAX_NUMBER_OF_IMAGES,o=c('React').createClass({displayName:'AdsCFCreativeImagePanelUploaderAction',propTypes:{accountID:m.string.isRequired,multiple:m.bool,hide:m.bool,imageSpec:m.shape({minWarningWidth:m.number.isRequired,minWarningHeight:m.number.isRequired}),onUploadClick:m.func,onUploadEnd:m.func,onUploadStart:m.func,postponeDestroyUploader:m.bool,validateImageFormat:m.bool,validateImageSize:m.bool},getDefaultProps:function(){return {hide:false,onUploadClick:c('emptyFunction'),onUploadStart:c('emptyFunction'),onUploadEnd:c('emptyFunction'),postponeDestroyUploader:false};},componentDidMount:function(){this._uploaderDataList=[this._createUploaderData()];},componentWillUnmount:function(){this._uploaderDataList.forEach(this._cleanUploaderData,this);delete this._uploaderDataList;},render:function(){var p=j('/images/ads/createflow/creative/icon-upload.png'),q=this.props.disabled,r,s=i._("Upload");if(this.props.multiple){r=q?i._({"*":"You've selected the maximum of {max_count} images. You can remove some images if you want to upload more."},[i.param('max_count',n,[0])]):i._("Upload new images for your ads.");}else r=i._("Upload a new image for your ads.");var t="_5yya"+(q?' '+"hidden_elem":'');return (c('React').createElement(c('AdsCFCreativeImagePanelAction.react'),babelHelpers['extends']({},this.props,{'data-tooltip-content':r,hide:this.props.hide,iconSrc:p,label:s,offset:this.props.offset,size:this.props.size,onClick:this.props.onUploadClick}),c('React').createElement('div',{className:t,ref:'uploaders'})));},_onUploadStart:function(p,q,r){p.input.removeAttribute('id');p.element.className='hidden_elem';p.filesCount=r.length;this._uploaderDataList.push(this._createUploaderData());this.props.onUploadStart(r);},_onUploadEnd:function(p,q,r){this.props.onUploadEnd(r);this._destroyUploaderData(p);},_createUploaderData:function(){var p={},q=c('DOM').create('span',{className:l.UPLOAD_ELEMENT});c('ReactDOM').findDOMNode(this.refs.uploaders).appendChild(q);var r=new k(q,{accountId:this.props.accountID,imageSpec:this.props.imageSpec,multiple:this.props.multiple,validateImageSize:this.props.validateImageSize,validateImageFormat:this.props.validateImageFormat}),s=q.getElementsByTagName('input')[0];s.id=this.props.fileInputNodeID;var t=new (c('SubscriptionsHandler'))();t.addSubscriptions(r.subscribe('onUploadStarted',this._onUploadStart.bind(this,p)),r.subscribe('onUploadEnded',this._onUploadEnd.bind(this,p)));p.filesCount=0;p.uploader=r;p.input=s;p.element=q;p.subscriptions=t;return p;},_cleanUploaderData:function(p){if(this.props.postponeDestroyUploader)return;this._destroyUploaderData(p);},_destroyUploaderData:function(p){if(p.uploader){delete p.uploader;p.subscriptions.release();delete p.subscriptions;c('DOM').remove(p.element);delete p.input;delete p.element;}}});f.exports=o;},null);
__d('AdsInstagramMediaActions',['AdsActionTypes','AdsDispatcher','Map'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={mediaLoaded:function(i){c('AdsDispatcher').handleUpdateFromServerResponse({specs:i,type:c('AdsActionTypes').INSTAGRAM_MEDIA.LOADED});},mediaLoadError:function(i){c('AdsDispatcher').handleUpdateFromServerResponse({errors:i,type:c('AdsActionTypes').INSTAGRAM_MEDIA.LOAD_ERROR});}};f.exports=h;},null);
__d('PageImageListActions',['AdsActionTypes','AdsDispatcher'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={imageListLoaded:function(i,j,k){c('AdsDispatcher').handleUpdateFromServerResponse({data:{pageID:i,imageList:j,loadNextPage:k},type:c('AdsActionTypes').PAGE_IMAGE_LIST.IMAGES_LOADED});},imagesEndReached:function(i){c('AdsDispatcher').handleUpdateFromViewAction({data:{pageID:i},type:c('AdsActionTypes').PAGE_IMAGE_LIST.IMAGES_END_REACHED});}};f.exports=h;},null);
__d('AdsInstagramMediaDataManager',['AdsBaseDataManager','AdsGraphAPI','AdsInstagramMediaActions','Map'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AdsBaseDataManager'));i=h&&h.prototype;j.prototype.loadAll=function(k){k.forEach(function(l){return this.load(l);}.bind(this));};j.prototype.load=function(k){c('AdsGraphAPI').getWithGeneralMigration().object('instagram_object',k).batched().get({fields:['content_type','display_url','owner_instagram_user','video_url']}).done(function(l){return this.__handleSuccess(['load'],k,null,l);}.bind(this),function(l){return this.__handleError(['load'],k,null,l);}.bind(this));};j.prototype.__onBatchLoaded=function(k){c('AdsInstagramMediaActions').mediaLoaded(k);};j.prototype.__onBatchLoadError=function(k){c('AdsInstagramMediaActions').mediaLoadError(k);};function j(){h.apply(this,arguments);}f.exports=new j();},null);
__d('PageImageListDataManager',['AdsGraphAPI','AdsImageLegacy','PageImageListActions'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.load=function(i){var j={fields:['height','width','source','picture'],type:'uploaded'};c('AdsGraphAPI').getWithGeneralMigration().object('page',i).edge('photos').get(j).done(function(k){var l=k.next?k.next.bind(k):null;c('PageImageListActions').imageListLoaded(i,this.$PageImageListDataManager1(k.data),l);}.bind(this));};h.prototype.loadNextPage=function(i,j){j().done(function(k){var l=k.next?k.next.bind(k):null;c('PageImageListActions').imageListLoaded(i,this.$PageImageListDataManager1(k.data),l);}.bind(this));};h.prototype.$PageImageListDataManager1=function(i){return i.map(function(j){return new (c('AdsImageLegacy'))({height:j.height,url:j.source,url_128:j.picture,width:j.width});});};function h(){}f.exports=new h();},null);
__d('AdsInstagramMediaStore',['AdsActionTypes','AdsBaseDataStore','AdsInstagramMediaDataManager','AdsLoadState'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsInstagramMediaDataManager');};j.prototype.__onDispatch=function(k){var l=k.action;switch(l.type){case c('AdsActionTypes').INSTAGRAM_MEDIA.LOADED:this.__handleData(l.specs,c('AdsLoadState').LOADED);break;case c('AdsActionTypes').INSTAGRAM_MEDIA.LOAD_ERROR:this.__handleData(l.errors,c('AdsLoadState').ERROR);break;}};function j(){h.apply(this,arguments);}f.exports=new j();},null);
__d('FluxDerivedStore',['FluxStore','immutable','Set','abstractMethod'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$FluxDerivedStore1=c('immutable').Map();this.$FluxDerivedStore2=this.__getStores();this.$FluxDerivedStore3=this.$FluxDerivedStore2.map(function(l){return l.getDispatchToken();});}j.prototype.__onDispatch=function(k){this.getDispatcher().waitFor(this.$FluxDerivedStore3);if(this.$FluxDerivedStore2.some(function(l){return l.hasChanged();}))this.__emitChange();};j.prototype.__getStores=function(){return c('abstractMethod')('FluxDerivedStore','__getStores');};j.prototype.__getData=function(k,l){return c('abstractMethod')('FluxDerivedStore','__getData');};j.prototype.__computeResult=function(k,l){return c('abstractMethod')('FluxDerivedStore','__computeResult');};j.prototype.__areEqual=function(k,l){return k===l;};j.prototype.get=function(k){var l=this.$FluxDerivedStore1.getIn([k,'data']),m=this.__getData(k,l);if(!l||!this.__areEqual(l,m)){var n=this.__computeResult(k,m);this.$FluxDerivedStore1=this.$FluxDerivedStore1.withMutations(function(o){o.setIn([k,'data'],m);o.setIn([k,'result'],n);});}return this.$FluxDerivedStore1.getIn([k,'result']);};j.prototype.getAll=function(k,l){var m=new (c('Set'))(k),n=l||c('immutable').Map();return n.withMutations(function(o){n.forEach(function(p,q){if(!m.has(q))o['delete'](q);});m.forEach(function(p){o.set(p,this.get(p));}.bind(this));}.bind(this));};f.exports=j;},null);
__d('PageImageListStore',['AdsActionTypes','AdsDispatcher','FluxLoadObjectStore','immutable','LoadObject','PageImageListDataManager'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsActionTypes').PAGE_IMAGE_LIST.IMAGES_LOADED:return this.$PageImageListStore1(k,m.data);case c('AdsActionTypes').PAGE_IMAGE_LIST.IMAGES_END_REACHED:return this.$PageImageListStore2(k,m.data);default:return k;}};j.prototype.$PageImageListStore3=function(k,l){var m=k.get(l)||c('LoadObject').empty(),n=m.getValue()||{},o=n.imageList||[],p=n.loadNextPage;return {imageList:o,loadNextPage:p};};j.prototype.$PageImageListStore2=function(k,l){var m=l.pageID,n=this.$PageImageListStore3(k,m),o=n.imageList,p=n.loadNextPage;if(p){var q=c('LoadObject').empty();q=q.setValue({imageList:o,loadNextPage:undefined}).updating();k=k.set(m,q);this.$PageImageListStore4(m,p);}return k;};j.prototype.$PageImageListStore1=function(k,l){var m=l.pageID,n=l.imageList,o=l.loadNextPage,p=this.$PageImageListStore3(k,m).imageList;n=p.concat(n);var q=c('LoadObject').empty();q=q.setValue({imageList:n,loadNextPage:o}).done();k=k.set(m,q);return k;};j.prototype.$PageImageListStore4=function(k,l){c('PageImageListDataManager').loadNextPage(k,l);};j.prototype.__load=function(k){c('PageImageListDataManager').load(k);};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));},null);
__d('PageImageListPagingStore',['AdsDispatcher','FluxDerivedStore','LoadObject','PageImageListActions','PageImageListStore'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('FluxDerivedStore'));i=h&&h.prototype;j.prototype.__getData=function(k){return c('PageImageListStore').get(k);};j.prototype.__computeResult=function(k,l){var m=l.getValue()||{},n=m.imageList||[],o=l.hasValue(),p=l.isUpdating();return {fetchingNextPage:p,imagesLoaded:o,imageList:n,onEndReached:this.$PageImageListPagingStore1(k)};};j.prototype.__getStores=function(){return [c('PageImageListStore')];};j.prototype.$PageImageListPagingStore1=function(k){return function(){c('PageImageListActions').imagesEndReached(k);};};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));},null);
__d('AdsPixelComponentEnvironments',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={tracking:null,optimization:null,pixelInsights:null},i={};Object.keys(h).forEach(function(j){return i[j]=j;});f.exports=i;},null);
__d('BoostedActionInsightsNumUtil',['InsightsNumUtils'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={percent:function(i){return c('InsightsNumUtils').prettyFloat(Math.round(i*1000)/10)+'%';},getSortedIndices:function(i){var j=[],k;for(k=0;k<i.length;++k)j[k]={value:i[k],index:k};j.sort(function(l,m){return m.value-l.value;});for(k=0;k<j.length;++k)j[k]=j[k].index;return j;}};f.exports=h;},null);
__d('BoostedActionInsightsButterflyChart.react',['React','SpectrumStyle','BoostedActionInsightsNumUtil','BoostedActionInsightsLegend.react','InsightsGenderAgeButterflyChart.react','d3/scale/ordinal','SpectrumIntegerScale','sumOfArray'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={columns:{colors:c('d3/scale/ordinal')().range([c('SpectrumStyle').LIGHT_BLUE3,c('SpectrumStyle').BLUE4])},xAxis:{labelColor:"#000000",lineColor:null}},i=c('React').createClass({displayName:'BoostedActionInsightsButterflyChart',render:function(){var j=this.props,k=j.top,l=j.bottom,m=c('sumOfArray')(k.values[0]),n=c('sumOfArray')(l.values[0]),o=m+n,p,q;if(o===0){p=0;q=0;}else{p=m/o;q=n/o;}var r=c('BoostedActionInsightsNumUtil').percent(p),s=c('BoostedActionInsightsNumUtil').percent(q),t=r+' '+k.label,u=s+' '+l.label,v=c('React').createElement(c('BoostedActionInsightsLegend.react'),{color:c('SpectrumStyle').BLUE2,value:t}),w=c('React').createElement(c('BoostedActionInsightsLegend.react'),{color:c('SpectrumStyle').BLUE4,value:u});return (c('React').createElement('div',null,c('React').createElement('div',null,v),c('React').createElement(c('InsightsGenderAgeButterflyChart.react'),{bottom:j.bottom,domain:j.domain,height:j.height,scaleY:c('SpectrumIntegerScale')(),theme:h,titles:j.titles,top:j.top,width:j.width}),c('React').createElement('div',null,w)));}});f.exports=i;},null);
__d('BoostedActionInsightsConstants',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={TAB_ENGAGEMENT:'tabEngagement',TAB_AGE_GENDER:'tabAgeGender',TAB_COUNTRY:'tabCountry',ENGAGEMENT_BARS_SHOWN:3,AGE_GENDER_CHART_HEIGHT:92,AGE_GENDER_CHART_WIDTH:320};f.exports=h;},null);
__d('BoostedActionInsightsAgeGender.react',['fbt','cx','BoostedActionInsightsButterflyChart.react','BoostedActionInsightsConstants','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'BoostedActionInsightsAgeGender',statics:{getName:function(){return c('BoostedActionInsightsConstants').TAB_AGE_GENDER;},getTitle:function(){return h._("People");}},render:function(){var k={"13-17":0,"18-24":1,"25-34":2,"35-44":3,"45-54":4,"55-64":5,"65+":6},l=Object.keys(k),m=this.props.values,n={label:h._("Men"),values:[[]]},o={label:h._("Women"),values:[[]]};for(var p=0;p<l.length;p++){n.values[0].push(0);o.values[0].push(0);}var q=0,r=0;for(var s in m){var t=m[s];for(var u in t){var v=k[u],w=t[u];if(s==="male"){n.values[0][v]=w;q+=w;}else if(s==='female'){o.values[0][v]=w;r+=w;}}}var x=null;if(!q&&!r)x=h._("No age\/gender data to display.");var y=[""];if(q||r)var z=c('React').createElement(c('BoostedActionInsightsButterflyChart.react'),{bottom:n,domain:l,height:c('BoostedActionInsightsConstants').AGE_GENDER_CHART_HEIGHT,titles:y,top:o,width:c('BoostedActionInsightsConstants').AGE_GENDER_CHART_WIDTH});return (c('React').createElement('div',{className:"_203o"},c('React').createElement('div',{className:"_203p"},x),z,c('React').createElement('div',{className:"_203q"})));}});f.exports=j;},null);
__d('BoostedActionInsightsBar.react',['cx','XUIBackgroundBar.react','React','ReactDOM','Tooltip'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'BoostedActionInsightsBar',_setTooltip:function(){c('Tooltip').set(c('ReactDOM').findDOMNode(this.refs.tooltip),'above','left');},componentDidMount:function(){this._setTooltip();},render:function(){return (c('React').createElement('div',{className:"_jyf",ref:'root'},c('React').createElement('div',{className:"_jyg ellipsis"},this.props.label),c('React').createElement('div',{className:"_jyh"},c('React').createElement(c('XUIBackgroundBar.react'),{colors:[this.props.color],scale:this.props.scale,values:[this.props.value]}),c('React').createElement('div',{className:"_jyi"},this.props.inlineLabel)),c('React').createElement('div',{className:"_5j1h"},c('React').createElement('div',{className:"_5j1i",ref:'tooltip'},this.props.tooltip))));}});f.exports=i;},null);
__d('BoostedActionInsightsHiddenSection.react',['cx','fbt','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'BoostedActionInsightsHiddenSection',getInitialState:function(){return {hidden:true};},toggleHandler:function(){this.setState({hidden:!this.state.hidden});},render:function(){var k=this.state.hidden?"hidden_elem":'',l;if(this.state.hidden){l=i._("See More Details");}else l=i._("Hide details");return (c('React').createElement('div',{className:"_4fe0"},c('React').createElement('div',{className:k},this.props.children),c('React').createElement('div',{className:"_4fe1"},c('React').createElement('a',{href:'#',onClick:this.toggleHandler},l))));}});f.exports=j;},null);
__d('BoostedActionInsightsBarGroup.react',['BoostedActionInsightsBar.react','BoostedActionInsightsHiddenSection.react','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').createClass({displayName:'BoostedActionInsightsBarGroup',getColorAtIndex:function(i){return this.props.colors[i];},getLabelAtIndex:function(i){return this.props.labels[i];},getTooltipAtIndex:function(i){return this.props.tooltips[i];},getShowIfZeroAtIndex:function(i){var j=this.props.showifzero;if(!j)return false;return j[i];},getInlineLabelAtIndex:function(i){var j=this.props.inlineLabels;if(!j)return null;return j[i];},render:function(){var i=this.props.values;function j(r,s){if(r===0&&!this.getShowIfZeroAtIndex(s))return null;var t=this.getColorAtIndex(s),u=this.getLabelAtIndex(s),v=this.getTooltipAtIndex(s),w=this.getInlineLabelAtIndex(s);return (c('React').createElement(c('BoostedActionInsightsBar.react'),{color:t,inlineLabel:w,key:s,label:u,scale:this.props.scale,tooltip:v,value:r}));}var k=i.map(j,this),l=this.props.order;if(l){var m=[];for(var n=0;n<l.length;n++)m.push(k[l[n]]);k=m;}k=k.filter(function(r){return r;});var o=this.props.maxshown;if(o){var p=k.slice(o),q=null;if(p.length)q=c('React').createElement(c('BoostedActionInsightsHiddenSection.react'),null,p);k=c('React').createElement('div',null,k.slice(0,o),q);}return (c('React').createElement('div',null,k));}});f.exports=h;},null);
__d('BoostedActionInsightsCountry.react',['cx','fbt','BoostedActionInsightsBarGroup.react','BoostedActionInsightsConstants','BoostedActionInsightsNumUtil','SpectrumIntegerScale','React','sumOfArray'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'BoostedActionInsightsCountry',statics:{getName:function(){return c('BoostedActionInsightsConstants').TAB_COUNTRY;},getTitle:function(){return i._("Countries");}},render:function(){var k=this.props.values,l=k.data,m=k.names,n=[];for(var o in l)if(l[o]>0)n.push({iso:o,data:l[o]});n.sort(function(ca,da){return ca.data-da.data;});var p=[],q=[],r=[],s=0;for(var t=0;t<n.length;t++){var u=n[t].data,v=n[t].iso;q.push(m[v]);p.push(u);r.push(i._("{country}: {number}",[i.param('country',m[v]),i.param('number',u)]));if(u>s)s=u;}var w=c('SpectrumIntegerScale')().domain([0,s]),x=c('sumOfArray')(p);function y(ca,da){return c('BoostedActionInsightsNumUtil').percent(ca/x);}var z=p.map(y),aa=[];for(t=0;t<z.length;t++)aa.push("#B1BDD6");var ba=null;if(!n.length)ba=i._("No Country data to display");return (c('React').createElement('div',{className:"_203o"},c('React').createElement('div',{className:"_203p"},ba),c('React').createElement(c('BoostedActionInsightsBarGroup.react'),{colors:aa,inlineLabels:z,labels:q,scale:w,tooltips:r,values:p}),c('React').createElement('div',{className:"_203q"})));}});f.exports=j;},null);
__d('BoostedActionInsightsTabbedSections.react',['cx','ix','InsightsTabbedSectionsMixin','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'BoostedActionInsightsTabbedSections',mixins:[c('InsightsTabbedSectionsMixin')],theme:{activeNavLinkClass:"_1cqo",navClass:"_5cmi",navLinkClass:"_1cqp",nubClass:"_1cqq",nubSrc:i('/images/components/Insights/InsightsTabbedSections/nub.png')}});f.exports=j;},null);
__d('BoostedComponentAdStatusSelector.react',['fbt','BoostedActionStatus','Image.react','React','XUISelector.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('XUISelector.react').Option,k=c('React').createClass({displayName:'BoostedComponentAdStatusSelector',propTypes:{selectedAdStatus:i.string.isRequired,adStatusOptions:i.arrayOf(i.object).isRequired,onDataUpdate:i.func.isRequired},_onDataUpdate:function(l){this.props.onDataUpdate(l.value);},_getAdStatusOptions:function(){var l=[],m=this.props.adStatusOptions;for(var n=0;n<m.length;n++){var o=m[n],p=c('React').createElement(c('Image.react'),{src:o.icon});l.push(c('React').createElement(j,{icon:p,key:o.value,value:o.value},c('React').createElement('span',null,this._getAdStatusFBTString(o.value))));}return l;},_getAdStatusFBTString:function(l){switch(l){case c('BoostedActionStatus').ACTIVE:return h._("Active");case c('BoostedActionStatus').PAUSED:return h._("Paused");case c('BoostedActionStatus').INACTIVE:return h._("Deleted");default:return null;}},render:function(){return (c('React').createElement(c('XUISelector.react'),{value:this.props.selectedAdStatus,onChange:this._onDataUpdate},this._getAdStatusOptions()));}});f.exports=k;},null);
__d('BoostedComponentLabeledEditor.react',['cx','fbt','ix','AdsLabeledField.react','LeftRight.react','LoadingIndicator.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'BoostedComponentLabeledEditor',propTypes:{className:k.string,label:k.string.isRequired,showLoadingIndicator:k.bool,textLimits:k.number,tooltip:k.string},_getCharacterCounter:function(){return (c('React').createElement(c('XUIGrayText.react'),{size:'small'},i._("{length of string} \/ {maximum length allowed}",[i.param('length of string',this.props.children.props.value===null?0:this.props.children.props.value.length),i.param('maximum length allowed',this.props.textLimits)])));},_getLoadingIndicator:function(){var m=(!this.props.showLoadingIndicator?"hidden_elem":'')+(' '+"_3-9d");return (c('React').createElement(c('LoadingIndicator.react'),{className:m,color:'white',size:'small'}));},_renderCharacterCounterOrLoadingIndicator:function(){if(!this.props.showLoadingIndicator&&(this.props.label=='Text'||this.props.label=='Headline'))return this._getCharacterCounter();return this._getLoadingIndicator();},render:function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('AdsLabeledField.react'),{className:"_2nvc",helpText:this.props.tooltip,imgHover:j('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:j('images/components/HelpLink/info-light-2x.png'),label:this.props.label,labelSize:'small'}),this._renderCharacterCounterOrLoadingIndicator()),c('React').createElement('div',null,this.props.children)));}});f.exports=l;},null);
__d('BoostedComponentAddressEditor.react',['cx','fbt','ActionList.react','BoostedComponentLabeledEditor.react','Link.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentAddressEditor',propTypes:{address:j.string,defaultLabel:j.string,className:j.string,onRequestChange:j.func,onResetRequest:j.func},render:function(){return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:this.props.className,label:i._("Target Location")},this._renderAddress(),this._renderActions()));},_renderActions:function(){return (c('React').createElement(c('ActionList.react'),{className:"_3g78"},this._renderLocationResetLink(),this._renderLocationEditLink()));},_renderAddress:function(){if(this.props.address!=null)return (c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'medium'},this.props.address));return (c('React').createElement(c('XUIGrayText.react'),{display:'block',shade:'light'},this.props.defaultLabel));},_renderLocationEditLink:function(){if(this.props.onRequestChange==null)return;return (c('React').createElement(c('Link.react'),{onClick:this.props.onRequestChange},i._("Edit Address")));},_renderLocationResetLink:function(){if(this.props.onResetRequest==null)return;return (c('React').createElement(c('Link.react'),{onClick:this.props.onResetRequest},i._("Use the Page Location")));}});f.exports=k;},null);
__d("XAudienceManagerController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/audience_manager\/",{act:{type:"Int"},aln:{type:"String"},alc:{type:"String"},business_id:{type:"Int"}});},null);
__d('BoostedComponentAdsManagerDialog.react',['fbt','LayerFadeOnHide','React','ReactLayeredComponentMixin','XAudienceManagerController','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogCancelButton.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'BoostedComponentAdsManagerDialog',mixins:[c('ReactLayeredComponentMixin')],getInitialState:function(){return {dialogShown:false};},_onLinkClick:function(){this.setState({dialogShown:true});},_onToggle:function(j){this.setState({dialogShown:j});},_onConfirm:function(){this.setState({dialogShown:false});return true;},renderLayers:function(){if(!this.state.dialogShown)return {};var j=h._("Edit Audience in Ads Manager"),k=h._("See Ads Manager"),l=c('XAudienceManagerController').getURIBuilder().setInt('act',this.props.adAccountID).getURI();return {dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},shown:true,width:445,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,j),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',null,h._("This audience was created in Ads Manager. To edit your audience, you'll need to return to it."))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{action:'cancel',use:'default'}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',href:l,label:k,target:'_blank',use:'confirm',onClick:this._onConfirm})))};},render:function(){return (c('React').createElement('span',{onClick:this._onLinkClick},this.props.children));}});f.exports=i;},null);
__d('BoostedComponentCTAPlaceEditor.react',['cx','fbt','ActionList.react','AdsCallToActionUtils','BoostedComponentConstants','BoostedComponentLabeledEditor.react','BoostedComponentStrings','BootloadedComponent.react','City','JSResource','Link.react','LoadingDialog.react','React','XUICard.react','XUIError.react','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentCTAPlaceEditor',propTypes:{ctaLink:j.string,onCTALinkChange:j.func.isRequired,userID:j.string,pageID:j.string,pageAccessToken:j.string,isLoading:j.bool,defaultCity:j.instanceOf(c('City')),onEditAddressClick:j.func},getInitialState:function(){return {dialogShown:false};},render:function(){return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CALL_TO_ACTION_ADDRESS_LABEL,tooltip:c('BoostedComponentStrings').CALL_TO_ACTION_ADDRESS_TOOLTIP},c('React').createElement(c('ActionList.react'),null,this._renderLabel(),c('React').createElement(c('Link.react'),{onClick:this._loadDialog},c('BoostedComponentStrings').CALL_TO_ACTION_ADDRESS_EDIT)),this._renderDialog()));},_loadDialog:function(){if(this.props.onEditAddressClick)this.props.onEditAddressClick();this._onToggle(true);},_renderLabel:function(){var l=c('AdsCallToActionUtils').parseGeoLink(this.props.ctaLink||'');if(l)return (c('React').createElement(c('XUIGrayText.react'),{shade:'dark'},l.toString()));return (c('React').createElement(c('XUIError.react'),{xuiError:c('BoostedComponentStrings').CALL_TO_ACTION_ADDRESS_INVALID},c('React').createElement('span',null,i._("None"))));},_renderDialog:function(){if(!this.state.dialogShown)return null;return (c('React').createElement(c('BootloadedComponent.react'),{bootloadForcePlaceholder:this.props.isLoading,bootloadLoader:c('JSResource')('AdsPagePlaceDialogContainer.react'),bootloadPlaceholder:c('React').createElement(c('LoadingDialog.react'),{behaviors:null,shown:true,width:c('BoostedComponentConstants').LOADING_DIALOG_WIDTH,onToggle:this._onToggle}),defaultCity:this.props.defaultCity,pageAccessToken:this.props.pageAccessToken,pageID:this.props.pageID,shown:true,userID:this.props.userID,onSubmit:this._onSubmit,onToggle:this._onToggle}));},_onSubmit:function(l){this.setState({dialogShown:false});if(l.place)this.props.onCTALinkChange(c('AdsCallToActionUtils').makeGeoLink(l.place));},_onToggle:function(l){this.setState({dialogShown:l});}});f.exports=k;},null);
__d('BoostedComponentCallToActionSelector.react',['cx','fbt','AdsAPIObjectives','AdsCallToActionTypes','AdsCreativeCallToActionField.react','BoostedComponentLabeledEditor.react','React','XUIText.react','adsGKCheck'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentCallToActionSelector',propTypes:{apiObjective:j.string.isRequired,hideSelector:j.bool,isDisabled:j.bool,isReadOnly:j.bool,isDefaultOptionRequired:j.bool,label:j.string.isRequired,noButtonLabel:j.string,onCallToActionChange:j.func.isRequired,selectedCallToActionType:j.string,tooltip:j.string},_getCreativeCallToActionSelector:function(){var l=this.props.apiObjective,m,n;switch(this.props.apiObjective){case c('AdsAPIObjectives').LOCAL_AWARENESS:n=c('AdsCallToActionTypes').TYPES.LIKE_PAGE.text;m=[c('AdsCallToActionTypes').TYPES.CALL_NOW.name,c('AdsCallToActionTypes').TYPES.GET_DIRECTIONS.name,c('AdsCallToActionTypes').TYPES.LEARN_MORE.name];if(c('adsGKCheck')('ads_local_awareness_message_page_cta_lwi'))m.push(c('AdsCallToActionTypes').TYPES.MESSAGE_PAGE.name);break;default:n=undefined;break;}return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:"_1doi",label:this.props.label,tooltip:this.props.tooltip},c('React').createElement(c('AdsCreativeCallToActionField.react'),{apiObjective:l,availableTypes:m,disabledHintText:null,isDisabled:this.props.isDisabled,isReadOnly:this.props.isReadOnly,isRequired:this.props.isDefaultOptionRequired,noButtonLabel:this.props.noButtonLabel||n,selectedType:this.props.selectedCallToActionType,size:'xlarge',onChange:this.props.onCallToActionChange})));},render:function(){if(this.props.hideSelector){var l=c('AdsCallToActionTypes').TYPES,m=null;if(!(this.props.selectedCallToActionType in l)){m=i._("No call to action selected or available.");}else{var n=l[this.props.selectedCallToActionType].text;m=i._("Your {label} call to action will appear as a button in your ad. To edit your call to action, click the {button label} button on your Page.",[i.param('label',c('React').createElement(c('XUIText.react'),{weight:'bold'},n)),i.param('button label',n)]);}return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:this.props.label},m));}return (this._getCreativeCallToActionSelector());}});f.exports=k;},null);
__d('BoostedComponentContent.react',['cx','React','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentContent',propTypes:{className:i.string},render:function(){var k=0,l=c('React').Children.map(this.props.children,function(m,n){if(m==undefined)return m;return (c('React').createElement('div',{className:++k!==1?"_2jlc":''},m));});return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_2jld")},l));}});f.exports=j;},null);
__d('BoostedComponentCreativeEditorMixin',['BoostedComponentAppID','BoostedComponentCreativeEditingConfig'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getFieldBadTextRules:function(){return {BAD_CHAR:/[\^~_=\{\}\[\]\|<>]/g,PUNC_STREAK:/[\/!.\\?\-*,;:()]{2,}/g,START_CHAR:/^[\/!\.\\?\-\*,:;()]/};},_getConfigForAppID:function(i,j,k){var l;switch(i){case c('BoostedComponentAppID').BOOSTED_CCTA:l=c('BoostedComponentCreativeEditingConfig').BOOSTED_CCTA;break;case c('BoostedComponentAppID').BOOSTED_POST:l=c('BoostedComponentCreativeEditingConfig').BOOSTED_POST;break;case c('BoostedComponentAppID').BOOSTED_PRODUCT:l=c('BoostedComponentCreativeEditingConfig').BOOSTED_PRODUCT;break;case c('BoostedComponentAppID').BOOSTED_EVENT:l=c('BoostedComponentCreativeEditingConfig').BOOSTED_EVENT;break;case c('BoostedComponentAppID').BOOSTED_PAGELIKE:l=c('BoostedComponentCreativeEditingConfig').BOOSTED_PAGELIKE;break;case c('BoostedComponentAppID').BOOSTED_WEBSITE:if(!!k){l=c('BoostedComponentCreativeEditingConfig').BOOSTED_WEBSITE_MPA_VIEW;}else l=c('BoostedComponentCreativeEditingConfig').BOOSTED_WEBSITE;break;case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:if(j){l=k?c('BoostedComponentCreativeEditingConfig').BOOSTED_LOCAL_AWARENESS_MPA_VIEW:c('BoostedComponentCreativeEditingConfig').BOOSTED_LOCAL_AWARENESS_CAROUSEL;}else l=c('BoostedComponentCreativeEditingConfig').BOOSTED_LOCAL_AWARENESS;break;}return l;},shouldRenderCreativeElement:function(i,j,k,l){var m=h._getConfigForAppID(i,k,l);if(!m)return false;return m.indexOf(j)>-1;},reorderCreativeElements:function(i,j,k,l){var m=h._getConfigForAppID(i,k,l);if(!m)return [];var n=[];m.map(function(o){if(j.has(o))n.push(j.get(o));});return n;}};f.exports=h;},null);
__d('BoostedComponentCreativeBodyEditor.react',['AdsCreationConfig','AdsTextInput.react','BoostedComponentConstants','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeEditingElement','BoostedComponentLabeledEditor.react','React','BoostedComponentStrings','getObjectValues'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentCreativeBodyEditor',mixins:[c('BoostedComponentCreativeEditorMixin')],propTypes:{appID:h.string.isRequired,supportCarouselInLA:h.bool.isRequired,onBodyChange:h.func.isRequired,body:h.string,validateBody:h.func},render:function(){if(!this.shouldRenderCreativeElement(this.props.appID,c('BoostedComponentCreativeEditingElement').CREATIVE_BODY,this.props.supportCarouselInLA))return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CREATIVE_BODY_LABEL,textLimits:c('BoostedComponentConstants').BODY_EDITOR_TEXT_LIMIT,tooltip:c('BoostedComponentStrings').CREATIVE_BODY_TOOLTIP},c('React').createElement(c('AdsTextInput.react'),{badTextRules:c('getObjectValues')(this.getFieldBadTextRules()),errors:this.props.validateBody(this.props.body),hideMaxLength:true,maxLength:c('AdsCreationConfig').maxBodyLength,multiline:true,placeholder:c('BoostedComponentStrings').CREATIVE_BODY_PLACEHOLDER,value:this.props.body,onChange:this.props.onBodyChange})));}});f.exports=i;},null);
__d('BoostedComponentCreativeLinkDataEditor.react',['AdsCreationConfig','AdsTextInput.react','BoostedComponentAppID','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeEditingElement','BoostedComponentLabeledEditor.react','BoostedComponentStrings','Map','React','TooltipLink.react','getObjectValues'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentCreativeLinkDataEditor',mixins:[c('BoostedComponentCreativeEditorMixin')],propTypes:{appID:h.string.isRequired,headline:h.string,shouldEdit:h.bool.isRequired,supportCarouselInLA:h.bool.isRequired,text:h.string,url:h.string,useMultiAdsView:h.bool,validateLink:h.func,validateMessage:h.func,validateName:h.func,onLinkDataHeadlineChange:h.func,onLinkDataTextChange:h.func,onLinkDataURLChange:h.func},_getCreativeLinkDataURLInput:function(){if(!this.props.forceShow){if(!this.shouldRenderCreativeElement(this.props.appID,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_URL,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;if(this.props.shouldEdit)return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{key:c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_URL,label:c('BoostedComponentStrings').CREATIVE_LINK_DATA_URL_LABEL,tooltip:c('BoostedComponentStrings').CREATIVE_LINK_DATA_URL_TOOLTIP},c('React').createElement(c('TooltipLink.react'),{tooltip:this.props.url},this.props.url)));}return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{key:c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_URL,label:c('BoostedComponentStrings').CREATIVE_LINK_DATA_URL_LABEL,tooltip:c('BoostedComponentStrings').CREATIVE_LINK_DATA_URL_TOOLTIP},c('React').createElement(c('AdsTextInput.react'),{badTextRules:null,errors:this.props.validateLink(this.props.url),hideMaxLength:true,maxLength:c('AdsCreationConfig').maxURLLength,multiline:false,placeholder:c('BoostedComponentStrings').CREATIVE_LINK_DATA_URL_PLACEHOLDER,value:this.props.url,onChange:this.props.onLinkDataURLChange})));},_getCreativeLinkDataHeadlineInput:function(){if(!this.props.forceShow)if(!this.shouldRenderCreativeElement(this.props.appID,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{key:c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,label:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_LABEL,textLimits:c('BoostedComponentConstants').HEADLINE_EDITOR_TEXT_LIMIT,tooltip:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_TOOLTIP},c('React').createElement(c('AdsTextInput.react'),{badTextRules:c('getObjectValues')(this.getFieldBadTextRules()),errors:this.props.validateName&&this.props.validateName(this.props.headline),hideMaxLength:true,maxLength:c('AdsCreationConfig').maxTitleLength,multiline:false,placeholder:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_PLACEHOLDER,value:this.props.headline,onChange:this.props.onLinkDataHeadlineChange})));},_getCreativeLinkDataTextInput:function(){if(!this.props.forceShow)if(!this.shouldRenderCreativeElement(this.props.appID,c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,this.props.supportCarouselInLA,this.props.useMultiAdsView))return null;var j=c('BoostedComponentStrings').CREATIVE_LINK_DATA_TEXT_TOOLTIP;if(this.props.appID===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS){j=c('BoostedComponentStrings').CREATIVE_LINK_DATA_TEXT_TOOLTIP_LA;}else if(this.props.appID===c('BoostedComponentAppID').BOOSTED_EVENT)j=c('BoostedComponentStrings').CREATIVE_LINK_DATA_TEXT_TOOLTIP_EVENT;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{key:c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,label:c('BoostedComponentStrings').CREATIVE_LINK_DATA_TEXT_LABEL,textLimits:c('BoostedComponentConstants').BODY_EDITOR_TEXT_LIMIT,tooltip:j},c('React').createElement(c('AdsTextInput.react'),{badTextRules:c('getObjectValues')(this.getFieldBadTextRules()),errors:this.props.validateMessage(this.props.text),hideMaxLength:true,maxLength:c('AdsCreationConfig').maxBodyLength,multiline:true,placeholder:c('BoostedComponentStrings').CREATIVE_LINK_DATA_TEXT_PLACEHOLDER,value:this.props.text,onChange:this.props.onLinkDataTextChange})));},render:function(){var j=new (c('Map'))();j.set(c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_URL,this._getCreativeLinkDataURLInput());j.set(c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,this._getCreativeLinkDataHeadlineInput());j.set(c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_TEXT,this._getCreativeLinkDataTextInput());var k=this.reorderCreativeElements(this.props.appID,j,this.props.supportCarouselInLA,this.props.useMultiAdsView);return (c('React').createElement(c('BoostedComponentContent.react'),null,k));}});f.exports=i;},null);
__d('BoostedComponentImageCropper.react',['fbt','AdsCFCreativeImagePanelCropperAction.react','AdsImageLegacy','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentImageCropper',propTypes:{className:i.string,imageSpecs:i.array.isRequired,image:i.instanceOf(c('AdsImageLegacy')),onCropClick:i.func.isRequired,disabled:i.bool},render:function(){var k=h._(["Reposition Image","f793047ff37401101ca886584644cfc6"]),l=h._("Reposition Image"),m=h._("Reposition the image to change how it appears in your ad.");return (c('React').createElement(c('AdsCFCreativeImagePanelCropperAction.react'),{className:this.props.className,disabled:this.props.disabled||!this.props.image,header:l,image:this.props.image,imageSpecs:this.props.imageSpecs,label:k,size:'xlarge',tooltip:m,onCropUpdate:this._onCropUpdate}));},_onCropUpdate:function(k,l,m,n){this.props.onCropClick(l,n);}});f.exports=j;},null);
__d('BoostedComponentImageLibrarySelector.react',['fbt','AdsImageDialogContainer.react','AdsImageLegacy','AdsImageStore','AdsMediaPanelTabs','React','ReactComponentWithPureRenderMixin','ReactLayeredComponentMixin','Tooltip.react','emptyFunction'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentImageLibrarySelector',mixins:[c('ReactLayeredComponentMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:i.string.isRequired,className:i.string,clickableTrigger:i.element.isRequired,defaultStockSearchText:i.string,disabled:i.bool,enableStock:i.bool,image:i.instanceOf(c('AdsImageLegacy')),imageHash:i.string,imageUrl:i.string,isBusinessOwnedAdAccount:i.bool,pageID:i.string,pageImages:i.arrayOf(i.instanceOf(c('AdsImageLegacy'))),tooltipText:i.string,useInstagramImageCreative:i.bool,onDialogShown:i.func.isRequired,onImageSelected:i.func.isRequired},getInitialState:function(){return {showDialog:false};},getDefaultProps:function(){return {onDialogShown:c('emptyFunction')};},componentWillMount:function(){this.setState(k({accountID:this.props.accountID,url:this.props.imageUrl,hash:this.props.imageHash}));},componentWillReceiveProps:function(l){this.setState(k({accountID:l.accountID,url:l.imageUrl,hash:l.imageHash}));},renderLayers:function(){var l=null;if(this.state.showDialog){var m={url:this.props.imageUrl,hash:this.props.imageHash},n=[c('AdsMediaPanelTabs').UPLOAD,c('AdsMediaPanelTabs').LIBRARY],o;if(this.props.enableStock){n.push(c('AdsMediaPanelTabs').STOCK);o=this.props.defaultStockSearchText;}var p;if(this.props.image&&this.props.image.isStockImage()){var q=this.props.image;m={crops:q.getCrops(),fullSizeUrl:q.getFullSizeUrl(),height:q.getHeight(),previewHeight:q.getPreviewHeight(),previewUrl:q.getPreviewUrl(),previewWidth:q.getPreviewWidth(),stockImageID:q.getStockImageID(),thumbHeight:q.getThumbnailHeight(),thumbWidth:q.getThumbnailWidth(),url:q.getThumbnailUrl(),width:q.getWidth()};p=c('AdsMediaPanelTabs').STOCK;}l=c('React').createElement(c('AdsImageDialogContainer.react'),{accountID:this.props.accountID,defaultStockSearchText:o,initialTab:p,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,libraryImages:this.state.libraryImages,pageID:this.props.pageID,pageImages:this.props.pageImages,selectedImages:[m],tabKeys:n,useInstagramImageCreative:this.props.useInstagramImageCreative,onCancel:this._onCancel,onSelect:this._onSelect});}return {dialog:l};},render:function(){var l=c('React').createElement('div',{onClick:this.props.disabled?null:this._onDialogShow},this.props.clickableTrigger);if(!this.props.tooltipText)return l;return (c('React').createElement(c('Tooltip.react'),{alignH:'left',className:this.props.className,position:'above',tooltip:this.props.tooltipText},l));},_onDialogShow:function(event){event.preventDefault();this.setState({showDialog:true});this.props.onDialogShown();},_onSelect:function(l){this.setState({showDialog:false});this.props.onImageSelected(new (c('AdsImageLegacy'))(l[0]));},_onCancel:function(){this.setState({showDialog:false});}});function k(l){var m=l.accountID,n=l.url,o=l.hash,p=o?c('AdsImageStore').getImageByHash_DEPRECATED(m,o):null,q;if(p){n=p.url||p.url_128||n;q=n?c('AdsImageStore').getImageDimensionsByURL(n):null;}return {height:q?q.height:null,libraryImages:c('AdsImageStore').getImages_DEPRECATED(m),url:n,hash:o,width:q?q.width:null};}f.exports=j;},null);
__d('BoostedComponentImageUploader.react',['invariant','AdsCFCreativeImagePanelUploaderAction.react','React','WebApiApplication'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentImageUploader',propTypes:{accountID:i.string.isRequired,accessToken:i.string.isRequired,clientID:i.string.isRequired,onUploadClick:i.func.isRequired,className:i.string,disabled:i.bool,onUploadEnd:i.func,onUploadStart:i.func},render:function(){return (c('React').createElement(c('AdsCFCreativeImagePanelUploaderAction.react'),{accountID:this.props.accountID,className:this.props.className,disabled:this.props.disabled,fileInputNodeID:'BoostedComponentImageUploader'+this.props.clientID,multiple:false,size:'xlarge',onUploadClick:this._onClick,onUploadEnd:this._onUploadEnd,onUploadStart:this._onUploadStart}));},_onClick:function(k){c('WebApiApplication').init(this.props.accessToken,this.props.clientID);},_onUploadEnd:function(k){!(k.length===1)?h(0):void 0;this.props.onUploadEnd();this.props.onUploadClick(k[0]);},_onUploadStart:function(k){this.props.onUploadStart();}});f.exports=j;},null);
__d('BoostedComponentImageSelector.react',['cx','AdsImageLegacy','BoostedComponentStrings','BoostedComponentImageCropper.react','BoostedComponentImageLibrarySelector.react','BoostedComponentImageUploader.react','React','XUIButton.react','XUISpinner.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentImageSelector',propTypes:{accessToken:i.string.isRequired,accountID:i.string.isRequired,clientID:i.string.isRequired,defaultStockSearchText:i.string,enableStock:i.bool,image:i.instanceOf(c('AdsImageLegacy')),imageHash:i.string,imageSpecs:i.array,imageUrl:i.string,isBusinessOwnedAdAccount:i.bool,pageID:i.string,pageImages:i.arrayOf(i.instanceOf(c('AdsImageLegacy'))),useInstagramImageCreative:i.bool,onDialogShown:i.func,onImageCropClick:i.func.isRequired,onImageSelected:i.func.isRequired,onImageUploadClick:i.func.isRequired},getInitialState:function(){return {isUploadingImage:false};},render:function(){var k=(!this.state.isUploadingImage?"hidden_elem":'')+(' '+"_3-99"),l=c('React').createElement(c('XUIButton.react'),{disabled:this.state.isUploadingImage,label:c('BoostedComponentStrings').SELECT_IMAGE,size:'xlarge'});return (c('React').createElement('div',null,c('React').createElement(c('BoostedComponentImageUploader.react'),{accessToken:this.props.accessToken,accountID:this.props.accountID,clientID:this.props.clientID,disabled:this.state.isUploadingImage,onUploadClick:this.props.onImageUploadClick,onUploadEnd:this._onUploadEnd,onUploadStart:this._onUploadStart}),c('React').createElement(c('BoostedComponentImageLibrarySelector.react'),{accountID:this.props.accountID,className:"_3-9a _4nqt",clickableTrigger:l,defaultStockSearchText:this.props.defaultStockSearchText,disabled:this.state.isUploadingImage,enableStock:this.props.enableStock,image:this.props.image,imageHash:this.props.imageHash,imageUrl:this.props.imageUrl,instagramImages:this.props.instagramImages,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,pageID:this.props.pageID,pageImages:this.props.pageImages,tooltipText:c('BoostedComponentStrings').IMAGE_SELECTOR_TOOLTIP_TEXT,useInstagramImageCreative:this.props.useInstagramImageCreative,onDialogShown:this.props.onDialogShown,onImageSelected:this.props.onImageSelected}),c('React').createElement(c('BoostedComponentImageCropper.react'),{className:"_3-9a",disabled:this.state.isUploadingImage,image:this.props.image,imageSpecs:this.props.imageSpecs,onCropClick:this.props.onImageCropClick}),c('React').createElement(c('XUISpinner.react'),{className:k})));},_onUploadEnd:function(){this.setState({isUploadingImage:false});},_onUploadStart:function(){this.setState({isUploadingImage:true});}});f.exports=j;},null);
__d('BoostedComponentCreativeMultiAdsEditor.react',['cx','fbt','xuiglyph','AdImageSpecs','AdsImageLegacy','AdsImageStore','AdsIndexedTabBar.react','BoostedComponentCreativeLinkDataEditor.react','BoostedComponentImageSelector.react','BoostedComponentLabeledEditor.react','BoostedComponentMultiAdsProductChangeTypes','BoostedComponentStrings','Grid.react','LeftRight.react','Link.react','React','Image.react','XUIButton.react','isEmpty','mergeDeep'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'BoostedComponentCreativeMultiAdsEditor',propTypes:{accessToken:l.string.isRequired,accountID:l.string.isRequired,appID:l.string.isRequired,clientID:l.string.isRequired,defaultImageHash:l.string,defaultImageUrl:l.string,defaultLink:l.string,defaultName:l.string,defaultStockSearchText:l.string,isBusinessOwnedAdAccount:l.bool,maxProducts:l.number.isRequired,minProducts:l.number.isRequired,pageID:l.string,pageImages:l.arrayOf(l.instanceOf(c('AdsImageLegacy'))),products:l.arrayOf(l.object),selectedProductIndex:l.number.isRequired,supportCarouselInLA:l.bool.isRequired,useInstagramImageCreative:l.bool,validateName:l.func,onDialogShown:l.func,onProductSelected:l.func.isRequired,onProductsChange:l.func.isRequired},render:function(){return (c('React').createElement('div',null,c('React').createElement(c('Grid.react'),{cols:2},c('React').createElement(k,{key:'left'},c('React').createElement(c('AdsIndexedTabBar.react'),{numItems:this.props.products.length,selectedItem:this.props.selectedProductIndex,onItemAdded:this.props.onProductAdd,onItemSelected:this.props.onProductSelected})),c('React').createElement(k,{key:'rigth'},this._getAddProductIcon())),this._getProductsCard()));},_getAddProductIcon:function(){if(this.props.products.length>=this.props.maxProducts)return null;return (c('React').createElement(c('XUIButton.react'),{className:"_3-9a",image:c('React').createElement(c('Image.react'),{src:j({name:'plus',shade:'dark',size:'small'})}),onClick:this._onProductAdd}));},_getProductsCard:function(){return (c('React').createElement('div',{background:'light-wash',className:"_1ev3"},c('React').createElement('div',null,this._getRemoveButton(),this._getCreativeLinkDataEditor(),this._getImageSelector())));},_getRemoveButton:function(){if(this.props.products.length<=this.props.minProducts)return null;return (c('React').createElement(c('LeftRight.react'),{direction:'right'},c('React').createElement(c('Link.react'),{onClick:this._onProductRemove},i._("Remove"))));},_getCreativeLinkDataEditor:function(){var n=null,o=this.props.products[this.props.selectedProductIndex];if(!c('isEmpty')(o))n=o.name;return (c('React').createElement(c('BoostedComponentCreativeLinkDataEditor.react'),{appID:this.props.appID,headline:n,shouldEdit:false,supportCarouselInLA:this.props.supportCarouselInLA,useMultiAdsView:true,validateName:this.props.validateName,onLinkDataHeadlineChange:this._onProductNameChange}));},_getImageSelector:function(){var n=null,o=null,p=null,q=this.props.products[this.props.selectedProductIndex];if(!c('isEmpty')(q)){o=q.picture;p=q.image_hash;if(p){n=c('AdsImageStore').getOneFor(this.props.accountID,p);if(n&&q.image_crops)n=Object.assign({},n,{crops:q.image_crops});}if(!n){n={url:o,crops:q.image_crops};var r=o?c('AdsImageStore').getImageDimensionsByURL(o):null;if(!r){n=null;}else Object.assign(n,r);}if(n)n=new (c('AdsImageLegacy'))(n);}var s=[c('AdImageSpecs').PAGE_POST_MULTI_PRODUCT];if(this.props.products&&this.props.products.length===1)s=[c('AdImageSpecs').PAGE_POST_DESKTOP_FEED];return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CREATIVE_IMAGE,tooltip:c('BoostedComponentStrings').CREATIVE_IMAGE_TOOLTIP},c('React').createElement(c('BoostedComponentImageSelector.react'),{accessToken:this.props.accessToken,accountID:this.props.accountID,clientID:this.props.clientID,defaultStockSearchText:this.props.defaultStockSearchText,image:n,imageHash:p,imageSpecs:s,imageUrl:o,isBusinessOwnedAdAccount:this.props.isBusinessOwnedAdAccount,pageID:this.props.pageID,pageImages:this.props.pageImages,useInstagramImageCreative:this.props.useInstagramImageCreative,onDialogShown:this.props.onDialogShown,onImageCropClick:this._onProductImageCropChange,onImageSelected:this._onProductImageChange,onImageUploadClick:this._onProductImageUpload})));},_getProductsCopy:function(){return this.props.products.map(function(n){return c('mergeDeep')(n);});},_onProductAdd:function(){var n=this._getProductsCopy();n.push({link:this.props.defaultLink,name:this.props.defaultName,picture:this.props.defaultImageUrl,image_hash:this.props.defaultImageHash});this.props.onProductsChange(n,c('BoostedComponentMultiAdsProductChangeTypes').ADD);var o=n.length-1;this.props.onProductSelected(o);},_onProductRemove:function(){var n=this._getProductsCopy(),o=n.length-1;if(this.props.selectedProductIndex===o)this.props.onProductSelected(o-1);n.splice(this.props.selectedProductIndex,1);this.props.onProductsChange(n,c('BoostedComponentMultiAdsProductChangeTypes').REMOVE);},_onProductNameChange:function(n){var o=this._getProductsCopy();o[this.props.selectedProductIndex].name=n;this.props.onProductsChange(o,c('BoostedComponentMultiAdsProductChangeTypes').NAME_CHANGE);},_onProductImageChange:function(n){var o=this._getProductsCopy();if(n.getUrl()){o[this.props.selectedProductIndex].picture=n.getUrl();delete o[this.props.selectedProductIndex].image_hash;}else{o[this.props.selectedProductIndex].image_hash=n.getAdAccountHash();delete o[this.props.selectedProductIndex].picture;}if(n.crops){o[this.props.selectedProductIndex].image_crops=n.crops;}else delete o[this.props.selectedProductIndex].image_crops;if(n.getImageType()){o[this.props.selectedProductIndex].imageType=n.getImageType();}else delete o[this.props.selectedProductIndex].imageType;this.props.onProductsChange(o,c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_CHANGE);},_onProductImageUpload:function(n){var o=this._getProductsCopy();if(n.getUrl()){o[this.props.selectedProductIndex].picture=n.getUrl();delete o[this.props.selectedProductIndex].image_hash;}else{o[this.props.selectedProductIndex].image_hash=n.getAdAccountHash();delete o[this.props.selectedProductIndex].picture;}if(n.crops){o[this.props.selectedProductIndex].image_crops=n.crops;}else delete o[this.props.selectedProductIndex].image_crops;this.props.onProductsChange(o,c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_UPLOAD);},_onProductImageCropChange:function(n,o){var p=this._getProductsCopy(),q={};q[n]=o;p[this.props.selectedProductIndex].image_crops=q;this.props.onProductsChange(p,c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_CROP_CHANGE);}});f.exports=m;},null);
__d('BoostedComponentDialogActionMenuMixin',['cx','fbt','ix','BoostedComponentClientEvent','BoostedComponentStrings','BusinessConf','ContextualDialogArrow','ContextualLayerAutoFlip','DOM','Image.react','PopoverMenu.react','React','ReactDOM','URI','XUIButton.react','ReactXUIMenu','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('ReactXUIMenu').Item,l={_getSeedFeedbackMenuItem:function(){var m=this._config&&this._config.getURIStore()&&this._config.getURIStore().getSendFeedbackURI();if(!m)return null;return (c('React').createElement(k,{href:m,key:'sendFeedback',target:'_blank'},i._("Send Feedback")));},_getBillingInfoMenuItem:function(){if(!this._config){var m=new (c('URI'))('/ads/manage/billing.php').addQueryData({act:this.props.accountID});return (c('React').createElement(k,{href:m,key:'billingInfo',target:'_blank'},i._("Edit Billing Info")));}m=new (c('URI'))(this._config.getURIStore().getBillingInfoURI()).addQueryData({act:this._config.getAdAccountStore().getSelectedAccountID()});return (c('React').createElement(k,{href:m,key:'billingInfo',target:'_blank'},i._("Edit Billing Info")));},_getContactSupportMenuItem:function(){if(!this._config){if(!this.props.contactFormURI)return null;return (c('React').createElement(k,{className:c('BusinessConf').WHITELISTED_URI_CLASS,href:new (c('URI'))(this.props.contactFormURI),key:'contactForm',target:'_blank'},i._("Contact Support")));}if(!this._config.getURIStore().getContactSupportURI())return null;return (c('React').createElement(k,{href:new (c('URI'))(this._config.getURIStore().getContactSupportURI()),key:'contactSupport',target:'_blank'},i._("Contact Support")));},_getReportBugMenuItem:function(){var m=this._config&&this._config.getURIStore()&&this._config.getURIStore().getBugReportURI();if(!m)return null;var n=new (c('URI'))(m).addQueryData({screenshot_container_id:this._config.getDialogUIStore().getDialogDivID()});return (c('React').createElement(k,{ajaxify:n,href:'#',key:'reportBug',rel:'dialog'},i._("Report a problem")));},_getDeleteAdMenuItem:function(){return (c('React').createElement(k,{key:'deleteAd',onclick:this._onDeleteClick},i._("Delete Ad")));},_onDeleteClick:function(){this._config.getDispatcher().handleUpdateFromViewAction({actionType:c('BoostedComponentClientEvent').DELETE_CLICK});},render:function(){this._config=this.props.config;var m=c('React').createElement(c('ReactXUIMenu'),{onItemClick:this._sendArbiterSignal},this.getMenuOptions());return (c('React').createElement(c('PopoverMenu.react'),{layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualDialogArrow')],menu:m},c('React').createElement(c('XUIButton.react'),{className:"_2vy",image:c('React').createElement(c('Image.react'),{src:j('/images/ui/x/image/gear_large.png')}),size:'xlarge'})));}};f.exports=l;},null);
__d('BoostedComponentDialogActionMenu.react',['BoostedComponentConfig','BoostedComponentDialogActionMenuMixin','BoostedComponentExperiment','React','XUIMenuSeparator.react'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentDialogActionMenu',mixins:[c('BoostedComponentDialogActionMenuMixin')],propTypes:{config:h.instanceOf(c('BoostedComponentConfig')).isRequired},getMenuOptions:function(){var j=[];if(this.props.config.getAdStatusStore().getShouldEdit())j.push(this._getDeleteAdMenuItem(),c('React').createElement(c('XUIMenuSeparator.react'),{key:'separator'}));j.push(this._getSeedFeedbackMenuItem(),this._getContactSupportMenuItem(),this._getReportBugMenuItem());return j;}});f.exports=i;},null);
__d('BoostedComponentDialogTitle.react',['cx','fbt','BoostedActionStatus','BoostedComponentAppID','BoostedComponentClientEvent','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentStrings','BoostedComponentSubmissionViewActions','BoostedPostStrings','FBToggleSwitch.react','Layout.react','Link.react','BoostedPostPlacementOptions','React','SubscriptionsHandler','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('Layout.react').Column,k=c('Layout.react').FillColumn,l=c('React').PropTypes,m=c('React').createClass({displayName:'BoostedComponentDialogTitle',_subscriptions:new (c('SubscriptionsHandler'))(),_submissionViewActions:new (c('BoostedComponentSubmissionViewActions'))({}),propTypes:{config:l.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions&&this._subscriptions.addSubscriptions(this.props.config&&this.props.config.getAdStatusStore().subscribe('change',this._updateState));this._submissionViewActions=new (c('BoostedComponentSubmissionViewActions'))(this.props.config.getDispatcher());},componentWillUnmount:function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=null;},getInitialState:function(){return {adStatus:this.props.config.getAdStatusStore().getAdStatus()};},_getShouldShowDeleteAd:function(){return this.props.config.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_COMPONENT_DIALOG_TITLE_DELETE_AD,'show_delete_ad');},_updateState:function(){this.setState({adStatus:this.props.config.getAdStatusStore().getAdStatus()});},_getAdStatusBar:function(){switch(this.state.adStatus){case c('BoostedActionStatus').PENDING:case c('BoostedActionStatus').REJECTED:var n=this.state.adStatus===c('BoostedActionStatus').PENDING;return (c('React').createElement(c('Layout.react'),{className:"_20fx"+(n?' '+"_20f_":'')+(!n?' '+"_20g0":'')},c('React').createElement(j,null,c('React').createElement('div',{className:"_20g1"})),c('React').createElement(k,{className:"_20g3"},n?c('BoostedComponentStrings').AD_STATUS_PENDING:c('BoostedComponentStrings').AD_STATUS_REJECTED)));case c('BoostedActionStatus').ACTIVE:case c('BoostedActionStatus').PAUSED:var o=this.state.adStatus===c('BoostedActionStatus').ACTIVE,p=!o&&this._getShouldShowDeleteAd();return (c('React').createElement(c('Layout.react'),{className:"_20fx"+(o?' '+"_20g8":'')+(!o?' '+"_40sc":'')},c('React').createElement(j,null,c('React').createElement(c('FBToggleSwitch.react'),{animate:true,checked:o,onToggle:this._onDataUpdate})),c('React').createElement(j,{className:"_20g3"},o?c('BoostedComponentStrings').AD_STATUS_ACTIVE:c('BoostedComponentStrings').AD_STATUS_INACTIVE),c('React').createElement(j,null,p?this._getStatusDivider():null),c('React').createElement(k,null,p?this._getDeleteAd():null)));default:return null;}},_getStatusDivider:function(){return c('React').createElement('div',{className:"_35ov"});},_getDeleteAd:function(){return (c('React').createElement('div',{className:"_35ox"},c('React').createElement(c('Link.react'),{onClick:this._onDeleteAdClick},c('React').createElement('div',{className:"_35oy"},i._("Delete Ad")))));},_onDeleteAdClick:function(){this._submissionViewActions.onClick(c('BoostedComponentClientEvent').DELETE_CLICK);},_onDataUpdate:function(n){var o=null;if(n){o=c('BoostedComponentClientEvent').RESUME_CLICK;}else o=c('BoostedComponentClientEvent').PAUSE_CLICK;this._submissionViewActions.onClick(o);},_getTitleText:function(){var n=this.props.config.getContextStore().getAppID();switch(n){case c('BoostedComponentAppID').BOOSTED_CCTA:return c('BoostedComponentStrings').BOOSTED_CCTA_CREATE_DIALOG_TITLE;case c('BoostedComponentAppID').BOOSTED_EVENT:return c('BoostedPostStrings').EVENT_BUTTON_LABEL;case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:return (c('BoostedComponentStrings').BOOSTED_LOCAL_AWARENESS_CREATE_DIALOG_TITLE);case c('BoostedComponentAppID').BOOSTED_PAGELIKE:if(this.props.config.getExperimentStore().getExperiment(c('BoostedComponentExperiment').BOOSTED_COMPONENT_LABEL))return (c('BoostedComponentStrings').BOOSTED_PAGELIKE_CREATE_DIALOG_EXPERIMENT_TITLE);return c('BoostedComponentStrings').BOOSTED_PAGELIKE_CREATE_DIALOG_TITLE;case c('BoostedComponentAppID').BOOSTED_POST:if(this.props.config.getContextStore().getPlacement()===c('BoostedPostPlacementOptions').INSIGHTS_POST_SPONSORED_TABLE)return c('BoostedPostStrings').PROMOTE_POST_TITLE;return c('BoostedPostStrings').DEFAULT_BUTTON_LABEL;case c('BoostedComponentAppID').BOOSTED_PRODUCT:return c('BoostedComponentStrings').BOOSTED_PRODUCT_CREATE_DIALOG_TITLE;case c('BoostedComponentAppID').BOOSTED_WEBSITE:if(this.props.config.getExperimentStore().getExperiment(c('BoostedComponentExperiment').BOOSTED_COMPONENT_LABEL))return (c('BoostedComponentStrings').BOOSTED_WEBSITE_CREATE_DIALOG_EXPERIMENT_TITLE);return c('BoostedComponentStrings').BOOSTED_WEBSITE_CREATE_DIALOG_TITLE;default:return c('BoostedComponentStrings').BOOST;}},render:function(){return (c('React').createElement(c('XUIDialogTitle.react'),{className:"_20ga"},c('React').createElement(c('Layout.react'),null,c('React').createElement(j,null,this._getTitleText()),c('React').createElement(k,null,this._getAdStatusBar()))));}});f.exports=m;},null);
__d('BoostedComponentDualCreativeContent.react',['ix','cx','AdsHelpLink.react','BoostedComponentStrings','Link.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentDualCreativeContent',propTypes:{isCreativeVideo:j.bool.isRequired,toggleCreativeCategory:j.func.isRequired,imageEditorLabel:j.string.isRequired,imageEditorTooltip:j.string.isRequired},render:function(){var l=this.props.isCreativeVideo?c('BoostedComponentStrings').CREATIVE_VIDEO:this.props.imageEditorLabel,m=this.props.isCreativeVideo?c('BoostedComponentStrings').CREATIVE_VIDEO_TOGGLE_TIP:c('BoostedComponentStrings').CREATIVE_IMAGE_TOGGLE_TIP,n=this.props.isCreativeVideo?c('BoostedComponentStrings').CREATIVE_VIDEO_TOOLTIP:this.props.imageEditorTooltip;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5alk"},c('React').createElement('label',{className:"_5all"},l),' ',c('React').createElement(c('AdsHelpLink.react'),{imgHover:h('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:h('images/components/HelpLink/info-light-2x.png'),width:300},n)),c('React').createElement('div',{className:"_5alm"},c('React').createElement(c('Link.react'),{onClick:this.props.toggleCreativeCategory},m)),c('React').createElement('div',{className:"_3-8w"},this.props.children)));}});f.exports=k;},null);
__d('BoostedComponentEndDateSelector.react',['cx','fbt','BoostedComponentStrings','BUIDatePicker.react','DateConsts','FBDate','LocalDate','React','UTCUtils','XUIButton.react','XUICalendar.react','XUIDatePicker.react','XUIRadioButtonGroup.react','XUIText.react','adsGKCheck','Timezone'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('Timezone').UTC,l=new (c('FBDate'))(c('UTCUtils').dateToUTC(new Date()),k).startOfDay();function m(o){var p=o.onChange;if(!c('adsGKCheck')('boosted_component_ads_buidatepicker'))return (c('React').createElement(c('XUIDatePicker.react'),{earliestTime:o.earliestTime,initialTime:o.value.getUnixTimestamp(),latestTime:o.latestTime,onCalendarSelectDateChange:p}));p=function(r){return r&&o.onChange(r.toUTCDate());};var q=[];if(o.earliestTime)q.push(function(r){return r.isAfterOrEqual(c('LocalDate').fromInstant(o.earliestTime,k));});if(o.latestTime)q.push(function(r){return r.isBeforeOrEqual(c('LocalDate').fromInstant(o.latestTime,k));});return (c('React').createElement(c('BUIDatePicker.react'),{className:"inlineBlock",dateRestraints:q,value:c('LocalDate').fromFBDate(o.value),onChange:p}));}var n=c('React').createClass({displayName:'BoostedComponentEndDateSelector',propTypes:{campaignLengthOptions:j.arrayOf(j.number),latestAllowedCampaignEndTimestampSeconds:j.number,maxAllowedCampaignLengthInDays:j.number,selectedCampaignLengthInDays:j.number.isRequired,onDataUpdate:j.func.isRequired},getInitialState:function(){return {selectedCampaignLength:this.props.selectedCampaignLengthInDays};},_onDateChange:function(o){var p=new (c('FBDate'))(c('XUICalendar.react').normalizeDate(o),k).startOfDay();this._updateCampaignLength(l.secondsUntil(p)/c('DateConsts').SEC_PER_DAY);},_updateCampaignLength:function(o){this.setState({selectedCampaignLength:o});this.props.onDataUpdate(o);},_renderCampaignLengthButtons:function(){if(!this.props.campaignLengthOptions)return null;var o=this.props.campaignLengthOptions.map(function(p){var q;if(p===1){q=i._("1 day");}else if(p>1)q=i._({"*":"{number} days"},[i.param('number',p,[0])]);return (c('React').createElement(c('XUIButton.react'),{key:p,label:q,size:'xlarge',type:'button',value:p}));});return (c('React').createElement(c('XUIRadioButtonGroup.react'),{className:"_3-96",selectedDepressed:true,selectedValue:this.state.selectedCampaignLength,onValueChange:this._updateCampaignLength},o));},render:function(){var o=this.props.maxAllowedCampaignLengthInDays?l.addDays(this.props.maxAllowedCampaignLengthInDays).getUnixTimestampSeconds():null;if(this.props.latestAllowedCampaignEndTimestampSeconds)o=o?Math.min(o,this.props.latestAllowedCampaignEndTimestampSeconds):this.props.latestAllowedCampaignEndTimestampSeconds;return (c('React').createElement('div',null,this._renderCampaignLengthButtons(),c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'small'},c('BoostedComponentStrings').DATE_PICKER_PREPEND_TEXT),c('React').createElement('span',{className:"plm"},c('React').createElement(m,{earliestTime:l.addDays(1).getUnixTimestampSeconds(),latestTime:o,value:l.addDays(this.state.selectedCampaignLength),onChange:this._onDateChange})))));}});f.exports=n;},null);
__d('BoostedComponentDurationSelector.react',['cx','BoostedComponentEndDateSelector.react','BoostedComponentStrings','InputLabel.react','React','XUIRadioInput.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentDurationSelector',propTypes:{campaignLengthOptions:i.arrayOf(i.number),hideRunContinuously:i.bool.isRequired,latestAllowedCampaignEndTimestampSeconds:i.number,runContinuously:i.bool.isRequired,selectedCampaignLengthInDays:i.number,onDurationTypeUpdate:i.func.isRequired,onEndDateSelectorUpdate:i.func.isRequired},getDefaultProps:function(){return {selectedCampaignLengthInDays:1,runContinuously:false};},getInitialState:function(){return {selectedCampaignLength:this.props.selectedCampaignLengthInDays,runContinuously:this.props.runContinuously};},_onEndDateSelectorUpdate:function(k){this.setState({selectedCampaignLength:k});this.props.onEndDateSelectorUpdate(k);},_onDurationTypeUpdate:function(k){this.setState({runContinuously:k});this.props.onDurationTypeUpdate(k);},_renderRunWithEndDateSection:function(){return (c('React').createElement('div',{className:"_2pin"},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:!this.state.runContinuously,onChange:this._onDurationTypeUpdate.bind(this,false)}),c('React').createElement('label',{className:"_2pir"},c('BoostedComponentStrings').RUN_WITH_END_DATE_LABEL)),this._renderEndDateSelector()));},_renderRunContinuouslySection:function(){return (c('React').createElement('div',{className:"_2pin"},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.state.runContinuously,onChange:this._onDurationTypeUpdate.bind(this,true)}),c('React').createElement('label',{className:"_2pir"},c('BoostedComponentStrings').RUN_CONTINUOUSLY_LABEL)),this._renderRunContinuouslyDescription()));},render:function(){if(this.props.hideRunContinuously&&!this.state.runContinuously)return this._renderEndDateSelector();return (c('React').createElement('form',null,this._renderRunContinuouslySection(),this._renderRunWithEndDateSection()));},_renderRunContinuouslyDescription:function(){if(!this.state.runContinuously)return null;return (c('React').createElement('div',{className:"_2piv _3-8x _3-9a"},c('BoostedComponentStrings').RUN_CONTINUOUSLY_DESCRIPTION));},_renderEndDateSelector:function(){if(this.state.runContinuously)return null;return (c('React').createElement('div',{className:(!this.props.hideRunContinuously?"_2piv":'')+(!this.props.hideRunContinuously?' '+"_3-9a":'')},c('React').createElement(c('BoostedComponentEndDateSelector.react'),{campaignLengthOptions:this.props.campaignLengthOptions,latestAllowedCampaignEndTimestampSeconds:this.props.latestAllowedCampaignEndTimestampSeconds,selectedCampaignLengthInDays:this.state.selectedCampaignLength,onDataUpdate:this._onEndDateSelectorUpdate})));}});f.exports=j;},null);
__d('BoostedComponentTerms.react',['cx','fbt','BoostedComponentTestElement','LayerHideOnBlur','Link.react','React','ReactLayeredComponentMixin','URI','XUICloseButton.react','XUIContextualDialog.react','XUIText.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentTerms',mixins:[c('ReactLayeredComponentMixin')],propTypes:{buttonLabel:j.string.isRequired},getInitialState:function(){return {dialogShown:false};},_showDialog:function(){this.setState({dialogShown:true});},_hideDialog:function(){this.setState({dialogShown:false});},_onToggle:function(l){if(!l&&this.state.dialogShown)this._hideDialog();},renderLayers:function(){return {contextualDialog:c('React').createElement(c('XUIContextualDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.terms;}.bind(this),position:'above',shown:this.state.dialogShown,width:c('XUIContextualDialog.react').WIDTH.WIDE,onToggle:this._onToggle},c('React').createElement(c('XUICloseButton.react'),{className:"rfloat mts mrs",'data-testid':c('BoostedComponentTestElement').TERMS_DIALOG_CLOSE_BUTTON,href:'#',onClick:this._hideDialog}),c('React').createElement('div',{className:"_53iv"},c('React').createElement('div',{className:'mbm'},c('React').createElement(c('XUIText.react'),{size:'medium',weight:'bold'},i._("Terms & Conditions"))),i._("By clicking \"{label}\", you agree to the {terms} including your obligation to comply with the {self-serve terms} and the {ad_guidelines}. We do not use sensitive personal data for ad targeting. Topics you choose for targeting your ad don't reflect the personal beliefs, characteristics or values of users. Failure to comply with the Terms and Conditions, the Self-Serve Ad Terms and the Advertising Guidelines may result in a variety of consequences, including the cancellation of ads you have placed and the termination of your account. Understand that if you are a resident of or have your principal place of business in the US or Canada, you are contracting solely with Facebook, Inc. Otherwise, you are contracting solely with Facebook Ireland, Ltd., except that advertisers in some countries may under certain circumstances contract directly with Facebook affiliate companies solely for purposes of ordering ads. {country specific ads terms}.",[i.param('label',this.props.buttonLabel),i.param('terms',c('React').createElement(c('Link.react'),{href:new (c('URI'))('/legal/terms'),target:'_blank'},i._("Facebook Statement of Rights and Responsibilities"))),i.param('self-serve terms',c('React').createElement(c('Link.react'),{href:'/legal/self_service_ads_terms',target:'_blank'},i._("Self-Serve Ad Terms"))),i.param('ad_guidelines',c('React').createElement(c('Link.react'),{href:new (c('URI'))('/ad_guidelines.php'),target:'_blank'},i._("Facebook Advertising Guidelines"))),i.param('country specific ads terms',c('React').createElement(c('Link.react'),{href:'/legal/country_specific_ads_terms',target:'_blank'},i._("If applicable to you, you can find special provisions applicable to your Orders from those affiliates here")))])))};},render:function(){return (c('React').createElement(c('Link.react'),{className:"_3-9a",'data-testid':c('BoostedComponentTestElement').TERMS,ref:'terms',onClick:this._showDialog},i._("Terms & Conditions")));}});f.exports=k;},null);
__d('BoostedComponentFooter.react',['cx','fbt','BoostedComponentConfig','BoostedComponentDialogActionMenu.react','BoostedComponentDialogSubmissionStates','BoostedComponentTerms.react','LeftRight.react','Link.react','LoadingIndicator.react','React','URI','XUIButton.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentFooter',propTypes:{buttonSpecs:j.array.isRequired,actionMenu:j.element,dialogState:j.number,config:j.instanceOf(c('BoostedComponentConfig'))},getDefaultProps:function(){return {dialogState:c('BoostedComponentDialogSubmissionStates').ENABLED};},_renderActionMenu:function(){if(this.props.config)return (c('React').createElement(c('BoostedComponentDialogActionMenu.react'),{config:this.props.config}));return this.props.actionMenu;},_renderTermsConditionsLink:function(){var l=this.props.buttonSpecs.filter(function(n){return n.use==='confirm';}),m=l.length===1?l[0].label:i._(["Boost","b39b548ea2fdb4f5018d4ac20c7b219e"]);return c('React').createElement(c('BoostedComponentTerms.react'),{buttonLabel:m});},_renderLinkSeparator:function(){return (c('React').createElement('span',{className:"_3-8s"},'|'));},_renderHelpCenterLink:function(){var l=this.props.config&&this.props.config.getURIStore()&&this.props.config.getURIStore().getHelpCenterURI();if(!l)l=new (c('URI'))('/help/www/547448218658012/');return (c('React').createElement(c('Link.react'),{href:l,key:'helpCenter',target:'_blank'},i._("Help Center")));},_renderLoadingIndicator:function(){if(this.props.config||this.props.dialogState!==c('BoostedComponentDialogSubmissionStates').SUBMITTING)return null;return (c('React').createElement(c('LoadingIndicator.react'),{className:"mrm _2ooe",color:'white',size:'small'}));},getModifiedButtonSpecs:function(l){if(l.use==='confirm'){l.disabled=l.disabled||this.props.dialogState!==c('BoostedComponentDialogSubmissionStates').ENABLED;}else l.disabled=l.disabled||this.props.dialogState===c('BoostedComponentDialogSubmissionStates').SUBMITTING;return l;},_renderButtons:function(){var l=[];for(var m=this.props.buttonSpecs.length-1;m>=0;m--){var n=this.getModifiedButtonSpecs(this.props.buttonSpecs[m]);l.push(c('React').createElement('span',{className:"_3-9a",key:m},c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},n,{className:"_2vy",size:'xlarge'}))));}return l;},render:function(){return (c('React').createElement(c('LeftRight.react'),{className:"_2oof _2ph-"},c('React').createElement('div',null,this._renderActionMenu(),this._renderTermsConditionsLink(),this._renderLinkSeparator(),this._renderHelpCenterLink()),c('React').createElement('div',null,this._renderLoadingIndicator(),this._renderButtons())));}});f.exports=k;},null);
__d('BoostedComponentGeoLocationTypeSelector.react',['BoostedComponentClientEvent','BoostedComponentGeoLocationType','BoostedComponentStrings','React','XUIButton.react','XUIRadioButtonGroup.react'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentGeoLocationTypeSelector',propTypes:{geoLocationType:h.string,onDataUpdate:h.func.isRequired},getDefaultProps:function(){return {geoLocationType:c('BoostedComponentGeoLocationType').BROAD_GEO_LOCATION};},getInitialState:function(){return {selected:this.props.geoLocationType};},componentWillReceiveProps:function(j){this.setState({selected:j.geoLocationType});},_onDataUpdate:function(j){this.setState({selected:j});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_GEO_LOCATION_TYPE,j);},render:function(){var j='xlarge';return (c('React').createElement('div',null,c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:true,selectedValue:this.state.selected,onValueChange:this._onDataUpdate},c('React').createElement(c('XUIButton.react'),{label:c('BoostedComponentStrings').TARGET_AUDIENCE_BROAD,size:j,value:c('BoostedComponentGeoLocationType').BROAD_GEO_LOCATION}),c('React').createElement(c('XUIButton.react'),{label:c('BoostedComponentStrings').TARGET_AUDIENCE_LOCAL,size:j,value:c('BoostedComponentGeoLocationType').LOCAL_GEO_LOCATION}))));}});f.exports=i;},null);
__d('BoostedComponentInsightsHeadline.react',['cx','BoostedActionStatsCategory','BoostedComponentStrings','HelpLink.react','joinClasses','Number.react','React','XUIText.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentInsightsHeadline',propTypes:{appID:i.string.isRequired,conversionType:i.string.isRequired,conversions:i.number,impressions:i.number,reach:i.number.isRequired,spend:i.string.isRequired},_formatNumber:function(k){return (c('React').createElement(c('Number.react'),{className:"_5v1f",value:k}));},_formatString:function(k){return (c('React').createElement(c('XUIText.react'),{className:"_5v1f"},k));},_getHeaderWithTooltip:function(k){var l=null;if(k.tooltip)l=c('React').createElement(c('HelpLink.react'),{className:"_3-99",tooltip:k.tooltip});return (c('React').createElement('div',{className:c('joinClasses')("_5v1g _2pi7 _2pi3",k.itemalign)},c('React').createElement('div',{className:"_5v1f"},k.value),c('React').createElement('div',{className:"_3yqt"},k.label,l)));},getConversionHeader:function(k,l){if(l===undefined||l===null)return null;return this._getHeaderWithTooltip({label:c('BoostedComponentStrings').getConversionsLabel(k),tooltip:c('BoostedComponentStrings').getConversionsTooltip(k),value:this._formatNumber(l),itemalign:"_3yqu"});},getReachHeader:function(k){return this._getHeaderWithTooltip({label:c('BoostedComponentStrings').INSIGHTS_REACH_LABEL,tooltip:c('BoostedComponentStrings').INSIGHTS_REACH_TOOLTIP,value:this._formatNumber(k),itemalign:"_3yqu"});},getSpendHeader:function(k){return this._getHeaderWithTooltip({label:c('BoostedComponentStrings').INSIGHTS_SPEND_LABEL,tooltip:c('BoostedComponentStrings').INSIGHTS_SPEND_TOOLTIP,value:this._formatString(k),itemalign:"_3yqv"});},render:function(){var k=this.props.conversions;if(this.props.conversionType===c('BoostedActionStatsCategory').REACH)k=this.props.impressions!=null?this.props.impressions:undefined;return (c('React').createElement('div',{className:"_5v28"},c('React').createElement('div',{className:"_5v2u"},this.getConversionHeader(this.props.appID,k),this.getReachHeader(this.props.reach),this.getSpendHeader(this.props.spend))));}});f.exports=j;},null);
__d('BoostedComponentLeftRightLabeledRow.react',['cx','Grid.react','React','XUIGrayText.react','HelpLink.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('Grid.react').GridItem,j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentLeftRightLabeledRow',propTypes:{label:j.string.isRequired,border:j.bool,alignv:j.oneOf(['top','middle','bottom']),shade:j.string,tooltip:j.string},getDefaultProps:function(){return {border:false,alignv:'top',shade:'dark'};},_renderHelpLink:function(){if(this.props.tooltip)return (c('React').createElement(c('HelpLink.react'),{tooltip:this.props.tooltip}));return null;},render:function(){var l=c('joinClasses')("_16uy"+(this.props.border?' '+"_16uz":''),this.props.className);return (c('React').createElement('div',{className:l},c('React').createElement(c('Grid.react'),{alignv:this.props.alignv,cols:2,fixed:true,spacing:'pas'},c('React').createElement(i,{className:"_16u-"},c('React').createElement(c('XUIGrayText.react'),{className:"_16u_",shade:this.props.shade,weight:'bold'},this.props.label),this._renderHelpLink()),c('React').createElement(i,{className:"_16v0"},this.props.children))));}});f.exports=k;},null);
__d('BoostedComponentPreviewPanel.react',['cx','ix','BoostedComponentContent.react','Image.react','React','XUIGrayText.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentPreviewPanel',propTypes:{values:j.object,helpText:j.string},_renderRow:function(l,m){return (c('React').createElement('div',{className:"_56up",key:l},c('React').createElement(c('XUIGrayText.react'),{className:"_56uq"},l),c('React').createElement('div',{className:"_56ur"},m)));},_getSection:function(){var l=[],m=this.props.values;if(m)for(var n in m)l.push(this._renderRow(n,m[n]));return l;},_renderHelpText:function(){if(!this.props.helpText)return null;return (c('React').createElement('div',{className:"_5su6"},c('React').createElement('div',{className:"_5su7"},c('React').createElement(c('Image.react'),{ref:'tipIcon',src:i('images/components/HelpLink/info.png')})),c('React').createElement(c('XUIGrayText.react'),{className:"_5su8"},this.props.helpText)));},render:function(){return (c('React').createElement(c('BoostedComponentContent.react'),null,c('React').createElement('div',null,this._getSection(),this._renderHelpText())));}});f.exports=k;},null);
__d('BoostedComponentRadiusEditor.react',['invariant','fbt','AdsRadiusSelector.react','BoostedComponentLabeledEditor.react','ImmutableObject','React','arrayContains'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=j.shape({unit:j.string.isRequired,value:j.number.isRequired}),l=c('React').createClass({displayName:'BoostedComponentRadiusEditor',propTypes:{className:j.string,radius:k.isRequired,onChange:j.func.isRequired},render:function(){!c('arrayContains')(['mile','kilometer'],this.props.radius.unit)?h(0):void 0;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:this.props.className,label:i._("Radius")},this._renderSelector()));},_onChange:function(m){this.props.onChange(new (c('ImmutableObject'))({unit:m.unit,value:m.radius}));},_renderSelector:function(){var m=this.props.radius;return (c('React').createElement(c('AdsRadiusSelector.react'),{distanceUnit:m.unit,radius:m.value,size:'large',onRadiusChangeRequested:this._onChange}));}});l.RadiusShape=k;f.exports=l;},null);
__d('BoostedComponentSectionSubheader.react',['cx','invariant','AYMTClientSideLogging','AYMTClientSideRenderingParam','AYMTTipSettings','DOMContainer.react','React','XUINotice.react','adsGKCheck'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedComponentSectionSubheader',propTypes:{bestTip:j.object,errors:j.array,link:j.object},getDefaultProps:function(){return {margin:"_3-8u"};},getInitialState:function(){return {showTip:true};},render:function(){if(this._hasErrors()){return (c('React').createElement(c('XUINotice.react'),{className:"_2jld",size:'small',use:'warn'},this._getErrorMessageList()));}else if(this.state.showTip&&this.props.bestTip&&(c('adsGKCheck')('aymt_boosted_component_targeting_tips')||c('adsGKCheck')('aymt_boosted_component_payments_section_tips'))){this._logImpression();var l=this.props.bestTip[c('AYMTClientSideRenderingParam').CLIENT_SIDE_RENDERING_SPEC][c('AYMTClientSideRenderingParam').TIP_BODY];return (c('React').createElement(c('XUINotice.react'),{className:"_2jld",size:'small',onDismiss:this._dismissTip},c('React').createElement(c('DOMContainer.react'),null,l)));}return c('React').createElement('div',null);},_logImpression:function(){!this.props.bestTip?i(0):void 0;var l=this.props.bestTip[c('AYMTTipSettings').TIP_ID],m=this.props.bestTip[c('AYMTTipSettings').CHANNEL_ID];c('AYMTClientSideLogging').logImpression(l,m);},_dismissTip:function(){!this.props.bestTip?i(0):void 0;var l=this.props.bestTip[c('AYMTTipSettings').TIP_ID],m=this.props.bestTip[c('AYMTTipSettings').CHANNEL_ID];c('AYMTClientSideLogging').logXout(l,m);this.setState({showTip:false});},_hasErrors:function(){return !!(this.props.errors&&this.props.errors.length>0);},_getErrorMessageList:function(){var l=this._getErrorMessages();if(l.length>1){return c('React').createElement('ul',{className:"_2w97"},l);}else if(l.length===1){return l[0];}else return c('React').createElement('div',null);},_getErrorMessages:function(){if(!this.props.errors)return [];var l=this.props.errors.map(function(m){if(this.props.link)return c('React').createElement('span',null,m,' ',this.props.link);return m;}.bind(this));if(l.length>1)return l.map(function(m,n){return c('React').createElement('li',{key:'error_'+n},m);});return l.map(function(m,n){return c('React').createElement('div',{key:'error_'+n},m);});}});f.exports=k;},null);
__d('AdsTargetingGenderSelector.react',['cx','fbt','AdInterfacesUiLogger','BoostedComponentClientEvent','BoostedComponentTestElement','AdsTargetingConstants','XUIButton.react','XUIRadioButtonGroup.react','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsTargetingGenderSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{cfSection:j.string,initialGender:j.number,selectedUse:j.string,onDataUpdate:j.func.isRequired},getDefaultProps:function(){return {initialGender:c('AdsTargetingConstants').GENDERS.All,selectedUse:'confirm'};},_onClick:function(l){this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_GENDER,l);},render:function(){var l="_5v_d",m=i._("All"),n=i._("Men"),o=i._("Women");return (c('React').createElement('div',{className:l,'data-testid':c('BoostedComponentTestElement').GENDER_SELECTOR},c('React').createElement(c('XUIRadioButtonGroup.react'),{selectedDepressed:this.props.selectedDepressed,selectedUse:this.props.selectedUse,selectedValue:this.props.initialGender,onValueChange:this._onClick},c('React').createElement(c('XUIButton.react'),{label:m,size:this.props.size,type:'button',value:c('AdsTargetingConstants').GENDERS.All}),c('React').createElement(c('XUIButton.react'),{label:n,size:this.props.size,type:'button',value:c('AdsTargetingConstants').GENDERS.Men}),c('React').createElement(c('XUIButton.react'),{label:o,size:this.props.size,type:'button',value:c('AdsTargetingConstants').GENDERS.Women}))));}});f.exports=k;},null);
__d('AdsTargetingGeoLocationSelector.react',['cx','fbt','AdsCountries','AdsLocationTokenizer.react','BoostedComponentClientEvent','React','SearchableEntry','XUIGrayText.react','intlList'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsTargetingGeoLocationSelector',propTypes:{entries:j.arrayOf(j.instanceOf(c('SearchableEntry'))).isRequired,onDataUpdate:j.func.isRequired,defaultLocations:j.arrayOf(j.instanceOf(c('SearchableEntry'))),searchSourceOptions:j.object},getDefaultProps:function(){return {entries:[]};},getInitialState:function(){var l=this.props.defaultLocations,m=[];if(l)for(var n=0;n<l.length;++n)m.push(l[n].getTitle());return {hasTokens:!!this.props.entries.length,entries:this.props.entries,defaultLocationNames:m};},onDataUpdate:function(l){this.setState({hasTokens:!!l.length,entries:l});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_BROAD_GEO_LOCATIONS,l);},_getGeoLocationTokenizer:function(){return (c('React').createElement(c('AdsLocationTokenizer.react'),{countries:c('AdsCountries').countries,entries:this.state.entries,searchSourceOptions:this.props.searchSourceOptions,onChange:this.onDataUpdate}));},_getWarningMessage:function(){var l=null,m="mts"+(this.state.hasTokens?' '+"hidden_elem":'');if(!this.state.defaultLocationNames.length){l=i._("Add a country, state\/province, city.");}else l=i._("If left blank, your ad will be delivered to {list_of_countries}.",[i.param('list_of_countries',c('intlList')(this.state.defaultLocationNames,c('intlList').CONJUNCTIONS.AND))]);return (c('React').createElement('div',{className:m},c('React').createElement(c('XUIGrayText.react'),null,l)));},render:function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_5tpn"},this._getGeoLocationTokenizer(),this._getWarningMessage())));}});f.exports=k;},null);
__d('AdsTargetingKeywordSuggestions.react',['cx','React','XUIText.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsTargetingKeywordSuggestions',propTypes:{suggestions:i.array.isRequired,onSuggestionClick:i.func},render:function(){var k=this.props.suggestions.map(function(l,m){return (c('React').createElement('li',{className:"_5c5m",key:m},c('React').createElement('a',{'data-testid':'interest_suggestion_'+m.toString(),href:'#',onClick:this.handleClick.bind(null,l)},c('React').createElement(c('XUIText.react'),{size:'small'},l.text))));},this);return (c('React').createElement('ul',null,k));},handleClick:function(k){if(!this.props.onSuggestionClick)return;this.props.onSuggestionClick(k);}});f.exports=j;},null);
__d('AdsTargetingKeywordTypeahead.react',['fbt','AdInterfacesUiLogger','AdsSBTokenizerConstants','AdsTargetingAdmarketKeywordCategory','AdsTargetingTokenizer.react','BoostedComponentClientEvent','AdsTargetingConstants','React','SearchableEntry','TypeaheadMetricReporter'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsTargetingKeywordTypeahead',propTypes:{accountID:i.string.isRequired,initialEntries:i.array,maxEntries:i.number,smallInput:i.bool,uniqueID:i.string.isRequired,onDataUpdate:i.func.isRequired},getDefaultProps:function(){return {maxEntries:c('AdsTargetingConstants').MAX_KEYWORDS_ENTRIES};},componentWillMount:function(){var k={event_name:'ads_targeting',event_specific_data:{context:c('AdsSBTokenizerConstants').TOKENIZER_TYPES.INTERESTS+'_typeahead',ref:this.props.uniqueID,ad_account_id:this.props.accountID}};this._searchMetricReporter=new (c('TypeaheadMetricReporter'))(k);},componentWillUnmount:function(){delete this._searchMetricReporter;},_onDataUpdate:function(k,l){this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_INTERESTS,k);},_onDataAdd:function(k){this._logUIEvent(k,this.props.uniqueID+'_select_from_typeahead');},_onDataRemove:function(k){this._logUIEvent(k,this.props.uniqueID+'_remove_from_typeahead');},_logUIEvent:function(k,l){var m={fbid:k.id||k.getUniqueID(),name:k.getTitle(),type:k.type||k.getType(),position:k.order||k.getOrder()};c('AdInterfacesUiLogger').log(l,m);},render:function(){var k={kw_filter:[c('AdsTargetingAdmarketKeywordCategory').KEYWORD_CATEGORY_WIKI],max_results:this.props.maxEntries,show_coverage:false,kw_as_value:false,no_wiki_hashtag:true,use_unified_interests:true},l=h._("Add 4-10 interests...");return (c('React').createElement('div',null,c('React').createElement(c('AdsTargetingTokenizer.react'),{'data-testid':'interest_token',entries:this.props.initialEntries,metricReporter:this._searchMetricReporter,placeholder:l,queryData:k,smallInput:this.props.smallInput,uri:c('AdsTargetingConstants').KEYWORD_URI,onDataAdd:this._onDataAdd,onDataRemove:this._onDataRemove,onDataUpdate:this._onDataUpdate})));}});f.exports=j;},null);
__d('AdsTargetingKeywordSelector.react',['cx','AdsTargetingConstants','AdsTargetingKeywordSuggestions.react','AdsTargetingKeywordTypeahead.react','BoostedComponentClientEvent','CurrentLocale','React','SearchableEntry'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsTargetingKeywordSelector',_tokenizerEntries:[],propTypes:{accessToken:i.string.isRequired,accountID:i.string.isRequired,initialEntries:i.array,maxEntries:i.number,primedDao:i.object,smallInput:i.bool,uniqueID:i.string.isRequired,onDataUpdate:i.func.isRequired},getDefaultProps:function(){return {initialEntries:[]};},getInitialState:function(){return {suggestions:[],entries:this.props.initialEntries};},_initializeSelector:function(k){this._tokenizerEntries=k.initialEntries;this._fetchSuggestions(this._getKeywordTokens(k.initialEntries));},componentWillMount:function(){if(!this.props.initialEntries.length)return;this._initializeSelector(this.props);},componentWillReceiveProps:function(k){this._initializeSelector(k);if(k.initialEntries)this.setState({entries:k.initialEntries});},_updateSuggestions:function(k){this.setState({suggestions:k});},_onDataUpdate:function(k,l){this._fetchSuggestions(this._getKeywordTokens(l));this._tokenizerEntries=l;this.props.onDataUpdate(k,l);},_handleSuggestionClick:function(k){var l=k.id,m=new (c('SearchableEntry'))({uniqueID:l,title:k.text});this._tokenizerEntries.push(m);this._onDataUpdate(c('BoostedComponentClientEvent').UPDATE_INTERESTS,this._tokenizerEntries);},_fetchSuggestions:function(k){this._fetchInterestSuggestions(k);},_fetchInterestSuggestions:function(k){if(!this.props.primedDao||!k.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adInterestSuggestion.one(this._renderKeywordSuggestions,{interest_list:k,offset:0,include_algorithm:false,limit:2*c('AdsTargetingConstants').MAX_KEYWORDS_SUGGESTIONS,locale:c('CurrentLocale').get(),access_token:this.props.accessToken});},_getKeywordTokens:function(k){var l=[],m=k.length;for(var n=0;n<m;n++)l.push(k[n].getTitle());return l;},_renderKeywordSuggestions:function(k){if(!k||!k.length){k=[];}else k=k.filter(function(l){if(!l.name)return false;l.text=l.uid=l.name;if(l.text.charAt(0)=='#')l.text=l.text.slice(1);return true;}).slice(0,c('AdsTargetingConstants').MAX_KEYWORDS_SUGGESTIONS);this._updateSuggestions(k);},render:function(){var k="mts"+(!this.state.suggestions?' '+"hidden_elem":'');return (c('React').createElement('div',null,c('React').createElement(c('AdsTargetingKeywordTypeahead.react'),{accountID:this.props.accountID,initialEntries:this.state.entries,maxEntries:this.props.maxEntries,smallInput:this.props.smallInput,uniqueID:this.props.uniqueID,onDataUpdate:this._onDataUpdate}),c('React').createElement('div',{className:k},c('React').createElement(c('AdsTargetingKeywordSuggestions.react'),{suggestions:this.state.suggestions,onSuggestionClick:this._handleSuggestionClick}))));}});f.exports=j;},null);
__d('BoostedComponentTargetingEditor.react',['cx','invariant','AdsAgeSelector.react','AdsCallToActionUtils','AdsCountries','AdsLoadState','AdsTargetingAreaView','AdsTargetingGeoLocationSelector.react','AdsTargetingGenderSelector.react','AdsTargetingKeywordSelector.react','AdsUtils','ApiCallToActionFields','CallToActionValueFields','LocationConstants','Set','BoostedComponentAppID','BoostedComponentContent.react','BoostedComponentCustomLocationEditor.react','BoostedComponentGeoLocationType','BoostedComponentGeoLocationTypeSelector.react','BoostedComponentGeoTargetLevel','BoostedComponentLabeledEditor.react','BoostedComponentSectionSubheader.react','BoostedComponentStrings','BoostedComponentTargetingViewActions','BoostedPrimedDao','React','SearchableEntry','getByPath'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=[c('ApiCallToActionFields').VALUE,c('CallToActionValueFields').LINK];function l(n,o){return c('AdsTargetingAreaView').updateFromCustomLocationSpec(undefined,n,o);}var m=c('React').createClass({displayName:'BoostedComponentTargetingEditor',propTypes:{accessToken:j.string.isRequired,accountID:j.string.isRequired,allowLocalTargeting:j.bool,appID:j.string.isRequired,audienceSize:j.number,blacklistCountries:j.array,callToAction:j.object,customLocation:j.object,errors:j.array,gender:j.number.isRequired,geoLocationType:j.string.isRequired,initialCustomLocation:j.object,interests:j.array,locations:j.array,maxAge:j.number.isRequired,maxReachPossible:j.number.isRequired,maxSelectableAge:j.number.isRequired,minAge:j.number.isRequired,minSelectableAge:j.number.isRequired,pageIconURL:j.string,shouldEdit:j.bool.isRequired,showLoadingIndicator:j.bool.isRequired,showReachWarning:j.bool,targetingViewActions:j.instanceOf(c('BoostedComponentTargetingViewActions')).isRequired,whitelistCountries:j.array},getInitialState:function(){return {mapSize:undefined};},_getAgeSelector:function(){return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:"_3pci",label:c('BoostedComponentStrings').AGE},c('React').createElement(c('AdsAgeSelector.react'),{initialMaxAge:this.props.maxAge,initialMinAge:this.props.minAge,maxSelectableAge:this.props.maxSelectableAge,minSelectableAge:this.props.minSelectableAge,size:'xlarge',onDataUpdate:function(event,n){this.props.targetingViewActions.updateAge(n);}.bind(this)})));},_getGenderSelector:function(){return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').GENDER},c('React').createElement(c('AdsTargetingGenderSelector.react'),{initialGender:this.props.gender,selectedDepressed:true,selectedUse:'default',size:'xlarge',onDataUpdate:function(event,n){this.props.targetingViewActions.updateGender(n);}.bind(this)})));},_getInterestsSelector:function(){if(this.props.appID===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS)return null;var n=this._getInterestEntries(this.props.interests);return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').INTERESTS,tooltip:c('BoostedComponentStrings').INTERESTS_TOOLTIP},c('React').createElement(c('AdsTargetingKeywordSelector.react'),{accessToken:this.props.accessToken,accountID:this.props.accountID,initialEntries:n,primedDao:c('BoostedPrimedDao').getDaoForCurrentAccount(),smallInput:true,uniqueID:'boosted_component',onDataUpdate:function(event,o){this.props.targetingViewActions.updateInterests(o);}.bind(this)})));},_getBroadGeoLocationSelector:function(){switch(this.props.appID){case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:return null;case c('BoostedComponentAppID').BOOSTED_CCTA:case c('BoostedComponentAppID').BOOSTED_WEBSITE:if(this.props.geoLocationType===c('BoostedComponentGeoLocationType').LOCAL_GEO_LOCATION)return null;break;}var n=this._getLocationEntries(this.props.locations),o=this._getLocationEntries(this.props.defaultLocations),p={allowedCountryList:this.props.whitelistCountries,disallowedCountryList:this.props.blacklistCountries,disallowedLocationTypes:new (c('Set'))([c('LocationConstants').ZIPS,c('LocationConstants').CUSTOM_LOCATIONS])};return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').LOCATION,tooltip:c('BoostedComponentStrings').LOCATION_TOOLTIP},c('React').createElement(c('AdsTargetingGeoLocationSelector.react'),{defaultLocations:o,entries:n,searchSourceOptions:p,onDataUpdate:function(event,q){this.props.targetingViewActions.updateBroadGeoLocations(q);}.bind(this)})));},_getGeoLocationTypeSelector:function(){if(!this.props.allowLocalTargeting)return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').TARGET_AUDIENCE},c('React').createElement(c('BoostedComponentGeoLocationTypeSelector.react'),{geoLocationType:this.props.geoLocationType,onDataUpdate:function(event,n){this.props.targetingViewActions.updateGeoLocationType(n);}.bind(this)})));},_getInterestEntries:function(n){if(!n)return [];var o=[],p=n.length;for(var q=0;q<p;++q)o.push(new (c('SearchableEntry'))({uniqueID:n[q].id,title:n[q].name}));return o;},_getLocationEntries:function(n){if(!n||n.length===0)return [];var o=[],p=n.length;for(var q=0;q<p;++q)if(!c('AdsUtils').isObject(n[q])){o.push(new (c('SearchableEntry'))({uniqueID:n[q],title:c('AdsCountries').countries[n[q]],type:c('BoostedComponentGeoTargetLevel').COUNTRIES,auxiliaryData:{key:n[q],name:c('AdsCountries').countries[n[q]],country_code:n[q],type:c('BoostedComponentGeoTargetLevel').COUNTRIES}}));}else o.push(new (c('SearchableEntry'))({uniqueID:n[q].key,title:n[q].name,type:n[q].type,auxiliaryData:{key:n[q].key,name:n[q].name,country_code:n[q].country,region:n[q].region,region_id:n[q].region_id,radius:n[q].radius,type:n[q].type,distance_unit:n[q].distance_unit}}));return o;},_getCustomLocationEditor:function(){switch(this.props.appID){case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:break;case c('BoostedComponentAppID').BOOSTED_CCTA:case c('BoostedComponentAppID').BOOSTED_WEBSITE:if(this.props.geoLocationType===c('BoostedComponentGeoLocationType').BROAD_GEO_LOCATION)return null;break;default:return null;}var n=this.props.customLocation;!n?i(0):void 0;var o=this.props.initialCustomLocation,p=o&&(o.address_string!==n.address_string||o.name!==n.name)?this._onCustomLocationAddressReset:undefined,q={loadState:this.props.showLoadingIndicator?c('AdsLoadState').LOADING:c('AdsLoadState').LOADED,value:this.props.audienceSize};return (c('React').createElement(c('BoostedComponentCustomLocationEditor.react'),{address:n.address_string||n.name,areaView:l(n,this.state.mapSize),audienceSettings:{gender:this.props.gender,maxAge:this.props.maxAge,maxSelectableAge:this.props.maxSelectableAge,minAge:this.props.minAge,minSelectableAge:this.props.minSelectableAge},audienceSize:q,locationCoordinates:this._getCTALocationCoordinates(),locationIconURL:this.props.pageIconURL,maxReachPossible:this.props.maxReachPossible,radius:{unit:n.distance_unit,value:n.radius},showReachWarning:this.props.showReachWarning,onAddressResetRequest:p,onAreaCenterChange:this._onCustomLocationAreaCenterChange,onMapSizeSettled:this._onCustomLocationMapSizeSettled,onRadiusChange:this._onCustomLocationRadiusChange}));},_getCTALocationCoordinates:function(){if(!this.props.callToAction)return;var n=c('getByPath')(this.props.callToAction,k);if(!n)return;var o=c('AdsCallToActionUtils').parseGeoLink(n);if(o)return o.coordinates;},_onCustomLocationAddressReset:function(){this.props.targetingViewActions.updateCustomLocation(c('AdsUtils').clone(this.props.initialCustomLocation));},_onCustomLocationAreaCenterChange:function(n){this.props.targetingViewActions.updateCustomLocation(babelHelpers['extends']({},this.props.customLocation,{address_string:undefined,name:undefined,latitude:n.latitude,longitude:n.longitude}));},_onCustomLocationRadiusChange:function(n){this.props.targetingViewActions.updateCustomLocation(babelHelpers['extends']({},this.props.customLocation,{radius:n.value,distance_unit:n.unit}));},_onCustomLocationMapSizeSettled:function(n){this.setState({mapSize:n});},render:function(){return (c('React').createElement('div',null,c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.props.errors}),c('React').createElement(c('BoostedComponentContent.react'),null,this._getGeoLocationTypeSelector()),this._getCustomLocationEditor(),c('React').createElement(c('BoostedComponentContent.react'),null,this._getBroadGeoLocationSelector(),this._getInterestsSelector(),this._getAgeSelector(),this._getGenderSelector())));}});f.exports=m;},null);
__d('BoostedComponentVideoSelector.react',['cx','fbt','ix','BUIProgressBar.react','BoostedComponentVideoLibrarySelector.react','BoostedComponentVideoSource','CloseButton.react','FileInput.react','Image.react','XUIButton.react','AdsVideoUploadStatus','BoostedComponentStrings','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'BoostedComponentVideoSelector',propTypes:{onCancelUpload:k.func.isRequired,onRemove:k.func.isRequired,onVideoPickerConfirm:k.func.isRequired,onVideoUploadClick:k.func.isRequired,selectedVideoName:k.string,uploadProgressValue:k.number.isRequired,uploadStatus:k.string.isRequired,videoLibrary:k.array.isRequired,videoSource:k.string},render:function(){switch(this.props.uploadStatus){case c('AdsVideoUploadStatus').NONE:if(!this.props.selectedVideoName)return this._renderFilePicker();return this._renderSelectedVideo();case c('AdsVideoUploadStatus').UPLOADING:case c('AdsVideoUploadStatus').ENCODING:return this._renderProgressBar();default:return null;}},_renderFilePicker:function(){return (c('React').createElement('div',null,c('React').createElement(c('FileInput.react'),{accept:'video/*',onChange:this.props.onVideoUploadClick},c('React').createElement(c('XUIButton.react'),{className:"_3-90",href:{url:'#'},label:c('BoostedComponentStrings').CREATIVE_VIDEO_UPLOAD_BUTTON,size:'large'})),c('React').createElement(c('BoostedComponentVideoLibrarySelector.react'),{videoLibrary:this.props.videoLibrary,onVideoPickerConfirm:this.props.onVideoPickerConfirm})));},_renderProgressBar:function(){var m=Number(this.props.uploadProgressValue);return (c('React').createElement('div',{className:"_2i40"},c('React').createElement(c('BUIProgressBar.react'),{className:"_5e6e",isBuffering:this.props.uploadStatus===c('AdsVideoUploadStatus').ENCODING,percentage:m*100}),c('React').createElement(c('CloseButton.react'),{'aria-label':i._("Cancel Upload"),className:"_58zx",size:'small',onClick:this.props.onCancelUpload})));},_renderSelectedVideo:function(){var m=null;switch(this.props.videoSource){case c('BoostedComponentVideoSource').UPLOAD:m=c('BoostedComponentStrings').getVideoUploadSuccessText(this.props.selectedVideoName);break;case c('BoostedComponentVideoSource').BROWSE_LIBRARY:case c('BoostedComponentVideoSource').PRELOAD_VIDEO:m=c('BoostedComponentStrings').getVideoSelectedText(this.props.selectedVideoName);break;default:}return (c('React').createElement('div',{className:"_2i41"},c('React').createElement('div',{className:"_2i42"},c('React').createElement(c('Image.react'),{className:"_3vfj",src:j('/images/icons/check_mark.gif')}),m),c('React').createElement(c('CloseButton.react'),{'aria-label':i._("Remove video"),className:"_58zx",size:'small',onClick:this.props.onRemove})));}});f.exports=l;},null);
__d('AdsUiImage.react',['Image.react','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsUiImage',propTypes:{fixedHeight:h.number.isRequired,realHeight:h.number.isRequired,realWidth:h.number.isRequired,src:h.string,visibleHeight:h.number,visibleWidth:h.number},render:function(){var j=this.props.visibleWidth||this.props.realWidth,k=this.props.visibleHeight||this.props.realHeight,l=this.props.fixedHeight/k,m={height:this.props.fixedHeight,overflow:'hidden',width:j*l};return (c('React').createElement('div',babelHelpers['extends']({},this.props,{style:babelHelpers['extends']({},this.props.style||{},m)}),c('React').createElement(c('Image.react'),{height:this.props.realHeight*l,src:this.props.src,width:this.props.realWidth*l})));}});f.exports=i;},null);
__d('BoostedComponentVideoThumbnails.react',['cx','AdsArrowedCarousel.react','AdsSelected.react','AdsUiImage.react','BoostedComponentImageLibrarySelector.react','BoostedComponentStrings','CenteredContainer.react','Layout.react','Link.react','curry','joinClasses','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('Layout.react').Column,j=c('Layout.react').FillColumn,k=c('React').PropTypes,l=c('React').createClass({displayName:'BoostedComponentVideoThumbnails',propTypes:{selectedVideoThumbnails:k.array.isRequired,selectedThumbnail:k.object,onThumbnailClick:k.func.isRequired,accountID:k.string.isRequired},render:function(){var m=c('React').createElement(c('Link.react'),null,c('React').createElement(c('AdsSelected.react'),{isSelected:false},c('React').createElement(c('CenteredContainer.react'),{className:"_2pnt",vertical:true},c('React').createElement(c('AdsUiImage.react'),{fixedHeight:24,realHeight:24,realWidth:24,src:'/images/ads/mediapanel/thumbnailPicker-plus.png'}),c('BoostedComponentStrings').CREATIVE_VIDEO_CUSTOM_THUMBNAIL)));return (c('React').createElement('div',{className:"_576r"},c('React').createElement(i,null,c('React').createElement(c('BoostedComponentImageLibrarySelector.react'),{accountID:this.props.accountID,className:c('joinClasses')("_3-99","_3-90"),clickableTrigger:m,onImageSelected:this.props.onThumbnailClick})),c('React').createElement(c('Layout.react'),null,c('React').createElement(j,null,c('React').createElement(c('AdsArrowedCarousel.react'),{className:"_3-96"},this.props.selectedVideoThumbnails.map(this._renderThumbnail))))));},_renderThumbnail:function(m,n){var o=false;if(this.props.selectedThumbnail)o=m.id===this.props.selectedThumbnail.id;return (c('React').createElement(c('AdsSelected.react'),{isSelected:o,key:'thumbnail_'+n},c('React').createElement(c('Link.react'),{onClick:c('curry')(this.props.onThumbnailClick,m)},c('React').createElement(c('AdsUiImage.react'),{fixedHeight:80,key:n,realHeight:m.height,realWidth:m.width,src:m.uri}))));}});f.exports=l;},null);
__d('BoostedComponentVideoPanel.react',['cx','BoostedComponentVideoSelector.react','BoostedComponentVideoThumbnails.react','AdsVideoUploadStatus','BoostedComponentStrings','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentVideoPanel',propTypes:{accountID:i.string.isRequired,onCancelUpload:i.func.isRequired,onRemove:i.func.isRequired,onThumbnailClick:i.func.isRequired,onVideoPickerConfirm:i.func.isRequired,onVideoUploadClick:i.func.isRequired,selectedThumbnail:i.object,selectedVideoName:i.string,selectedVideoThumbnails:i.array.isRequired,switchColumn:i.bool,uploadProgressValue:i.number.isRequired,uploadStatus:i.string.isRequired,videoLibrary:i.array.isRequired,videoSource:i.string},render:function(){var k=null,l=this.props.uploadStatus===c('AdsVideoUploadStatus').NONE&&this.props.selectedVideoName,m="_40rp"+(!l?' '+"_40rq":'');if(l)k=c('React').createElement(c('BoostedComponentVideoThumbnails.react'),{accountID:this.props.accountID,selectedThumbnail:this.props.selectedThumbnail,selectedVideoThumbnails:this.props.selectedVideoThumbnails,switchColumn:this.props.switchColumn,onThumbnailClick:this.props.onThumbnailClick});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8y"},c('React').createElement('div',{className:"_40rp"},c('BoostedComponentStrings').CREATIVE_VIDEO_STEP_ONE),c('React').createElement(c('BoostedComponentVideoSelector.react'),{selectedVideoName:this.props.selectedVideoName,uploadProgressValue:this.props.uploadProgressValue,uploadStatus:this.props.uploadStatus,videoLibrary:this.props.videoLibrary,videoSource:this.props.videoSource,onCancelUpload:this.props.onCancelUpload,onRemove:this.props.onRemove,onVideoPickerConfirm:this.props.onVideoPickerConfirm,onVideoUploadClick:this.props.onVideoUploadClick})),c('React').createElement('div',{className:"_3-8y"},c('React').createElement('div',{className:m},c('BoostedComponentStrings').CREATIVE_VIDEO_STEP_TWO),k)));}});f.exports=j;},null);
__d('AdsAdAccountSelector.react',['fbt','AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','React','XUISelector.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('XUISelector.react').Option,j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsAdAccountSelector',mixins:[c('AdsTargetingTogglerSafeMixin')],propTypes:{accounts:j.object.isRequired,fontSize:j.number,maxWidth:j.number,onDataUpdate:j.func.isRequired,selectedAccount:j.string.isRequired,size:j.oneOf(['small','medium','large','xlarge','xxlarge']),width:j.number},getDefaultProps:function(){return {size:'medium'};},getInitialState:function(){return {selectedAccount:this.props.selectedAccount};},componentWillReceiveProps:function(l){this.setStateSafe(l);},_onDataUpdate:function(l){this.setStateSafe({selectedAccount:l.value});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_ACCOUNT,l.value);},_getAccountOptions:function(){var l=[],m=this.props.accounts,n={fontSize:this.props.fontSize,width:this.props.width};for(var o in m)l.push(c('React').createElement(i,{key:o,value:o},c('React').createElement('div',{style:n},h._("{account_name} ({account_id}, {account_currency})",[h.param('account_name',m[o].name),h.param('account_id',o),h.param('account_currency',m[o].currency)]))));return l;},render:function(){return (c('React').createElement(c('XUISelector.react'),{maxheight:200,maxwidth:this.props.maxWidth,size:this.props.size,value:this.state.selectedAccount,onChange:this._onDataUpdate},this._getAccountOptions()));}});f.exports=k;},null);
__d('AdsChangeCurrencyWarnBox.react',['fbt','AdsCFBox.react','Currency','Link.react','React','URI'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsChangeCurrencyWarnBox',propTypes:{currency:i.string.isRequired,helpLink:i.string,isBRLCurrencySwapMessage:i.bool},render:function(){if(this.props.isBRLCurrencySwapMessage)return (c('React').createElement(c('AdsCFBox.react'),{type:'yellow'},h._("Because you've selected Brazil as your account country, your payments will be processed in Brazilian Real (BRL). You'll see your payments in {currency ISO code} on Facebook, but your bank may show BRL.",[h.param('currency ISO code',c('Currency').getName(this.props.currency))])));return (c('React').createElement(c('AdsCFBox.react'),{type:'yellow'},h._("Payments made in {currency name} ({currency ISO code}) will now be processed in US Dollars (USD). You'll see your payments in {currency ISO code}, but your bank statement may show USD. {=Learn more}.",[h.param('currency name',c('Currency').getName(this.props.currency)),h.param('currency ISO code',this.props.currency),h.param('=Learn more',c('React').createElement(c('Link.react'),{href:new (c('URI'))(this.props.helpLink)},h._("Learn More")))])));}});f.exports=j;},null);
__d('AdsCurrencySelector.react',['cx','CurrencyConfig','AdsSwapChargeCurrency','AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','React','XUISelector.react'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('XUISelector.react').Option,j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsCurrencySelector',mixins:[c('AdsTargetingTogglerSafeMixin')],propTypes:{fontSize:j.number,maxWidth:j.number,onDataUpdate:j.func.isRequired,selectedCurrency:j.string.isRequired,showISOCode:j.bool,size:j.oneOf(['small','medium','large','xlarge','xxlarge']),width:j.number},getDefaultProps:function(){return {showISOCode:false,size:'medium'};},getInitialState:function(){return {selectedCurrency:this.props.selectedCurrency};},componentWillReceiveProps:function(l){this.setStateSafe(l);},_onDataUpdate:function(l){this.setStateSafe({selectedCurrency:l.value});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_CURRENCY,l.value);},_getSortedCurrencies:function(){return c('CurrencyConfig').adsCurrencyCodes.map(function(l){return c('CurrencyConfig').adsCurrenciesByCode[l];}).sort(function(l,m){return l.name.localeCompare(m.name);});},_getWarnbox:function(){var l=c('AdsSwapChargeCurrency').renderWarnbox(this.state.selectedCurrency);if(l&&this.state.selectedCurrency!=='BRL')return (c('React').createElement('div',{className:"_3-8y"},l));return null;},_getCurrencyString:function(l,m){if(this.props.showISOCode)return l+" ("+m+") ";return l;},render:function(){var l=this._getSortedCurrencies(),m=l.length,n={fontSize:this.props.fontSize,width:this.props.width},o=[];for(var p=0;p<m;p++)o.push(c('React').createElement(i,{key:l[p].iso,value:l[p].iso},c('React').createElement('div',{style:n},this._getCurrencyString(l[p].name,l[p].iso))));return (c('React').createElement('div',null,c('React').createElement(c('XUISelector.react'),{maxheight:200,maxwidth:this.props.maxWidth,size:this.props.size,value:this.state.selectedCurrency,onChange:this._onDataUpdate},o),this._getWarnbox()));}});f.exports=k;},null);
__d('AdsPaymentInfo.react',['fbt','invariant','AdsPaymentName','Link.react','React','URI'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsPaymentInfo',propTypes:{adAccountInfo:j.shape({id:j.string,hasFundingSource:function(l,m,n){!l[m]?i(0):void 0;}}).isRequired},getPaymentLink:function(){if(this.props.adAccountInfo.isPrepayAccount)return null;var l=new (c('URI'))('/ads/manage/funding.php').addQueryData('act',this.props.adAccountInfo.id);return (c('React').createElement(c('Link.react'),{href:l,target:'_blank'},h._("Change")));},render:function(){return (c('React').createElement('div',null,c('AdsPaymentName').getPaymentName(this.props.adAccountInfo,true),c('React').createElement('span',{className:'mls'},this.getPaymentLink())));}});f.exports=k;},null);
__d('BoostedComponentSection.react',['cx','LeftRight.react','React','XUICard.react','XUICardSection.react','joinClasses'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentSection',propTypes:{headerLink:i.object,isFirstSection:i.bool,title:i.string},render:function(){var k="_2f3o"+(!this.props.isFirstSection?' '+"_49hu":'');return (c('React').createElement(c('XUICard.react'),{className:k},this._getHeader(),c('React').createElement(c('XUICardSection.react'),{className:c('joinClasses')(this.props.className,"_2hgz")},this.props.children)));},_getHeader:function(){if(!this.props.title)return null;return (c('React').createElement('div',{className:"_144t"},c('React').createElement(c('LeftRight.react'),null,this.props.title,this.props.headerLink)));}});f.exports=j;},null);
__d('BoostedComponentAdAccountSection.react',['AdsAdAccountSelector.react','AdsCurrencySelector.react','AdsPaymentInfo.react','AdsPixelViewActions','BoostedComponentAdAccountViewActions','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentLabeledEditor.react','React','SubscriptionsHandler','XUIText.react'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentAdAccountSection',propTypes:{config:h.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){var j=this.props.config;this._adAccountViewActions=new (c('BoostedComponentAdAccountViewActions'))(j.getDispatcher());this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(j.getAdAccountStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)),j.getAdStatusStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},render:function(){return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:false,title:c('BoostedComponentStrings').PAYMENT_INFO_SECTION},c('React').createElement(c('BoostedComponentContent.react'),null,this._getCurrencySelector(),this._getAccountSelector(),this._getPaymentInfoSection())));},_getCurrencySelector:function(){var j=this.props.config.getAdAccountStore();if(!j.canUpdateSelectedAccountCurrency())return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CURRENCY_SECTION,shade:'dark'},c('React').createElement(c('AdsCurrencySelector.react'),{selectedCurrency:j.getSelectedAccountCurrency(),onDataUpdate:function(event,k){this._adAccountViewActions.updateCurrency(k);}.bind(this)})));},_getAccountSelector:function(){var j=this.props.config.getAdAccountStore();if(Object.keys(j.getAllAccounts()).length<=1)return null;if(this.props.config.getAdStatusStore().getShouldEdit()){var k=j.getAllAccounts();return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').ACCOUNT_SECTION,shade:'dark'},c('React').createElement(c('XUIText.react'),null,k[j.getSelectedAccountID()].name)));}return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').ACCOUNT_SECTION,shade:'dark'},c('React').createElement(c('AdsAdAccountSelector.react'),{accounts:j.getAllAccounts(),selectedAccount:j.getSelectedAccountID(),onDataUpdate:function(event,l){this._adAccountViewActions.updateAccount(l);c('AdsPixelViewActions').resetPixelList();}.bind(this)})));},_getPaymentInfoSection:function(){var j=this.props.config.getAdAccountStore();if(!j.getSelectedAccountHasFundingSource())return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').PAYMENT_METHOD_SECTION,shade:'dark'},c('React').createElement(c('AdsPaymentInfo.react'),{adAccountInfo:j.getSelectedAccountPaymentInfo()})));}});f.exports=i;},null);
__d('BoostedPostLocationTargetingSection.react',['fbt','cx','AdsTargetingLocationSelector.react','BoostedComponentLeftRightLabeledRow.react','BoostedPostStrings','AdsTargetingConstants','React','XUIGrayText.react','intlList'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('BoostedPostStrings').TARGETING_LABELS,k=c('React').PropTypes,l=c('React').createClass({displayName:'BoostedPostLocationTargetingSection',propTypes:{onDataUpdate:k.func.isRequired,audienceSelected:k.number.isRequired,initialData:k.object.isRequired,locationSelectorOptions:k.object.isRequired},getInitialState:function(){return {fofSelectorShown:false};},_getInitialLocationTokenizer:function(){switch(this.props.initialData.targetingLevel){case 'countries':return c('AdsTargetingConstants').LOCATION_TYPES.Countries;case 'regions':return c('AdsTargetingConstants').LOCATION_TYPES.Regions;case 'cities':return c('AdsTargetingConstants').LOCATION_TYPES.Cities;default:return null;}},_onShowFofSelector:function(){this.setState({fofSelectorShown:!this.state.fofSelectorShown});},getLocationSelector:function(){if(!this.state.fofSelectorShown&&(this.props.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Fans||this.props.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Grouper)){var m=this.props.initialData.targetingLevel?this.props.initialData.targetingLevel:'countries',n=this.props.locationSelectorOptions.targetingLocations[m],o=c('intlList')(n.map(function(q){return q.getTitle();}));return (c('React').createElement(c('BoostedComponentLeftRightLabeledRow.react'),{label:j.LOCATION},c('React').createElement('div',{className:"_x05"},c('React').createElement('div',{className:"_x06"},c('React').createElement(c('XUIGrayText.react'),{shade:'medium'},o)),c('React').createElement('a',{className:"_x07",href:'#',onClick:this._onShowFofSelector},h._("Edit")))));}var p=this.props.locationSelectorOptions;return (c('React').createElement(c('BoostedComponentLeftRightLabeledRow.react'),{label:j.LOCATION},c('React').createElement(c('AdsTargetingLocationSelector.react'),{blacklistCountries:p.blacklistCountries,defaultCountries:p.defaultCountries,initialRadius:this.props.initialData.radius,initialTokenizer:this._getInitialLocationTokenizer(),initialTokens:p.targetingLocations,smallInput:true,whitelistCountries:p.whitelistCountries,onDataUpdate:this.props.onDataUpdate})));},render:function(){var m="_1nzr"+(!(this.props.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Fans||this.props.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Grouper)?' '+"hidden_elem":'');return (c('React').createElement('div',{className:m},this.getLocationSelector()));}});f.exports=l;},null);
__d('BoostedPostLookalikeCountrySelector.react',['AdsTargetingTogglerSafeMixin','BoostedComponentClientEvent','XUISelector.react','React'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('XUISelector.react').Option,i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedPostLookalikeCountrySelector',mixins:[c('AdsTargetingTogglerSafeMixin')],propTypes:{defaultCountry:i.string.isRequired,countries:i.object.isRequired,onDataUpdate:i.func.isRequired},getInitialState:function(){return {selected:this.props.defaultCountry};},_onCountryChange:function(k){this.setStateSafe({selected:k.value});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_LOOKALIKE_COUNTRY,k.value);},_getCountryList:function(){var k=[];for(var l in this.props.countries)k.push(c('React').createElement(h,{value:l},this.props.countries[l]));return k;},render:function(){return (c('React').createElement(c('XUISelector.react'),{maxheight:200,maxwidth:150,value:this.state.selected,onChange:this._onCountryChange},this._getCountryList()));}});f.exports=j;},null);
__d('BoostedPostAudienceManagerConstants',['fbt'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={GRAPH_API_VERSION:'2.3',GRAPH_API_VERSION_V2:'2.4',NEW_AUDIENCE_ID:"new",SPECIAL_AUDIENCES:{GROUPER:1,NCPP:2,CUSTOM_AUDIENCE:3,LOOKALIKE:4,ENGAGED:5,FANS:6,PREFERRED_AUDIENCE:7,LAST_USED:101,CREATE_NEW:102,DEFAULT:103,PRIVACY_GATING:104},EDITOR_MODES:{CREATE:0,EDIT:1,DRAFT:2},EDITOR_ACTIONS:{CREATE:1,EDIT:2,DELETE:3},EDITOR_INPUTS:{NAME:1,LOCATIONS:2,AGE:3,GENDER:4,INTERESTS:5,LANGUAGES:6},MESSAGES:{AUDIENCE_SAVED:h._("Audience Saved!"),AUDIENCE_UPDATED:h._("Audience Updated!"),AUDIENCE_DELETED:h._("Audience Deleted!"),CREATE_AUDIENCE_ERROR:h._("Failed to create audience"),UPDATE_AUDIENCE_ERROR:h._("Failed to update audience"),DELETE_AUDIENCE_ERROR:h._("Failed to delete audience"),MUST_SPECIFY_LOCATION:h._("Location must be specified")},LABELS:{AUDIENCE_DETAILS:h._("Audience Details"),AUDIENCE:h._("Audience"),NAME:h._(["Name","36622a3864e1583545ad3e67fb35259c"])},MAX_NAME_LENGTH:40,DEFAULT_NAME_INITIAL_NUMBER:1};f.exports=i;},null);
__d('BoostedPostTargetingController',['fbt','Promise','AdsDaoGraph','BoostedPostAudienceManagerConstants','BoostedComponentConstants','BoostedPostAppConfig','BoostedPostLogging','BoostedPostEventType','AdsTargetingConstants','CustomAudienceDeliveryStatus','GraphAPI','GraphAPIPaging','adsGKCheck'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k,l){this.$BoostedPostTargetingController1=j;this.$BoostedPostTargetingController2=k;this.$BoostedPostTargetingController3=l;this.$BoostedPostTargetingController4=c('AdsDaoGraph').primedForAccount(j);this.$BoostedPostTargetingController5=c('GraphAPI')(c('adsGKCheck')(c('BoostedComponentConstants').GK_ADS_API_V2_4)?c('BoostedPostAudienceManagerConstants').GRAPH_API_VERSION_V2:c('BoostedPostAudienceManagerConstants').GRAPH_API_VERSION);}i.prototype.getDao=function(){return this.$BoostedPostTargetingController4;};i.prototype.getTargetingSpecs=function(j,k){var l=[];if(this.$BoostedPostTargetingController3){l.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('saved_audiences').get({access_token:c('BoostedPostAppConfig').access_token,fields:['name','targeting','adcampaigns']}).then(c('GraphAPIPaging').eachPage()).then(function(m){return m.data.map(function(n){var o=n.id,p=n.name,q=n.targeting,r=n.adcampaigns;return {audience_id:o,audience_name:p,target_spec:q,adcampaigns:r};});}));}else l.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('audiences').get({access_token:c('BoostedPostAppConfig').access_token,limit:1000}).then(function(m){return m.data;}));if(k)l.push(this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('customaudiences').get({access_token:c('BoostedPostAppConfig').access_token,fields:['name','delivery_status']}).then(function(m){var n=m.data.filter(function(o){var p=o.delivery_status;return (p.code===c('CustomAudienceDeliveryStatus').ACTIVE);});return n.map(function(o){var p=o.id,q=o.name;return {audience_id:p,audience_name:q,target_spec:{custom_audiences:[{id:parseInt(p,10)}]},is_custom:true};});}));c('Promise').all(l).done(function(m){return j([].concat.apply([],m));});};i.prototype.saveTargetingSpec=function(j,k,l,m){var n=this.$BoostedPostTargetingController6(j,k);if(!this.$BoostedPostTargetingController7(j,m))return;var o=j.getTargetSpec().getRaw(j.getLocationType());if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('saved_audiences').post({access_token:c('BoostedPostAppConfig').access_token,name:n,targeting:o}).done(function(p){c('BoostedPostLogging').log(c('BoostedPostEventType').AM_AUDIENCE_CREATED,{audience_id:p.id,audience_name:n,custom_targeting_raw:o});l(parseInt(p.id,10));},m.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.CREATE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.add.createNewSavedTargetSpec.one(function(p){c('BoostedPostLogging').log(c('BoostedPostEventType').AM_AUDIENCE_CREATED,{audience_id:p.id,audience_name:n,custom_targeting_raw:o});this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();l(parseInt(p.id,10));}.bind(this),{targeting_spec:o,name:n,access_token:c('BoostedPostAppConfig').access_token,handleError:m.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.CREATE_AUDIENCE_ERROR)});};i.prototype.updateTargetingSpec=function(j,k,l,m){var n=this.$BoostedPostTargetingController6(j,k),o=j.getAudienceID();if(!this.$BoostedPostTargetingController7(j,m))return;var p=j.getTargetSpec().getRaw(j.getLocationType());c('BoostedPostLogging').log(c('BoostedPostEventType').AM_AUDIENCE_EDITED,{id:o,custom_targeting_raw:p});if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.object('saved_audience',o.toString()).post({access_token:c('BoostedPostAppConfig').access_token,name:n,targeting:p}).done(l,m.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.UPDATE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.mutate.savedTargetSpec.one(function(){this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();l();}.bind(this),{targeting_spec:p,name:n,audienceId:o,access_token:c('BoostedPostAppConfig').access_token,handleError:m.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.UPDATE_AUDIENCE_ERROR)});};i.prototype.deleteTargetingSpec=function(j,k,l){var m=j.getAudienceID();c('BoostedPostLogging').log(c('BoostedPostEventType').AM_AUDIENCE_DELETED,{id:m});if(this.$BoostedPostTargetingController3){this.$BoostedPostTargetingController5.object('saved_audience',m.toString()).remove({access_token:c('BoostedPostAppConfig').access_token}).done(function(n){return k();},l.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.DELETE_AUDIENCE_ERROR));}else this.$BoostedPostTargetingController4.remove.audience.one(function(){this.$BoostedPostTargetingController4.fetch.audiencesForAccount.clearCache();k();}.bind(this),{audienceId:m,access_token:c('BoostedPostAppConfig').access_token,handleError:l.bind(null,c('BoostedPostAudienceManagerConstants').MESSAGES.DELETE_AUDIENCE_ERROR)});};i.prototype.fetchReachEstimates=function(j,k,l){this.$BoostedPostTargetingController4.fetch.estimatesForAccount.one(l,{access_token:c('BoostedPostAppConfig').access_token,currency:k,targeting_spec:j});};i.prototype.getTargetingSentences=function(j,k,l){this.$BoostedPostTargetingController5.adaccount(this.$BoostedPostTargetingController1).edge('targetingsentencelines').get({access_token:c('BoostedPostAppConfig').access_token,discard_ages:!j.age_min&&!j.age_max,discard_placements:true,targeting_spec:j}).done(k,l);};i.prototype.$BoostedPostTargetingController7=function(j,k){if(this.$BoostedPostTargetingController8(j))if(!(this.$BoostedPostTargetingController2&&this.$BoostedPostTargetingController2.length)){k(c('BoostedPostAudienceManagerConstants').MESSAGES.MUST_SPECIFY_LOCATION);return false;}else{j.getTargetSpec().setCountries(this.$BoostedPostTargetingController2);j.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Countries);}return true;};i.prototype.$BoostedPostTargetingController8=function(j){var k=j.getTargetSpec();switch(j.getLocationType()){case c('AdsTargetingConstants').LOCATION_TYPES.Countries:if(!k.getCountries().length)return true;break;case c('AdsTargetingConstants').LOCATION_TYPES.Regions:if(!k.getRegions().length)return true;break;case c('AdsTargetingConstants').LOCATION_TYPES.Cities:if(!k.getCities().length)return true;break;default:return true;}return false;};i.prototype.$BoostedPostTargetingController6=function(j,k){var l=j.getAudienceName();if(l&&l.length)return l;if(j.getOriginalName())return j.getOriginalName();var m=c('BoostedPostAudienceManagerConstants').DEFAULT_NAME_INITIAL_NUMBER;while(1){var n=h._("Audience {audience_number}",[h.param('audience_number',m)]);if(k.indexOf(n)===-1)return n;++m;}};f.exports=i;},null);
__d('BoostedPostAudienceDetails.react',['cx','fbt','BoostedPostTargetingController','React','XUIText.react','intlList'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=170,l=c('React').createClass({displayName:'BoostedPostAudienceDetails',propTypes:{audience:j.object,controller:j.instanceOf(c('BoostedPostTargetingController')),width:j.number},getDefaultProps:function(){return {width:k};},getInitialState:function(){return {targetingSentences:null,hasAudienceDescription:true};},componentWillMount:function(){this._init(this.props);},componentWillReceiveProps:function(m){this._init(m);},_init:function(m){this._populateTargetingSentences(m.audience);},_populateTargetingSentences:function(m){if(Object.keys(m).length){this.props.controller.getTargetingSentences(m,this._populateTargetingSentencesCallback,this._targetingSentencesErrorCallback);}else this.setState({targetingSentences:null,hasAudienceDescription:true});},_populateTargetingSentencesCallback:function(m){this.setState({targetingSentences:m.targetingsentencelines,hasAudienceDescription:true});},_targetingSentencesErrorCallback:function(){this.setState({targetingSentences:null,hasAudienceDescription:false});},_getTargetingSentenceFormatted:function(m,n){return (c('React').createElement(c('XUIText.react'),{className:"ellipsis"+(n!==0?' '+"_3-8-":''),'data-hover':'tooltip','data-tooltip-display':'overflow',display:'block',key:m.content,size:'small',style:{width:this.props.width}},i._("{content_label} {children}",[i.param('content_label',c('React').createElement(c('XUIText.react'),{display:'block',weight:'bold'},m.content)),i.param('children',c('intlList')(m.children,c('intlList').CONJUNCTIONS.OR))])));},render:function(){if(!this.state.hasAudienceDescription)return (c('React').createElement('div',null,i._("Error while fetching audience description.")));var m=this.state.targetingSentences;if(!m||!m.length)return null;return (c('React').createElement('div',{className:"_54z8"},m.map(this._getTargetingSentenceFormatted)));}});f.exports=l;},null);
__d('AdsTargetingViewConfig',['AdsTargetingSectionsLabels','ImmutableObject','keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('keyMirror')({OFF:null,STRONG:null,WEAK:null,BROADEN:null,DANGEROUS:null}),i=13,j=65,k=['relationshipSingle','relationshipInA','relationshipMarried','relationshipEngaged','relationshipUnspecified'],l='cities',m='zips',n='regions',o=[],p=c('keyMirror')({getFeatureEffect:null}),q=c('keyMirror')({}),r={INTERESTS:{getFeatureEffect:function(u){var v=u.keywords&&u.keywords.length||u.interests&&u.interests.length;return v?h.STRONG:h.OFF;}},CUSTOM_AUDIENCE:{getFeatureEffect:function(u){return u.customAudiences&&u.customAudiences.length?h.STRONG:h.OFF;}},CONNECTIONS:{getFeatureEffect:function(u){var v=u.connections&&u.connections.length||u.friendsOfConnections&&u.friendsOfConnections.length;return v?h.STRONG:h.OFF;}},CATEGORIES:{getFeatureEffect:function(u){return u.userAdclusters&&u.userAdclusters.length?h.STRONG:h.OFF;}},LOCATION:{getFeatureEffect:function(u){if(u.geoLocations){var v=u.geoLocations,w=v.cities&&v.cities.length,x=v.zips&&v.zips.length,y=v.regions&&v.regions.length,z=u.excludedGeoLocations||{},aa=0;Object.keys(z).forEach(function(da){aa+=z[da].length||0;});if(w||x){return h.STRONG;}else if(y){return aa?h.STRONG:h.WEAK;}else if(v.countries&&v.countries.length>1)return aa?h.WEAK:h.BROADEN;return aa?h.WEAK:h.OFF;}var ba=u.locTargeting===m||u.locTargeting===l,ca=u.cities&&u.cities.length||u.zips&&u.zips.length;if(ba&&ca)return h.STRONG;if(u.locTargeting===n&&u.regions&&u.regions.length)return h.WEAK;if(u.countries&&u.countries.length>1)return h.BROADEN;return h.OFF;}},GENDER_AGE:{getFeatureEffect:function(u){if(u.ageMax&&u.ageMax!==j||u.ageMin&&u.ageMin!==i||u.sex)return h.WEAK;return h.OFF;}},SCHOOL:{getFeatureEffect:function(u){if(!u.educationStatus)return h.OFF;return h.WEAK;}},WORK:{getFeatureEffect:function(u){return h.OFF;}},LANGUAGE:{getFeatureEffect:function(u){return u.locales&&u.locales.length?h.WEAK:h.OFF;}},RELATIONSHIP:{getFeatureEffect:function(u){var v=!!u.interestedIn&&!!u.interestedIn.length,w=false,x=true;k.forEach(function(y){w=w||u[y];x=x&&u[y];});if(x||!w)return v?h.WEAK:h.OFF;return v?h.STRONG:h.WEAK;}},DEVICE:{getFeatureEffect:function(u){var v=0;if(u.wifiOnly)v++;var w=u.mobileDevices||[];if(w.length&&w.length!==3)v++;if(u.minIosVersion||u.minAndroidVersion)v++;if(v>1){return h.STRONG;}else if(v===1)return h.WEAK;return h.OFF;}},ADV_DEMO:{getFeatureEffect:function(u){var v=!!Object.keys(c('AdsTargetingSectionsLabels')).filter(function(w){return o.indexOf(w)==-1&&u[w]&&u[w].length;}).length;return v?h.STRONG:h.OFF;}}},s={};Object.keys(r).forEach(function(u){r[u].KEY=u;s[u]=u;});var t={INTERFACE:p,OPTIONAL_INTERFACE:q,EFFECTS:h,FEATURES:s,getViewNames:function(){return Object.keys(r);},getAllViewConfigs:function(){return Object.keys(r).map(function(u){return new (c('ImmutableObject'))(r[u]);});},getViewConfigByName:function(u){return new (c('ImmutableObject'))(r[u]);}};f.exports=t;},null);
__d('AdsTargetingRatingUtils',['AdsTargetingViewConfig','ImmutableObject','AdsTargetingSpecOverallRating','keyMirror'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('AdsTargetingViewConfig').EFFECTS,i=c('keyMirror')({TOO_SMALL:null,SMALL:null,GOOD:null,TOO_BROAD:null}),j=c('keyMirror')({DANGEROUS:null,VAGUE:null,GOOD:null,GREAT:null,NONE:null}),k=1000*1000,l=100*k,m=2500,n=10000,o=3,p=2,q={SIZE_RATINGS:i,FEATURE_RATINGS:j,OVERALL_RATINGS:c('AdsTargetingSpecOverallRating'),getFeaturesByEffect:function(r){var s=c('AdsTargetingViewConfig').getAllViewConfigs(),t={};Object.keys(h).forEach(function(u){t[u]=[];});s.forEach(function(u){var v=u.getFeatureEffect(r);t[v].push(u);});return t;},getConfigsWithFeature:function(r){var s=c('AdsTargetingViewConfig').getAllViewConfigs();return s.map(function(t){return new (c('ImmutableObject'))(babelHelpers['extends']({},t,{EFFECT:t.getFeatureEffect(r)}));});},getAudienceSizeRating:function(r){var s=i;if(r<=m){return s.TOO_SMALL;}else if(r<=n){return s.SMALL;}else if(r<l)return s.GOOD;return s.TOO_BROAD;},getFeaturesRating:function(r){var s=j,t=this.getFeaturesByEffect(r);delete t[h.OFF];if(t[h.DANGEROUS].length)return s.DANGEROUS;var u=t[h.STRONG].length,v=t[h.WEAK].length;u+=Math.floor(v/o);if(u>=p){return s.GREAT;}else if(u){return s.GOOD;}else if(v)return s.VAGUE;return s.NONE;},getOverallRating:function(r,s){var t=this.getFeaturesRating(r),u=this.getAudienceSizeRating(s),v=i,w=j,x=c('AdsTargetingSpecOverallRating');switch(u){case v.TOO_SMALL:return x.BAD_TOO_SMALL;case v.TOO_BROAD:switch(t){case w.NONE:case w.DANGEROUS:return x.BAD_TOO_BROAD;case w.VAGUE:case w.GOOD:return x.VAGUE;case w.GREAT:return x.GOOD;}break;case v.GOOD:switch(t){case w.DANGEROUS:return x.GOOD;case w.NONE:return x.BAD_TOO_BROAD;case w.VAGUE:return x.VAGUE;case w.GOOD:case w.GREAT:return x.GOOD;}break;case v.SMALL:switch(t){case w.DANGEROUS:return x.BAD_TOO_SMALL;case w.NONE:case w.VAGUE:return x.VAGUE;case w.GOOD:case w.GREAT:return x.GOOD;}}}};f.exports=q;},null);
__d('AdsTargetingEstimateFeedbackThrottle.react',['cx','fbt','ix','AdsOtherConsts','AdsTargetingRatingUtils','BrowserSupport','Image.react','LeftRight.react','LoadingIndicator.react','NumberFormat','React','ReactFragment','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('AdsTargetingRatingUtils').OVERALL_RATINGS;function m(p){switch(p){case l.GOOD:return i._("Your audience is defined.");case l.VAGUE:return i._("Your audience selection is fairly broad.");case l.BAD_TOO_SMALL:return i._("Your audience is too specific for your ads to be shown. Try making it broader.");case l.BAD_TOO_BROAD:return i._("Your audience selection is broad. This requires a large budget.");}}function n(p){switch(p){case l.GOOD:return c('joinClasses')("_1ga0","_4u38");case l.VAGUE:return c('joinClasses')("_1ga0","_4u39");case l.BAD_TOO_BROAD:return c('joinClasses')("_1ga0","_4u3a");case l.BAD_TOO_SMALL:return c('joinClasses')("_1ga0","_4u3b");}}var o=c('React').createClass({displayName:'AdsTargetingEstimateFeedbackThrottle',propTypes:{estimateErrors:k.array,loading:k.bool.isRequired,rating:k.string.isRequired,ready:k.bool.isRequired,sentences:k.array,shouldOmitFeedback:k.bool,shouldOmitNumUsers:k.bool,shouldOmitSentences:k.bool,users:k.number.isRequired,minimumReach:k.number},getDefaultProps:function(){return {estimateErrors:[],sentences:[],shouldOmitFeedback:false,shouldOmitNumUsers:false,shouldOmitSentences:false,minimumReach:c('AdsOtherConsts').REACH_TOO_LOW_NUMBER};},render:function(){return (c('React').createElement('div',{className:"_1g9y"},this.renderWarning(),c('React').createElement('div',{className:this._getFeedbackSectionClasses()},this.renderFeedbackSection()),this.props.shouldOmitSentences?null:this.renderSentences(),this._isErrorState()?null:this.props.children,this.renderUsers()));},renderFeedbackSection:function(){if(!this.props.ready||this.props.shouldOmitFeedback)return null;return c('ReactFragment').create({throttle:this.renderThrottle(),feedback:this.renderFeedback()});},renderThrottle:function(){if(!this.showNeedle())return null;return (c('React').createElement('div',{className:"_1g9- lfloat"},c('React').createElement('div',{className:"_1g9_"},c('React').createElement(c('Image.react'),{className:n(this.props.rating),src:j('/images/ads/createflow/targeting/needle.png')}),c('React').createElement(c('Image.react'),{className:"_1ga1",src:j('/images/ads/createflow/targeting/meter.png')}),c('React').createElement(c('LeftRight.react'),{className:"_1ga2"},this.renderNeedleLabel(i._("Specific")),this.renderNeedleLabel(i._("Broad"))))));},renderNeedleLabel:function(p){return (c('React').createElement('span',{className:"_1ga3",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':p},p));},renderFeedback:function(){if(this._isErrorState())return null;return (c('React').createElement('div',{className:"rfloat"+(' '+"fsm")+(' '+"_1ga4")+(!this.showNeedle()?' '+"noNeedle":'')},m(this.props.rating)));},renderSentence:function(p,q){if(!p.content)return c('React').createElement('li',{key:p+q},p);return (c('React').createElement('li',{key:p.content+q},c('React').createElement('div',null,p.content),c('React').createElement('ul',{className:"_1ga5 pll"},(p.children||[]).map(function(r,s){return (c('React').createElement('li',{key:r+s},c('React').createElement('div',{className:"_164_"},r)));}))));},renderSentences:function(){if(!this.props.sentences.length)return null;var p=this.props.sentences.map(function(q,r){return this.renderSentence(q,r);}.bind(this));return (c('React').createElement('div',{className:"_1ga6",'data-testid':'targeting-estimate-feedback'},c('React').createElement('span',{className:'fwb'},i._("Audience Details:")),c('React').createElement('ul',{className:"_1ga7 pll pts"},p)));},renderUsers:function(){if(this.props.shouldOmitFeedback||this.props.shouldOmitNumUsers)return null;return this._isErrorState()?this.renderErrorInfo():c('React').createElement('div',{className:"_1ga8"},this.renderNumUsers());},renderNumUsers:function(){if(this.props.loading)return (c('React').createElement('div',{className:"_1ga9"},c('React').createElement(c('LoadingIndicator.react'),{color:c('LoadingIndicator.react').COLORS.blue,size:c('LoadingIndicator.react').SIZES.small})));var p=this.props.users;if(p<=this.props.minimumReach)return i._({"*":"Potential Reach: Fewer than {users} people"},[i.param('users',this.props.minimumReach,[0])]);return i._({"*":"Potential Reach: {users} people"},[i.param('users',c('NumberFormat').formatInteger(p),[0,p])]);},renderWarning:function(){if(!this._isErrorState())if(!this.props.ready)return (c('React').createElement('div',{className:"_1gaa"},i._("Continue to create your audience while your customer list is being built")));return null;},renderErrorInfo:function(){return (c('React').createElement('div',{className:"_1gaa"},i._("Your audience targeting is incomplete. Select at least one location, or choose a Custom Audience.")));},renderEstimateErrors:function(){if(!this.props.estimateErrors.length)return;var p=this.props.estimateErrors.map(function(q){return this.renderSentence(q);}.bind(this));return (c('React').createElement('ul',{className:"_1ga7 pll pts"},p));},showNeedle:function(){return c('BrowserSupport').hasCSSTransforms()&&c('BrowserSupport').hasCSSTransitions();},_getRatingIfNotError:function(){if(!this.props.ready)return '';return this._isErrorState()?'':this.props.rating;},_isErrorState:function(){return isNaN(this.props.users)||this.props.estimateErrors.length;},_getFeedbackSectionClasses:function(){return c('joinClasses')('clearfix',"_1gab",this._getRatingIfNotError(),this._isErrorState()?'ERROR':'');}});f.exports=o;},null);
__d('AdsTargetingEstimateUtils',['AdsCFAudienceEstimateValidator'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getEstimateErrorFromTargetingSpec:function(i){var j=c('AdsCFAudienceEstimateValidator').validateTargetingSpec(i),k=[];for(var l in j){var m=j[l];if(!m.isValid)k.push(m.errorMessage);}return k;}};f.exports=h;},null);
__d('AdsTargetingLanguageSelector.react',['fbt','AdsGraphAPI','AdsStaticSearchSource','AdsTargetingTokenizer.react','BoostedComponentClientEvent','immutable','React','SearchableEntry','areEqual'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=null,k=new (c('AdsStaticSearchSource'))([]),l=h._("Add languages..."),m=c('React').createClass({displayName:'AdsTargetingLanguageSelector',propTypes:{onDataUpdate:i.func.isRequired,selectedLanguages:i.arrayOf(i.number)},componentWillMount:function(){if(j){this._updateLanguages(this.props.selectedLanguages);return;}c('AdsGraphAPI').getWithGeneralMigration().search('adlocale').get({limit:500}).done(this._onLocalesLoaded);},getInitialState:function(){return {entries:[]};},componentWillReceiveProps:function(n){if(j&&!c('areEqual')(n.selectedLanguages,this.props.selectedLanguages))this._updateLanguages(n.selectedLanguages);},_onChange:function(n,o){this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_LANGUAGES,n.map(function(p){return parseInt(p.getUniqueID(),10);}));},render:function(){var n=this.state.searchSource||k;return (c('React').createElement(c('AdsTargetingTokenizer.react'),{entries:this.state.entries,placeholder:l,searchSource:n,smallInput:true,uri:"#",onDataUpdate:this._onChange}));},_updateLanguages:function(n){var o=c('immutable').Set(n||[]),p=[];j.forEach(function(q,r){if(o.contains(q.key))p.push(new (c('SearchableEntry'))({uniqueID:q.id,title:q.name}));});this.setState({entries:p,searchSource:this.state.searchSource||new (c('AdsStaticSearchSource'))(j)});},_onLocalesLoaded:function(n){j=n.data.map(function(o){return {id:o.key,name:o.name,key:o.key};});this._updateLanguages(this.props.selectedLanguages);}});f.exports=m;},null);
__d('BoostedPostAudienceManagerRow.react',['cx','XUIGrayText.react','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedPostAudienceManagerRow',propTypes:{label:i.string},render:function(){var k=this.props;return (c('React').createElement('div',{className:"_5sp0"},c('React').createElement('div',{className:"_5sp1"},c('React').createElement(c('XUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},c('React').createElement('div',{className:"ellipsis",'data-hover':'tooltip','data-tooltip-display':'overflow'},k.label))),c('React').createElement('div',{className:"_5sp2"},k.children)));}});f.exports=j;},null);
__d('BoostedPostAudienceManagerTargetSpec',['AdsCFConstants','AdsCFTargetingStore','AdsCreationExperimentStore','AdsTargetingModelAdapter','AdsTargetingUtils','AdsTargetingConstants','LocationConstants'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('LocationConstants').RadiusInfo;function i(){this.$BoostedPostAudienceManagerTargetSpec1=[];this.$BoostedPostAudienceManagerTargetSpec2=[];this.$BoostedPostAudienceManagerTargetSpec3=[];this.$BoostedPostAudienceManagerTargetSpec4=[];this.$BoostedPostAudienceManagerTargetSpec5=c('AdsTargetingConstants').DEFAULT_RADIUS;}i.prototype.getMinAge=function(){return this.$BoostedPostAudienceManagerTargetSpec6;};i.prototype.setMinAge=function(j){this.$BoostedPostAudienceManagerTargetSpec6=j;};i.prototype.getMaxAge=function(){return this.$BoostedPostAudienceManagerTargetSpec7;};i.prototype.setMaxAge=function(j){this.$BoostedPostAudienceManagerTargetSpec7=j;};i.prototype.getGender=function(){return this.$BoostedPostAudienceManagerTargetSpec8;};i.prototype.setGender=function(j){this.$BoostedPostAudienceManagerTargetSpec8=j;};i.prototype.getCountries=function(){return this.$BoostedPostAudienceManagerTargetSpec1;};i.prototype.setCountries=function(j){this.$BoostedPostAudienceManagerTargetSpec1=j;};i.prototype.getRegions=function(){return this.$BoostedPostAudienceManagerTargetSpec2;};i.prototype.setRegions=function(j){this.$BoostedPostAudienceManagerTargetSpec2=j;};i.prototype.getCities=function(){return this.$BoostedPostAudienceManagerTargetSpec3;};i.prototype.setCities=function(j){this.$BoostedPostAudienceManagerTargetSpec3=j;};i.prototype.getRadius=function(){return this.$BoostedPostAudienceManagerTargetSpec5;};i.prototype.setRadius=function(j){this.$BoostedPostAudienceManagerTargetSpec5=j;};i.prototype.getLocales=function(){return this.$BoostedPostAudienceManagerTargetSpec4;};i.prototype.setLocales=function(j){this.$BoostedPostAudienceManagerTargetSpec4=j;};i.prototype.getInterests=function(){return this.$BoostedPostAudienceManagerTargetSpec9;};i.prototype.setInterests=function(j){this.$BoostedPostAudienceManagerTargetSpec9=j;};i.prototype.setWithSpec=function(j){if(!j)return;this.setMinAge(j.age_min);this.setMaxAge(j.age_max);var k=j.genders;if(k&&k.length)this.setGender(k[0]);var l=j.geo_locations,m=l.countries,n=l.regions,o=l.cities;if(m){this.setCountries(m);}else if(n){this.setRegions(Object.keys(n).map(function(p){return n[p].key.toString();}));}else if(o){if(o.length)this.setRadius(c('AdsTargetingUtils').getValidRadius(o[0].radius,true));this.setCities(o.map(function(p){return p.key.toString();}));}this.setInterests(j.interests);this.setLocales(j.locales);};i.prototype.getRaw=function(j){this.$BoostedPostAudienceManagerTargetSpec10();switch(j){case c('AdsTargetingConstants').LOCATION_TYPES.Countries:c('AdsTargetingModelAdapter').setGeoLocations({countries:this.getCountries()});break;case c('AdsTargetingConstants').LOCATION_TYPES.Regions:var k=this.getRegions().map(function(n){return {key:n};});c('AdsTargetingModelAdapter').setGeoLocations({regions:k});break;case c('AdsTargetingConstants').LOCATION_TYPES.Cities:var l=null;if(this.getRadius())l=this.getRadius();var m=this.getCities().map(function(n){return {key:n,radius:l,distance_unit:h.getLocalizedUnit()};});c('AdsTargetingModelAdapter').setGeoLocations({cities:m});break;}if(this.getMinAge())c('AdsTargetingModelAdapter').setAgeMin(this.getMinAge());if(this.getMaxAge())c('AdsTargetingModelAdapter').setAgeMax(this.getMaxAge());if(this.getGender())c('AdsTargetingModelAdapter').setGenders([this.getGender()]);if(this.getLocales())c('AdsTargetingModelAdapter').setLocales(this.getLocales());if(this.getInterests())c('AdsTargetingModelAdapter').setInterests(this.getInterests());return c('AdsCFTargetingStore').getApiSpec(c('AdsCFConstants').CanonicalID);};i.prototype.$BoostedPostAudienceManagerTargetSpec10=function(){c('AdsTargetingModelAdapter').unset('geoLocations');c('AdsTargetingModelAdapter').unset('ageMin');c('AdsTargetingModelAdapter').unset('ageMax');c('AdsTargetingModelAdapter').setGenders([]);c('AdsTargetingModelAdapter').unset('locales');c('AdsTargetingModelAdapter').unset('interests');};f.exports=i;},null);
__d('BoostedPostAudienceManagerStore',['BoostedPostAudienceManagerTargetSpec','AdsTargetingConstants'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){this.$BoostedPostAudienceManagerStore1=i;this.$BoostedPostAudienceManagerStore2=new (c('BoostedPostAudienceManagerTargetSpec'))();this.$BoostedPostAudienceManagerStore3=false;}h.prototype.getAudienceID=function(){return this.$BoostedPostAudienceManagerStore4;};h.prototype.setAudienceID=function(i){this.$BoostedPostAudienceManagerStore4=i;};h.prototype.getAudienceName=function(){return this.$BoostedPostAudienceManagerStore5;};h.prototype.setAudienceName=function(i){this.$BoostedPostAudienceManagerStore5=i;};h.prototype.getOriginalName=function(){return this.$BoostedPostAudienceManagerStore6;};h.prototype.setOriginalName=function(i){this.$BoostedPostAudienceManagerStore6=i;};h.prototype.getOtherAssociatedAdsCampaignsCount=function(){if(!this.$BoostedPostAudienceManagerStore7)return 0;if(this.$BoostedPostAudienceManagerStore8())return this.$BoostedPostAudienceManagerStore7.length-1;return this.$BoostedPostAudienceManagerStore7.length;};h.prototype.$BoostedPostAudienceManagerStore8=function(){var i=this.$BoostedPostAudienceManagerStore7.length;for(var j=0;j<i;j++)if(this.$BoostedPostAudienceManagerStore7[j].id===this.$BoostedPostAudienceManagerStore1.getAdStatusStore().getCampaignID())return true;return false;};h.prototype.setAssociatedAdCampaigns=function(i){var j=i&&i.data;this.$BoostedPostAudienceManagerStore7=j||[];};h.prototype.getLocationType=function(){return this.$BoostedPostAudienceManagerStore9;};h.prototype.setLocationType=function(i){this.$BoostedPostAudienceManagerStore9=i;};h.prototype.getTargetSpec=function(){return this.$BoostedPostAudienceManagerStore2;};h.prototype.setTargetSpec=function(i){this.$BoostedPostAudienceManagerStore2=i;};h.prototype.getEnabledInputs=function(){return this.$BoostedPostAudienceManagerStore10;};h.prototype.setEnabledInputs=function(i){this.$BoostedPostAudienceManagerStore10=i;};h.prototype.isInputEnabled=function(i){if(!this.$BoostedPostAudienceManagerStore10)return true;return this.$BoostedPostAudienceManagerStore10.indexOf(i)!==-1;};h.prototype.setWithAudience=function(i){if(!i)return;this.setAudienceID(i.audience_id);this.setAudienceName(i.audience_name);this.setOriginalName(i.audience_name);this.setAssociatedAdCampaigns(i.adcampaigns);if(!i.target_spec)return;var j=i.target_spec.geo_locations;if(!j)return;this.$BoostedPostAudienceManagerStore2.setWithSpec(i.target_spec);if(j.countries){this.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Countries);}else if(j.regions){this.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Regions);}else if(j.cities)this.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Cities);};f.exports=h;},null);
__d('BoostedPostAudienceUtil',['fbt','AsyncRequest'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={getCountryNames:function(j,k){if(j.length===0){k({});return;}new (c('AsyncRequest'))().setURI('/ads/targeting/country_names/').setHandler(function(l){k(l.payload);}).setData({country_isos:j}).setReadOnly(true).setMethod('GET').send();},getRegionNames:function(j,k){if(j.length===0){k({});return;}new (c('AsyncRequest'))().setURI('/ads/targeting/region_info/').setHandler(function(l){k(l.payload);}).setData({region_ids:j}).setReadOnly(true).setMethod('GET').send();},getCityNames:function(j,k){if(j.length===0){k({});return;}new (c('AsyncRequest'))().setURI('/ads/targeting/city_names/').setHandler(function(l){k(l.payload);}).setData({city_ids:j}).setReadOnly(true).setMethod('GET').send();},getRegionNamesFromSpecFormat:function(j){return j.map(function(k){return k.name;});},getCityNamesFromSpecFormat:function(j){return j.map(function(k){return h._("{name}, {region}",[h.param('name',k.name),h.param('region',k.region)]);});}};f.exports=i;},null);
__d('BoostedPostNameInput.react',['cx','fbt','BoostedPostAudienceManagerConstants','BoostedComponentClientEvent','XUITextInput.react','React'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedPostNameInput',propTypes:{onDataUpdate:j.func.isRequired,initialText:j.string},getDefaultProps:function(){return {initialText:''};},getInitialState:function(){return {text:this.props.initialText};},componentWillReceiveProps:function(l){this.setState({text:l.initialText});},_onChange:function(event){var l=event.target.value;this.setState({text:l});this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_NAME,l);},clear:function(){this.setState({text:''});this.props.onDataUpdate("name",'');},render:function(){var l=i._("Add audience name ...");return (c('React').createElement('div',{className:"_5spb"},c('React').createElement(c('XUITextInput.react'),{maxLength:c('BoostedPostAudienceManagerConstants').MAX_NAME_LENGTH,placeholder:l,ref:'input',value:this.state.text,onChange:this._onChange})));}});f.exports=k;},null);
__d('BoostedPostAudienceEditor.react',['AdsCFAccountStore','AdsCFActionTypes','AdsDispatcher','AdsTargetingLocationSelector.react','AdsAgeSelector.react','AdsTargetingGenderSelector.react','AdsTargetingKeywordSelector.react','AdsTargetingLanguageSelector.react','AdsTargetingConstants','BoostedPostAudienceManagerConstants','LoadingIndicator.react','SearchableEntry','WebApiApplication','BoostedComponentClientEvent','BoostedPagelikeAppConfig','BoostedPostAppConfig','BoostedPostAudienceManagerStore','BoostedPostAudienceUtil','BoostedPostStrings','BoostedPostTargetingController','BoostedPostNameInput.react','BoostedPostAudienceManagerRow.react','emptyFunction','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('AdsCFAccountStore');var h=c('BoostedPostAudienceManagerConstants').EDITOR_INPUTS,i=c('React').PropTypes,j=c('BoostedPostStrings').TARGETING_LABELS,k=c('React').createClass({displayName:'BoostedPostAudienceEditor',propTypes:{adAccountID:i.string.isRequired,setLoading:i.func.isRequired,onPostMutate:i.func.isRequired,mode:i.number.isRequired,store:i.instanceOf(c('BoostedPostAudienceManagerStore')).isRequired,controller:i.instanceOf(c('BoostedPostTargetingController')).isRequired,otherNames:i.array,showLanguageTargeting:i.bool,onMessageChange:i.func.isRequired,defaultCountries:i.object.isRequired,onTargetingSpecChange:i.func},getDefaultProps:function(){return {otherNames:[],onTargetingSpecChange:c('emptyFunction')};},getInitialState:function(){return {namesLoaded:false,initialTokens:this._getEmptyInitialTokens()};},componentWillMount:function(){c('WebApiApplication').init(c('BoostedPagelikeAppConfig').access_token,c('BoostedPagelikeAppConfig').client_id);c('AdsDispatcher').dispatch({action:{actionType:c('AdsCFActionTypes').ACCOUNT_INIT,accountConfig:{account_id:this.props.adAccountID},type:c('AdsCFActionTypes').ACCOUNT_INIT,emptyInit:true}});this._loading=false;},componentDidMount:function(){this._getLocationNames();},componentDidUpdate:function(){this._getLocationNames();},shouldComponentUpdate:function(){return !this._loading;},componentWillReceiveProps:function(){this.setState({namesLoaded:false});},_onDataUpdate:function(l,m){var n=this.props.store,o=n.getTargetSpec();if(l===c('BoostedComponentClientEvent').UPDATE_COUNTRIES||l===c('BoostedComponentClientEvent').UPDATE_REGIONS||l===c('BoostedComponentClientEvent').UPDATE_CITIES)m=m.map(function(q){return q.getUniqueID();});switch(l){case c('BoostedComponentClientEvent').UPDATE_NAME:n.setAudienceName(m);return;case c('BoostedComponentClientEvent').UPDATE_AGE:o.setMinAge(m.age_min);o.setMaxAge(m.age_max);break;case c('BoostedComponentClientEvent').UPDATE_GENDER:o.setGender(m);break;case c('BoostedComponentClientEvent').UPDATE_CITIES:o.setCities(m);n.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Cities);break;case c('BoostedComponentClientEvent').UPDATE_COUNTRIES:o.setCountries(m);n.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Countries);break;case c('BoostedComponentClientEvent').UPDATE_REGIONS:o.setRegions(m);n.setLocationType(c('AdsTargetingConstants').LOCATION_TYPES.Regions);break;case c('BoostedComponentClientEvent').UPDATE_RADIUS:o.setRadius(m);break;case c('BoostedComponentClientEvent').UPDATE_LANGUAGES:o.setLocales(m);break;case c('BoostedComponentClientEvent').UPDATE_INTERESTS:var p=m.map(function(q){return {id:q.getUniqueID(),name:q.getTitle()};});o.setInterests(p);break;}this.props.onTargetingSpecChange(o.getRaw(n.getLocationType()));this.forceUpdate();},onSave:function(){var l=this.props.store;this._setLoading(true);if(this.props.mode===c('BoostedPostAudienceManagerConstants').EDITOR_MODES.DRAFT){this._onPostMutate(c('BoostedPostAudienceManagerConstants').EDITOR_ACTIONS.EDIT,l.getAudienceID());}else if(l.getAudienceID()&&l.getAudienceID()!==c('BoostedPostAudienceManagerConstants').SPECIAL_AUDIENCES.LAST_USED){var m=this.props.otherNames.slice(),n=l.getAudienceName();for(var o=0;o<m.length;++o)if(m[o]===n){m.splice(o,1);break;}this.props.controller.updateTargetingSpec(l,m,this._onPostMutate.bind(null,c('BoostedPostAudienceManagerConstants').EDITOR_ACTIONS.EDIT,l.getAudienceID()),this._onErrorCallback);}else this.props.controller.saveTargetingSpec(l,this.props.otherNames,this._onPostMutate.bind(null,c('BoostedPostAudienceManagerConstants').EDITOR_ACTIONS.CREATE),this._onErrorCallback);},_onErrorCallback:function(l,m,n,o){this._setLoading(false);this.props.onMessageChange(l);},_onPostMutate:function(l,m){this.props.onPostMutate(l,m);this._setLoading(false);},_getLocationNames:function(){if(this.state.namesLoaded)return;var l=this.props.store,m=l.getTargetSpec(),n=this._getNamesCallback;switch(l.getLocationType()){case c('AdsTargetingConstants').LOCATION_TYPES.Countries:c('BoostedPostAudienceUtil').getCountryNames(m.getCountries(),n.bind(null,c('AdsTargetingConstants').TARGETING_SPEC_KEYS.COUNTRIES,null));break;case c('AdsTargetingConstants').LOCATION_TYPES.Regions:c('BoostedPostAudienceUtil').getRegionNames(m.getRegions(),n.bind(null,c('AdsTargetingConstants').TARGETING_SPEC_KEYS.REGIONS,'name'));break;case c('AdsTargetingConstants').LOCATION_TYPES.Cities:c('BoostedPostAudienceUtil').getCityNames(m.getCities(),n.bind(null,c('AdsTargetingConstants').TARGETING_SPEC_KEYS.CITIES,null));break;default:this.setState({initialTokens:this._getEmptyInitialTokens(),namesLoaded:true});break;}},_getEmptyInitialTokens:function(){return {countries:[],regions:[],cities:[]};},onAudienceDelete:function(){this._setLoading(true);this.props.controller.deleteTargetingSpec(this.props.store,this._onPostMutate.bind(null,c('BoostedPostAudienceManagerConstants').EDITOR_ACTIONS.DELETE),this._onErrorCallback);},_getNamesCallback:function(l,m,n){var o=[];for(var p in n){var q=n[p];if(m)q=q[m];o.push(new (c('SearchableEntry'))({uniqueID:p,title:q}));}var r=this._getEmptyInitialTokens();r[l]=o;this.setState({namesLoaded:true,initialTokens:r});},_setLoading:function(l){this._loading=l;this.props.setLoading(l);},_getInterestEntries:function(l){if(!l)return [];var m=[],n=l.length;for(var o=0;o<n;++o)m.push(new (c('SearchableEntry'))({uniqueID:l[o].id,title:l[o].name}));return m;},render:function(){var l=this.props.store,m=l.getTargetSpec(),n=this._getInterestEntries(m.getInterests()),o=null;if(this.state.namesLoaded){o=c('React').createElement(c('AdsTargetingLocationSelector.react'),{defaultCountries:this.props.defaultCountries,initialRadius:m.getRadius(),initialTokenizer:l.getLocationType(),initialTokens:this.state.initialTokens,ref:'locations',smallInput:true,onDataUpdate:this._onDataUpdate});}else o=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'small'});var p=[];if(l.isInputEnabled(h.NAME))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:c('BoostedPostAudienceManagerConstants').LABELS.NAME},c('React').createElement(c('BoostedPostNameInput.react'),{initialText:l.getAudienceName(),ref:'name',onDataUpdate:this._onDataUpdate})));if(l.isInputEnabled(h.LOCATIONS))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:j.LOCATION},o));if(l.isInputEnabled(h.AGE))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:j.AGE},c('React').createElement(c('AdsAgeSelector.react'),{initialMaxAge:m.getMaxAge(),initialMinAge:m.getMinAge(),onDataUpdate:this._onDataUpdate})));if(l.isInputEnabled(h.GENDER))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:j.GENDER},c('React').createElement(c('AdsTargetingGenderSelector.react'),{initialGender:m.getGender(),onDataUpdate:this._onDataUpdate})));if(this.props.showLanguageTargeting&&l.isInputEnabled(h.LANGUAGES))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:j.LANGUAGES},c('React').createElement(c('AdsTargetingLanguageSelector.react'),{selectedLanguages:m.getLocales(),onDataUpdate:this._onDataUpdate})));if(l.isInputEnabled(h.INTERESTS))p.push(c('React').createElement(c('BoostedPostAudienceManagerRow.react'),{key:p.length,label:j.INTERESTS},c('React').createElement(c('AdsTargetingKeywordSelector.react'),{accessToken:c('BoostedPostAppConfig').access_token,accountID:this.props.adAccountID,initialEntries:n,primedDao:this.props.controller.getDao(),smallInput:true,uniqueID:'boosted_post',onDataUpdate:this._onDataUpdate})));return (c('React').createElement('div',null,p));}});f.exports=k;},null);
__d('BoostedPostAudienceManagerModule',['cx','fbt','AdsTargetingEstimateFeedbackThrottle.react','AdsTargetingEstimateUtils','AdsTargetingRatingUtils','BoostedPostAudienceManagerConstants','BoostedPostAudienceManagerStore','BoostedPostBasicDialog.react','BoostedPostTargetingController','LayerFadeOnHide','LayerHideOnEscape','LoadingIndicator.react','XUICard.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogSaveButton.react','XUIDialogCancelButton.react','XUIGrayText.react','XUINotice.react','ReactLayeredComponentMixin','BoostedPostAudienceEditor.react','React','AdInterfacesUiLogger','AdInterfacesAppNames'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedPostAudienceManagerModule',mixins:[c('ReactLayeredComponentMixin')],propTypes:{adAccountID:j.string.isRequired,controller:j.instanceOf(c('BoostedPostTargetingController')).isRequired,defaultCountries:j.object.isRequired,dialogShown:j.bool,mode:j.number,otherNames:j.array,showDefault:j.bool,showFeedbackThrottle:j.bool,showLanguageTargeting:j.bool.isRequired,store:j.instanceOf(c('BoostedPostAudienceManagerStore')).isRequired,suggestedAudience:j.bool,onChangeDialogState:j.func.isRequired,onPostMutate:j.func.isRequired},getDefaultProps:function(){return {showDefault:true,mode:c('BoostedPostAudienceManagerConstants').EDITOR_MODES.CREATE};},getInitialState:function(){return {loading:false,estimateThrottleConfig:{ready:true,loading:true,rating:c('AdsTargetingRatingUtils').OVERALL_RATINGS.BAD_TOO_BROAD,users:0,estimateErrors:[]}};},componentWillMount:function(){this._requestCounter=0;c('AdInterfacesUiLogger').setAccountID(this.props.adAccountID);c('AdInterfacesUiLogger').setAppName(c('AdInterfacesAppNames').BOOSTED_POSTS);},_onToggle:function(l){this.props.onChangeDialogState(l);this.setState({message:null});},_onSave:function(){this.refs.editor.onSave();},_setLoading:function(l){this.setState({loading:l});},_onPostMutate:function(l,m){this.props.onChangeDialogState(false);this.props.onPostMutate(l,m);},_onDelete:function(){this.refs.editor.onAudienceDelete(this.props.store.getAudienceID());},_onMessageChange:function(l){this.setState({message:l});},_getDialogTitle:function(){switch(this.props.mode){case c('BoostedPostAudienceManagerConstants').EDITOR_MODES.CREATE:return i._("Create Audience");default:return i._("Edit Audience");}},_getDeleteDialog:function(){var l=c('React').createElement('a',{href:'#'},c('React').createElement(c('XUIGrayText.react'),{size:'small'},i._("Delete"))),m=i._("Delete Audience?"),n=i._("It will be removed from your saved audiences list."),o=i._("Cancel"),p=i._("Delete");return (c('React').createElement(c('BoostedPostBasicDialog.react'),{body:n,closeButtonText:o,confirmHandler:this._onDelete,confirmText:p,entryComponent:l,title:m,width:300}));},_getExplanationText:function(){if(this.props.mode===c('BoostedPostAudienceManagerConstants').EDITOR_MODES.CREATE){return i._("Select the location, age, gender and interests of people you want to reach with your ad.");}else return i._("Make sure to save your edits once you're done.");},_fetchReachEstimates:function(l){if(!this.props.showFeedbackThrottle)return;this._requestCounter++;this._controller.fetchReachEstimates(l,'USD',this._fetchReachEstimatesCallback.bind(this,this._requestCounter,l));var m=this.state.estimateThrottleConfig;m.loading=true;this.setState({estimateThrottleConfig:m});},_fetchReachEstimatesCallback:function(l,m,n){if(l!==this._requestCounter)return;this.setState({estimateThrottleConfig:{ready:n.estimate_ready,loading:false,rating:c('AdsTargetingRatingUtils').getOverallRating(m,n.users),estimateErrors:c('AdsTargetingEstimateUtils').getEstimateErrorFromTargetingSpec(m),users:n.users}});},_renderFeedbackThrottle:function(){if(!this.props.showFeedbackThrottle)return c('React').createElement('div',null);var l=this.state.estimateThrottleConfig;return (c('React').createElement(c('XUICard.react'),{className:"_38ns"},c('React').createElement(c('AdsTargetingEstimateFeedbackThrottle.react'),{estimateErrors:l.estimateErrors,loading:l.loading,rating:l.rating,ready:l.ready,users:l.users})));},_getDialogWidth:function(){if(this.props.showFeedbackThrottle)return 680;return 445;},renderLayers:function(){var l=this.state.loading,m=null;if(l)m=c('React').createElement('span',{className:"_5vbk"},c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'small'}));var n=null,o=this.props.store.getAudienceID();if(this.props.mode===c('BoostedPostAudienceManagerConstants').EDITOR_MODES.EDIT&&o)n=this._getDeleteDialog();var p=null;if(this.state.message)p=c('React').createElement('div',{className:"_5vbj"},c('React').createElement(c('XUINotice.react'),null,this.state.message));var q=this.props.showFeedbackThrottle?"_38nu":'';return {dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},shown:this.props.dialogShown,width:this._getDialogWidth(),onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,this._getDialogTitle()),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5csd"},this._renderAssociatedAdCampaignsNotice(),c('React').createElement('div',{className:"_42w7"},c('React').createElement(c('XUIGrayText.react'),{size:'small'},this._getExplanationText())),p,this._renderFeedbackThrottle(),c('React').createElement('div',{className:q},c('React').createElement(c('BoostedPostAudienceEditor.react'),{adAccountID:this.props.adAccountID,controller:this.props.controller,defaultCountries:this.props.defaultCountries,mode:this.props.mode,otherNames:this.props.otherNames,ref:'editor',setLoading:this._setLoading,showLanguageTargeting:this.props.showLanguageTargeting,store:this.props.store,onMessageChange:this._onMessageChange,onPostMutate:this._onPostMutate,onTargetingSpecChange:this._fetchReachEstimates})))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:n},m,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogSaveButton.react'),{disabled:l,use:'confirm',onClick:this._onSave})))};},render:function(){if(!this.props.showDefault)return (c('React').createElement('div',null));if(!this.props.suggestedAudience)return (c('React').createElement('span',{className:"_1r-a"},c('React').createElement(c('XUIGrayText.react'),null,i._("Default Audience"))));return (c('React').createElement('span',{className:"_1r-a"},c('React').createElement(c('XUIGrayText.react'),null,i._("Suggested Audience"))));},_renderAssociatedAdCampaignsNotice:function(){var l=this.props.store.getOtherAssociatedAdsCampaignsCount();if(!l)return null;return (c('React').createElement(c('XUINotice.react'),{className:"_3-95"},i._("You have {number of ads in numerals} other {ads} using this audience. Updating this audience will update all ads associated with it.",[i.param('number of ads in numerals',l),i.param('ads',l===1?i._("ad"):i._("ads"))])));}});f.exports=k;},null);
__d('BoostedPostSupportedTargeting',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={EDIT_TARGETING_FIELDS:['geo_locations','age_min','age_max','genders','locales','interest_defaults_source','interests','radius']};f.exports=h;},null);
__d('BoostedPostSelectAudienceSelector.react',['cx','fbt','AdsQEDataManager','AdsTargetingConstants','BoostedPostAudienceManagerConstants','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentAdsManagerDialog.react','BoostedPostAudienceConstants','BoostedPostAudienceManagerModule','BoostedPostAudienceManagerStore','BoostedPostLogging','BoostedPostEventType','BoostedPostTargetingController','Link.react','LoadingIndicator.react','ReactLayeredComponentMixin','BoostedPostSupportedTargeting','TooltipLink.react','XUIAmbientNUX.react','XUIMenuSeparator.react','XUISelector.react','XUISelectorButton.react','XUIText.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('BoostedPostAudienceManagerConstants').SPECIAL_AUDIENCES,k=c('XUISelector.react').Option,l=c('React').PropTypes,m=c('React').createClass({displayName:'BoostedPostSelectAudienceSelector',mixins:[c('ReactLayeredComponentMixin')],propTypes:{adAccountID:l.string.isRequired,config:l.instanceOf(c('BoostedComponentConfig')).isRequired,defaultCountries:l.object.isRequired,defaultPresetAudience:l.number,defaultTargetSpec:l.object.isRequired,hasLastAudience:l.bool,includeCustomAudiences:l.bool.isRequired,initialInterestsNuxShown:l.bool,lastAudienceID:l.number,preferredAudienceTargetSpec:l.object,showFeedbackThrottle:l.bool,suggestedAudience:l.bool,useSavedAudiences:l.bool,onAudienceUpdate:l.func.isRequired},getInitialState:function(){this._specialAudiences=[];this._preferredAudience=null;if(this.props.preferredAudienceTargetSpec){var n=this.props.preferredAudienceTargetSpec,o=Object.keys(this.props.defaultCountries);if(n.geo_locations||o&&o.length){if(!n.geo_locations)n.geo_locations={countries:o};this._preferredAudience={audience_id:j.PREFERRED_AUDIENCE,audience_name:i._("Preferred Page Audience"),target_spec:n};}}return {audiences:[],dialogShown:false,mode:c('BoostedPostAudienceManagerConstants').EDITOR_MODES.CREATE,selected:this._getDefaultSelectedValue([]),firstFetchDone:false,interestsNuxShown:this.props.initialInterestsNuxShown};},componentWillMount:function(){this._store=new (c('BoostedPostAudienceManagerStore'))(this.props.config);this._store.setAudienceID(this._getDefaultSelectedValue([]));this._isLanguageTargetingExposureLogged=false;this.props.config.getPrivacyGatingStore().subscribe('change',this.refreshSpecs.bind(null,null,null));this.refreshSpecs();},refreshSpecs:function(n,o){this._controller=new (c('BoostedPostTargetingController'))(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this._controller.getTargetingSpecs(this._getTargetingSpecsCallback.bind(null,n,o),this.props.includeCustomAudiences);},_lastAudienceExists:function(n,o){var p=o.concat(n).filter(function(q){return q.audience_id===this.props.lastAudienceID;},this);return !!p.length;},_getDefaultSelectedValue:function(n){var o=this._specialAudiences,p=this.props.defaultPresetAudience;if(this._lastAudienceExists(o,n))return this.props.lastAudienceID;if(p===c('BoostedPostAudienceConstants').NCPP&&this.props.config.getPrivacyGatingStore().isPrivacyGated())return j.PRIVACY_GATING;if(this._preferredAudience)return j.PREFERRED_AUDIENCE;return o.length?o[0].audience_id:n.length?n[0].audience_id:j.DEFAULT;},_getTargetingSpecsCallback:function(n,o,p){if(this.props.config.getPrivacyGatingStore().isPrivacyGated())p=[];p.map(function(t){t.audience_id=parseInt(t.audience_id,10);});this._specialAudiences=this._getSpecialAudiences(p);var q=o?o:this._getDefaultSelectedValue(p);if(q){this.setState({audiences:p,selected:q,firstFetchDone:true});var r=this._getAudienceFromID(q,p);this._onAudienceUpdate(q,r);}else this.setState({audiences:p,firstFetchDone:true});if(!this._loggedAudienceShown){this._loggedAudienceShown=true;var s={ad_account_id:this.props.adAccountID};if(this.props.hasLastAudience){c('BoostedPostLogging').log(c('BoostedPostEventType').AM_LAST_USED_AUDIENCE_SHOWN,s);}else if(p.length){c('BoostedPostLogging').log(c('BoostedPostEventType').AM_FIRST_AUDIENCE_SHOWN,s);}else c('BoostedPostLogging').log(c('BoostedPostEventType').AM_DEFAULT_AUDIENCE_SHOWN,s);}},_getSpecialAudiences:function(n){var o=this.props.config.getExperimentStore(),p=[];if(this.props.includePresetAudiences){p.push({audience_id:j.FANS,audience_name:i._("People who like your Page")});p.push({audience_id:j.GROUPER,audience_name:i._("People who like your Page and their friends")});}if(this.props.config.getPrivacyGatingStore().isPrivacyGated()){p.push({audience_id:j.PRIVACY_GATING,audience_name:i._("People who can see this post")});}else if(this._preferredAudience)p.push({audience_id:this._preferredAudience.audience_id,audience_name:this._preferredAudience.audience_name});if(this.props.hasLastAudience&&!this._lastAudienceExists(p,n)&&!this.props.config.getPrivacyGatingStore().isPrivacyGated())p.push({audience_id:j.LAST_USED,audience_name:this._getAudienceName()});return p;},_getAudienceName:function(){if(!this.props.suggestedAudience)return i._("Default Audience");return i._("Suggested Audience");},_onAudienceChange:function(n){var o=n.value,p=this._getAudienceFromID(o,this.state.audiences),q={ad_account_id:this.props.adAccountID,audience_id:o};c('BoostedPostLogging').log(c('BoostedPostEventType').AM_AUDIENCE_CHANGED,q);if(o!==j.CREATE_NEW)this.setState({selected:o});this._onAudienceUpdate(o,p);},_onAudienceUpdate:function(n,o){var p=this.props.config.getBoostedPostSpecs();switch(n){case j.LAST_USED:case j.DEFAULT:this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').NCPP,this.props.defaultTargetSpec);return;case j.PRIVACY_GATING:p.setAudience(c('BoostedPostAudienceConstants').NCPP);this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').NCPP,p.getPrivacyGatingSpec());return;case j.FANS:p.setAudience(c('BoostedPostAudienceConstants').FANS);this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').FANS,p.getTargetingSpec());return;case j.PREFERRED_AUDIENCE:this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').NCPP,this._preferredAudience.target_spec,j.PREFERRED_AUDIENCE);return;case j.GROUPER:p.setAudience(c('BoostedPostAudienceConstants').GROUPER);this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').GROUPER,p.getTargetingSpec());return;case j.ENGAGED:p.setAudience(c('BoostedPostAudienceConstants').ENGAGED);this.props.onAudienceUpdate(c('BoostedPostAudienceConstants').ENGAGED,p.getTargetingSpec());return;case j.CREATE_NEW:p.setAudience(c('BoostedPostAudienceConstants').NCPP);this._store=new (c('BoostedPostAudienceManagerStore'))(this.props.config);this._store.setWithAudience({target_spec:p.getTargetingSpec()});this.setState({mode:c('BoostedPostAudienceManagerConstants').EDITOR_MODES.CREATE,dialogShown:true});return;default:break;}if(o)this.props.onAudienceUpdate(o.is_custom?c('BoostedPostAudienceConstants').CUSTOM_AUDIENCE:c('BoostedPostAudienceConstants').NCPP,o.target_spec,o.audience_id);},_onAudienceEdit:function(){var n=this.props.config.getBoostedPostSpecs(),o=this.state.selected,p=null,q={ad_account_id:this.props.adAccountID};switch(o){case j.PREFERRED_AUDIENCE:break;case j.DEFAULT:p={target_spec:this.props.defaultTargetSpec};c('BoostedPostLogging').log(c('BoostedPostEventType').AM_DEFAULT_AUDIENCE_EDITED,q);break;case j.LAST_USED:p={target_spec:this.props.defaultTargetSpec};c('BoostedPostLogging').log(c('BoostedPostEventType').AM_LAST_USED_AUDIENCE_EDITED,q);break;case j.GROUPER:case j.FANS:case j.ENGAGED:this._store=new (c('BoostedPostAudienceManagerStore'))(this.props.config);this._store.setWithAudience({audience_id:o,target_spec:n.getTargetingSpec()});this._store.setEnabledInputs([c('BoostedPostAudienceManagerConstants').EDITOR_INPUTS.LOCATIONS]);this.setState({mode:c('BoostedPostAudienceManagerConstants').EDITOR_MODES.DRAFT,dialogShown:true});break;default:p=this._getAudienceFromID(o,this.state.audiences);break;}if(p){this._store=new (c('BoostedPostAudienceManagerStore'))(this.props.config);this._store.setWithAudience(p);this.setState({mode:c('BoostedPostAudienceManagerConstants').EDITOR_MODES.EDIT,dialogShown:true});}},_getAudienceFromID:function(n,o){var p=o.length;for(var q=0;q<p;++q)if(o[q].audience_id===n)return o[q];return null;},_isSelectedAudienceEditable:function(){switch(this.state.selected){case j.PREFERRED_AUDIENCE:case j.CREATE_NEW:return false;case j.LAST_USED:return true;default:return true;}},_isSelectedAudienceEditableOnlyInAdsManager:function(){var n=null;switch(this.state.selected){case j.CREATE_NEW:case j.FANS:case j.GROUPER:case j.PREFERRED_AUDIENCE:case j.ENGAGED:return false;case j.LAST_USED:case j.DEFAULT:n=this.props.defaultTargetSpec;break;default:var o=this._getAudienceFromID(this.state.selected,this.state.audiences);n=o.target_spec;break;}for(var p in n){if(c('BoostedPostSupportedTargeting').EDIT_TARGETING_FIELDS.indexOf(p)===-1)return true;if(p==='locales'&&!this._shouldShowLanguageTargeting())return true;}return this._isIncompatibleFlatGeoSpec(n);},_isIncompatibleFlatGeoSpec:function(n){var o=n.geo_locations;if(!o)return false;var p=0,q=c('AdsTargetingConstants').TARGETING_SPEC_KEYS;Object.keys(o).map(function(r){if([q.COUNTRIES,q.REGIONS,q.CITIES].indexOf(r)!==-1)p++;});return p>1;},_hasAnyAudiences:function(){return this.state.audiences.length+this._specialAudiences.length>0;},_addSpecialAudienceOptions:function(n){var o=this._specialAudiences,p=o.length;for(var q=0;q<p;++q){var r=o[q];n.push(c('React').createElement(k,{key:r.audience_id,value:r.audience_id},r.audience_name));}},_addAudienceOptions:function(n){var o=this.state.audiences,p=o.length;for(var q=0;q<p;++q){var r=o[q];n.push(c('React').createElement(k,{key:r.audience_id,value:r.audience_id},r.audience_name));}},_onPostMutate:function(n,o){if(this.state.mode===c('BoostedPostAudienceManagerConstants').EDITOR_MODES.DRAFT){this.props.onAudienceUpdate(o,this._store.getTargetSpec().getRaw(this._store.getLocationType()));return;}this.refreshSpecs(n,o);},_getOtherNames:function(){return this.state.audiences.map(function(n){return n.audience_name;});},_renderChildren:function(){if(!this.props.children)return null;return (c('React').createElement('div',{className:"_1obt"},this.props.children));},_renderAudienceManagementLinks:function(){if(!this.props.children)return null;var n=this._renderEditLink();return (c('React').createElement('div',{className:"_q1q"},c('React').createElement(c('XUIText.react'),{size:'small'},n,c('React').createElement('span',{className:"_2pi8 _q1r"},n?'|':null),this._renderCreateLink())));},_renderCreateLink:function(){var n=this._onAudienceUpdate.bind(this,j.CREATE_NEW);return (c('React').createElement('span',{ref:'create_new_audience_link'},c('React').createElement(c('Link.react'),{onClick:n},c('React').createElement(c('XUIText.react'),null,i._("Create New Audience")))));},_renderEditLink:function(){if(this._isSelectedAudienceEditableOnlyInAdsManager()){return (c('React').createElement(c('BoostedComponentAdsManagerDialog.react'),null,c('React').createElement('span',null,c('React').createElement(c('Link.react'),null,c('React').createElement(c('XUIText.react'),null,i._("Edit Audience"))))));}else if(this._isSelectedAudienceEditable()){var n=i._("Edit this audience's interests, location, ages and gender");return (c('React').createElement('span',null,c('React').createElement(c('TooltipLink.react'),{alignH:'right',tooltip:n,onClick:this._onAudienceEdit},c('React').createElement(c('XUIText.react'),null,i._("Edit Audience")))));}return null;},_onChangeDialogState:function(n){this.setState({dialogShown:n});},_shouldShowLanguageTargeting:function(){if(this.state.dialogShown&&!this._isLanguageTargetingExposureLogged){c('AdsQEDataManager').logExposure(c('BoostedComponentExperiment').BOOSTED_POST_LANGUAGE_TARGETING,this.props.config.getContextStore().getUserID());this._isLanguageTargetingExposureLogged=true;}return this.props.config.getExperimentStore().getExperiment(c('BoostedComponentExperiment').BOOSTED_POST_LANGUAGE_TARGETING);},render:function(){var n=null;if(this._hasAnyAudiences()){var o=[],p=this.state.audiences.length,q=this._specialAudiences.length;this._addSpecialAudienceOptions(o);if(q&&p)o.push(c('React').createElement(c('XUIMenuSeparator.react'),{key:'separator'}));this._addAudienceOptions(o);n=c('React').createElement(c('XUISelector.react'),{maxheight:200,value:this.state.selected,onChange:this._onAudienceChange},c('React').createElement(c('XUISelectorButton.react'),{className:"_q1n",maxwidth:0,size:'xlarge'}),o);}else if(!this.state.firstFetchDone)n=c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'small'});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1obt"},c('React').createElement(c('BoostedPostAudienceManagerModule'),{adAccountID:this.props.adAccountID,controller:this._controller,defaultCountries:this.props.defaultCountries,dialogShown:this.state.dialogShown,mode:this.state.mode,otherNames:this._getOtherNames(),ref:'manager',showDefault:!this._hasAnyAudiences()&&this.state.firstFetchDone,showFeedbackThrottle:this.props.showFeedbackThrottle,showLanguageTargeting:this._shouldShowLanguageTargeting(),store:this._store,suggestedAudience:this.props.suggestedAudience,onChangeDialogState:this._onChangeDialogState,onPostMutate:this._onPostMutate}),n),this._renderAudienceManagementLinks(),this._renderChildren()));},_onInterestsNuxCloseButtonClick:function(){this.setState({interestsNuxShown:false});},renderLayers:function(){return {interestsNux:c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.create_new_audience_link;}.bind(this),position:'below',shown:this.state.interestsNuxShown&&this.state.firstFetchDone,onCloseButtonClick:this._onInterestsNuxCloseButtonClick},i._("Create a new audience to add interests, which helps you reach the people more likely to care about your post."))};}});f.exports=m;},null);
__d('BoostedPostSelectAudienceSection.react',['cx','BoostedComponentConfig','BoostedPostAudienceDetails.react','BoostedPostPlacementOptions','BoostedPostSelectAudienceSelector.react','BoostedPostTargetingController','PromotedPostConstants','React','URI'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedPostSelectAudienceSection',propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired,adAccountID:i.string.isRequired,suggestedAudience:i.bool,hasLastAudience:i.bool,lastAudienceID:i.number,defaultCountries:i.object.isRequired,defaultSpec:i.object.isRequired,showFeedbackThrottle:i.bool,onTargetingChange:i.func.isRequired,defaultPresetAudience:i.number,preferredAudienceTargetSpec:i.object,includeCustomAudiences:i.bool.isRequired,useSavedAudiences:i.bool},componentWillMount:function(){this._controller=new (c('BoostedPostTargetingController'))(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this.props.config.getBoostedPostSpecs().subscribe(c('PromotedPostConstants').ACCOUNT_CHANGE_FINISH,this._refreshSpecs);},_onAudienceUpdate:function(k,l,m){var n=this.props.config.getBoostedPostSpecs();n.setAudienceAndTargetingSpec(k,l);if(m)n.setLastAudienceID(m);this.props.onTargetingChange();},_refreshSpecs:function(){this._controller=new (c('BoostedPostTargetingController'))(this.props.adAccountID,Object.keys(this.props.defaultCountries),this.props.useSavedAudiences);this.refs.selector.refreshSpecs();},_shouldShowInterestsNux:function(){var k=c('URI').getRequestURI().getQueryData().placement;return k==c('BoostedPostPlacementOptions').AYMT_CREATE_NEW_INTEREST_TARGET_AD;},render:function(){var k=this.props.config.getBoostedPostSpecs();return (c('React').createElement('div',{className:"_3mui"},c('React').createElement(c('BoostedPostSelectAudienceSelector.react'),{adAccountID:this.props.adAccountID,config:this.props.config,defaultCountries:this.props.defaultCountries,defaultPresetAudience:this.props.defaultPresetAudience,defaultTargetSpec:this.props.defaultSpec,hasLastAudience:this.props.hasLastAudience,includeCustomAudiences:this.props.includeCustomAudiences,initialInterestsNuxShown:this._shouldShowInterestsNux(),lastAudienceID:this.props.lastAudienceID,preferredAudienceTargetSpec:this.props.preferredAudienceTargetSpec,ref:'selector',showFeedbackThrottle:this.props.showFeedbackThrottle,suggestedAudience:this.props.suggestedAudience,useSavedAudiences:this.props.useSavedAudiences,onAudienceUpdate:this._onAudienceUpdate},c('React').createElement(c('BoostedPostAudienceDetails.react'),{audience:k.getTargetingSpec(),controller:this._controller,width:300}))));}});f.exports=j;},null);
__d('BoostedPostTargetingAudienceSelector.react',['cx','fbt','BoostedComponentClientEvent','BoostedComponentTestElement','AdsTargetingConstants','InputLabel.react','React','HelpLink.react','XUIRadioInput.react','XUIText.react'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'BoostedPostTargetingAudienceInfo',propTypes:{isAlreadyTargeted:j.bool.isRequired,isDisabled:j.bool,isInComposer:j.bool.isRequired,selectedAudience:j.oneOf([c('AdsTargetingConstants').AUDIENCE.Fans,c('AdsTargetingConstants').AUDIENCE.Grouper,c('AdsTargetingConstants').AUDIENCE.Ncpp,c('AdsTargetingConstants').AUDIENCE.Custom,c('AdsTargetingConstants').AUDIENCE.Lookalike,c('AdsTargetingConstants').AUDIENCE.Engaged]).isRequired,showEngagedAudience:j.bool,showLookalikeAudience:j.bool,onDataUpdate:j.func.isRequired},_onValueChange:function(event){if(!this.props.isDisabled)this.props.onDataUpdate(c('BoostedComponentClientEvent').UPDATE_AUDIENCE,event.target.value);},_renderFansOption:function(){if(this.props.isDisabled)return null;var l=i._(["Your boosted post will only be visible to people who like your Page","0d973f9c956c2c166c4cf796b5664a6c"]);return (c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Fans,name:'audience',value:c('AdsTargetingConstants').AUDIENCE.Fans,onChange:this._onValueChange}),c('React').createElement('label',null,i._("People who like your Page"),c('React').createElement(c('HelpLink.react'),{tooltip:l}))));},_renderGrouperOption:function(){if(this.props.isDisabled)return null;var l=i._(["Your boosted post will only be visible to people who like your Page and their friends","fa8100f08c71354401173e7ac136183f"]);return (c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Grouper,name:'audience',value:c('AdsTargetingConstants').AUDIENCE.Grouper,onChange:this._onValueChange}),c('React').createElement('label',null,i._("People who like your Page and their friends"),c('React').createElement(c('HelpLink.react'),{tooltip:l}))));},_renderNcppOption:function(){if(this.props.isDisabled)return null;var l=i._(["Choose the people you want to show your boosted post to based on their location, age, gender and interests","0c17b4cc50c51d3ccea9cbb55bb7e224"]);return (c('React').createElement(c('InputLabel.react'),{'data-testid':'ncpp_option'},c('React').createElement(c('XUIRadioInput.react'),{checked:this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Ncpp||this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Custom,name:'audience',value:c('AdsTargetingConstants').AUDIENCE.Ncpp,onChange:this._onValueChange}),c('React').createElement('label',null,i._("People you choose through targeting"),c('React').createElement(c('HelpLink.react'),{tooltip:l}))));},_renderLookalikeAudienceOption:function(){if(!this.props.showLookalikeAudience||this.props.isDisabled||this.props.isAlreadyTargeted)return null;var l=i._("Your boosted post will be visible to people who are similar to people who like your Page based on things like their demographics, interests and activities");return (c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Lookalike,name:'audience',value:c('AdsTargetingConstants').AUDIENCE.Lookalike,onChange:this._onValueChange}),c('React').createElement('label',null,i._("People similar to people who like your Page"),c('React').createElement(c('HelpLink.react'),{tooltip:l}))));},_renderEngagedAudience:function(){if(!this.props.showEngagedAudience||this.props.isDisabled)return null;var l=i._("People in this audience includes people who have viewed, checked-in, shared posts or otherwise engaged with your Page, and people who share their ages, genders and interests. They may or may not have liked your Page.");return (c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.props.selectedAudience===c('AdsTargetingConstants').AUDIENCE.Engaged,name:'audience',value:c('AdsTargetingConstants').AUDIENCE.Engaged,onChange:this._onValueChange}),c('React').createElement('label',null,i._("People engaged with your Page and people similar to them"),c('React').createElement(c('HelpLink.react'),{tooltip:l}))));},_renderAlreadyTargeted:function(){if(!this.props.isAlreadyTargeted)return null;if(this.props.isInComposer){var l=i._("Targeting for this post has already been specified.");}else l=i._("Targeting for this post was specified when it was created.");var m="_5lq7"+(this.props.isDisabled?' '+"_5c4b":'')+(' '+"_3-99")+(' '+"_3-8z");return (c('React').createElement(c('XUIText.react'),{className:m,'data-testid':'already_targeted_message',display:'block',size:'small'},l));},render:function(){return (c('React').createElement('form',{className:"_3ni0",'data-testid':c('BoostedComponentTestElement').AUDIENCE_SECTION},this._renderFansOption(),this._renderGrouperOption(),this._renderLookalikeAudienceOption(),this._renderEngagedAudience(),this._renderNcppOption(),this._renderAlreadyTargeted()));}});f.exports=k;},null);
__d('BoostedComponentAudienceSection.react',['cx','BoostedComponentClientEvent','BoostedComponentConfig','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentLeftRightLabeledRow.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentSectionSubheader.react','BoostedComponentTargetingViewActions','BoostedComponentUnit','AdsTargetingConstants','React','SearchableEntry','SubscriptionsHandler','XUIGrayText.react','BoostedPostLocationTargetingSection.react','BoostedPostLookalikeCountrySelector.react','BoostedPostPlacementOptions','BoostedPostSelectAudienceSection.react','BoostedPostTargetingAudienceSelector.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentAudienceSection',_locationSelectorOptions:{},_targetingViewActions:c('BoostedComponentTargetingViewActions'),_subscriptionsHandler:c('SubscriptionsHandler'),propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired,hideTitle:i.bool,isFirstSection:i.bool.isRequired},getInitialState:function(){return {audienceSelected:this.props.config.getBoostedPostSpecs().getAudience()};},componentWillMount:function(){var k=this.props.config.getUnitOptions();this._locationSelectorOptions=k[c('BoostedComponentUnit').LOCATIONS];this._locationSelectorOptions.targetingLocations=this._getLocationTokens();this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(this.props.config.getTargetingStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)),this.props.config.getAdAccountStore().subscribe('change',function(){this.forceUpdate();this.props.config.getBoostedPostSpecs().notifyAccountChangeFinished();}.bind(this)));this._targetingViewActions=new (c('BoostedComponentTargetingViewActions'))(this.props.config.getDispatcher());},componentWillUnmount:function(){this._subscriptionsHandler.release();delete this._subscriptionsHandler;},_getLocationTokens:function(){var k=this._locationSelectorOptions.targetingLocations,l=Object.keys(k),m={};for(var n=0;n<l.length;n++){m[l[n]]=[];for(var o=0;o<k[l[n]].length;o++){var p=k[l[n]][o];m[l[n]].push(p.uniqueID?new (c('SearchableEntry'))({uniqueID:p.uniqueID,title:p.title,subtitle:p.subtitle}):p);}}return m;},render:function(){var k=c('React').createElement('div',null,c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.props.config.getTargetingStore().getValidator().getErrors()}),c('React').createElement(c('BoostedComponentContent.react'),null,this.getAudienceSelectorRow(),this.getLocationTargetingSection(),this.getAudienceManagerSection()));if(this.props.hideTitle)return k;return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:this.props.isFirstSection,title:c('BoostedComponentStrings').TARGETING_SECTION},k));},getAudienceSelectorRow:function(){var k=this.props.config,l=k.getPrivacyGatingStore().isPrivacyGated(),m=this.props.config.getUnitOptions()[c('BoostedComponentUnit').AUDIENCE_MANAGER];if(this._isSmallPage()&&(l||m.enabled))return null;return (c('React').createElement(c('BoostedPostTargetingAudienceSelector.react'),{isAlreadyTargeted:l,isDisabled:this._isSmallPage(),isInComposer:this.props.config.getContextStore().getPlacement()===c('BoostedPostPlacementOptions').COMPOSER,selectedAudience:this.state.audienceSelected,onDataUpdate:this._updateBoostedPostSpec}));},getAudienceManagerSection:function(){var k=this.props.config,l=k.getUnitOptions()[c('BoostedComponentUnit').AUDIENCE_MANAGER],m=k.getBoostedPostSpecs();if(!l.enabled||k.getPrivacyGatingStore().isPrivacyGated()||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Fans||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Grouper||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Lookalike||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Engaged)return null;var n="_1nzr"+(this._isSmallPage()?' '+"_3g4p":'');return (c('React').createElement('div',{className:n},c('React').createElement(c('BoostedPostSelectAudienceSection.react'),{adAccountID:k.getAdAccountStore().getSelectedAccountID(),config:k,defaultCountries:l.defaultCountries,defaultPresetAudience:m.getAudience(),defaultSpec:l.defaultSpec,hasLastAudience:l.hasLastAudience,includeCustomAudiences:k.getConstraintStore().getBlacklistCountries().length===0&&k.getConstraintStore().getWhitelistCountries().length===0,includePresetAudiences:false,lastAudienceID:m.getLastAudienceID(),preferredAudienceTargetSpec:l.preferredAudienceTargetSpec,showFeedbackThrottle:false,suggestedAudience:m.isSuggestedAudience(),useSavedAudiences:true,onTargetingChange:this._onUpdateAudienceManagerTargeting})));},getLocationTargetingSection:function(){var k=this.props.config,l=k.getBoostedPostSpecs();if(k.getPrivacyGatingStore().isPrivacyGated()||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Lookalike||this.state.audienceSelected===c('AdsTargetingConstants').AUDIENCE.Engaged)return null;var m={targetingLevel:l.getTargetingLevel(),radius:l.getRadius()};return (c('React').createElement(c('BoostedPostLocationTargetingSection.react'),{audienceSelected:this.state.audienceSelected,initialData:m,locationSelectorOptions:this._locationSelectorOptions,onDataUpdate:this._updateBoostedPostSpec}));},getLookalikeAudienceSection:function(){var k=this.props.config,l=this._locationSelectorOptions;if(k.getPrivacyGatingStore().isPrivacyGated()||!l.defaultLookalikeCountry)return null;var m=this.state.audienceSelected!==c('AdsTargetingConstants').AUDIENCE.Lookalike?"hidden_elem":'',n=l.lookalikeCountries,o=c('React').createElement(c('BoostedPostLookalikeCountrySelector.react'),{countries:l.lookalikeCountries,defaultCountry:l.defaultLookalikeCountry,onDataUpdate:this._updateBoostedPostSpec});if(n&&Object.keys(n).length===1)for(var p in n){o=c('React').createElement(c('XUIGrayText.react'),{shade:'medium'},n[p]);break;}return (c('React').createElement(c('BoostedComponentLeftRightLabeledRow.react'),{className:m,label:c('BoostedComponentStrings').COUNTRY},o));},_onUpdateAudienceManagerTargeting:function(){this._targetingViewActions.logUpdateTargetingEvent(c('BoostedComponentClientEvent').UPDATE_TARGETING);},_updateBoostedPostSpec:function(k,l){var m={},n=this.props.config.getBoostedPostSpecs();switch(k){case c('BoostedComponentClientEvent').UPDATE_AUDIENCE:var o=parseInt(l,10);this.setState({audienceSelected:o});n.setAudience(o);return;case c('BoostedComponentClientEvent').UPDATE_CITIES:var p=this._getLocationSpecs('cities',l);m={cities:p};n.setLocation(p);break;case c('BoostedComponentClientEvent').UPDATE_COUNTRIES:var q=this._getLocationSpecs('countries',l);m={countries:q};n.setLocation(q);break;case c('BoostedComponentClientEvent').UPDATE_REGIONS:var r=this._getLocationSpecs('regions',l);m={regions:r};n.setLocation(r);break;case c('BoostedComponentClientEvent').UPDATE_RADIUS:m={radius:l};n.setRadius(l);break;case c('BoostedComponentClientEvent').UPDATE_LOOKALIKE_COUNTRY:n.setLookalikeCountry(l);break;default:return;}this._targetingViewActions.logUpdateTargetingEvent(k);},_getLocationSpecs:function(k,l){var m={},n=[],o=l.length;if(o===0)return null;for(var p=0;p<o;p++)if(k==='countries'){n.push(l[p].getUniqueID());}else if(k==='cities'){var q={key:l[p].getUniqueID(),name:l[p].getTitle(),radius:this.props.config.getBoostedPostSpecs().getRadius()};n.push(q);}else n.push({key:l[p].getUniqueID(),name:l[p].getTitle()});m[k]=n;return m;},_isSmallPage:function(){return (this.props.config.getContextStore().getFanCount()<c('BoostedComponentConstants').MIN_FAN_COUNT_FOR_CONNECTIONS_TARGETING);}});f.exports=j;},null);
__d('AdsBudgetDropdownSelector.react',['cx','fbt','AdsCurrencyInput.react','AdsCurrencyFormatter','AdsRichSelector.react','AdsTargetingTogglerSafeMixin','ContextualLayerHideOnScroll','DOM','React','ReactDOM','XUIGrayText.react','XUIText.react'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('AdsRichSelector.react').Option,l='-1';function m(o){return parseInt(o,10);}var n=c('React').createClass({displayName:'AdsBudgetDropdownSelector',mixins:[c('AdsTargetingTogglerSafeMixin')],propTypes:{budgets:j.object.isRequired,currency:j.string.isRequired,hideEstimation:j.bool,selectedBudget:j.number.isRequired,showCustomBudgetOption:j.bool.isRequired,onBudgetSelected:j.func.isRequired,onBudgetEntered:j.func.isRequired,onDropdown:j.func,showLoadingIndicator:j.bool,updateAllBudgets:j.bool,shouldAddCurrencyCode:j.bool,shouldUseBudgetTypeSelector:j.bool},getInitialState:function(){return {selectedBudget:this.props.selectedBudget,customBudget:this.props.selectedBudget};},componentWillReceiveProps:function(o){this.setState({selectedBudget:o.selectedBudget});},_onTextInputChange:function(o){var p=Math.floor(o);if(p===this.state.selectedBudget)return null;this.props.onBudgetEntered(p);this.setStateSafe({customBudget:o,selectedBudget:o});},_onBudgetChange:function(o){this.setStateSafe(o);this.props.onBudgetSelected(o.selectedBudget);},_onSelectorChange:function(o){if(o.value===l){var p=c('DOM').scry(c('ReactDOM').findDOMNode(this.refs.budgetTextInput),'input')[0];p.focus();p.select();return;}this._onBudgetChange({selectedBudget:m(o.value)});},_getEstimatedReach:function(o){if(!this.props.budgets[o])return null;var p=this.props.budgets[o].estimation_label;if(!p||this.props.hideEstimation)return null;return (c('React').createElement(c('XUIGrayText.react'),{className:"_nmo",size:'small',weight:'normal'},p));},_getSortedBudgets:function(o){if(!o)o=this.props.budgets;return Object.keys(o).map(m).sort(function(p,q){return p-q;});},_renderDropdown:function(){var o=this._getSortedBudgets(),p="_nmp mvs",q="_nmq prl";if(this.props.shouldUseBudgetTypeSelector){p="_1mug mvs";q="_1muj prl";}var r=o.map(function(t){var u=c('AdsCurrencyFormatter').formatCurrencyFullFormat(this.props.currency,t,this.props.shouldAddCurrencyCode,true);return (c('React').createElement(k,{key:t,label:u,selected:t===this.state.selectedBudget,value:t.toString()},c('React').createElement('div',{className:p},c('React').createElement(c('XUIText.react'),{className:q,size:'medium'},u),this._getEstimatedReach(t))));},this);if(this.props.showCustomBudgetOption){var s=i._(["Choose Your Own","4b59808cb23c3b1ceecb6dc31069d4a4"]);r.push(c('React').createElement(k,{key:l,label:s,value:l},c('React').createElement('div',{className:p},c('React').createElement(c('XUIText.react'),{className:'prl',size:'medium'},s))));}return (c('React').createElement(c('AdsRichSelector.react'),{alignment:'right',behaviors:{ContextualLayerHideOnScroll:c('ContextualLayerHideOnScroll')},className:"_5wwb",defaultValue:this.state.selectedBudget.toString(),noLabel:true,requireSelection:false,size:'xlarge',onChange:this._onSelectorChange,onDropdown:this.props.onDropdown},r));},_renderTextInput:function(){var o="_nmr";if(this.props.shouldUseBudgetTypeSelector)o="_1pqc";return (c('React').createElement(c('AdsCurrencyInput.react'),{className:o,currency:this.props.currency,eventType:'change',height:'xtall',nonnegative:true,ref:'budgetTextInput',value:this.state.selectedBudget,withISO:this.props.shouldAddCurrencyCode,withNumberDelimiters:true,onDataUpdate:this._onTextInputChange}));},_onKeyDown:function(event){if(event.key==='Enter')event.preventDefault();},render:function(){return (c('React').createElement('div',{className:"_51xa",onKeyDown:this._onKeyDown},this._renderTextInput(),this._renderDropdown()));}});f.exports=n;},null);
__d('BoostedComponentSectionMixin',['invariant','StoreBasedStateMixinHelper','forEachDifference','getObjectValues'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getInitialState:function(){this._stores=this.constructor.getStores(this.props);return this.constructor.calculateState(this._stores,undefined);},componentWillMount:function(){var j=c('getObjectValues')(this._stores);!j.every(function(k){return k!=null;})?h(0):void 0;this._helper=new (c('StoreBasedStateMixinHelper'))(j);this._helper.subscribeCallback(function(){this.setState(this.constructor.calculateState(this._stores,this.state));}.bind(this));},componentWillReceiveProps:function(){var j=this.constructor.getStores(this.props);c('forEachDifference')(this._stores,j,{onBoth:function(k,l,m){return (h(k===l));},onLeft:function(k,l){return (h(false));},onRight:function(k,l){return (h(false));}});},componentWillUnmount:function(){this._helper.release();this._helper=null;}};f.exports=i;},null);
__d('BoostedComponentSectionUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={makeGetStoresFromConfig:function(){for(var i=arguments.length,j=Array(i),k=0;k<i;k++)j[k]=arguments[k];return function(l){return (h.getStoresFromConfig(l.config,j));};},getStoresFromConfig:function(i,j){var k={};j.forEach(function(l){k[l]=i.getStore(l);});return k;}};f.exports=h;},null);
__d('BoostedComponentBudgetAndDurationSection.react',['cx','fbt','ix','AdsBudgetDropdownSelector.react','AdsHelpLink.react','AdsReachEstimateBar.react','AdsReachEstimatePlatformConstant','AdsSwapChargeCurrency','BoostedComponentAppID','BoostedComponentBudgetEstimationViewActions','BoostedComponentBudgetType','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentDurationSelector.react','BoostedComponentDurationViewActions','BoostedComponentExperiment','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionSubheader.react','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','React','XUIGrayText.react','XUINotice.react','XUISelector.react','XUISelectorButton.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('XUISelector.react').Option,m=c('React').createClass({displayName:'BoostedComponentBudgetAndDurationSection',mixins:[c('BoostedComponentSectionMixin')],propTypes:{config:k.instanceOf(c('BoostedComponentConfig')).isRequired},statics:{getStores:c('BoostedComponentSectionUtils').makeGetStoresFromConfig(c('BoostedComponentStoreType').AD_ACCOUNT_STORE,c('BoostedComponentStoreType').BUDGET_EST_STORE,c('BoostedComponentStoreType').DURATION_STORE,c('BoostedComponentStoreType').DIALOG_CHANGE_STORE),calculateState:function(n){var o=n[c('BoostedComponentStoreType').BUDGET_EST_STORE],p=n[c('BoostedComponentStoreType').DIALOG_CHANGE_STORE];if(p.getShowLoadingIndicator())return {showLoadingIndicator:true};var q={selectedBudget:o.getSelectedBudgetValue(),selectedBudgetType:o.getBudgetType(),runContinuously:n[c('BoostedComponentStoreType').DURATION_STORE].getRunContinuously(),showLoadingIndicator:false,budgets:o.getBudgetEstOptions(),currency:n[c('BoostedComponentStoreType').AD_ACCOUNT_STORE].getSelectedAccountCurrency(),errors:o.getValidator().getErrors()};if(o.hasSelectedBudgetInfo()){q.estimationLabel=o.getEstimationLabel();q.estimationsLower=o.getSelectedBudgetLowerEstimates();q.estimationsUpper=o.getSelectedBudgetUpperEstimates();}return q;}},componentWillMount:function(){var n=this.props.config;this._budgetEstViewActions=new (c('BoostedComponentBudgetEstimationViewActions'))(n.getDispatcher());this._durationViewActions=new (c('BoostedComponentDurationViewActions'))(n.getDispatcher());},_getBudgetLabel:function(){return (this.props.config.getBudgetEstStore().getBudgetType()===c('BoostedComponentBudgetType').LIFETIME_BUDGET?c('BoostedComponentStrings').TOTAL_BUDGET_LABEL:c('BoostedComponentStrings').DAILY_BUDGET_LABEL);},_getBudgetToolTip:function(){return (this.props.config.getBudgetEstStore().getBudgetType()===c('BoostedComponentBudgetType').LIFETIME_BUDGET?c('BoostedComponentStrings').LIFETIME_BUDGET_TOOLTIP:c('BoostedComponentStrings').DAILY_BUDGET_TOOLTIP);},_getBudgetSelector:function(){var n=this.props.config.getExperimentStore().getExperimentParam(c('BoostedComponentExperiment').BOOSTED_COMPONENT_LIFETIME_BUDGET,'budget_mode');return (c('React').createElement('div',null,c('React').createElement(c('AdsBudgetDropdownSelector.react'),{alignh:'right',budgets:this.state.budgets,currency:this.state.currency,selectedBudget:this.state.selectedBudget,shouldAddCurrencyCode:false,shouldUseBudgetTypeSelector:n==='use_both',showCustomBudgetOption:true,onBudgetEntered:function(o){this._budgetEstViewActions.inputCustomBudget(o);}.bind(this),onBudgetSelected:function(o){this._budgetEstViewActions.updateBudget(o);}.bind(this)}),n==='use_both'?this._getBudgetTypeSelector():null));},_getBudgetTypeSelector:function(){var n=this.props.config.getAdStatusStore().getShouldEdit();return (c('React').createElement(c('XUISelector.react'),{className:"_2pit",'data-hover':'tooltip','data-tooltip-alignh':'center','data-tooltip-content':n?c('BoostedComponentStrings').BUDGET_TYPE_DISABLED_TOOLTIP:null,disabled:n,size:'xlarge',value:this.state.selectedBudgetType,onChange:function(o){this._budgetEstViewActions.updateBudgetType(o.value);}.bind(this)},c('React').createElement(c('XUISelectorButton.react'),{maxwidth:68,size:"xlarge"}),c('React').createElement(l,{key:c('BoostedComponentBudgetType').DAILY_BUDGET,value:c('BoostedComponentBudgetType').DAILY_BUDGET},c('BoostedComponentStrings').DAILY_BUDGET_SELECTOR_LABEL),c('React').createElement(l,{key:c('BoostedComponentBudgetType').LIFETIME_BUDGET,value:c('BoostedComponentBudgetType').LIFETIME_BUDGET},c('BoostedComponentStrings').LIFETIME_BUDGET_SELECTOR_LABEL)));},_getDurationSelector:function(){var n=this.props.config,o=n.getDurationStore();return (c('React').createElement(c('BoostedComponentDurationSelector.react'),{campaignLengthOptions:o.getCampaignLengthOptions(),hideRunContinuously:o.getHideRunContinuously(),latestAllowedCampaignEndTimestampSeconds:o.getLatestAllowedCampaignEndTimestamp(),runContinuously:o.getRunContinuously(),selectedCampaignLengthInDays:o.getCampaignLengthInDays(),onDurationTypeUpdate:function(p){this._durationViewActions.updateRunContinuously(p);}.bind(this),onEndDateSelectorUpdate:function(p){this._durationViewActions.updateCampaignLengthInDays(p);}.bind(this)}));},_getBudgetNotice:function(){var n=c('AdsSwapChargeCurrency').renderWarnbox(this.state.currency);if(n)return (c('React').createElement('div',{className:"_3-8y"},n));var o=this.props.config.getBudgetEstStore().getHighBudgetThreshold();if(o>0&&this.state.selectedBudget>o)return (c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('XUINotice.react'),{className:"_3x2q",use:'notify'},i._("Your maximum budget is much higher than usual."))));return null;},_getEstimates:function(){var n=this.props.config.getBudgetEstStore(),o=this.props.config.getContextStore().getAppID();if(o===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS&&this.props.config.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_STICKY_REACH_SUMMARY,'is_summary_visible'))return false;if(o===c('BoostedComponentAppID').BOOSTED_POST||o===c('BoostedComponentAppID').BOOSTED_EVENT||o===c('BoostedComponentAppID').BOOSTED_PRODUCT||o===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS){var p=o===c('BoostedComponentAppID').BOOSTED_POST||o===c('BoostedComponentAppID').BOOSTED_EVENT||o===c('BoostedComponentAppID').BOOSTED_PRODUCT?c('BoostedComponentStrings').ESTIMATED_PEOPLE_REACH:c('BoostedComponentStrings').ESTIMATED_DAILY_REACH;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:"_40nu",label:p,tooltip:c('BoostedComponentStrings').ESTIMATION_TOOLTIP},c('React').createElement(c('AdsReachEstimateBar.react'),{estimateDAU:n.getAudienceSize(),fillStyle:'stretch',platform:c('AdsReachEstimatePlatformConstant').NONE,reachBounds:{min:this.state.estimationsLower,max:this.state.estimationsUpper}}),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8y",display:'block',size:'small'},c('BoostedComponentStrings').BETTER_AD_RESULT_SUGGESTION)));}return (c('React').createElement('div',{className:"_2hop"},c('React').createElement(c('XUIText.react'),{className:"_3-8_",display:'inline',size:'small'},this.state.estimationLabel),c('React').createElement(c('AdsHelpLink.react'),{imgHover:j('images/components/HelpLink/info-light-hover-2x.png'),imgNormal:j('images/components/HelpLink/info-light-2x.png'),width:300},c('BoostedComponentStrings').ESTIMATION_TOOLTIP)));},_getDurationNotice:function(){var n=this.props.config;if(n.getBudgetEstStore().getBudgetType()===c('BoostedComponentBudgetType').DAILY_BUDGET||n.getDurationStore().getCampaignLengthInDays()<=1)return null;return (c('React').createElement('div',{className:'mtm'},c('React').createElement(c('XUIGrayText.react'),{size:'small'},i._("You will spend {budget_per_day_amount} per day.",[i.param('budget_per_day_amount',n.getBudgetEstStore().getDailyBudget())]))));},render:function(){return (c('React').createElement(c('BoostedComponentSection.react'),{title:c('BoostedComponentStrings').BUDGET_DURATION_SECTION},c('React').createElement('div',null,c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.state.errors}),c('React').createElement(c('BoostedComponentContent.react'),null,c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:this._getBudgetLabel(),showLoadingIndicator:this.state.showLoadingIndicator,tooltip:this._getBudgetToolTip()},this._getBudgetSelector(),this._getBudgetNotice()),this._getEstimates(),c('React').createElement('div',null,c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').DURATION_LABEL,tooltip:c('BoostedComponentStrings').DURATION_TOOLTIP},this._getDurationSelector()),this._getDurationNotice())))));}});f.exports=m;},null);
__d('BoostedComponentConfirmationSection.react',['cx','ix','fbt','AdsCreationConfig','AdsTargetingConstants','BoostedPostAudienceManagerConstants','BoostedActionStatus','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentSuccessPixelUpsellContainer.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedPostAudienceConstants','GraphAPI','Grid.react','Image.react','Link.react','React','XUIText.react','isEmpty','intlList','joinClasses'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('Grid.react').GridItem,l=c('React').PropTypes,m=c('React').createClass({displayName:'BoostedComponentConfirmationSection',propTypes:{config:l.instanceOf(c('BoostedComponentConfig')).isRequired,onEditClick:l.func},getInitialState:function(){return {showTargetingSummary:false,hasAudienceDescription:false,targetingSentences:null,targetingSentencesFetched:false};},_getAdStatusMessage:function(){var n=null,o=null,p=null;switch(this.props.config.getAdStatusStore().getAdStatus()){case c('BoostedActionStatus').REJECTED:n=c('BoostedComponentStrings').AD_REJECTED_TITLE;o=j._("Your post is still published on your Page, but it is no longer boosted because it dosen't follow Facebook's {Ad Guidelines hyperlink}.",[j.param('Ad Guidelines hyperlink',c('React').createElement(c('Link.react'),{href:'/ad_guidelines.php',target:'_blank'},j._("Advertising Policies")))]);p=c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/rejected.png')});break;case c('BoostedActionStatus').PENDING:n=c('BoostedComponentStrings').AD_IN_REVIEW_TITLE;o=j._("We're reviewing your ad to make sure it meets our {Ad Guidelines hyperlink}. This usually takes less than 15 minutes.",[j.param('Ad Guidelines hyperlink',c('React').createElement(c('Link.react'),{href:'/ad_guidelines.php',target:'_blank'},j._("Advertising Policies")))]);p=c('React').createElement(c('Image.react'),{src:'/images/ads/common/confirmation/received.png'});break;case c('BoostedActionStatus').ACTIVE:case c('BoostedActionStatus').PAUSED:n=c('BoostedComponentStrings').AD_APPROVED_TITLE;o=c('BoostedComponentStrings').AD_APPROVED_CONTENT;p=c('React').createElement(c('Image.react'),{src:'/images/ads/common/confirmation/approved.png'});break;default:return null;}return (c('React').createElement('div',{className:"_4vxt"},c('React').createElement('div',{className:"_i2y"},c('React').createElement(c('Grid.react'),{className:"_4vxq",cols:2},c('React').createElement(k,null,p),c('React').createElement(k,null,c('React').createElement('div',{className:"_1dme"},n),c('React').createElement('div',{className:"_i2z"},o))))));},_getDurationInfo:function(){var n=this.props.config.getDurationStore().getCampaignLengthInDays(),o=null;if(this.props.config.getDurationStore().getRunContinuously()){o=j._("This promotion will run {text of campaign running continuously}.",[j.param('text of campaign running continuously',c('React').createElement('span',{className:"_4vxs"},'continuously'))]);}else{var p=n===1?j._("1 day"):j._("{number of days} days",[j.param('number of days',n)]);o=j._("This promotion will run for {text of campaign length in days}.",[j.param('text of campaign length in days',c('React').createElement('span',{className:"_4vxs"},p))]);}return (c('React').createElement(c('Grid.react'),{className:"_4vxq",cols:2},c('React').createElement(k,{className:"_29nc"},c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/durationnew.png')})),c('React').createElement(k,null,o)));},_getBudgetInfo:function(){return (c('React').createElement(c('Grid.react'),{className:"_4vxq",cols:2},c('React').createElement(k,{className:"_29nc"},c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/budgetnew.png')})),c('React').createElement(k,null,j._("Your total budget for this promotion is {text of total budget}.",[j.param('text of total budget',c('React').createElement('span',{className:"_4vxs"},this.props.config.getBudgetEstStore().getTotalBudget()))]))));},_getTargetingInfo:function(){return (c('React').createElement(c('Grid.react'),{className:"_4vxq",cols:2},c('React').createElement(k,{className:"_29nc"},c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/audiencenew.png')})),c('React').createElement(k,null,this._getInterestsNumber()===0?this._getTargetingInfoWithoutInterests():this._getTargetingInfoWithInterests())));},_getTargetingInfoWithoutInterests:function(){return j._("You are targeting {Targeting gender. e.g. 'men and women'}, {Targeting age range. e.g. 'ages 18-65+'} who live in {Targeting locations. e.g. '3 locations'}.",[j.param('Targeting gender. e.g. \'men and women\'',c('React').createElement('span',{className:"_4vxs"},this._getAudienceText())),j.param('Targeting age range. e.g. \'ages 18-65+\'',c('React').createElement('span',{className:"_4vxs"},this._getAgeText())),j.param('Targeting locations. e.g. \'3 locations\'',c('React').createElement('span',{className:"_4vxs"},this._getLocationText()))]);},_getTargetingInfoWithInterests:function(){return j._("You are targeting {Targeting gender. e.g. 'men and women'}, {Targeting age range. e.g. 'ages 18-65+'} who live in {Targeting locations. e.g. '3 locations'} and have {Text of interests targeting. e.g. '5 interests'}.",[j.param('Targeting gender. e.g. \'men and women\'',c('React').createElement('span',{className:"_4vxs"},this._getAudienceText())),j.param('Targeting age range. e.g. \'ages 18-65+\'',c('React').createElement('span',{className:"_4vxs"},this._getAgeText())),j.param('Targeting locations. e.g. \'3 locations\'',c('React').createElement('span',{className:"_4vxs"},this._getLocationText())),j.param('Text of interests targeting. e.g. \'5 interests\'',c('React').createElement('span',{className:"_4vxs"},this._getInterestsText()))]);},_getAudienceText:function(){var n=this.props.config.getTargetingStore().getGender(),o=this.props.config.getTargetingStore().getAudience();switch(o){case c('BoostedPostAudienceConstants').FANS:return j._("people who like your Page");case c('BoostedPostAudienceConstants').GROUPER:return j._("people who like your Page and their friends");}switch(n){case c('AdsTargetingConstants').GENDERS.Men:return j._("men");case c('AdsTargetingConstants').GENDERS.Women:return j._("women");default:return j._("men and women");}},_getAgeText:function(){var n=this.props.config.getTargetingStore().getMinAge(),o=this.props.config.getTargetingStore().getMaxAge();if(o===c('AdsCreationConfig').maxAge)o=j._("{max_age}+",[j.param('max_age',o)]);return j._("ages {min_age} - {max_age}",[j.param('min_age',n),j.param('max_age',o)]);},_getLocationText:function(){var n=this.props.config.getTargetingStore().getLocationsNum();if(n===1)return j._("1 location");return j._("{num_of_interests} locations",[j.param('num_of_interests',n)]);},_getInterestsText:function(){var n=this._getInterestsNumber();if(n===1)return j._("1 interest");return j._("{num_of_interests} interests",[j.param('num_of_interests',n)]);},_getInterestsNumber:function(){if(c('isEmpty')(this.props.config.getTargetingStore().getInterests()))return 0;return this.props.config.getTargetingStore().getInterests().length;},_getPaymentInfo:function(){var n=this.props.config.getAdAccountStore(),o=n.getAllAccounts();return (c('React').createElement(c('Grid.react'),{className:"_4vxq",cols:2},c('React').createElement(k,{className:"_29nc"},c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/paymentnew.png')})),c('React').createElement(k,null,j._("{text of account name}'s {text of primary payment method} will be billed.",[j.param('text of account name',c('React').createElement('span',{className:"_4vxs"},o[n.getSelectedAccountID()].name)),j.param('text of primary payment method',c('React').createElement('span',{className:"_4vxs"},n.getSelectedAccountPrimaryPMDisplayString()))]))));},_getBillingInfo:function(){return (c('React').createElement(c('Grid.react'),{className:c('joinClasses')("_4vxq","_2052"),cols:2},c('React').createElement(k,{className:"_29nc"},c('React').createElement(c('Image.react'),{src:i('/images/ads/common/confirmation/datenew.png')})),c('React').createElement(k,null,j._("You will be billed at a later date. {billing information link}.",[j.param('billing information link',c('React').createElement(c('Link.react'),{href:'/help/716180208457684/',target:'_blank'},j._("Learn More")))]))));},_getIsPixelUpsellSupported:function(){var n=this.props.config.getContextStore().getAppID();return (n===c('BoostedComponentAppID').BOOSTED_WEBSITE||n===c('BoostedComponentAppID').BOOSTED_POST);},_getPixelUpsell:function(){if(!this._getIsPixelUpsellSupported())return null;return (c('React').createElement(c('BoostedComponentSuccessPixelUpsellContainer.react'),{adAccountStore:this.props.config.getAdAccountStore(),campaignID:this.props.config.getAdStatusStore().getCampaignID(),className:c('joinClasses')("_4vxq","_2052")}));},_getEditMessage:function(){if(!this.props.onEditClick)return null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_i2y _3-8-"}),c('React').createElement('div',{className:"_4vxt"},j._("Want to make a change? {edit promotion link}",[j.param('edit promotion link',c('React').createElement(c('Link.react'),{onClick:this.props.onEditClick},j._("Edit Promotion")))]))));},_getShowFullTargetingLink:function(){return (c('React').createElement('div',{className:"_3jvf"},c('React').createElement(c('Link.react'),{onClick:this._toggleShowTargetingSummary},this.state.showTargetingSummary?c('BoostedComponentStrings').HIDE_FULL_SUMMARY:c('BoostedComponentStrings').SHOW_FULL_SUMMARY)));},_toggleShowTargetingSummary:function(){this.setState({showTargetingSummary:!this.state.showTargetingSummary});},_fetchTargetingSentences:function(){c('GraphAPI')(c('BoostedPostAudienceManagerConstants').GRAPH_API_VERSION).adaccount(this.props.config.getAdAccountStore().getSelectedAccountID()).edge('targetingsentencelines').get({access_token:this.props.config.getContextStore().getAccessToken(),discard_placements:true,targeting_spec:this.props.config.getTargetingStore().getTargetingSpec()}).done(this._updateTargetingSentence);},_updateTargetingSentence:function(n){this.setState({targetingSentences:n,hasAudienceDescription:true,targetingSentencesFetched:true});},_getFormattedTargetingSentence:function(n,o){if(!this.state.showTargetingSummary)return null;if(n&&n.content==='Excluded Connections:')return null;return (c('React').createElement('div',{className:"_29nd",'data-hover':'tooltip','data-tooltip-display':'overflow',key:o},j._("{content_label} {children}",[j.param('content_label',c('React').createElement(c('XUIText.react'),{weight:'bold'},n.content)),j.param('children',c('intlList')(n.children,c('intlList').CONJUNCTIONS.OR))])));},_getTargetingSummary:function(){if(!this.state.hasAudienceDescription)return this._getShowFullTargetingLink();var n=this.state.targetingSentences;if(!n||!n.targetingsentencelines.length)return null;return (c('React').createElement('div',null,c('React').createElement('div',null,n.targetingsentencelines.map(this._getFormattedTargetingSentence)),c('React').createElement('div',null,this._getShowFullTargetingLink())));},render:function(){if(!this.props.config.getAdStatusStore().getShouldEdit())return null;if(!this.state.targetingSentencesFetched)this._fetchTargetingSentences();if(this.props.config.getInsightsStore().canShowInsights())return this._renderCondensedInsights();return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:false},this._getAdStatusMessage(),c('React').createElement('div',{className:"_4vxt"},c('React').createElement('div',{className:"_4vxu"},c('BoostedComponentStrings').ORDER_SUMMARY),this._getTargetingInfo(),this._getTargetingSummary(),this._getDurationInfo(),this._getBudgetInfo(),this._getPaymentInfo(),this._getBillingInfo()),this._getEditMessage(),this._getPixelUpsell()));},_renderCondensedInsights:function(){return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:false},c('React').createElement('div',{className:"_4vxt _1xsz _3-8z _2ph_"},this._getTargetingInfo(),this._getTargetingSummary(),this._getDurationInfo(),this._getBudgetInfo())));}});f.exports=m;},null);
__d('BoostedComponentConversionPixelSection.react',['cx','AdsAccountStoreWrapper_DEPRECATED','AdsConversionPixelUtils','AdsPixelComponentEnvironments','AdsPixelHelpCenterLinkUtil','AdsPixelSelectorContainer.react','AdsPixelSelectorLoggerContext','AdsPixelSelectorStoreWrapper','AdsPixelStore','AdsPixelStoreWrapper','AdsPixelTrackingContextUtils','AdsPixelUIEnvironments','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentConversionPixelViewActions','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','React','XUIText.react','dotAccess','emptyFunction'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentConversionPixelSection',mixins:[c('BoostedComponentSectionMixin')],statics:{getStores:function(k){return babelHelpers['extends']({},c('BoostedComponentSectionUtils').getStoresFromConfig(k.config,[c('BoostedComponentStoreType').AD_ACCOUNT_STORE,c('BoostedComponentStoreType').AD_STATUS_STORE,c('BoostedComponentStoreType').CONTEXT_STORE,c('BoostedComponentStoreType').CONVERSION_PIXEL_STORE]),{AdsPixelStore:c('AdsPixelStore')});},calculateState:function(k,l){var m=k[c('BoostedComponentStoreType').AD_ACCOUNT_STORE];c('AdsAccountStoreWrapper_DEPRECATED').setAccountID(m.getSelectedAccountID());c('AdsAccountStoreWrapper_DEPRECATED').setEnvironment(c('AdsPixelUIEnvironments').LWI,Object.create(m));var n=k[c('BoostedComponentStoreType').CONTEXT_STORE];return {appID:n.getAppID(),conversionPixels:k[c('BoostedComponentStoreType').CONVERSION_PIXEL_STORE].getSelectedAccountConversionPixels(),selectedConversionPixelID:k[c('BoostedComponentStoreType').CONVERSION_PIXEL_STORE].getSelectedConversionPixelID(),shouldEdit:k[c('BoostedComponentStoreType').AD_STATUS_STORE].getShouldEdit(),websiteDomains:k[c('BoostedComponentStoreType').CONVERSION_PIXEL_STORE].getWebsiteDomains(),unifiedPixels:c('AdsPixelStore').getPixels()};}},propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){var k=this.props.config;this._conversionPixelViewActions=new (c('BoostedComponentConversionPixelViewActions'))(k.getDispatcher());},childContextTypes:c('AdsPixelTrackingContextUtils').getContextTypes(),getChildContext:function(){return {componentEnvironment:c('AdsPixelComponentEnvironments').tracking,conversionPixelSelector:c('emptyFunction'),getConversionInfoBoxContentForActivePixel:function(){return null;},getHelpLink:c('AdsPixelHelpCenterLinkUtil').getHelpLink,legacyPixelSelectType:'multi',isCampaignManager:function(){return false;},updateTrackingSpec:c('emptyFunction')};},render:function(){var k=this.props.config.getStores()[c('BoostedComponentStoreType').CONTEXT_STORE];if(k.getAppID()!==c('BoostedComponentAppID').BOOSTED_POST&&k.getAppID()!==c('BoostedComponentAppID').BOOSTED_WEBSITE)return null;return (this._getDoesHaveWebsiteDomains()?this._renderUnifiedPixelSelector():null);},_renderUnifiedPixelSelector:function(){if(!this._getShouldDisplaySelector())return null;return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:false,title:c('BoostedComponentStrings').CONVERSION_TRACKING_SECTION},c('React').createElement(c('BoostedComponentContent.react'),null,this._getUnifiedPixelSelector())));},_getDoesHaveWebsiteDomains:function(){return !!(this.state.websiteDomains&&this.state.websiteDomains.length>0);},_getUnifiedPixelSelector:function(){if(this.state.shouldEdit){var k=this._getSelectedPixelName();return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').TRACKING_PIXEL_EDIT_MODE_LABEL,shade:'dark'},c('React').createElement(c('XUIText.react'),null,k)));}var l=this.props.config.getStores(),m=l[c('BoostedComponentStoreType').CONVERSION_PIXEL_STORE];return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{className:"_4s5m",label:c('BoostedComponentStrings').CONVERSION_PIXEL_LABEL,shade:'dark',tooltip:c('BoostedComponentStrings').CONVERSION_PIXEL_TOOLTIP},c('React').createElement(c('AdsPixelSelectorContainer.react'),{defaultPixelDomains:m.getWebsiteDomains(),logContext:new (c('AdsPixelSelectorLoggerContext'))(c('AdsPixelUIEnvironments').LWI,this.state.appID),onChange:function(n){return (this._conversionPixelViewActions.updatePixel(n));}.bind(this)})));},_getSelectedPixelName:function(){var k=c('AdsPixelStoreWrapper').getPixelName(this.state.selectedConversionPixelID);if(k!==undefined)return k;var l=c('AdsConversionPixelUtils').getPixelDetails(this.state.selectedConversionPixelID,this.state.conversionPixels);if(l!==undefined)return c('dotAccess')(l,'name');},_getShouldDisplaySelector:function(){if(this.state.shouldEdit&&!this.state.selectedConversionPixelID)return false;return c('AdsPixelSelectorStoreWrapper').getShouldDisplaySelector(this.state.unifiedPixels,this.state.conversionPixels);}});f.exports=j;},null);
__d('BoostedComponentCollapsableSection.react',['cx','BoostedComponentSection.react','BoostedComponentSectionSubheader.react','BoostedComponentStrings','Image.react','Link.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=i.shape({title:i.string,content:i.object}),k=c('React').createClass({displayName:'BoostedComponentCollapsableSection',propTypes:{isCollapsed:i.bool,collapsedData:j.isRequired,uncollapsedData:j.isRequired,isFirstSection:i.bool,errors:i.array,editable:i.bool.isRequired},getInitialState:function(){return {isCollapsed:this.props.isCollapsed};},_getLink:function(){var l;if(this.props.editable){l=this.state.isCollapsed?c('BoostedComponentStrings').EDIT_SECTION:c('BoostedComponentStrings').SAVE_SECTION_CHANGES;}else l=this.state.isCollapsed?c('BoostedComponentStrings').VIEW_SECTION_DETAILS:c('BoostedComponentStrings').HIDE_SECTION_DETAILS;return (c('React').createElement(c('Link.react'),{className:"_2jae",role:'button',onClick:this._toggleCollapse},this._getIcon(),' ',l));},_getErrors:function(){if(!this.state.isCollapsed)return null;var l=c('React').createElement(c('Link.react'),{role:'button',onClick:this._toggleCollapse},c('BoostedComponentStrings').EDIT_BUTTON_LABEL);return (c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.props.errors,link:l}));},_getIcon:function(){return this.props.editable&&this.state.isCollapsed?c('React').createElement(c('Image.react'),{src:'/images/ads/manage/oca/pencil.png'}):null;},_toggleCollapse:function(){this.setState({isCollapsed:!this.state.isCollapsed});},render:function(){var l=this.state.isCollapsed?this.props.collapsedData:this.props.uncollapsedData;return (c('React').createElement('div',null,c('React').createElement(c('BoostedComponentSection.react'),{headerLink:this._getLink(),isFirstSection:this.props.isFirstSection,title:l.title},this._getErrors(),l.content)));}});f.exports=k;},null);
__d('BoostedComponentCreativeSection.react',['fbt','AdImageSpecsUtils','AdsAPIObjectives','AdsCallToActionTypes','AdsCreationConfig','AdsGraphAPI','AdsImageLegacy','AdsQEDataManager','AdsTextInput.react','AdsUtils','ApiAdCreativeFields','ApiAdCreativeStorySpecFields','ApiCallToActionFields','ApiObjectStorySpecLinkChildFields','ApiObjectStorySpecLinkFields','ApiObjectStorySpecVideoFields','BoostedComponentAppID','BoostedComponentCTAPlaceEditor.react','BoostedComponentCallToActionSelector.react','BoostedComponentClientEvent','BoostedComponentCollapsableSection.react','BoostedComponentConfig','BoostedComponentConstants','BoostedComponentContent.react','BoostedComponentCreativeBodyEditor.react','BoostedComponentCreativeCategory','BoostedComponentCreativeEditingConfig','BoostedComponentCreativeEditingElement','BoostedComponentCreativeEditorMixin','BoostedComponentCreativeLinkDataEditor.react','BoostedComponentCreativeMultiAdsEditor.react','BoostedComponentCreativePlacement','BoostedComponentCreativeViewActions','BoostedComponentDualCreativeContent.react','BoostedComponentExperiment','BoostedComponentImageSelector.react','BoostedComponentLabeledEditor.react','BoostedComponentMultiAdsConstants','BoostedComponentMultiAdsProductChangeTypes','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionSubheader.react','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','BoostedComponentVideoPanel.react','BoostedComponentVideoSource','CallToActionValueFields','InstagramSlipstreamMediaContentType','Link.react','PageImageListPagingStore','React','URI','WebApiApplication','isEmpty','getByPath','getObjectValues','ads-lib-urllib'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes;function j(o){var p=k(o,c('ApiObjectStorySpecLinkFields').CHILD_ATTACHMENTS);if(!p||p===undefined||p.length===0){var q={link:k(o,c('ApiObjectStorySpecLinkFields').LINK),name:k(o,c('ApiObjectStorySpecLinkFields').NAME),description:k(o,c('ApiObjectStorySpecLinkFields').MESSAGE),picture:o.getImageURL(),image_hash:o.getImageHash()};if(o.getImageCrops())q.image_crops=o.getImageCrops();return [q];}return p;}function k(o,p){var q=o.getCreativeSpec(),r=q[c('ApiAdCreativeFields').OBJECT_STORY_SPEC];if(!r)return null;var s=r[c('ApiAdCreativeStorySpecFields').LINK_DATA];if(!s)return null;return s[p];}function l(o,p){var q=o.getCreativeSpec(),r=q[c('ApiAdCreativeFields').OBJECT_STORY_SPEC];if(!r)return null;var s=r[c('ApiAdCreativeStorySpecFields').VIDEO_DATA];if(!s)return null;return c('getByPath')(s,p);}var m=c('React').createClass({displayName:'BoostedComponentCreativeSection',mixins:[c('BoostedComponentCreativeEditorMixin'),c('BoostedComponentSectionMixin')],propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},statics:{getStores:function(o){return babelHelpers['extends']({},c('BoostedComponentSectionUtils').getStoresFromConfig(o.config,[c('BoostedComponentStoreType').AD_ACCOUNT_STORE,c('BoostedComponentStoreType').AD_STATUS_STORE,c('BoostedComponentStoreType').CONTEXT_STORE,c('BoostedComponentStoreType').CREATIVE_STORE,c('BoostedComponentStoreType').DIALOG_UI_STORE,c('BoostedComponentStoreType').EXPERIMENT_STORE,c('BoostedComponentStoreType').TARGETING_STORE]),{PageImageListPagingStore:c('PageImageListPagingStore')});},calculateState:function(o,p){var q=o[c('BoostedComponentStoreType').CREATIVE_STORE],r=j(q),s=p&&p.selectedProductIndex<=r.length-1?p.selectedProductIndex:0,t=undefined,u=undefined,v=undefined;if(q.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO){t=l(q,[c('ApiObjectStorySpecVideoFields').CALL_TO_ACTION,c('ApiCallToActionFields').VALUE,c('CallToActionValueFields').LINK]);u=l(q,[c('ApiObjectStorySpecVideoFields').CALL_TO_ACTION,c('ApiCallToActionFields').VALUE,c('CallToActionValueFields').LINK_TITLE]);v=l(q,[c('ApiObjectStorySpecVideoFields').DESCRIPTION]);}else{t=k(q,c('ApiObjectStorySpecLinkFields').LINK);u=k(q,c('ApiObjectStorySpecLinkFields').NAME);v=k(q,c('ApiObjectStorySpecLinkFields').MESSAGE);}var w=o[c('BoostedComponentStoreType').CONTEXT_STORE].getPageID(),x=c('PageImageListPagingStore').get(w).imageList,y=o[c('BoostedComponentStoreType').EXPERIMENT_STORE],z=y.getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_COMPONENT_INSTAGRAM_AS_CREATIVE,'use_ig_creative'),aa=false;if(!z)aa=y.getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_COMPONENT_INSTAGRAM_CREATIVE_V2,'show_ig');return {accountID:o[c('BoostedComponentStoreType').AD_ACCOUNT_STORE].getSelectedAccountID(),body:q.getBody(),callToAction:q.getCallToAction(),creativeCategory:q.getCreativeCategory(),currentVideoThumbnail:q.getCurrentVideoThumbnail(),defaultCity:q.getDefaultCity(),defaultStockSearchText:q.getPageKeywords()&&q.getPageKeywords()[0],dialogDivID:o[c('BoostedComponentStoreType').DIALOG_UI_STORE].getDialogDivID(),errors:q.getValidator().getErrors(),headline:u,image:q.getImageLegacy(),imageCrops:q.getImageCrops(),imageHash:q.getImageHash(),imageUrl:q.getImageURL(),isBusinessOwnedAdAccount:!!o[c('BoostedComponentStoreType').AD_ACCOUNT_STORE].getSelectedAccountBusinessID(),isLAWithCarouselSupport:q.isLAWithCarouselSupport(),messagingSettingLinkEnabled:q.isPageMessagingDisabled(),pageID:w,pageImages:x,products:r,selectedProductIndex:s,shouldEdit:o[c('BoostedComponentStoreType').AD_STATUS_STORE].getShouldEdit(),text:v,url:t,useInstagramImageCreative:z||aa,userID:o[c('BoostedComponentStoreType').CONTEXT_STORE].getUserID(),videoLibrary:q.getVideos(),videoName:q.getVideoName(),videoThumbnails:q.getVideoThumbnails()};}},componentWillMount:function(){var o=this.props.config;this._creativeViewActions=new (c('BoostedComponentCreativeViewActions'))(o.getDispatcher());},_getCreativeLinkDataEditor:function(){var o=this.props.config,p=o.getCreativeStore();if(!this.shouldRenderCreativeElement(o.getContextStore().getAppID(),c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA,this.state.isLAWithCarouselSupport))return null;var q=this.state.creativeCategory===c('BoostedComponentCreativeCategory').VIDEO;return (c('React').createElement(c('BoostedComponentCreativeLinkDataEditor.react'),{appID:o.getContextStore().getAppID(),headline:this.state.headline,shouldEdit:this.state.shouldEdit,supportCarouselInLA:this.state.isLAWithCarouselSupport,text:this.state.text,url:this.state.url,validateLink:p.getValidator().validateLinkDataURL,validateMessage:p.getValidator().validateLinkDataMessage,validateName:p.getValidator().validateLinkDataName,onLinkDataHeadlineChange:q?this._onVideoDataHeadlineChange:this._onLinkDataHeadlineChange,onLinkDataTextChange:q?this._onVideoDataTextChange:this._onLinkDataTextChange,onLinkDataURLChange:q?this._onVideoDataURLChange:this._onLinkDataURLChange}));},_getCreativeBodyEditor:function(){var o=this.props.config;if(!this.shouldRenderCreativeElement(o.getContextStore().getAppID(),c('BoostedComponentCreativeEditingElement').CREATIVE_BODY,this.state.isLAWithCarouselSupport))return null;return (c('React').createElement(c('BoostedComponentCreativeBodyEditor.react'),{appID:o.getContextStore().getAppID(),body:this.state.body,supportCarouselInLA:this.state.isLAWithCarouselSupport,validateBody:o.getCreativeStore().getValidator().validateBody,onBodyChange:this._onBodyChange}));},_getCreativeMultiAdsEditor:function(){var o=this.props.config,p=o.getContextStore(),q=o.getCreativeStore();return (c('React').createElement(c('BoostedComponentCreativeMultiAdsEditor.react'),{accessToken:p.getAccessToken(),accountID:this.state.accountID,appID:p.getAppID(),clientID:p.getClientID(),defaultImageHash:this.state.imageHash,defaultImageUrl:this.state.imageUrl,defaultLink:this.state.url,defaultName:this.state.headline,defaultStockSearchText:this.state.defaultStockSearchText,isBusinessOwnedAdAccount:this.state.isBusinessOwnedAdAccount,maxProducts:c('BoostedComponentMultiAdsConstants').MAX_PRODUCT_NUM,minProducts:c('BoostedComponentMultiAdsConstants').MIN_PRODUCT_NUM,pageID:this.props.config.getContextStore().getPageID(),pageImages:this.state.pageImages,products:this.state.products,selectedProductIndex:this.state.selectedProductIndex,supportCarouselInLA:this.state.isLAWithCarouselSupport,useInstagramImageCreative:this.state.useInstagramImageCreative,validateName:q.getValidator().validateLinkDataName,onDialogShown:this._onImageDialogOpened,onProductsChange:this._onProductsChange,onProductSelected:this._onProductSelected}));},_getHeadlineEditor:function(){var o=this.props.config.getCreativeStore();return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{key:c('BoostedComponentCreativeEditingElement').CREATIVE_LINK_DATA_HEADLINE,label:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_LABEL,textLimits:c('BoostedComponentConstants').HEADLINE_EDITOR_TEXT_LIMIT,tooltip:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_TOOLTIP},c('React').createElement(c('AdsTextInput.react'),{badTextRules:c('getObjectValues')(this.getFieldBadTextRules()),errors:o.getValidator().validateLinkDataName(this.state.headline),hideMaxLength:true,maxLength:c('AdsCreationConfig').maxTitleLength,multiline:false,placeholder:c('BoostedComponentStrings').CREATIVE_LINK_DATA_HEADLINE_PLACEHOLDER,value:this.state.headline,onChange:this._onVideoDataHeadlineChange})));},_getVideoPanelEditor:function(){var o=this.props.config.getCreativeStore();return (c('React').createElement(c('BoostedComponentVideoPanel.react'),{accountID:this.state.accountID,selectedThumbnail:this.state.currentVideoThumbnail,selectedVideoName:o.getVideoName(),selectedVideoThumbnails:o.getVideoThumbnails(),uploadProgressValue:o.getVideoUploadProgress(),uploadStatus:o.getVideoUploadStatus(),videoLibrary:this.state.videoLibrary,videoSource:o.getVideoSource(),onCancelUpload:this._cancelVideoUpload,onRemove:this._clearVideoCreative,onThumbnailClick:this._onThumbnailClick,onVideoPickerConfirm:this._onVideoPickerConfirm,onVideoUploadClick:this._onVideoUploadClick}));},_getMultiAdsOrVideoEditor:function(){var o=this.props.config,p=o.getCreativeStore(),q=o.getExperimentStore();if(!this.shouldRenderCreativeElement(o.getContextStore().getAppID(),c('BoostedComponentCreativeEditingElement').CREATIVE_MULTI_PRODUCTS,this.state.isLAWithCarouselSupport))return null;var r=this._getCreativeMultiAdsEditor();if(!q.getExperiment('boosted_website_video'))return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').MULTI_ADS_LABEL,tooltip:c('BoostedComponentStrings').MULTI_ADS_TOOLTIP},r));var s=this._getHeadlineEditor(),t=this._getVideoPanelEditor(),u=p.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO;return (c('React').createElement(c('BoostedComponentDualCreativeContent.react'),{imageEditorLabel:c('BoostedComponentStrings').MULTI_ADS_LABEL,imageEditorTooltip:c('BoostedComponentStrings').MULTI_ADS_TOOLTIP,isCreativeVideo:u,toggleCreativeCategory:this._toggleCreativeCategory},u?t:r,u?s:null));},_toggleCreativeCategory:function(){if(this.state.creativeCategory===c('BoostedComponentCreativeCategory').VIDEO){this._creativeViewActions.toggleCreativeCategory(c('BoostedComponentCreativeCategory').IMAGE);}else this._creativeViewActions.toggleCreativeCategory(c('BoostedComponentCreativeCategory').VIDEO);},_onVideoPickerConfirm:function(o){var p=this.props.config.getDispatcher(),q=this.props.config.getCreativeStore(),r=q.getVideoByID(o);r.source=c('BoostedComponentVideoSource').BROWSE_LIBRARY;if(r)p.handleUpdateFromServerResponse({actionType:c('BoostedComponentClientEvent').VIDEO_ENCODING_SUCCESS,video:r});},_onThumbnailClick:function(o){if(o instanceof c('AdsImageLegacy'))o={width:o.getWidth(),height:o.getHeight(),uri:o.getUrl()};this._creativeViewActions.updateVideoThumbnail(o);},_clearVideoCreative:function(){this._creativeViewActions.clearVideoCreative();},_cancelVideoUpload:function(){this._creativeViewActions.cancelVideoUpload();},_getImageOrVideoSelector:function(){var o=this.props.config.getExperimentStore(),p=this.props.config.getContextStore(),q=this.props.config.getCreativeStore();if(!this.shouldRenderCreativeElement(p.getAppID(),c('BoostedComponentCreativeEditingElement').CREATIVE_IMAGE_SELECTOR,this.state.isLAWithCarouselSupport))return null;var r=o.getExperimentForAppIDs(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_SHUTTERSTOCK,[c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS]),s=c('React').createElement(c('BoostedComponentImageSelector.react'),{accessToken:p.getAccessToken(),accountID:this.state.accountID,clientID:p.getClientID(),defaultStockSearchText:this.state.defaultStockSearchText,enableStock:r,image:this.state.image,imageHash:this.state.imageHash,imageSpecs:this._getImageSpecs(),imageUrl:this.state.imageUrl,isBusinessOwnedAdAccount:this.state.isBusinessOwnedAdAccount,pageID:this.props.config.getContextStore().getPageID(),pageImages:this.state.pageImages,useInstagramImageCreative:this.state.useInstagramImageCreative,onDialogShown:this._onImageDialogOpened,onImageCropClick:this._onImageCropClick,onImageSelected:this._onImageSelected,onImageUploadClick:this._onImageUploadClick});if(!o.getExperiment('boosted_component_video'))return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CREATIVE_IMAGE,tooltip:c('BoostedComponentStrings').CREATIVE_IMAGE_TOOLTIP},s));var t=this._getVideoPanelEditor(),u=q.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO;return (c('React').createElement(c('BoostedComponentDualCreativeContent.react'),{imageEditorLabel:c('BoostedComponentStrings').CREATIVE_IMAGE,imageEditorTooltip:c('BoostedComponentStrings').CREATIVE_IMAGE_TOOLTIP,isCreativeVideo:u,toggleCreativeCategory:this._toggleCreativeCategory},u?t:s));},_getCTASelector:function(){var o=this.props.config,p=o.getCreativeStore(),q=o.getExperimentStore();if(q.getExperiment('boosted_website_video')){var r=c('BoostedComponentCreativeEditingConfig').BOOSTED_WEBSITE;if(r.indexOf(c('BoostedComponentCreativeEditingElement').CREATIVE_CTA)===-1)r.push(c('BoostedComponentCreativeEditingElement').CREATIVE_CTA);}if(!this.shouldRenderCreativeElement(o.getContextStore().getAppID(),c('BoostedComponentCreativeEditingElement').CREATIVE_CTA,this.state.isLAWithCarouselSupport))return null;var s,t=false,u=false,v=undefined,w=false;switch(o.getContextStore().getAppID()){case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:s=c('AdsAPIObjectives').LOCAL_AWARENESS;if(o.getAdStatusStore().getShouldEdit())t=true;if(this.state.products.length>1)v=h._("No Button");break;case c('BoostedComponentAppID').BOOSTED_EVENT:s=c('AdsAPIObjectives').EVENT_RESPONSES;break;case c('BoostedComponentAppID').BOOSTED_CCTA:s=c('AdsGraphAPI').getClicksObjective();t=true;u=true;break;case c('BoostedComponentAppID').BOOSTED_WEBSITE:s=c('AdsGraphAPI').getClicksObjective();if(p.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO){w=true;}else return null;break;case c('BoostedComponentAppID').BOOSTED_PAGELIKE:s=c('AdsAPIObjectives').PAGE_LIKES;break;default:s=c('AdsAPIObjectives').NONE;}return (c('React').createElement(c('BoostedComponentContent.react'),null,c('React').createElement(c('BoostedComponentCallToActionSelector.react'),{apiObjective:s,hideSelector:u,isDefaultOptionRequired:w,isReadOnly:t,label:c('BoostedComponentStrings').CREATIVE_CTA_LABEL,noButtonLabel:v,selectedCallToActionType:this.state.callToAction&&this.state.callToAction.type,tooltip:t?null:c('BoostedComponentStrings').CREATIVE_CTA_TOOLTIP,onCallToActionChange:this._onCallToActionChange}),this._getPageMessagingSetting(),this._getPhoneNumberEditor(o),this._getCTAPlaceEditor(),this._getCTALinkEditor()));},_getPageMessagingSetting:function(){if(!this.state.callToAction||this.state.callToAction.type!==c('AdsCallToActionTypes').TYPES.MESSAGE_PAGE.name)return null;if(this.state.messagingSettingLinkEnabled===true)return (c('React').createElement('div',null,h._("{Change settings link} to allow people to send private messages to your Page",[h.param('Change settings link',c('React').createElement(c('Link.react'),{onClick:this._requestEnablePageMessaging},'Click here'))])));return h._("When people click Send Message on an ad, they'll be able to send a message to your Page.");},_requestEnablePageMessaging:function(){this._creativeViewActions.requestEnablePageMessaging();},_getPhoneNumberEditor:function(o){if(!this.state.callToAction||this.state.callToAction.type!==c('AdsCallToActionTypes').TYPES.CALL_NOW.name)return null;var p=null;if(o.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_CCTA){p=this._getDisplayPhoneNumber();}else p=c('React').createElement(c('AdsTextInput.react'),{errors:o.getCreativeStore().getValidator().validateCallToAction(),multiline:false,placeholder:c('BoostedComponentStrings').CALL_TO_ACTION_PHONE_NUMBER_PLACEHOLDER,value:this._getDisplayPhoneNumber(),onChange:this._onPhoneNumberChanged});return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CALL_TO_ACTION_PHONE_NUMBER_LABEL,tooltip:c('BoostedComponentStrings').CALL_TO_ACTION_PHONE_NUMBER_TOOLTIP},p));},_getCTAPlaceEditor:function(){if(!this.state.callToAction||this.state.callToAction.type!==c('AdsCallToActionTypes').TYPES.GET_DIRECTIONS.name)return null;return (c('React').createElement(c('BoostedComponentCTAPlaceEditor.react'),{ctaLink:this.state.callToAction.value.link,defaultCity:this.state.defaultCity.hasValue()?this.state.defaultCity.value.city:undefined,isLoading:this.state.defaultCity.isLoading(),pageAccessToken:this.props.config.getContextStore().getPageAccessToken(),pageID:this.props.config.getContextStore().getPageID(),userID:this.state.userID,onCTALinkChange:this._onCTALinkChange,onEditAddressClick:this._onPlaceDialogOpen}));},_onPlaceDialogOpen:function(){this._creativeViewActions.fetchDefaultCity();},_getCTALinkEditor:function(){if(!this.state.callToAction||this.state.callToAction.type!==c('AdsCallToActionTypes').TYPES.LEARN_MORE.name||this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_WEBSITE)return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CALL_TO_ACTION_LEARN_MORE_LABEL,tooltip:c('BoostedComponentStrings').CALL_TO_ACTION_LEARN_MORE_TOOLTIP},c('React').createElement(c('AdsTextInput.react'),{errors:this.props.config.getCreativeStore().getValidator().validateCallToAction(),multiline:false,placeholder:c('BoostedComponentStrings').CALL_TO_ACTION_LEARN_MORE_PLACEHOLDER,value:this.state.callToAction.value.link,onChange:this._onCTALinkChange})));},_onCTALinkChange:function(o){var p=this.props.config.getCreativeStore().getCallToAction();p.value.link=o;this._creativeViewActions.changeCallToAction(p);},_getCreativeInputFields:function(){if(this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_POST)return null;if(this._isAdPreviewEditable())return c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.state.errors});return (c('React').createElement('div',null,c('React').createElement(c('BoostedComponentSectionSubheader.react'),{errors:this.state.errors}),c('React').createElement(c('BoostedComponentContent.react'),null,this._getCreativeBodyEditor(),this._getCreativeLinkDataEditor(),this._getImageOrVideoSelector(),this._getMultiAdsOrVideoEditor(),this._getCTASelector())));},_isAdPreviewEditable:function(){return this.props.config.getExperimentStore().getExperimentForAppIDs('ad_preview_editable',[c('BoostedComponentAppID').BOOSTED_PAGELIKE]);},_getDisplayPhoneNumber:function(){var o=this.state.callToAction&&this.state.callToAction.value.link;if(!o||o.indexOf('tel:')!==0)return '';return o.substr(4);},_onPhoneNumberChanged:function(o){o='tel:'+o;var p=this.props.config.getCreativeStore().getCallToAction();p.value.link=o;this._creativeViewActions.changeCallToAction(p);},_updateHeadline:function(o){if(o.headline||o.headline===''){return o.headline;}else return this.state.headline;},_onCallToActionChange:function(o){var p=o.value,q=this.props.config.getCreativeStore().getSpecForCallToAction(p);if(!q&&p){q={};q[c('ApiCallToActionFields').TYPE]=p;var r={};r[c('CallToActionValueFields').LINK]=this.state.url;r[c('CallToActionValueFields').LINK_TITLE]=this._updateHeadline(o);q[c('ApiCallToActionFields').VALUE]=r;}this._creativeViewActions.changeCallToAction(q);},_onVideoCallToActionChange:function(o){var p=this.props.config.getCreativeStore().getCallToActionType(),q=null;if(p)q=this.props.config.getCreativeStore().getSpecForCallToAction(p);if(!q&&p){q={};q[c('ApiCallToActionFields').TYPE]=p;var r={};if(o.link||o.link===''){r[c('CallToActionValueFields').LINK]=o.link;}else r[c('CallToActionValueFields').LINK]=this.state.url;r[c('CallToActionValueFields').LINK_TITLE]=this._updateHeadline(o);q[c('ApiCallToActionFields').VALUE]=r;}if(q)this._creativeViewActions.changeCallToAction(q);},_getImageSpecs:function(){var o=this.props.config.getCreativeStore().getCreativeType(),p=c('BoostedComponentCreativePlacement').getPlacement(o);return c('AdImageSpecsUtils').getCropImageSpecsForAdType(this.props.config.getCreativeStore().getCreativeType(),p);},_onLinkDataURLChange:function(o){var p=o;if(c('ads-lib-urllib').isUrl(p)){var q=new (c('URI'))(c('ads-lib-urllib').normalize(o));p=q.toString();}var r={};r[c('ApiObjectStorySpecLinkFields').LINK]=p;this._creativeViewActions.changeLinkDataFields(r);},_onLinkDataHeadlineChange:function(o){var p={};p[c('ApiObjectStorySpecLinkFields').NAME]=o;this._creativeViewActions.changeLinkDataFields(p);},_onLinkDataTextChange:function(o){var p={};p[c('ApiObjectStorySpecLinkFields').MESSAGE]=o;this._creativeViewActions.changeLinkDataFields(p);},_onImageUploadClick:function(o){return this._creativeViewActions.changeImage(o,n.UPLOAD);},_onImageCropClick:function(o,p){return this._creativeViewActions.changeImageCrop(o,p);},_onImageSelected:function(o){return this._creativeViewActions.changeImage(o,this._getImageTypeForLogging(o));},_getImageTypeForLogging:function(o){return this._isPageImage(o)?n.PAGE:o.isStockImage()?n.STOCK:this._isInstagramImage(o)?n.INSTAGRAM:n.OTHER;},_isPageImage:function(o){return !!(!o.getAdAccountHash()&&!o.isStockImage()&&this.state.pageImages.length&&this.state.pageImages.find(function(p){return p.getUrl()===o.getUrl();}));},_isInstagramImage:function(o){return o.getImageType()==='INSTAGRAM';},_onVideoUploadClick:function(event){var o=event.target;if(o.value)this._creativeViewActions.startVideoUpload(o);},_onVideoDataURLChange:function(o){var p=o;if(c('ads-lib-urllib').isUrl(p)){var q=new (c('URI'))(c('ads-lib-urllib').normalize(o));p=q.toString();}this._onVideoCallToActionChange({link:p});},_onVideoDataHeadlineChange:function(o){this._onVideoCallToActionChange({headline:o});},_onVideoDataTextChange:function(o){this._creativeViewActions.updateVideoDescription(o);},_onBodyChange:function(o){var p=this.props.config.getCreativeStore();if(p.getCreativeCategory()===c('BoostedComponentCreativeCategory').IMAGE){var q={};q[c('ApiAdCreativeFields').BODY]=o;this._creativeViewActions.changeCreative(q);}else this._creativeViewActions.updateVideoDescription(o);},_onProductSelected:function(o){this.setState({selectedProductIndex:o});},_onProductsChange:function(o,p){var q={};if(o&&o.length===1){if(p===c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_CHANGE||p===c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_UPLOAD){var r=new (c('AdsImageLegacy'))({url:o[0].picture,hash:o[0].image_hash,imageType:o[0].imageType}),s=p===c('BoostedComponentMultiAdsProductChangeTypes').IMAGE_UPLOAD?n.UPLOAD:this._getImageTypeForLogging(r);this._creativeViewActions.changeImage(r,s);}q[c('ApiObjectStorySpecLinkFields').LINK]=this.state.url;q[c('ApiObjectStorySpecLinkFields').MESSAGE]=this.state.text;q[c('ApiObjectStorySpecLinkFields').NAME]=o[0].name?o[0].name:this.state.headline;if(o[0].picture||o[0].image_hash){q[c('ApiObjectStorySpecLinkFields').PICTURE]=o[0].picture;q[c('ApiObjectStorySpecLinkFields').IMAGE_HASH]=o[0].image_hash;if(o[0].image_crops)q[c('ApiObjectStorySpecLinkFields').IMAGE_CROPS]=o[0].image_crops;}else{q[c('ApiObjectStorySpecLinkFields').PICTURE]=this.state.imageUrl;q[c('ApiObjectStorySpecLinkFields').IMAGE_HASH]=this.state.imageHash;if(this.state.imageCrops)q[c('ApiObjectStorySpecLinkFields').IMAGE_CROPS]=this.state.imageCrops;}q[c('ApiObjectStorySpecLinkFields').CHILD_ATTACHMENTS]=null;}else{if(this.state.isLAWithCarouselSupport){var t=k(this.props.config.getCreativeStore(),c('ApiObjectStorySpecLinkFields').CALL_TO_ACTION);if(t)for(var u=0;u<o.length;u++)o[u].call_to_action=t;}for(var v=0;v<o.length;v++){o[v].description=' ';o[v]=this._removeInvalidChildFields(o[v]);}q[c('ApiObjectStorySpecLinkFields').CHILD_ATTACHMENTS]=o;}this._creativeViewActions.changeLinkDataFields(q);},_onImageDialogOpened:function(){if(this.props.config.getContextStore().getAppID()!==c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS)return;c('AdsQEDataManager').logExposure(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_SHUTTERSTOCK,this.state.userID);var o=this.props.config.getContextStore();c('WebApiApplication').init(o.getAccessToken(),o.getClientID());},_isCollapsable:function(){if(this._isAdPreviewEditable())return false;return (this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_PAGELIKE||this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_WEBSITE);},_getCollapsedData:function(){return {title:c('BoostedComponentStrings').CREATIVE_SECTION,content:c('React').createElement('div',null)};},_getUncollapsedData:function(){var o=c('BoostedComponentStrings').getCreativeSectionTitle(this.props.config.getContextStore().getAppID()),p=this._getCreativeInputFields();return {title:o,content:p};},_canSee:function(){var o=this.props.config.getContextStore().getAppID();return (o!==c('BoostedComponentAppID').BOOSTED_POST&&o!==c('BoostedComponentAppID').BOOSTED_PRODUCT);},_removeInvalidChildFields:function(o){var p=c('AdsUtils').flip(c('ApiObjectStorySpecLinkChildFields'));Object.keys(o).forEach(function(q){if(!p[q])delete o[q];});return o;},render:function(){if(!this._canSee())return c('React').createElement('div',null);var o=this.props.config.getAdStatusStore().getShouldEdit();if(this._isCollapsable())return (c('React').createElement(c('BoostedComponentCollapsableSection.react'),{collapsedData:this._getCollapsedData(),editable:true,errors:this.state.errors,isCollapsed:c('isEmpty')(this.state.errors),isFirstSection:!o,uncollapsedData:this._getUncollapsedData()}));var p=this._getUncollapsedData();return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:!o,title:p.title},p.content));}}),n={INSTAGRAM:'INSTAGRAM',OTHER:'OTHER',PAGE:'PAGE',STOCK:'STOCK',UPLOAD:'UPLOAD'};f.exports=m;},null);
__d('BoostedComponentHeaderSection.react',['cx','React','XUICard.react','XUICardSection.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentHeaderSection',propTypes:{image:i.element},render:function(){return (c('React').createElement(c('XUICard.react'),{className:"_17f2"},c('React').createElement(c('XUICardSection.react'),null,this.props.image,this.props.children)));}});f.exports=j;},null);
__d('BoostedComponentInformationalHeaderSection.react',['fbt','ix','BoostedComponentHeaderSection.react','Image.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'BoostedComponentInformationalHeaderSection',render:function(){var k=c('React').createElement(c('Image.react'),{src:i('/images/ads/templates/audience.png')}),l=c('React').createElement('div',null,h._("Your customers are on Facebook."),c('React').createElement('br',null),h._("Boost your post so they {know about your business}.",[h.param('know about your business',c('React').createElement('strong',null,h._("know about your business")))]));return (c('React').createElement(c('BoostedComponentHeaderSection.react'),{image:k},l));}});f.exports=j;},null);
__d('BoostedComponentInsightsSection.react',['cx','BoostedActionInsightsTabbedSections.react','BoostedComponentConfig','BoostedComponentInsightsHeadline.react','BoostedComponentInsightsAgeGenderSection.react','BoostedComponentInsightsEngagementSection.react','BoostedComponentInsightsCountrySection.react','BoostedComponentSection.react','InsightsTabbedSection.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentInsightsSection',propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},getInitialState:function(){return {activeKey:null};},showSection:function(k){this.setState({activeKey:k.type.getKey(k.props)});},render:function(){var k=this.props.config.getInsightsStore();if(!k.canShowInsights())return null;return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:false},c('React').createElement('div',{className:"_3-8o"},c('React').createElement(c('BoostedComponentInsightsHeadline.react'),{appID:this.props.config.getContextStore().getAppID(),conversionType:k.getConversionType(),conversions:k.getConversions(),impressions:k.getImpressions(),reach:k.getReach(),spend:k.getSpend()}),c('React').createElement(c('BoostedActionInsightsTabbedSections.react'),{activeKey:this.state.activeKey,children:this._getSections(),onTabClick:this.showSection}))));},_getSections:function(){var k=this.props.config.getInsightsStore(),l=[c('React').createElement(c('BoostedComponentInsightsEngagementSection.react'),{values:k.getEngagementData()}),c('React').createElement(c('BoostedComponentInsightsAgeGenderSection.react'),{values:k.getAgeGenderData()}),c('React').createElement(c('BoostedComponentInsightsCountrySection.react'),{values:k.getCountryData()})];return l.map(function(m){var n=m.type.getName();return (c('React').createElement(c('InsightsTabbedSection.react'),{key:n,sectionKey:n,title:m.type.getTitle()},m));},this);}});f.exports=j;},null);
__d('BoostedComponentObjectiveSection.react',['cx','AdsAPIObjectives','AdsCallToActionTypes','AdsGraphAPI','BoostedComponentConfig','BoostedComponentDataState','BoostedComponentDialogRenderServerActions','BoostedComponentSection.react','BoostedComponentStrings','InputLabel.react','React','XUIRadioInput.react','XUISpinner.react','XUIText.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentObjectiveSection',_objectiveSectionViewActions:null,_dialogUIStoreArbiterToken:null,propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},getInitialState:function(){return {selectedObjective:c('AdsAPIObjectives').EVENT_RESPONSES,isLoading:false};},componentWillMount:function(){this._objectiveSectionViewActions=new (c('BoostedComponentDialogRenderServerActions'))(this.props.config.getDispatcher(),this.props.config.getContextStore());this._dialogUIStoreArbiterToken=this.props.config.getDialogUIStore().subscribe('change',function(){if(this.props.config.getDialogUIStore().getState()===c('BoostedComponentDataState').ACTIVE)this.setState({isLoading:false});}.bind(this));},_updateObjective:function(k){if(this.state.selectedObjective!==k){this.setState({selectedObjective:k,isLoading:true});var l=this._objectiveSectionViewActions;if(l)l.fetchDialogData(k===c('AdsGraphAPI').getClicksObjective()?c('AdsCallToActionTypes').TYPES.BUY_TICKETS.name:null);}},componentWillUnmount:function(){var k=this._dialogUIStoreArbiterToken;if(k!==null)this.props.config.getDialogUIStore().unsubscribe(k);},_getObjectiveItem:function(k,l,m){return (c('React').createElement('div',{className:"_3-8n"},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUIRadioInput.react'),{checked:this.state.selectedObjective===k,onChange:this._updateObjective.bind(this,k)}),c('React').createElement('div',{className:"_2pir"},c('React').createElement('div',null,c('React').createElement(c('XUIText.react'),{size:'small',weight:'bold'},l)),c('React').createElement(c('XUIText.react'),{size:'small'},m)))));},render:function(){return (c('React').createElement(c('BoostedComponentSection.react'),{isFirstSection:true,title:c('BoostedComponentStrings').OBJECTIVE_SECTION},c('React').createElement('div',{className:"_5cv9"},c('React').createElement('div',{className:"_5cvb"+(!this.state.isLoading?' '+"hidden_elem":'')},c('React').createElement(c('XUISpinner.react'),{className:"_5cvc",size:'large'})),c('React').createElement('form',null,this._getObjectiveItem(c('AdsAPIObjectives').EVENT_RESPONSES,c('BoostedComponentStrings').REACH_MORE_PEOPLE,c('BoostedComponentStrings').BOOST_EVENT_DESCRIPTION),this._getObjectiveItem(c('AdsGraphAPI').getClicksObjective(),c('BoostedComponentStrings').INCREASE_TICKET_SALE,c('BoostedComponentStrings').BOOST_EVENT_TICKET_DESCRIPTION)))));}});f.exports=j;},null);
__d("XPayerProtectionController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payer_protection\/",{});},null);
__d('BoostedComponentPaymentAccountSection.react',['cx','fbt','ix','AdsAdAccountSelector.react','AdsCurrencySelector.react','AdsLoadState','AdsPaymentsPaymentMethodSelector.react','AdsPixelViewActions','BoostedComponentAdAccountViewActions','BoostedComponentConfig','BoostedComponentContent.react','BoostedComponentDataState','BoostedComponentLabeledEditor.react','BoostedComponentSection.react','BoostedComponentStrings','BoostedComponentSectionSubheader.react','CenteredContainer.react','Image.react','Link.react','PopupWindow','React','SubscriptionsHandler','XPayerProtectionController','XUIGrayText.react','XUISpinner.react','XUIText.react'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=346,m=c('React').createClass({displayName:'BoostedComponentPaymentAccountSection',_adAccountViewActions:new (c('BoostedComponentAdAccountViewActions'))({}),_subscriptions:new (c('SubscriptionsHandler'))(),propTypes:{config:k.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){var n=this.props.config;this._adAccountViewActions=new (c('BoostedComponentAdAccountViewActions'))(n.getDispatcher());this._subscriptions.addSubscriptions(n.getAdAccountStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)),n.getAdStatusStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)),n.getDialogChangeStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();},render:function(){var n=null;if(this._isPaymentSectionLoading())n=c('React').createElement(c('CenteredContainer.react'),{className:"_4o-q",vertical:true},c('React').createElement(c('XUISpinner.react'),{background:'light',size:'large'}));return (c('React').createElement(c('BoostedComponentSection.react'),{className:"_4o-r",isFirstSection:false,title:c('BoostedComponentStrings').PAYMENT_ACCOUNT_INFO_SECTION},n,c('React').createElement(c('BoostedComponentContent.react'),null,this._getAccountSelector(),this._getCurrencySelector(),this._getPaymentInfoSection(),this._getPaymentSecureMessage())));},_getPaymentSecureMessage:function(){var n=c('XPayerProtectionController').getURIBuilder().getURI();return (c('React').createElement('div',{className:"inlineBlock"},c('React').createElement(c('Image.react'),{className:"_24c9",src:j('/images/payments/security_msg_lock.png')}),c('React').createElement(c('XUIGrayText.react'),{size:'small'},i._("Your payment info is stored securely. {=Learn More}.",[i.param('=Learn More',c('React').createElement(c('Link.react'),{onClick:c('PopupWindow').open.bind(this,n,500,500)},c('BoostedComponentStrings').LEARN_MORE))]))));},_getCurrencySelector:function(){var n=this.props.config.getAdAccountStore();if(!n.canUpdateSelectedAccountCurrency()||!n.getSelectedAccountHasBillingWritePermission())return null;return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').CURRENCY_SECTION},c('React').createElement(c('AdsCurrencySelector.react'),{fontSize:12,maxWidth:l,selectedCurrency:n.getSelectedAccountCurrency(),showISOCode:true,size:'xlarge',onDataUpdate:function(event,o){this._adAccountViewActions.updateCurrency(o);}.bind(this)})));},_getAccountSelector:function(){var n=this.props.config.getAdAccountStore(),o=n.getAllAccounts(),p=Object.keys(o).length,q=n.getSelectedAccountID();if(p<1){return null;}else if(p===1||this.props.config.getAdStatusStore().getShouldEdit())return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').ACCOUNT_SECTION},c('React').createElement('div',{className:"_4i70"},c('React').createElement(c('XUIText.react'),{className:"_3-8i",display:'block',size:'small',weight:'bold'},i._("{account_name} ({account_id}, {account_currency})",[i.param('account_name',o[q].name),i.param('account_id',q),i.param('account_currency',n.getSelectedAccountCurrency())])))));return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').ACCOUNT_SECTION},c('React').createElement(c('AdsAdAccountSelector.react'),{accounts:o,fontSize:12,maxWidth:l,selectedAccount:q,size:'xlarge',onDataUpdate:function(event,r){this._adAccountViewActions.updateAccount(r);c('AdsPixelViewActions').resetPixelList();}.bind(this)})));},_isFieldLoading:function(n){if(n!==null&&n!==undefined&&(n===c('AdsLoadState').LOADING||n===c('AdsLoadState').NOT_LOADED))return true;return false;},_isPaymentSectionLoading:function(){var n=this.props.config.getAdAccountStore();if(this.props.config.getDialogChangeStore().getShowLoadingIndicator())return true;if(n.getState()===c('BoostedComponentDataState').LOADING)return true;var o=n.getAccountInfoLoadingStatus();if(this._isFieldLoading(o.loadState))return true;var p=n.getSelectedAccountPrimaryPaymentMethod();if(this._isFieldLoading(p.loadState))return true;var q=n.getSelectedAccountPaymentMethods();if(this._isFieldLoading(q.loadState))return true;return false;},_onClickAddPaymentMethod:function(){var n=this.props.config.getAdAccountStore();if(!n.getSelectedAccountHasBillingWritePermission())return;this._adAccountViewActions.addNewPaymentMethod();},_updatePrimaryPaymentMethod:function(n,o,p){this._adAccountViewActions.updatePrimaryPaymentMethod(n,o,p);},_getPaymentInfoSection:function(){var n=this.props.config.getAdAccountStore(),o=n.getSelectedAccountPaymentMethods(),p=n.getSelectedAccountPaymentInfo(),q=o.paymentMethods;if(q===undefined||q===null)q={};return (c('React').createElement(c('BoostedComponentLabeledEditor.react'),{label:c('BoostedComponentStrings').PAYMENT_METHOD_SECTION},c('React').createElement(c('AdsPaymentsPaymentMethodSelector.react'),{accountID:n.getSelectedAccountID(),allPaymentMethods:q,altpayPendingPayments:n.getSelectedAccountAltpayPendingPayments(),businessInfo:n.getSelectedAccountBusinessInfo(),currency:n.getSelectedAccountCurrency(),errors:n.getValidator().getErrors(),extendedCreditInfo:n.getSelectedAccountExtendedCreditInfo(),extendedCreditStatus:p.extendedCreditStatus,hasBillingWritePermission:n.getSelectedAccountHasBillingWritePermission(),hasCreatedAdsBefore:n.getSelectedAccountHasCreatedAdsBefore(),hasExtendedCredit:p.hasCredit,hasFundingSource:n.getSelectedAccountHasFundingSource(),isCorporate:p.isCorporateAccount,isPrepayAccount:p.isPrepayAccount,maxWidth:l,paymentMethodLoadingStatus:o.loadState,prepayBalance:n.getSelectedAccountPrepayBalance(),primaryPaymentMethod:n.getSelectedAccountPrimaryPaymentMethod(),primaryPMDisplayString:n.getSelectedAccountPrimaryPMDisplayString(),successes:n.getValidator().getSuccesses(),onChangePrimaryPaymentMethod:this._updatePrimaryPaymentMethod,onPaymentMethodButtonClick:this._onClickAddPaymentMethod})));}});f.exports=m;},null);
__d('BoostedComponentTargetingSection.react',['BoostedComponentAppID','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentSection.react','BoostedComponentSectionMixin','BoostedComponentSectionUtils','BoostedComponentStoreType','BoostedComponentStrings','BoostedComponentTargetingEditor.react','BoostedComponentTargetingViewActions','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentTargetingSection',mixins:[c('BoostedComponentSectionMixin')],propTypes:{config:h.instanceOf(c('BoostedComponentConfig')).isRequired},statics:{getStores:c('BoostedComponentSectionUtils').makeGetStoresFromConfig(c('BoostedComponentStoreType').AD_STATUS_STORE,c('BoostedComponentStoreType').BUDGET_EST_STORE,c('BoostedComponentStoreType').CONTEXT_STORE,c('BoostedComponentStoreType').CREATIVE_STORE,c('BoostedComponentStoreType').DIALOG_CHANGE_STORE,c('BoostedComponentStoreType').TARGETING_STORE,c('BoostedComponentStoreType').URI_STORE),calculateState:function(j){var k=j[c('BoostedComponentStoreType').TARGETING_STORE];return {accountID:j[c('BoostedComponentStoreType').CREATIVE_STORE].getAdAccountID(),appID:j[c('BoostedComponentStoreType').CONTEXT_STORE].getAppID(),accessToken:j[c('BoostedComponentStoreType').CONTEXT_STORE].getAccessToken(),audienceSize:j[c('BoostedComponentStoreType').BUDGET_EST_STORE].getAudienceSize(),callToAction:j[c('BoostedComponentStoreType').CREATIVE_STORE].getCallToAction(),defaultLocations:k.getDefaultLocations(),minAge:k.getMinAge(),maxAge:k.getMaxAge(),maxReachPossible:j[c('BoostedComponentStoreType').BUDGET_EST_STORE].getMaxReachPossible(),gender:k.getGender(),geoLocationType:k.getGeoLocationType(),interests:k.getInterests(),initialCustomLocation:k.getInitialCustomLocation(),pageIconURL:j[c('BoostedComponentStoreType').URI_STORE].getPageIconURI(),locations:k.getLocations(),customLocation:k.getCustomLocation(),errors:k.getValidator().getErrors(),shouldEdit:j[c('BoostedComponentStoreType').AD_STATUS_STORE].getShouldEdit(),showLoadingIndicator:j[c('BoostedComponentStoreType').DIALOG_CHANGE_STORE].getShowLoadingIndicator()};}},componentWillMount:function(){this._targetingViewActions=new (c('BoostedComponentTargetingViewActions'))(this.props.config.getDispatcher());},render:function(){var j=this.props.config.getConstraintStore(),k=this.props.config.getContextStore().getAppID();return (c('React').createElement(c('BoostedComponentSection.react'),{title:c('BoostedComponentStrings').TARGETING_SECTION},c('React').createElement(c('BoostedComponentTargetingEditor.react'),babelHelpers['extends']({},this.state,{allowLocalTargeting:k===c('BoostedComponentAppID').BOOSTED_WEBSITE||k===c('BoostedComponentAppID').BOOSTED_CCTA,blacklistCountries:j.getBlacklistCountries(),maxSelectableAge:j.getMaxAge(),minSelectableAge:j.getMinAge(),showReachWarning:this.state.appID===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS,targetingViewActions:this._targetingViewActions,whitelistCountries:j.getWhitelistCountries()}))));}});f.exports=i;},null);
__d('BoostedComponentDialogLeftColumnSection.react',['cx','BoostedComponentAdAccountSection.react','BoostedComponentAppID','BoostedComponentAudienceSection.react','BoostedComponentBudgetAndDurationSection.react','BoostedComponentConfig','BoostedComponentConfirmationSection.react','BoostedComponentConversionPixelSection.react','BoostedComponentCreativeSection.react','BoostedComponentDialogViewActions','BoostedComponentDialogViewStates','BoostedComponentObjectiveSection.react','BoostedComponentExperiment','BoostedComponentInformationalHeaderSection.react','BoostedComponentInsightsSection.react','BoostedComponentPaymentAccountSection.react','BoostedComponentReachSummarySection.react','BoostedComponentStrings','BoostedComponentStarRatingSection.react','BoostedComponentTargetingSection.react','BoostedComponentUnifiedAudienceSection.react','React','SubscriptionsHandler','WebApiApplication','XUICard.react','XUICardHeader.react','XUICardHeaderTitle.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentDialogLeftColumnSection',propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){c('WebApiApplication').init(this.props.config.getContextStore().getAccessToken(),this.props.config.getContextStore().getClientID());this._dialogViewActions=new (c('BoostedComponentDialogViewActions'))(this.props.config.getDispatcher());this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(this.props.config.getDialogUIStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_hasHeaderSection:function(){return (this.props.config.getDialogUIStore().showInformationalHeaderSection());},_getCreativeSection:function(){return c('React').createElement(c('BoostedComponentCreativeSection.react'),{config:this.props.config});},_getHeaderSection:function(){if(!this._hasHeaderSection())return null;return c('React').createElement(c('BoostedComponentInformationalHeaderSection.react'),null);},_getReachSummary:function(){return c('React').createElement(c('BoostedComponentReachSummarySection.react'),{config:this.props.config});},_getObjectiveSection:function(){if(this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_EVENT&&this.props.config.getExperimentStore().getExperiment(c('BoostedComponentExperiment').BOOSTED_EVENT_WWW_TICKET_QE))return c('React').createElement(c('BoostedComponentObjectiveSection.react'),{config:this.props.config});},_getAudienceSection:function(){if(this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_POST||this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_EVENT||this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_PRODUCT)return (c('React').createElement(c('BoostedComponentAudienceSection.react'),{config:this.props.config,isFirstSection:!this._hasHeaderSection()}));return null;},_getTargetingSection:function(){if(this._isBoostedPostFamily())return null;if(this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS&&!this.props.config.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_AUDIENCE_MTC,'use_mtc'))return (c('React').createElement(c('BoostedComponentTargetingSection.react'),{config:this.props.config}));return (c('React').createElement(c('BoostedComponentUnifiedAudienceSection.react'),{config:this.props.config,isFirstSection:false}));},_getBudgetAndDurationSection:function(){return (c('React').createElement(c('BoostedComponentBudgetAndDurationSection.react'),{config:this.props.config}));},_getConversionPixelSection:function(){return (c('React').createElement(c('BoostedComponentConversionPixelSection.react'),{config:this.props.config}));},_getAdAccountSection:function(){var k=this.props.config.getExperimentStore();if(k.getExperiment('new_payments_section'))return (c('React').createElement(c('BoostedComponentPaymentAccountSection.react'),{config:this.props.config}));return (c('React').createElement(c('BoostedComponentAdAccountSection.react'),{config:this.props.config}));},_getInsightsSection:function(){if(!this.props.config.getInsightsStore().canShowInsights())return null;return c('React').createElement(c('BoostedComponentInsightsSection.react'),{config:this.props.config});},_getConfirmationSection:function(){return (c('React').createElement(c('BoostedComponentConfirmationSection.react'),{config:this.props.config,onEditClick:this._isBoostedPostFamily()?null:function(){return this._onTabClick(c('BoostedComponentDialogViewStates').EDIT);}.bind(this)}));},_getStarRatingSection:function(){return c('React').createElement(c('BoostedComponentStarRatingSection.react'),{config:this.props.config});},_onTabClick:function(k){this._dialogViewActions.onToggleActiveDialogTab(k);},render:function(){var k=c('React').createElement('div',{className:"_5tu5"},this._getStarRatingSection(),this._getConfirmationSection(),this._getInsightsSection()),l=this._shouldStartWithTargeting(),m=c('React').createElement('div',null,this._getHeaderSection(),this._shouldShowReachSummary()&&this._getReachSummary(),this._getObjectiveSection(),l&&this._getTargetingSection(),this._getCreativeSection(),this._getAudienceSection(),!l&&this._getTargetingSection(),this._getBudgetAndDurationSection(),this._getConversionPixelSection(),this._getAdAccountSection());if(this.props.config.getAdStatusStore().getShouldEdit())return (c('React').createElement('div',null,this._renderCardHeader(),this.props.config.getDialogUIStore().getActiveDialogTab()===c('BoostedComponentDialogViewStates').EDIT?m:k));return (c('React').createElement('div',null,m));},_renderCardHeader:function(){if(this._isBoostedPostFamily())return null;return (c('React').createElement(c('XUICard.react'),null,c('React').createElement(c('XUICardHeader.react'),{activeTabKey:this.props.config.getDialogUIStore().getActiveDialogTab(),className:"_144t",onTabClick:this._onTabClick},c('React').createElement(c('XUICardHeaderTitle.react'),{className:"_56nz",href:'#',key:c('BoostedComponentDialogViewStates').RESULTS},c('BoostedComponentStrings').RESULTS),c('React').createElement(c('XUICardHeaderTitle.react'),{className:"_56nz",href:'#',key:c('BoostedComponentDialogViewStates').EDIT},c('BoostedComponentStrings').EDIT_PROMOTION))));},_isBoostedPostFamily:function(){var k=this.props.config.getContextStore().getAppID();return (k===c('BoostedComponentAppID').BOOSTED_POST||k===c('BoostedComponentAppID').BOOSTED_EVENT||k===c('BoostedComponentAppID').BOOSTED_PRODUCT);},_shouldStartWithTargeting:function(){var k=this.props.config,l=k.getContextStore().getAppID();if(l!==c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS)return false;return k.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_AUDIENCE_SECTION_FIRST,'start_with_targeting');},_shouldShowReachSummary:function(){var k=this.props.config;if(k.getContextStore().getAppID()!==c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS)return false;return k.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_STICKY_REACH_SUMMARY,'is_summary_visible');}});f.exports=j;},null);
__d('AdsHscrollAdPreviewsBar.react',['cx','fbt','invariant','AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','TabBar.react','TabBarItem.react','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=i._(["DESKTOP NEWS FEED","cfda997c7786ec18d5665066c8f8d121"]),m=i._("MOBILE NEWS FEED"),n=i._("RIGHT COLUMN"),o=new (c('immutable').Map)([[c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD,c('React').createElement(c('TabBarItem.react'),{className:"_1riu",'data-testid':c('BoostedComponentTestElement').DESKTOP_PREVIEW_TAB,key:c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD},l)],[c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD,c('React').createElement(c('TabBarItem.react'),{className:"_1riu",'data-testid':c('BoostedComponentTestElement').MOBILE_PREVIEW_TAB,key:c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD},m)],[c('AdsPreviewApiFormats').RIGHT_COLUMN_STANDARD,c('React').createElement(c('TabBarItem.react'),{className:"_1riu",'data-testid':c('BoostedComponentTestElement').RHS_PREVIEW_TAB,key:c('AdsPreviewApiFormats').RIGHT_COLUMN_STANDARD},n)]]),p=c('React').createClass({displayName:'AdsHscrollAdPreviewsBar',propTypes:{apiAdFormatList:k.instanceOf(c('immutable').List).isRequired,selected:k.string.isRequired,onSelect:k.func},render:function(){var q=this.props.apiAdFormatList,r=q.count();!(r>=1&&r<=3)?j(0):void 0;return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_1riv"+(r===1?' '+"_2x8y":'')+(r===2?' '+"_1rix":'')+(r===3?' '+"_1riy":''))}),c('React').createElement(c('TabBar.react'),{activeTabKey:this.props.selected,onTabClick:this.props.onSelect},this._getBarItems()),c('React').createElement('div',{className:"_1riz"+(r===1?' '+"_1ilg":'')+(r===2?' '+"_1ilh":'')+(r===3?' '+"_1ili":'')+(this.props.selected===q.get(0)?' '+"_1ri-":'')+(this.props.selected===q.get(1)?' '+"_1ri_":'')+(this.props.selected===q.get(2)?' '+"_1rj0":'')})));},_getBarItems:function(){return this.props.apiAdFormatList.map(function(q){return (o.get(q));});}});f.exports=p;},null);
__d('AdsHscrollAdPreviewsUnitFrame.react',['cx','AdsHscrollAdPreviewsBar.react','AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','XUICard.react','XUICardSection.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'AdsHscrollAdPreviewsUnitFrame',propTypes:{apiAdFormats:i.instanceOf(c('immutable').Set),apiAdFormatsList:i.instanceOf(c('immutable').List),defaultSelectedAdFormat:i.string,onSelect:i.func},getInitialState:function(){return {selected:this._getDefaultSelected(this.props)};},componentWillReceiveProps:function(k){if(k.apiAdFormats!=null&&!k.apiAdFormats.has(this.state.selected))this.setState({selected:this._getDefaultSelected(k)});},_getDefaultSelected:function(k){return (k.defaultSelectedAdFormat!=null?k.defaultSelectedAdFormat:k.apiAdFormats!=null?k.apiAdFormats.first():c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD);},_onSelect:function(k){this.setState({selected:k});this.props.onSelect&&this.props.onSelect(k);},render:function(){var k=this.props.apiAdFormatsList;return (c('React').createElement(c('XUICard.react'),{className:"_i40",'data-testid':c('BoostedComponentTestElement').PREVIEW_UNIT},c('React').createElement(c('XUICardSection.react'),null,c('React').createElement(c('AdsHscrollAdPreviewsBar.react'),{apiAdFormatList:k,selected:this.state.selected,onSelect:this._onSelect})),c('React').createElement(c('XUICardSection.react'),{className:"_i41"},c('React').createElement('div',{className:"_i42"+(this.state.selected===k.get(0)?' '+"_1ri-":'')+(this.state.selected===k.get(1)?' '+"_1ri_":'')+(this.state.selected===k.get(2)?' '+"_1rj0":'')},this.props.children))));}});f.exports=j;},null);
__d('AdsHscrollAdPreviewsUnit.react',['cx','AdsHscrollAdPreviewsBar.react','AdPreview.react','AdsPreviewApiFormats','BoostedComponentTestElement','immutable','React','XUICard.react','XUICardSection.react','AdsHscrollAdPreviewsUnitFrame.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=new (c('immutable').List)([c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD,c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD]),k=j.push(c('AdsPreviewApiFormats').RIGHT_COLUMN_STANDARD),l=k,m=c('React').createClass({displayName:'AdsHscrollAdPreviewsUnit',propTypes:{apiAdFormats:i.instanceOf(c('immutable').Set),pageID:i.string.isRequired,adAccountID:i.string.isRequired,creative:i.object.isRequired,defaultSelectedAdFormat:i.string,linkShareData:i.object,appID:i.string,height:i.number,hasRHC:i.bool,editable:i.bool,objective:i.string},getDefaultProps:function(){return {hasRHC:true,height:464,editable:false};},_getApiAdFormats:function(){if(this.props.apiAdFormats!=null){var n=[];l.forEach(function(o){if(this.props.apiAdFormats.has(o))n.push(o);}.bind(this));return new (c('immutable').List)(n);}return this.props.hasRHC?k:j;},render:function(){var n=this._getApiAdFormats();return (c('React').createElement(c('AdsHscrollAdPreviewsUnitFrame.react'),{apiAdFormats:this.props.apiAdFormats,apiAdFormatsList:n,defaultSelectedAdFormat:this.props.defaultSelectedAdFormat},this.renderPreviewUnits(n)));},renderPreviewUnits:function(n){return n.map(function(o){return (this.renderPreviewUnit(o));}.bind(this));},renderPreviewUnit:function(n){return (c('React').createElement('div',{className:"_i46",key:n},c('React').createElement('div',{className:"_i47"},c('React').createElement(c('AdPreview.react'),{adAccountID:this.props.adAccountID,apiFormat:n,appID:this.props.appID,creative:this.props.creative,editable:this.props.editable,linkShareData:this.props.linkShareData,objective:this.props.objective}))));}});f.exports=m;},null);
__d('BoostedComponentAdPreviewSection.react',['cx','fbt','invariant','ix','AdsAPIObjectives','AdsGraphAPI','AdsUtils','AdsHscrollAdPreviewsUnit.react','ApiAdCreativeFields','ApiAdCreativeStorySpecFields','ApiCallToActionFields','AdsPageTypes','AdsPageTypesMigration','AdsPreviewApiFormats','ApiObjectStorySpecLinkFields','ApiObjectStorySpecVideoFields','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentCreativeCategory','BoostedComponentExperiment','BoostedComponentStrings','CallToActionValueFields','Image.react','immutable','React','XUINotice.react','BoostedPostConstants','BoostedPostPlacementOptions','getByPath','ads-lib-urllib'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=new (c('immutable').Set)([c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD,c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD]),n=m.add(c('AdsPreviewApiFormats').RIGHT_COLUMN_STANDARD),o=new (c('immutable').Map)([[c('AdsPageTypes').DESKTOP_FEED,c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD],[c('AdsPageTypes').MOBILE_FEED,c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD],[c('AdsPageTypes').RIGHT_COLUMN,c('AdsPreviewApiFormats').RIGHT_COLUMN_STANDARD],[c('AdsPageTypes').MOBILE_EXTERNAL,c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD],[c('AdsPageTypes').INSTAGRAM_STREAM,c('AdsPreviewApiFormats').INSTAGRAM_STANDARD]]);function p(r){var s=r;if(c('AdsPageTypesMigration').isLegacy(r))s=c('AdsPageTypesMigration').toModern(r);if(r.length!==0&&r[0]==='desktop-and-mobile')s=[c('AdsPageTypes').DESKTOP_FEED,c('AdsPageTypes').MOBILE_FEED];return new (c('immutable').Set)(s.map(function(t){!o.has(t)?j(0):void 0;return o.get(t);}));}var q=c('React').createClass({displayName:'BoostedComponentAdPreviewSection',propTypes:{config:l.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){this._creativeStoreArbiterToken=this.props.config.getCreativeStore().subscribe('change',function(){return this.forceUpdate();}.bind(this));},componentWillUnmount:function(){this.props.config.getCreativeStore().unsubscribe(this._creativeStoreArbiterToken);},render:function(){return (c('React').createElement('div',null,this._getNotice(),this._getPreview()));},_getNotice:function(){var r=this.props.config.getContextStore();if(r.getAppID()!==c('BoostedComponentAppID').BOOSTED_POST&&r.getAppID()!==c('BoostedComponentAppID').BOOSTED_EVENT&&r.getAppID()!==c('BoostedComponentAppID').BOOSTED_PRODUCT)return null;if(r.getPostType()===c('BoostedPostConstants').FBTYPE_PHOTO_ALBUM){return (c('React').createElement(c('XUINotice.react'),{className:'mbs'},i._("You're currently boosting an album. If you want to boost a single photo, upload it separately to this album.")));}else if(r.getPlacement()===c('BoostedPostPlacementOptions').COMPOSER)return (c('React').createElement(c('XUINotice.react'),{className:'mbs'},i._("You'll see a preview of your ad here after you post.")));return null;},_getPreview:function(){var r=this.props.config,s=r.getContextStore(),t=r.getCreativeStore();if((s.getAppID()===c('BoostedComponentAppID').BOOSTED_POST||s.getAppID()===c('BoostedComponentAppID').BOOSTED_EVENT)&&s.getPlacement()===c('BoostedPostPlacementOptions').COMPOSER)return null;if(t.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO&&!t.hasVideoCreative())return (c('React').createElement('div',{className:"_133l"},c('React').createElement(c('Image.react'),{className:"_133m",src:k('/images/no-video.png')}),c('React').createElement('p',{className:"_133n"},c('BoostedComponentStrings').NO_VIDEO_IN_AD_PREVIEW_ERROR)));var u=void 0;if(s.getAppID()===c('BoostedComponentAppID').BOOSTED_WEBSITE&&t.getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO)u=c('AdsGraphAPI').getClicksObjective();return (c('React').createElement(c('AdsHscrollAdPreviewsUnit.react'),{adAccountID:this.props.config.getAdAccountStore().getSelectedAccountID(),apiAdFormats:this._getApiAdFormats(s.getAppID()),appID:s.getAppID(),creative:this._getSafeCreative(this.props.config.getCreativeStore().getCreativeSpec()),defaultSelectedAdFormat:this._getDefaultSelectedAdFormat(),editable:this._isAdPreviewEditable(),objective:u,pageID:s.getPageID()}));},_getDefaultSelectedAdFormat:function(){var r=this.props.config,s=r.getContextStore().getAppID();if(s===c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS&&r.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_DEFAULT_MOBILE_PREVIEW,'default_to_mobile_preview'))return c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD;var t=this._getApiAdFormats(s),u=c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD;if(!t.has(c('AdsPreviewApiFormats').DESKTOP_FEED_STANDARD))u=c('AdsPreviewApiFormats').MOBILE_FEED_STANDARD;return u;},_getSafeCreative:function(r){switch(this.props.config.getContextStore().getAppID()){case c('BoostedComponentAppID').BOOSTED_WEBSITE:var s=r[c('ApiAdCreativeFields').OBJECT_STORY_SPEC],t={},u={};if(this.props.config.getCreativeStore().getCreativeCategory()===c('BoostedComponentCreativeCategory').IMAGE){var v=s[c('ApiAdCreativeStorySpecFields').LINK_DATA];if(!v[c('ApiObjectStorySpecLinkFields').LINK]||!c('ads-lib-urllib').isUrl(v[c('ApiObjectStorySpecLinkFields').LINK])){var w=c('AdsUtils').clone(v);w[c('ApiObjectStorySpecLinkFields').LINK]='www.example.com';u=c('AdsUtils').clone(s);u[c('ApiAdCreativeStorySpecFields').LINK_DATA]=w;t[c('ApiAdCreativeFields').OBJECT_STORY_SPEC]=u;return t;}}else{var x=s[c('ApiAdCreativeStorySpecFields').VIDEO_DATA],y=c('getByPath')(x,[c('ApiObjectStorySpecVideoFields').CALL_TO_ACTION,c('ApiCallToActionFields').VALUE,c('CallToActionValueFields').LINK]);if(!y||!c('ads-lib-urllib').isUrl(y)){var z=c('AdsUtils').clone(x);z[c('ApiObjectStorySpecVideoFields').CALL_TO_ACTION][c('ApiCallToActionFields').VALUE][c('CallToActionValueFields').LINK]='www.example.com';u=c('AdsUtils').clone(s);u[c('ApiAdCreativeStorySpecFields').VIDEO_DATA]=z;t[c('ApiAdCreativeFields').OBJECT_STORY_SPEC]=u;return t;}}return r;default:return r;}},_getLinkShareData:function(){if(this.props.config.getContextStore().getAppID()===c('BoostedComponentAppID').BOOSTED_WEBSITE)return this.props.config.getCreativeStore().getLinkShareData();return null;},_getApiAdFormats:function(){var r=this.props.config;switch(r.getContextStore().getAppID()){case c('BoostedComponentAppID').BOOSTED_PAGELIKE:return r.getCreativeStore().getCreativeCategory()===c('BoostedComponentCreativeCategory').VIDEO?m:n;case c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS:case c('BoostedComponentAppID').BOOSTED_CCTA:return p(r.getTargetingStore().getTargetingSpec().page_types);default:return m;}},_isAdPreviewEditable:function(){return (!!this.props.config.getExperimentStore()&&this.props.config.getExperimentStore().getExperimentForAppIDs('ad_preview_editable',[c('BoostedComponentAppID').BOOSTED_PAGELIKE]));}});f.exports=q;},null);
__d('BoostedComponentShareAndBoostPreviewSection.react',['fbt','BoostedComponentConfig','BoostedComponentShareAndBoostPreviewContainer.react','React','ReactComponentWithPureRenderMixin','XUINotice.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentShareAndBoostPreviewSection',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},render:function(){return (c('React').createElement('div',null,this._getNotice(),this._getPreview()));},_getNotice:function(){var k=this.props.config.getCreativeStore().getShareOwnerName();return (c('React').createElement(c('XUINotice.react'),{className:'mbs'},h._("You're boosting this post as an ad from {Page Name of the branded content post}. It will appear as a sponsored post in News Feed for people in your target audience. You can track results for this ad in Page Insights. You can also share the post without creating an ad.",[h.param('Page Name of the branded content post',k)])));},_getPreview:function(){return (c('React').createElement(c('BoostedComponentShareAndBoostPreviewContainer.react'),{adAccountStore:this.props.config.getAdAccountStore(),contextStore:this.props.config.getContextStore(),creativeStore:this.props.config.getCreativeStore()}));}});f.exports=j;},null);
__d('BoostedComponentDialogRightColumnSection.react',['cx','BoostedComponentAdPreviewSection.react','BoostedComponentConfig','React','WebApiApplication','BoostedPostPlacementOptions','BoostedComponentShareAndBoostPreviewSection.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'BoostedComponentDialogRightColumnSection',propTypes:{config:i.instanceOf(c('BoostedComponentConfig')).isRequired},componentWillMount:function(){c('WebApiApplication').init(this.props.config.getContextStore().getAccessToken(),this.props.config.getContextStore().getClientID());},_getAdPreviewSection:function(){var k=this.props.config.getContextStore();switch(k.getPlacement()){case c('BoostedPostPlacementOptions').INSIGHTS_POST_SPONSORED_TABLE:return (c('React').createElement(c('BoostedComponentShareAndBoostPreviewSection.react'),{config:this.props.config}));default:return (c('React').createElement(c('BoostedComponentAdPreviewSection.react'),{config:this.props.config}));}},render:function(){return (c('React').createElement('div',{className:"_2jxt"},this._getAdPreviewSection()));}});f.exports=j;},null);
__d('BoostedComponentDialogSubmissionSection.react',['BoostedComponentAdStatusToAction','BoostedComponentAppID','BoostedComponentConfig','BoostedComponentExperiment','BoostedComponentFooter.react','BoostedComponentSubmissionViewActions','SubscriptionsHandler','React'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'BoostedComponentDialogSubmissionSection',propTypes:{config:h.instanceOf(c('BoostedComponentConfig')).isRequired},getInitialState:function(){return {dialogState:this.props.config.getSubmissionStore().getDialogSubmissionState()};},componentWillMount:function(){this._submissionViewActions=new (c('BoostedComponentSubmissionViewActions'))(this.props.config.getDispatcher());this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(this.props.config.getSubmissionStore().subscribe('change',this._updateSubmissionState));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},_onPrimaryButtonClick:function(){var j=c('BoostedComponentAdStatusToAction').getPrimaryClickAction(this.props.config.getAdStatusStore().getSelectedAdStatus(),this.props.config.getAdStatusStore().getAdStatus());if(!j)return;this._submissionViewActions.onClick(j);},_onSecondaryButtonClick:function(){this._submissionViewActions.onClick(c('BoostedComponentAdStatusToAction').getSecondaryClickAction(this.props.config.getAdStatusStore().getAdStatus()));},_getButtonSpecs:function(){var j=this.props.config.getAdStatusStore(),k=j.getAdStatus(),l=[],m=this.props.config.getExperimentStore().getExperiment(c('BoostedComponentExperiment').BOOSTED_COMPONENT_LABEL);if(c('BoostedComponentAdStatusToAction').hasPrimaryButton(j.getShouldEdit(),this.props.config.getDialogUIStore().getActiveDialogTab())){var n=void 0;if(this._shouldIncludeBudgetInPromoteButtonLabel()){n=c('BoostedComponentAdStatusToAction').getPrimaryButtonLabelWithBudget(k,this.props.config.getBudgetEstStore().getDailyBudget());}else n=c('BoostedComponentAdStatusToAction').getPrimaryButtonLabel(this.props.config.getContextStore().getAppID(),k,m,this.props.config.getContextStore().getPlacement());l.push({label:n,use:'confirm',onClick:this._onPrimaryButtonClick});}l.push({label:c('BoostedComponentAdStatusToAction').getSecondaryButtonLabel(j.getShouldEdit(),k,this.props.config.getDialogUIStore().getActiveDialogTab()),use:'default',onClick:this._onSecondaryButtonClick});return l;},_shouldIncludeBudgetInPromoteButtonLabel:function(){var j=this.props.config;if(j.getContextStore().getAppID()!==c('BoostedComponentAppID').BOOSTED_LOCAL_AWARENESS)return false;return j.getExperimentStore().getExperimentParamBool(c('BoostedComponentExperiment').BOOSTED_LOCALAWARENESS_INCLUDE_BUDGET_IN_LABEL,'include_budget');},_updateSubmissionState:function(){this.setState({dialogState:this.props.config.getSubmissionStore().getDialogSubmissionState()});},render:function(){return (c('React').createElement(c('BoostedComponentFooter.react'),{buttonSpecs:this._getButtonSpecs(),config:this.props.config,dialogState:this.state.dialogState}));}});f.exports=i;},null);
__d('BoostedComponentMainDialog.react',['cx','BoostedComponentConfig','BoostedComponentConstants','BoostedComponentDialogHeaderSection.react','BoostedComponentDialogLeftColumnSection.react','BoostedComponentDialogRenderViewActions','BoostedComponentDialogRightColumnSection.react','BoostedComponentDialogSubmissionSection.react','BoostedComponentDialogSubmissionStates','BoostedComponentDialogTitle.react','BoostedComponentStrings','BoostedComponentTestElement','DialogExpansion','FBSimpleTwoPaneDialog.react','Grid.react','LayerFadeOnHide','LoadingIndicator.react','React','ReactLayeredComponentMixin','SubscriptionsHandler','XUIDialog.react','XUIDialogBody.react','XUIText.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('BoostedComponentConstants').DIALOG_MAX_HEIGHT,k=c('BoostedComponentConstants').DIALOG_MIN_HEIGHT,l=c('React').createClass({displayName:'BoostedComponentMainDialog',mixins:[c('ReactLayeredComponentMixin')],propTypes:{causalElementRef:i.func.isRequired,config:i.instanceOf(c('BoostedComponentConfig')).isRequired,shown:i.bool.isRequired,onCancel:i.func,onToggle:i.func.isRequired},getInitialState:function(){return {dialogSeen:this.props.shown};},componentWillMount:function(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(this.props.config.getSubmissionStore().subscribe('change',function(){return this.forceUpdate();}.bind(this)));},componentDidMount:function(){var m=new (c('BoostedComponentDialogRenderViewActions'))(this.props.config.getDispatcher());m.onDialogOpen(this.props.config.getAdStatusStore().getShouldEdit());},componentWillReceiveProps:function(m){if(!this.state.dialogSeen&&m.shown)this.setState({dialogSeen:true});},componentDidUpdate:function(){if(!this.state.dialogSeen)return;if(this.refs.dialog&&this.props.shown&&this.props.onCancel&&!this._dialogCancelListener){var m=this.refs.dialog.layer;this._dialogCancelListener=m.subscribe('cancel',this.props.onCancel);}else if(this._dialogCancelListener&&!this.props.shown)this._unsubscribeDialogListeners();},componentWillUnmount:function(){this._unsubscribeDialogListeners();this._subscriptions.release();},_unsubscribeDialogListeners:function(){if(this._dialogCancelListener){this._dialogCancelListener.unsubscribe();this._dialogCancelListener=null;}},_renderLoadingIndicator:function(){var m=this.props.config.getSubmissionStore();if(m.getDialogSubmissionState()!==c('BoostedComponentDialogSubmissionStates').SUBMITTING)return null;return (c('React').createElement('div',{className:"_2_we"},c('React').createElement(c('Grid.react'),{className:"_2_wf",cols:1},c('React').createElement(c('Grid.react'),{className:"_2_wg",cols:2},c('React').createElement('div',{className:"_2pia"},c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold'},c('BoostedComponentStrings').getSubmissionIndicatorString(m.getCurrentSubmissionAction()))),c('React').createElement('div',{className:"_2pik _2pi3"},c('React').createElement(c('LoadingIndicator.react'),{color:'black',size:'large'}))))));},renderLayers:function(){if(!this.state.dialogSeen)return {};return {dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),DialogExpansion:c('DialogExpansion')},causalElementRef:this.props.causalElementRef,layerHideOnBlur:false,ref:'dialog',shown:this.props.shown,width:c('BoostedComponentConstants').DIALOG_WIDTH,onToggle:this.props.onToggle},this._renderLoadingIndicator(),c('React').createElement(c('BoostedComponentDialogTitle.react'),{config:this.props.config}),c('React').createElement(c('XUIDialogBody.react'),{'data-testid':c('BoostedComponentTestElement').DIALOG_BODY,useCustomPadding:true},c('React').createElement(c('BoostedComponentDialogHeaderSection.react'),{config:this.props.config}),c('React').createElement(c('FBSimpleTwoPaneDialog.react'),{id:this.props.config.getDialogUIStore().getDialogDivID(),leftPaneWidth:400,maxHeight:j,minHeight:k,rightPaneWidth:540},c('React').createElement(c('BoostedComponentDialogLeftColumnSection.react'),{config:this.props.config}),c('React').createElement(c('BoostedComponentDialogRightColumnSection.react'),{config:this.props.config}))),c('React').createElement(c('BoostedComponentDialogSubmissionSection.react'),{config:this.props.config}))};},render:function(){return c('React').createElement('div',null);}});f.exports=l;},null);