var globalImgServer="http://style.alibaba.com";location.protocol==="https:"&&(globalImgServer="https://ipaystyle.alibaba.com");(function(e){function E(){var e=v.split("&"),t={};for(var n=0;n<e.length;n++){var r=e[n],i=r.split("=");t[i[0]]=i[1]}return t}function S(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function x(){return l=l||r.getElementsByTagName("head")[0],c||(l?c=l.getElementsByTagName("meta"):[])}function T(){var e,t,n=x(),r=n.length,i;for(e=0;e<r;e++){t=n[e];if(S(t,"name")=="ahot-aplus"){i=S(t,"content");break}}return i}function N(){var e,t,n=x(),r=n.length,i;for(e=0;e<r;e++){t=n[e];if(S(t,"name")=="microscope-data"){i=S(t,"content");break}}return i}var t=5;if(e._ap_xwj_heat&&t<=e._ap_xwj_heat.version)return;var n=window,r=document,i=location,s=location.href,o=i.hostname,u=n.navigator,a=u.appVersion,f=u&&u.userAgent||"",l,c,h=T(),p=N(),d=r.getElementById("tb-beacon-aplus"),v=S(d,"exparams"),m={layout:0,shouldBindMonitor:!1},g=function(e){return typeof e=="number"},y=function(e,t){return e.indexOf(t)>-1},b=function(){return y(v,"atp_isdpp")},w=function(){if(h)return!0;var e,t,n=["item.taobao.com","detail.tmall.com","s.taobao.com"];t=n.length;for(e=0;e<t;e++)if(y(o,n[e]))return!1;return y(s,"/go/act/")?!1:!b()},C=n.attachEvent?function(e){n.attachEvent("onload",e,!1)}:n.addEventListener?function(e){n.addEventListener("load",e,!1)}:function(e){},k=function(){var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";while(e.length<16)e+=t.substr(Math.floor(Math.random()*62),1);return e},L=function(e){var t=r.getElementsByTagName("*"),n,i,s,o,u,a;for(n=[];e&&e.nodeType==1;e=e.parentNode)if(e.id){a=e.id,o=0;for(i=0;i<t.length;i++){u=t[i];if(u.id&&u.id==a){o++;break}}n.unshift(e.tagName.toLowerCase()+'[@id="'+a+'"]');if(o==1)return n.unshift("/"),n.join("/")}else{for(i=1,s=e.previousSibling;s;s=s.previousSibling)s.tagName==e.tagName&&i++;n.unshift(e.tagName.toLowerCase()+"["+i+"]")}return n.length?"/"+n.join("/"):null},A=function(e){var t=[],n;for(n in e)e.hasOwnProperty(n)&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")},O=function(e,t,n){var r=Math.max(j.scrollWidth,j.clientWidth),i=j.scrollTop,s=j.scrollLeft,o=t.pageX,u=t.pageY;g(o)||(o=t.clientX+s,u=t.clientY+i);var a=-1,f,l;e&&e.getBoundingClientRect&&(l=e.getBoundingClientRect(),a=l.left+s,f=l.top+i);if(n==0){var c=r>>1;o-=c,a-=c}else n==2&&(o-=r,a-=r);return{x:o,y:u,ex:a,ey:f}},M=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return t++==0?".":""}))},_=function(e,t){var n,r;t[n="trident"]=.1,(r=e.match(/Trident\/([\d.]*)/))&&r[1]&&(t[n]=M(r[1])),t.core=n},D=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?M(n):0},P=function(e){return e==undefined||e==""?"other":e},H=function(e){function E(){var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]];for(var n=0,r=t.length;n<r;++n)if(e.indexOf(t[n][0])!=-1)return t[n][1];return"other"}function S(e,t,r,i){var s=n.navigator.mimeTypes,o;try{for(var o in s)if(s[o][e]==t){if(r!==undefined&&i.test(s[o][r]))return!0;if(r===undefined)return!0}return!1}catch(u){return!1}}var t="",i,s=t,o=t,u,f=[6,9],l,c,h,p="{{version}}",d="<!--[if IE "+p+"]><"+"s></s><![endif]-->",v=r&&r.createElement("div"),m=[],g,y,b,w={webkit:undefined,trident:undefined,gecko:undefined,presto:undefined,chrome:undefined,safari:undefined,firefox:undefined,ie:undefined,ieMode:undefined,opera:undefined,mobile:undefined,core:undefined,shell:undefined,phantomjs:undefined,os:undefined,ipad:undefined,iphone:undefined,ipod:undefined,ios:undefined,android:undefined,nodejs:undefined,extraName:undefined,extraVersion:undefined};v&&v.getElementsByTagName&&(v.innerHTML=d.replace(p,""),m=v.getElementsByTagName("s"));if(m.length>0){_(e,w);for(c=f[0],h=f[1];c<=h;c++){v.innerHTML=d.replace(p,c);if(m.length>0){w[o="ie"]=c;break}}!w.ie&&(l=D(e))&&(w[o="ie"]=l)}else if((u=e.match(/AppleWebKit\/([\d.]*)/))&&u[1]){w[s="webkit"]=M(u[1]),(u=e.match(/OPR\/(\d+\.\d+)/))&&u[1]?w[o="opera"]=M(u[1]):(u=e.match(/Chrome\/([\d.]*)/))&&u[1]?w[o="chrome"]=M(u[1]):(u=e.match(/\/([\d.]*) Safari/))&&u[1]&&(w[o="safari"]=M(u[1]));if(/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/))w.mobile="apple",u=e.match(/OS ([^\s]*)/),u&&u[1]&&(w.ios=M(u[1].replace("_","."))),i="ios",u=e.match(/iPad|iPod|iPhone/),u&&u[0]&&(w[u[0].toLowerCase()]=w.ios);else if(/ Android/i.test(e))/Mobile/.test(e)&&(i=w.mobile="android"),u=e.match(/Android ([^\s]*);/),u&&u[1]&&(w.android=M(u[1]));else if(u=e.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))w.mobile=u[0].toLowerCase();(u=e.match(/PhantomJS\/([^\s]*)/))&&u[1]&&(w.phantomjs=M(u[1]))}else if((u=e.match(/Presto\/([\d.]*)/))&&u[1])w[s="presto"]=M(u[1]),(u=e.match(/Opera\/([\d.]*)/))&&u[1]&&(w[o="opera"]=M(u[1]),(u=e.match(/Opera\/.* Version\/([\d.]*)/))&&u[1]&&(w[o]=M(u[1])),(u=e.match(/Opera Mini[^;]*/))&&u?w.mobile=u[0].toLowerCase():(u=e.match(/Opera Mobi[^;]*/))&&u&&(w.mobile=u[0]));else if(l=D(e))w[o="ie"]=l,_(e,w);else if(u=e.match(/Gecko/))w[s="gecko"]=.1,(u=e.match(/rv:([\d.]*)/))&&u[1]&&(w[s]=M(u[1]),/Mobile|Tablet/.test(e)&&(w.mobile="firefox")),(u=e.match(/Firefox\/([\d.]*)/))&&u[1]&&(w[o="firefox"]=M(u[1]));i||(i=E());var x,b,T;if(!S("type","application/vnd.chromium.remoting-viewer")){x="scoped"in r.createElement("style"),T="v8Locale"in n;try{b=n.external||undefined}catch(N){}if(u=e.match(/360SE/))g="360";else if(u=e.match(/SE\s([\d.]*)/)||b&&"SEVersion"in b)g="sougou",y=M(u[1])||.1;else if((u=e.match(/Maxthon(?:\/)+([\d.]*)/))&&b){g="maxthon";try{y=M(b.max_version||u[1])}catch(C){y=.1}}else x&&T?g="360se":!x&&!T&&/Gecko\)\s+Chrome/.test(a)&&!w.opera&&!w.trident&&(g="360ee")}if(u=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/))g="tt",y=M(u[2])||.1;else if(u=e.match(/LBBROWSER/)||b&&"LiebaoGetVersion"in b)g="liebao";else if(u=e.match(/TheWorld/))g="theworld",y=3;else if(u=e.match(/TaoBrowser\/([\d.]*)/))g="taobao",y=M(u[1])||.1;return w.os=i,w.core=w.core||s,w.shell=o,w.ieMode=w.ie&&r.documentMode||w.ie,w.extraName=g,w.extraVersion=y,w.resolution=n.screen.width+"x"+n.screen.height,w},B=k(),j=r.compatMode=="BackCompat"?r.body:r.documentElement,f=navigator.userAgent,F=e.screen.width,I=e.screen.height,q=j.clientWidth,R=j.clientHeight,U=r.referrer,z=i.protocol,W="https:"==z,X=(new Date).getTime(),V=0,$=h?"/ahot.1.2":"/ahot.1.1",J=z+(W?"//log":"//gm")+".mmstat.com"+$+"?logtype=2&cache=",K=function(e){this.config=e};K.prototype={startup:function(){var t=this;this["spm-cnt"]=e.goldlog?e.goldlog.spm_ab?e.goldlog.spm_ab:null:null,C(function(e){t.sendPV(),m.shouldBindMonitor&&t.bindMonitor()})},collectPerformanceTiming:function(){var e=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||{},t=e.timing,r={};if(!t)return r;var i={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},s=t.navigationStart;for(var o in t){var u=t[o],a=i[o];a&&(u===0||u==undefined?r[a]="na":typeof u=="number"&&(r[a]=u-s))}var f;return typeof t.msFirstPaint=="number"?f=t.msFirstPaint:n.chrome&&n.chrome.loadTimes&&n.chrome.loadTimes().firstPaintTime&&(f=Math.ceil(window.chrome.loadTimes().firstPaintTime*1e3)),typeof f=="number"?f-=s:f="na",r.fp=f,r},sendPV:function(){var e=this;if(!this.initialized){var t,n,r,i,s,o,u,a,l,c,h,p,d=1,v;try{t=H(f),n=t.os,r=t.shell,i=t.core,s=t.resolution,o=t.extraName,u=t.extraVersion,a=n?n+(t[n]?t[n]:""):"",l=r?r+parseInt(t[r]):"",c=i,h=s,p=o?o+(u?parseInt(u):""):""}catch(m){}var g={p:d,o:P(a),b:P(l),w:P(c),s:h,mx:p};this["spm-cnt"]&&(g["spm-cnt"]=this["spm-cnt"].join("."));if(v=E().trid)g.trid=v;setTimeout(function(){var t=e.collectPerformanceTiming();for(var n in t){var r=t[n];g[n]||(g[n]=r)}e.initialized=!0,e.sendData(J+Math.random(),g)},0)}},bindMonitor:function(){var t=this,n=!!r.attachEvent,i=n?"attachEvent":"addEventListener";r[i]((n?"on":"")+"mousedown",function(n){n=n||e.event;var r=n.target||n.srcElement;r&&t.mousedown(r,n)},!1)},mousedown:function(e,t){var n=e,r=e.tagName,i,s,o,u=!1,a={type:1,pvid:B};if(r&&r=="HTML")return;if(r=="A"||r=="AREA")o=e.getAttribute("href",2)||"",a.href=o;var f=O(e,t,this.config.layout);a.xpath=L(e),a.x=f.x,a.y=f.y,a.ex=f.ex,a.ey=f.ey,a.ew=e.offsetWidth,a.eh=e.offsetHeight,a.t=(new Date).getTime()-X,a.n=++V,this["spm-cnt"]&&(a["spm-cnt"]=this["spm-cnt"].join(".")),h&&p&&(a.so=encodeURIComponent(p)),this.sendData(J+Math.random(),a)},sendData:function(t,n){var r=new Image,i="_img_"+Math.random(),s=t.indexOf("?")==-1?"?":"&";e[i]=r,r.onload=r.onerror=function(){e[i]=null},r.src=t+s+A(n),r=null}},w()&&(m.shouldBindMonitor=!0);var Q=new K(m);Q.startup(),e._ap_xwj_heat={version:t}})(window);