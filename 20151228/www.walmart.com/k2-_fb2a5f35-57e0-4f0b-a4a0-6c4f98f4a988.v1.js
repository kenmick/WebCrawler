define("common/midas/utils",[],function(){var a={update:function(a){var b=this._getWindow(),c=b._WML&&b._WML.MIDAS_CONTEXT?b._WML.MIDAS_CONTEXT:null;c&&b._MIDAS&&(b._MIDAS.showAds(c,a),b._MIDAS.showDisplayAds())},loadCoreAds:function(a){var b=this._getWindow(),c=b._WML&&b._WML.MIDAS_CONTEXT?b._WML.MIDAS_CONTEXT:null;c&&b._MIDAS&&b._MIDAS.showAds(c,a)},_getWindow:function(){return window}};return a}),define("common/truncate",["underscore","jquery","common/logger","common/config"],function(a,b,c,d){function e(c,d){d=e.normalizeOptions(d,c),a.extend(this,{$element:b(c),lines:1,characters:0,disclosureArrow:!0,split:/\S+/g,text:b.trim(b(c).text()),suffix:"...",collapsed:!0},d),this.setup()}function f(b,c,d){return a.isUndefined(d)&&(d=c,c=null),a.isObject(d)?(c=a.extend({initialize:!0},c),this.view=b,this.values=d,this.setup=!1,c.initialize&&(b.on("ready",a.bind(this.up,this)).on("rendered",a.bind(this.up,this)),this.up()),void b.on("destroyed",a.bind(this.down,this))):e.error(new TypeError("Configuration must be object."))}var g=100,h="truncate-disclosure-arrow",i=window.MutationObserver||window.WebKitMutationObserver;return e.prototype.setup=function(){this.$text=this.$element.find("span").first(),this.$text.length<=0&&(this.$element.wrapInner("<span></span>"),this.$text=this.$element.children("span")),this.disclosureArrow&&(this.$disclosureArrow=b("<div class='"+h+"'></div>").on("click",a.bind(function(a){a.preventDefault(),this.toggle()},this)),this.$text.after(this.$disclosureArrow)),this.watch(),this.truncate()},e.prototype.teardown=function(){this.discloureArrow&&this.$disclosureArrow.remove(),this.unwatch()},e.prototype.toggle=function(b){a.isUndefined(b)&&(b=this.isCollapsed()),b?this.expand():this.collapse()},e.prototype.isCollapsed=function(){return this.collapsed},e.prototype.collapse=function(){this.collapsed=!0,this.truncate()},e.prototype.expand=function(){this.collapsed=!1,this.truncate()},e.setup=function(a,b,c){return new f(a,b,c)},e.prototype.getMaximumHeight=function(){return this.lines>0?e.getLineHeight(this.$text)*this.lines:0},e.prototype.syncState=function(){function b(a){for(var b="",c=0;c<j.length&&a>0;++c)b+=j[c].value,"word"===j[c].type&&--a;return b}function c(){return h&&f.height()>h}function d(){return g&&i.length>g}if(this.$element.is(":visible")&&!this._sync){this._sync=!0,this.$element.removeClass("truncated expanded");var f=this.$text,g=this.characters,h=this.getMaximumHeight(),i=this.text,j=e.parts(this.split,this.text),k=a.where(j,{type:"word"}).length;for(this.$element.addClass("expanded");k>0&&(c()||d());)i=b(--k),f.text(i+this.suffix);this.$element.removeClass("expanded"),this._length=b(k).length,this.collapsed?this.text.length>this._length&&(this.$text.text(this.text.substr(0,this._length)+this.suffix),this.$element.addClass("truncated")):(this.$element.addClass("expanded"),this.$text.text(this.text)),this._width=f.width(),this._height=f.height(),this._collapsed=this.collapsed;var l=this;setTimeout(function(){l._sync=!1},200)}},e.getLineHeight=function(a){var c,d,e=b(a),f=b(a).text();return c=e.text("i").height(),d=e.css("line-height"),e.text(f),"normal"===d||0===parseFloat(d)||parseFloat(c)>parseFloat(d)?c:parseFloat(d)},e.prototype.isStale=function(){return this._height!==(this.$text.height()||0)||this._width!==(this.$text.width()||0)||this._collapsed!==this.collapsed},e.prototype.truncate=function(){this.isStale()&&this.syncState()},e.prototype.watch=function(){if(!this.observer){var b=a.bind(this.truncate,this),c=this.$element.parents().addBack();if(a.isUndefined(i))this.observer=setInterval(b,250);else{var d=new i(b);c.each(function(){d.observe(this,{attributes:!0,attributeFilter:["style","class"]})}),this.observer=d}}},e.prototype.unwatch=function(){this.observer&&(a.isUndefined(i)?clearInterval(this.observer):this.observer.disconnect(),this.observer=null)},e.parts=function(a,b){for(var c,d=[],e=0,f=0;null!==(c=a.exec(b));)e<c.index&&d.push({type:"whitespace",value:b.substring(e,c.index)}),d.push({type:"word",value:c[0],word:++f}),e=a.lastIndex;return e<b.length&&d.push({type:"whitespace",value:b.substring(e)}),d},e.normalizeOptions=function(b,c){return a.isNumber(b)?{characters:b}:a.isBoolean(b)?{}:a.isFunction(b)?b(c):b},e.get=function(c,d){return a.chain(d).map(function(d,f){return a.map(c.$(f),function(a){var c=b(a);return c.data("__truncate")?c.data("__truncate"):(c.data("__truncate",new e(a,d)),c.data("__truncate"))})}).flatten(!0).value()},e.error=function(a){if(e.strict)throw a;return c.log.error(a),a},e._getWindow=function(){return window},e.strict=d.environment===d.ENUMS.ENVS.TEST,f.prototype.refresh=a.throttle(function(){a.each(this.truncates,function(a){a.truncate()})},g),f.prototype.up=function(){var a=b(e._getWindow());this.setup||(a.on("resize",this.refresh),this.setup=!0),this.truncates=e.get(this.view,this.values),this.refresh()},f.prototype.down=function(){var c=b(e._getWindow());this.setup&&(a.each(this.truncates,function(a){a.teardown()}),this.truncates=null,c.off("resize",this.refresh),this.setup=!1)},e}),define("common/utils/touch",["jquery","underscore","modernizr"],function(a,b,c){var d=400,e={previousTouchMoveEvent:{},previousTouchMoveDate:"",touchMoveEventName:"touchmove.ipadBody",$body:a("body"),xAxisSwipeThreshold:.5,isMouseMoveBlockApplied:!1,isTouch:function(){return c.touch&&!/phantom/i.test(navigator.userAgent)},applyMouseMoveBodyPrevent:function(){if(!this.isMouseMoveBlockApplied){var a=this;this.$body.on(this.touchMoveEventName,function(b){a.performMouseMoveSwipeCheck(b)}),this.isMouseMoveBlockApplied=!0}},removeMouseMoveBodyPrevent:function(){this.$body.off(this.touchMoveEventName)},performMouseMoveSwipeCheck:function(a){if(a&&a.originalEvent&&a.originalEvent.touches&&this.previousTouchMoveEvent&&this.previousTouchMoveDate){var b=(new Date).getTime(),c=this.previousTouchMoveEvent.pageX,d=a.originalEvent.pageX,e=(d-c)/(b-this.previousTouchMoveDate);Math.abs(e>this.xAxisSwipeThreshold)&&a.preventDefault()}this.previousTouchMoveEvent=a.originalEvent,this.previousTouchMoveDate=(new Date).getTime()},ieTouchFix:function(a,c){var e,f,g,h=!1;if(window.PointerEvent)e="pointerup",f="touch";else{if(!window.MSPointerEvent)return;e="MSPointerUp",f=2}a.on(e,function(a){a.originalEvent.pointerType===f&&(h=!0,clearTimeout(g),g=b.delay(function(){h=!1},d),c&&c())}).on("mouseleave click",function(a){h&&(a.preventDefault(),a.stopImmediatePropagation())})}};return e}),define("common/plugins/menu-navigator",["jquery","underscore"],function(a,b){function c(b,c){this.options=a.extend({},f,c),this.$el=a(b),this.$items=this.$el.find(this.options.itemsSelector),this.$items.length||a.error("MenuNavigator initialized with 0 items"),this.matrix=null,this.eventKeydown="keydown",this.options.eventNamespace&&(this.eventKeydown+="."+this.options.eventNamespace),this.init()}var d={enter:13,space:32,left:37,up:38,right:39,down:40},e=b.map(d,function(a){return a}),f={itemsSelector:"button",itemsInVerticalOrder:!0,eventNamespace:"",typeahead:!1};return c.prototype={constructor:c,init:function(){b.bindAll(this,"_handleKeyDown","_removeHandler","_getCurrentIndex","_setNewItem","_deactiveItems","_destroy","_buildMatrix","_navigate"),this.matrix=this._buildMatrix(),this.rowNum=this.options.itemsInVerticalOrder?this.matrix[0].length:this.matrix.length,this.colNum=this.options.itemsInVerticalOrder?this.matrix.length:this.matrix[0].length,this._addHandlers()},_addHandlers:function(){a(document).on(this.eventKeydown,this._handleKeyDown)},_removeHandler:function(){a(document).off(this.eventKeydown)},_destroy:function(){this._removeHandler(),this._deactiveItems(),this.$el.data("menuNavigator",null)},_handleKeyDown:function(a){var b=new RegExp("("+e.join("|")+")");if(b.test(a.which))switch(a.preventDefault(),a.which){case d.up:this._navigate(0,-1);break;case d.down:this._navigate(0,1);break;case d.left:this.colNum>1&&this._navigate(-1,0);break;case d.right:this.colNum>1&&this._navigate(1,0);break;case d.enter:case d.space:this.options.typeahead||this.$items.eq(this._getCurrentIndex()).trigger("click")}},_buildMatrix:function(){var c,d,e=0,f=[],g=[],h=this.options.itemsInVerticalOrder?"left":"top";return this.$items.each(function(i,j){var k=a(j);b.isUndefined(k.attr("tabindex"))&&k.attr("tabindex",-1),d=Math.round(k.position()[h]),b.isUndefined(c)&&(c=d),d===c?g.push(j):(f[e]=g,e++,g=[],g.push(j),c=d)}),f[e]=g,f},_navigate:function(a,b){var c,d=this._getCurrentIndex();if(-1===d)c=0;else{if(c=d+a*this.rowNum+b,0>c||c>this.$items.length-1)return;this._deactiveItems()}this._setNewItem(c)},_setNewItem:function(a){b.isNumber(a)&&a>=0&&this.$items.eq(a).addClass("active").trigger("focus")},_deactiveItems:function(){this.$items.removeClass("active")},_getCurrentIndex:function(){var a=this.$items.index(this.$items.filter(".active"));return a}},a.fn.menuNavigator=function(d){return this.each(function(){var e=a(this),f=e.data("menuNavigator");f||e.data("menuNavigator",new c(this,d)),b.isString(d)&&"destroy"===d&&f._destroy.call(e)})},a.fn.menuNavigator.Constructor=c,a}),define("common/plugins/flyout",["jquery","underscore","common/utils/touch","common/plugins/menu-navigator"],function(a,b,c){function d(a){return{right:"left",left:"right",top:"bottom",bottom:"top"}[a]}function e(a){return a.right-a.left}function f(a){return a.bottom-a.top}function g(a){return{width:e(a),height:f(a)}}function h(a,c,d){function e(a,b){var e,f,g={};return e=Math.max(c[a],d[a]),f=Math.min(c[b]+(e-c[a]),d[b]),e=Math.max(c[a]+(f-c[b]),d[a]),g[a]=e,g[b]=f,g}a=b.extend({direction:"left"},a);var f={};b.extend(f,e("left","right")),b.extend(f,e("top","bottom"));var h=g(f),i=g(c);return{overflow:h.width<i.width||h.height<i.height,weight:Math.max(i.width-h.width,i.height-h.height),top:f.top-c.top,left:f.left-c.left,direction:a.direction}}function i(a,b){var c=a.bottom-a.top,d=a.right-a.left,e=b.bottom-b.top,f=b.right-b.left;return{left:f/2-d/2,top:e/2-c/2}}function j(a,c,e){var f={top:1,left:1,bottom:-1,right:-1},g=d(e);return b.reduce(o,function(a,b){return b!==g&&(a[b]+=c*f[b]),a},b.clone(a))}function k(a){if("left"===a||"right"===a)return"x";if("top"===a||"bottom"===a)return"y";throw new TypeError}function l(a){return a.length?l(a.get(0)):b.extend({},a.getBoundingClientRect())}function m(a){function c(a){return e?a.hasClass(e):b.contains(["auto","hidden","scroll"],a.css("overflow"))}function d(a){return a.is("body")||!a.parent()}for(var e=a.data("flyout-parent-class");a&&a.length;){if(c(a)||d(a))return a;a=a.parent()}}var n=function(a){return a()},o=["left","right","top","bottom"],p=b.map(o,function(a){return"flyout-"+a}),q={center:i},r=function(e,f){return this.each(function(){function g(a){a=b.extend({gravity:"center",direction:"left"},a);var c=m(B);b.forEach(p,function(a){B.removeClass(a)}),B.addClass("flyout-"+a.direction);var e=k(a.direction),f=q[a.gravity],g=f(l(v),l(x));"x"===e?v.css("left","").css("top",g.top+"px"):"y"===e&&v.css("top","").css("left",g.left+"px");var i=l(v),n=l(c),o=parseInt(B.data("magicPadding"),10);!b.isNaN(o)&&o>0&&(n=j(n,o,a.direction)),n[d(a.direction)]=l(x)[a.direction];var r=h(a,i,n),s=v.position();return r.left+=s.left,r.top+=s.top,r}function s(a){var c,d=k(a.direction);b.forEach(p,function(a){B.removeClass(a)}),B.addClass("flyout-"+a.direction),"x"===d?(v.css("left","").css("top",a.top+"px"),c=i(l(w),l(x)),w.css("left","").css("top",-a.top+c.top+"px")):"y"===d&&(v.css("top","").css("left",a.left+"px"),c=i(l(w),l(x)),w.css("top","").css("left",-a.left+c.left+"px"))}function t(){var a=o,c=B.data("initialDirection"),d=b.map(o,function(a){return g({direction:a})}),e=b.sortBy(d,function(b){return b.overflow?b.weight:b.direction===c?-1/0:-(a.length-a.indexOf(b.direction))});s(e[0])}var u,v,w,x,y,z,A,B=a(this);if(f=f||{},f.allowNested?(u=B.find("> .js-flyout-toggle"),v=B.find("> .js-flyout-modal"),w=v.find("> .js-flyout-caret"),y=v.find("> .js-flyout-close")):(u=B.find(".js-flyout-toggle"),v=B.find(".js-flyout-modal"),w=v.find(".js-flyout-caret"),y=v.find(".js-flyout-close")),x=B.data("anchor"),B.data("magic")){B.addClass("flyout-magic"),w.length||(w=a("<div class='js-flyout-caret flyout-caret'></div>").prependTo(v));var C=(B.attr("class")||"").match(/\bflyout-(top|bottom|left|right)\b/);C&&B.data("magicRespectInitialDirection")&&B.data("initialDirection",C[1])}var D=function(b){var c=0===B.find(b.target).addBack(b.target).length;c&&(a(document).off(".flyout",D),B.flyout("hide"))},E=function(){if(B.data("magic"))t();else{var a={};(B.hasClass("flyout-right")||B.hasClass("flyout-left"))&&(a["margin-top"]=Math.round(-v.outerHeight()/2)),B.hasClass("flyout-fluid")&&(a["margin-left"]=Math.round(-v.outerWidth()/2)),v.css(a)}};if(b.isString(e))f=b.extend({noAnimation:!1},f),"position"===e&&B.hasClass("active")&&E(),"show"!==e||B.hasClass("active")?"off"===e?(B.flyout("hide"),u.off(".flyout"),v.off(".flyout"),B.off("mouseleave.flyout"),a(document).off(".flyout",D).off("keydown.flyout")):"hide"===e&&(B.hasClass("active")&&(B.removeClass("active").trigger("hidden"),u.attr("aria-expanded","false")),B.data("enableMenuNavigator")&&v.data("menuNavigator")&&v.menuNavigator("destroy"),v.off(".flyout")):(B.toggleClass("no-animation",f.noAnimation).addClass("active").trigger("shown",[B]),u.attr("aria-expanded","true"),E(),B.data("persistent")||(z=B.data("defer")?b.defer:n,z(function(){a(document).on("click.flyout touchstart.flyout",D)}),B.data("closeOnEsc")&&a(document).on("keydown.flyout",function(a){var b=27;a.which===b&&B.flyout("hide")})));else{if(f=b.extend({persistent:!1,hover:!1,defer:!1,enableMenuNavigator:!1,closeOnEsc:!0,autoShow:!1,adaptTextAutoComplete:!1,disableTouchLinksOnly:!1,anchor:u,magic:!1,magicRespectInitialDirection:!0,magicPadding:6},e),B.data(f),u.attr("aria-expanded","false"),c.ieTouchFix(u,function(){B.trigger("click")}),u.on("click.flyout touchstart.flyout",function(a){a.preventDefault(),a.target&&a.target.href&&f.disableTouchLinksOnly&&!c.isTouch()&&r._navigateWindow(a.target.href),B.hasClass("active")?B.flyout("hide"):(B.flyout("show"),f.enableMenuNavigator&&v.menuNavigator({eventNamespace:"flyout"}))}),f.hover){A=a("<div class='flyout-backdrop' />"),B.prepend(A);var F;v.attr("id")?F=v.attr("id"):(F=b.uniqueId("flyout"),v.attr("id",F)),u.attr("aria-describedby",F),u.on("mouseenter.flyout",function(){B.flyout("show")}),c.isTouch()&&u.on("click.flyout touchstart.flyout",function(){B.flyout("show")}),B.on("mouseleave.flyout",function(b){f.adaptTextAutoComplete?a(b.target).is("input")||B.flyout("hide"):B.flyout("hide")})}f.autoShow!==!1&&setTimeout(function(){B.flyout("show")},f.autoShow),y.on("click.flyout touchstart.flyout",function(a){a.preventDefault(),B.flyout("hide")})}})};return r._navigateWindow=function(a){window.location=a},a.fn.flyout=r,a}),define("common/shipping-pass/shipping-pass-flyout-view",["jquery","underscore","common/plugins/flyout"],function(a,b){var c={initializeFlyoutPlugin:!0,$el:a("body")};return{init:function(a){this.options=b.extend({},c,a),this.$el=this.options.$el,this.options.initializeFlyoutPlugin&&this.$el.find(".js-flyout-shipping-pass").flyout(this.options.flyoutOptions),this._createListeners()},remove:function(){this._removeListeners()},_createListeners:function(){this.$el.find(".js-flyout-shipping-pass").on("click",a.proxy(this._onClickFlyout,this)),this.$el.find(".js-shipping-pass-membership-form").on("submit",{self:this},this._submitShippingPassMembershipForm)},_removeListeners:function(){this.$el.find(".js-flyout-shipping-pass").off("click",this._onClickFlyout),this.$el.find(".js-shipping-pass-membership-form").off("submit",this._submitShippingPassMembershipForm)},_onClickFlyout:function(b){var c=a(b.currentTarget),d=this,e=c.find(".js-flyout-modal-shipping-pass"),f=e.width(),g=c.offset().left,h=a(".js-header").height();c.attr("data-class-set")||(c.hasClass("flyout-top")||d.isBottomOverflow(c,e,h,d)?d._setFlyoutTop(c):f>g?c.hasClass("flyout-right")||d._setFlyoutRight(c):c.hasClass("flyout-left")||d._setFlyoutLeft(c))},_setFlyoutRight:function(a){a.removeClass("flyout-left"),a.addClass("flyout-right")},_setFlyoutLeft:function(a){a.removeClass("flyout-right"),a.addClass("flyout-left")},_setFlyoutTop:function(a){a.removeClass("flyout-right flyout-left"),a.addClass("flyout-top flyout-align-left")},_submitShippingPassMembershipForm:function(b){b.preventDefault();var c=b.data.self,d=a(b.currentTarget),e=d.find(".js-shipping-pass-flyout-checkbox").is(":checked");return e?(c._toggleShippingPassValidationError(d,!1),void(c._getWindow().location.href="/checkout/shipping-pass")):(c._toggleShippingPassValidationError(d,!0),!1)},isBottomOverflow:function(a,b,c,d){var e=b.height(),f=d._getBoundingClientRect(a),g=d._getBoundingClientRect(b),h=window.innerHeight;return e>f-c?!1:g+e>h},_toggleShippingPassValidationError:function(a,b){a.find(".js-shipping-pass-option").toggleClass("validation-error",b),a.find(".js-shipping-pass-flyout-checkbox-label").toggleClass("validation-error",b),a.find(".js-shipping-pass-validation-marker-error").toggleClass("visuallyhidden",!b),a.find(".js-shipping-pass-must-agree").toggleClass("visuallyhidden",!b)},_getBoundingClientRect:function(a){return a[0]?a[0].getBoundingClientRect().top:0},_getWindow:function(){return window}}}),define("hbs!templates/common/partials/shipping-pass",["hbs","hbs/handlebars"],function(a,b){var c=b.template({1:function(a,b,c,d){var e,f="";return e=b["if"].call(a,null!=(e=null!=a?a.shippingPassParticipationLevel:a)?e.subscribed:e,{name:"if",hash:{},fn:this.program(2,d),inverse:this.program(4,d),data:d}),null!=e&&(f+=e),f},2:function(){return'    <div class="gicon-shipping-pass-logo-blue shipping-pass-logo-blue js-shipping-pass-icon"></div>\n'},4:function(a,b,c,d){var e,f="";return e=b["if"].call(a,null!=(e=null!=a?a.shippingPassParticipationLevel:a)?e.targeted:e,{name:"if",hash:{},fn:this.program(5,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f},5:function(a,b,c,d){var e,f="";return e=b["if"].call(a,null!=a?a.showShippingPassFlyout:a,{name:"if",hash:{},fn:this.program(6,d),inverse:this.program(11,d),data:d}),null!=e&&(f+=e),f},6:function(a,b,c,d){var e,f='        <div class="js-flyout flyout flyout-left js-flyout-shipping-pass">\n          <div class="js-flyout-toggle gicon-shipping-pass-logo-blue shipping-pass-logo-blue js-shipping-pass-icon"></div>\n          <div class="js-flyout-modal flyout-modal js-flyout-modal-shipping-pass flyout-modal-shipping-pass gicon-shipping-pass-flyout-background-image hide-content-max-m">\n            <button class="shipping-pass-flyout-close js-flyout-close"><i class="wmicon wmicon-remove"></i></button>\n            <a href="/cp/1229595" class="shipping-pass-flyout-learn-more"></a>\n            <div class="shipping-pass-flyout-content-container">\n              <form class="js-shipping-pass-membership-form shipping-pass-membership-form">\n                <div class="option shipping-pass-option js-shipping-pass-option">\n                  <input\n                      id="shipping-pass-checkbox-';return e=b["if"].call(a,null!=a?a.clientRender:a,{name:"if",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d}),null!=e&&(f+=e),f+='"\n                      data-tealeaf-id="SPFOIAgreeChkBox"\n                      class="js-shipping-pass-flyout-checkbox"\n                      type="checkbox"/>\n                  <label for="shipping-pass-checkbox-',e=b["if"].call(a,null!=a?a.clientRender:a,{name:"if",hash:{},fn:this.program(7,d),inverse:this.program(9,d),data:d}),null!=e&&(f+=e),f+'" class="js-shipping-pass-flyout-checkbox-label shipping-pass-flyout-checkbox-label">\n                    <i class="validation-marker validation-marker-error visuallyhidden shipping-pass-validation-marker-error js-shipping-pass-validation-marker-error"></i>\n                    I agree to the <a id="SPFOTermsConditionsLnk" href="http://help.walmart.com/app/answers/detail/a_id/8#shippingpass">Terms & Conditions</a>\n                  </label>\n                </div>\n                <div class="js-shipping-pass-must-agree shipping-pass-must-agree visuallyhidden">\n                  Required\n                </div>\n                <div class="shipping-pass-flyout-submit-container">\n                  <button id="SPFOBuyNowBtn" class="btn btn-primary shipping-pass-flyout-submit js-shipping-pass-flyout-submit font-bold" type="submit">Subscribe Now</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n'},7:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return h((e=null!=(e=b.index||(null!=a?a.index:a))?e:g,typeof e===f?e.call(a,{name:"index",hash:{},data:d}):e))},9:function(a,b,c,d){var e=this.lambda,f=this.escapeExpression;return f(e(d&&d.index,a))},11:function(){return'        <div class="gicon-shipping-pass-logo-blue shipping-pass-logo-blue js-shipping-pass-icon"></div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="";return e=b["if"].call(a,null!=a?a.offerShippingPassEligible:a,{name:"if",hash:{},fn:this.program(1,d),inverse:this.noop,data:d}),null!=e&&(f+=e),f},useData:!0});return b.registerPartial("templates/common/partials/shipping-pass",c),c}),define("common/shipping-pass/shipping-pass-view",["jquery","underscore","common/shipping-pass-participation-level-service","common/shipping-pass/shipping-pass-flyout-view","hbs!templates/common/partials/shipping-pass"],function(a,b,c,d,e){var f={$selector:a(".js-shipping-pass-container"),offerEligibilityDataAttribute:"offer-shipping-pass-eligible",resetHtml:!1,initializeFlyoutPlugin:!0,showShippingPassFlyout:!0,$el:a("body")};return{init:function(a){var d=this;if(this.options=b.extend({},f,a),b.isUndefined(this.options.shippingPassParticipationLevel)){var e=c.call();e.done(function(a){d.options.shippingPassParticipationLevel=a,d._renderShippingPassTemplate()})}else this._renderShippingPassTemplate()},remove:function(){d.remove()},_renderShippingPassTemplate:function(){var b=this;this.options.resetHtml&&this.options.$selector.empty(),this.options.$selector.each(function(c){var d=a(this),f=b.options.indexOffset||0,g=e({offerShippingPassEligible:d.data(b.options.offerEligibilityDataAttribute),shippingPassParticipationLevel:b.options.shippingPassParticipationLevel,showShippingPassFlyout:b.options.showShippingPassFlyout,clientRender:!0,index:c+f});d.empty().append(g)}),d.init({initializeFlyoutPlugin:this.options.initializeFlyoutPlugin,$el:this.options.$el})}}}),define("common/carousel-submap-flyout",["jquery","common/plugins/flyout"],function(a){var b={_getWindowWidth:function(){return window.document.documentElement.clientWidth},addShowHandler:function(c){var d=c.find(".js-flyout-toggle");d.on("mouseover",function(){var d=b._getWindowWidth()/2,e=a(this).offset().left;b.addPositionalClass(c,d,e)})},addPositionalClass:function(a,b,c){b>c?(a.removeClass("flyout-left"),a.addClass("flyout-right")):(a.removeClass("flyout-right"),a.addClass("flyout-left"))},init:function(c){c.each(function(){var c=a(this);b.addShowHandler(c),c.flyout({hover:!0})})}};return b}),define("common/midas/views/msp",["jquery","backbone","common/truncate","common/carousel-controller","common/shipping-pass/shipping-pass-view","common/carousel-submap-flyout"],function(a,b,c,d,e,f){var g=2,h=b.View.extend({initialize:function(a){this.options={status:"ERROR",result:"",pageType:"",noCarousel:!1},a&&a.params&&(this.options=a.params),"ERROR"!==this.options.status&&this.handleResults()},handleResults:function(){this.addHtml(),this.addClass(),this.addCarousel(),this.truncateProductTitles(),this.addShippingPassBadge(),this.addSubmapFlyout()},addHtml:function(){this.$el.html(this.options.result)},addClass:function(){this.options.pageType&&this.options.pageType.length>0&&this.$el.addClass(this.options.pageType+"-page"),this.options.additionalClass&&this.$el.addClass(this.options.additionalClass),this.$el.show().addClass("sponsored-products").removeClass("hide-content")},addCarousel:function(){if(!this.options.noCarousel){var b=a(".js-module-sponsored-products");d.init("slick","n-up-responsive",b.find(".js-carousel-n-up .js-carousel-items"),{})}},truncateProductTitles:function(){c.setup(this,{".js-product-title":{lines:g}})},addShippingPassBadge:function(){var a=this.$(".js-shipping-pass-container");e.init({showShippingPassFlyout:!1,$selector:a,$el:a})},addSubmapFlyout:function(){f.init(this.$(".js-submap-flyout"))}});return h}),define("common/midas/msp",["common/midas/views/msp"],function(a){var b=function(b){b=b||{};var c=new a({el:"#"+b.el,params:b.params,callbacks:b.callbacks});return c};return b}),define("app/midas/midas",["common/utils/environment","common/midas/utils","common/midas/msp"],function(a,b,c){a.entryPoint(function(){var a=[c];b.loadCoreAds(a)})});
//# sourceMappingURL=http://dev.walmart.com:9873/js-dist-frontend/app/midas/midas.js.map