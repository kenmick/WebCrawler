YUI.add("td-applet-trending-atomic-mainview",function(e,t){var n="#mega-trending",r=".trending-title",i="data-category",s="-selected",o="slingstone",u="gifts",a=typeof window.requestAnimationFrame=="function";e.namespace("TD.Applet").TrendingAtomicMainView=e.Base.create("TDAppletTrendingAtomicMainView",e.Af.AppletView,[],{initializer:function(t){var i=this;i._handles=[],i.guid=t.guid,i.config=e.Af.Bootstrap.getViewMeta(i.guid,"main").config||{},i.containerNode=e.one(n),i.currentCategory=o,i.config.rotationEnabled&&i.config.giftsEnabled&&(i.rotateTimerEvent=null,i._handles.push(i.containerNode.on("mouseenter",e.bind(i.stopRotation,i))),i._handles.push(i.containerNode.on("mouseleave",e.bind(i.startRotation,i))),i.startRotation()),i.config.clickableTitles&&i.config.giftsEnabled&&i._handles.push(i.containerNode.delegate("click",e.bind(i.handleSelect,i),r))},startRotation:function(){var t=this,n=t.config.rotationInterval||15e3;t.rotateTimerEvent=e.later(n,t,t.rotate,[],!0)},stopRotation:function(){var e=this;e.rotateTimerEvent.cancel(),e.rotateTimerEvent=null},rotate:function(){var t=this,n=t.currentCategory===u?o:u;a?window.requestAnimationFrame(e.bind(function(){t.toggleCategory(n)},t)):t.toggleCategory(n)},handleSelect:function(e){var t=this,n=e.currentTarget.getAttribute(i);if(n===t.currentCategory)return;a?window.requestAnimationFrame(function(){t.toggleCategory(n)}):t.toggleCategory(n)},toggleCategory:function(e){var t=this;if(!t.currentCategory||!e||t.currentCategory===e)return;t.containerNode.addClass(e+s),t.containerNode.removeClass(t.currentCategory+s),t.currentCategory=e},destructor:function(){e.Array.each(this._handles,function(e){e.detach()}),this._handles=[]}})},"@VERSION@",{requires:["af-applet-view","node"]});
YUI.add("td-applet-trending-atomic-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div id="mega-trending" class="slingstone-selected">').exists(n.getPath(!1,["config","ui","titleEnabled"]),n,{block:t},null).write('<ul class="Pos(r) Mt(10px)">').write("\n        ").write('<li class="trending-list" data-category="slingstone">').write("\n            ").write('<ul class="M(0) Mstart(-8px) ua-ie8_W(100%) ua-ie7_W(100%) Op(1) gifts-selected_Op(0) gifts-selected_V(h) Trs($trendTrs)">').section(n.get("slingstoneTerms"),n,{block:i},null).write("</ul>").write("\n        ").write("</li>").exists(n.getPath(!1,["config","ui","giftsEnabled"]),n,{block:u},null).write("</ul>").write("\n").write("</div>").write("\n")}function t(e,t){return e.write('<h2 class="trending-title Cur(p) D(ib) W(50%) Fz(15px) Ell Ov(v) gifts-selected_C($disabledHeading) Trs($trendTrs)" data-category="slingstone">').helper("i18n_string",t,{},{_key:"TRENDING_NOW"}).write("</h2>").exists(t.getPath(!1,["config","ui","giftsEnabled"]),t,{block:n},null).exists(t.getPath(!1,["config","ui","seachIconEnabled"]),t,{block:r},null)}function n(e,t){return e.write('<h2 class="trending-title Cur(p) D(ib) W(50%) Fz(15px) Ell Ov(v) Pos(r) slingstone-selected_C($disabledHeading) Trs($trendTrs)" data-category="gifts">').write("\n                ").write('<i class="Icon-Fp2 ').reference(t.getPath(!1,["config","ui","giftsIcon"]),t,"h").write(' gifts-selected_C($giftsIcon) Fz(17px) Fw(100) Pos(a) Start(-19px) T(-2px)"></i>').helper("i18n_string",t,{},{_key:"GIFTS_TITLE"}).write("</h2>")}function r(e,t){return e.write('<i class="D(ib) Icon-Fp2 IconNavSearch Pstart(4px)"></i>')}function i(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:s},{key:t.get("$idx"),value:5}).write(' ua-ie7_Pend(5px)">').write("\n                    ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Fz(13px) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                        ").write('<span class="D(ib) W(1.3em) Ta(e) C(#000)">').helper("math",t,{},{key:o,method:"add",operand:"1"}).write('.</span><span class="C($searchBlue):h Fw(b) Mstart(2px)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                    ").write("</a>").write("\n                ").write("</li>")}function s(e,t){return e.write(" Fl(start) Cl(start)")}function o(e,t){return e.reference(t.get("$idx"),t,"h")}function u(e,t){return e.write('<li class="trending-list Pos(a) T(0) W(100%)" data-category="gifts">').write("\n            ").write('<ul class="M(0) Mstart(-8px) ua-ie8_W(100%) ua-ie7_W(100%) Op(1) slingstone-selected_Op(0) slingstone-selected_V(h) slingstone-selected_H(0) Ov(h) Trs($trendTrs)">').section(t.get("giftsTerms"),t,{block:a},null).write("</ul>").write("\n        ").write("</li>")}function a(e,t){return e.write('<li class="trending-item Pt(7px) D(ib) Bxz(bb) W(50%) ').helper("lt",t,{block:f},{key:t.get("$idx"),value:5}).write(' ua-ie7_Pend(5px)">').write("\n                        ").write('<a href="').reference(t.get("link"),t,"h").write('" class="Td(n):h C($link) Fz(13px) Ell D(ib)" title="').reference(t.get("text"),t,"h",["s"]).write('" ').helper("rapid_data_attr",t,{},{"rapid-base":t.get("i13n"),elm:"itm",elmt:"topic",itc:"0"}).write(">").write("\n                            ").write('<span class="D(ib) W(1.3em) Ta(e) C(#000)">').helper("math",t,{},{key:l,method:"add",operand:"1"}).write('.</span><span class="C($searchBlue):h Fw(b) Mstart(2px)"> ').reference(t.get("text"),t,"h",["s"]).write("</span>").write("\n                        ").write("</a>").write("\n                    ").write("</li>")}function f(e,t){return e.write(" Fl(start) Cl(start)")}function l(e,t){return e.reference(t.get("$idx"),t,"h")}return dust.register("td-applet-trending-atomic-templates-main",e),e}()}(),dust.cache["td-applet-trending-atomic:main.dust"]=dust.cache["td-applet-trending-atomic:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-trending-atomic/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
