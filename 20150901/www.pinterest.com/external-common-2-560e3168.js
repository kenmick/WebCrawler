function printStackTrace(t){t=t||{guess:!0};var e=t.e||null,n=!!t.guess,r=new printStackTrace.implementation,i=r.run(e);return n?r.guessAnonymousFunctions(i):i}function FastClick(t,e){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}var r;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],o=this,s=0,a=i.length;s<a;s++)o[i[s]]=n(o[i[s]],o);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(t,e,n,r)}),"function"===typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}}if(function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,s=r.push,a=r.slice,u=r.concat,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,f=r.reduce,d=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,_=r.lastIndexOf,b=Array.isArray,w=Object.keys,q=o.bind,x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=x),exports._=x):t._=x,x.VERSION="1.5.2";var k=x.each=x.forEach=function(t,e,r){if(null!=t)if(h&&t.forEach===h)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(r,t[i],i,t)===n)return}else for(var s=x.keys(t),i=0,o=s.length;i<o;i++)if(e.call(r,t[s[i]],s[i],t)===n)return};x.map=x.collect=function(t,e,n){var r=[];return null==t?r:p&&t.map===p?t.map(e,n):(k(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var E="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=x.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(k(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(E);return n},x.reduceRight=x.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=x.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=x.keys(t);o=s.length}if(k(t,function(a,u,l){u=s?s[--o]:--o,i?n=e.call(r,n,t[u],u,l):(n=t[u],i=!0)}),!i)throw new TypeError(E);return n},x.find=x.detect=function(t,e,n){var r;return S(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},x.filter=x.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(k(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},x.reject=function(t,e,n){return x.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},x.every=x.all=function(t,e,r){e||(e=x.identity);var i=!0;return null==t?i:g&&t.every===g?t.every(e,r):(k(t,function(t,o,s){return(i=i&&e.call(r,t,o,s))?void 0:n}),!!i)};var S=x.some=x.any=function(t,e,r){e||(e=x.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,r):(k(t,function(t,o,s){return i||(i=e.call(r,t,o,s))?n:void 0}),!!i)};x.contains=x.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},x.invoke=function(t,e){var n=a.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){return(r?e:t[e]).apply(t,n)})},x.pluck=function(t,e){return x.map(t,function(t){return t[e]})},x.where=function(t,e,n){return x.isEmpty(e)?n?void 0:[]:x[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},x.findWhere=function(t,e){return x.where(t,e,!0)},x.max=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&x.isEmpty(t))return-(1/0);var r={computed:-(1/0),value:-(1/0)};return k(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>r.computed&&(r={value:t,computed:s})}),r.value},x.min=function(t,e,n){if(!e&&x.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&x.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return k(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},x.shuffle=function(t){var e,n=0,r=[];return k(t,function(t){e=x.random(n++),r[n-1]=r[e],r[e]=t}),r},x.sample=function(t,e,n){return arguments.length<2||n?t[x.random(t.length-1)]:x.shuffle(t).slice(0,Math.max(0,e))};var T=function(t){return x.isFunction(t)?t:function(e){return e[t]}};x.sortBy=function(t,e,n){var r=T(e);return x.pluck(x.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var F=function(t){return function(e,n,r){var i={},o=null==n?x.identity:T(n);return k(e,function(n,s){var a=o.call(r,n,s,e);t(i,a,n)}),i}};x.groupBy=F(function(t,e,n){(x.has(t,e)?t[e]:t[e]=[]).push(n)}),x.indexBy=F(function(t,e,n){t[e]=n}),x.countBy=F(function(t,e){x.has(t,e)?t[e]++:t[e]=1}),x.sortedIndex=function(t,e,n,r){n=null==n?x.identity:T(n);for(var i=n.call(r,e),o=0,s=t.length;o<s;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},x.toArray=function(t){return t?x.isArray(t)?a.call(t):t.length===+t.length?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:t.length===+t.length?t.length:x.keys(t).length},x.first=x.head=x.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:a.call(t,0,e)},x.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},x.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},x.rest=x.tail=x.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var C=function(t,e,n){return e&&x.every(t,x.isArray)?u.apply(n,t):(k(t,function(t){x.isArray(t)||x.isArguments(t)?e?s.apply(n,t):C(t,e,n):n.push(t)}),n)};x.flatten=function(t,e){return C(t,e,[])},x.without=function(t){return x.difference(t,a.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isFunction(e)&&(r=n,n=e,e=!1);var i=n?x.map(t,n,r):t,o=[],s=[];return k(i,function(n,r){(e?r&&s[s.length-1]===n:x.contains(s,n))||(s.push(n),o.push(t[r]))}),o},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(t){var e=a.call(arguments,1);return x.filter(x.uniq(t),function(t){return x.every(e,function(e){return x.indexOf(e,t)>=0})})},x.difference=function(t){var e=u.apply(r,a.call(arguments,1));return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){for(var t=x.max(x.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=x.pluck(arguments,""+n);return e},x.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=x.sortedIndex(t,e),t[r]===e?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;r<i;r++)if(t[r]===e)return r;return-1},x.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(_&&t.lastIndexOf===_)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},x.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);i<r;)o[i++]=t,t+=n;return o};var A=function(){};x.bind=function(t,e){var n,r;if(q&&t.bind===q)return q.apply(t,a.call(arguments,1));if(!x.isFunction(t))throw new TypeError;return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));A.prototype=t.prototype;var i=new A;A.prototype=null;var o=t.apply(i,n.concat(a.call(arguments)));return Object(o)===o?o:i}},x.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},x.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return k(e,function(e){t[e]=x.bind(t[e],t)}),t},x.memoize=function(t,e){var n={};return e||(e=x.identity),function(){var r=e.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},x.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=function(t){return x.delay.apply(x,[t,1].concat(a.call(arguments,1)))},x.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:new Date,s=null,o=t.apply(r,i)};return function(){var l=new Date;a||n.leading!==!1||(a=l);var c=e-(l-a);return r=this,i=arguments,c<=0?(clearTimeout(s),s=null,a=l,o=t.apply(r,i)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},x.debounce=function(t,e,n){var r,i,o,s,a;return function(){o=this,i=arguments,s=new Date;var u=function(){var l=new Date-s;l<e?r=setTimeout(u,e-l):(r=null,n||(a=t.apply(o,i)))},l=n&&!r;return r||(r=setTimeout(u,e)),l&&(a=t.apply(o,i)),a}},x.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},x.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},x.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)x.has(t,n)&&e.push(n);return e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=new Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},x.pick=function(t){var e={},n=u.apply(r,a.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},x.omit=function(t){var e={},n=u.apply(r,a.call(arguments,1));for(var i in t)x.contains(n,i)||(e[i]=t[i]);return e},x.defaults=function(t){return k(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t};var D=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=l.call(t);if(i!=l.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=D(t[u],e[u],n,r)););}else{for(var h in t)if(x.has(t,h)&&(u++,!(c=x.has(e,h)&&D(t[h],e[h],n,r))))break;if(c){for(h in e)if(x.has(e,h)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};x.isEqual=function(t,e){return D(t,e,[],[])},x.isEmpty=function(t){if(null==t)return!0;if(x.isArray(t)||x.isString(t))return 0===t.length;for(var e in t)if(x.has(t,e))return!1;return!0},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=b||function(t){return"[object Array]"==l.call(t)},x.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return!(!t||!x.has(t,"callee"))}),"function"!==typeof/./&&(x.isFunction=function(t){return"function"===typeof t}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!=+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return c.call(t,e)},x.noConflict=function(){return t._=e,this},x.identity=function(t){return t},x.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;i<t;i++)r[i]=e.call(n,i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var j={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};j.unescape=x.invert(j.escape);var O={escape:new RegExp("["+x.keys(j.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(j.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(t){x[t]=function(e){return null==e?"":(""+e).replace(O[t],function(e){return j[t][e]})}}),x.result=function(t,e){if(null==t)return void 0;var n=t[e];return x.isFunction(n)?n.call(t):n},x.mixin=function(t){k(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),R.call(this,n.apply(x,t))}})};var I=0;x.uniqueId=function(t){var e=++I+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(t,e,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||z).source,(n.interpolate||z).source,(n.evaluate||z).source].join("|")+"|$","g"),o=0,s="__p+='";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(N,function(t){return"\\"+L[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(s+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),o=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return r(e,x);var u=function(t){return r.call(this,t,x)};return u.source="function("+(n.variable||"obj")+"){\n"+s+"}",u},x.chain=function(t){return x(t).chain()};var R=function(t){return this._chain?x(t).chain():t};x.mixin(x),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(t){var e=r[t];x.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){{var t,e=this,n=e.Backbone,r=[],i=(r.push,r.slice);r.splice}t="undefined"!==typeof exports?exports:e.Backbone={},t.VERSION="1.1.0";var o=e._;o||"undefined"===typeof require||(o=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!u(this,"once",t,[e,n])||!e)return this;var r=this,i=o.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,s,a,l,c,h,p;if(!this._events||!u(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(a=t?[t]:o.keys(this._events),l=0,c=a.length;l<c;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,p=s.length;h<p;h++)i=s[h],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=i.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&l(n,e),r&&l(r,arguments),this},stopListening:function(t,e,n){var r=this._listeningTo;if(!r)return this;var i=!e&&!n;n||"object"!==typeof e||(n=this),t&&((r={})[t._listenId]=t);for(var s in r)t=r[s],t.off(e,n,this),(i||o.isEmpty(t._events))&&delete this._listeningTo[s];return this}},a=/\s+/,u=function(t,e,n,r){if(!n)return!0;if("object"===typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(a.test(n)){for(var o=n.split(a),s=0,u=o.length;s<u;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},l=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},c={listenTo:"on",listenToOnce:"once"};o.each(c,function(t,e){s[e]=function(e,n,r){var i=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=o.uniqueId("l"));return i[s]=e,r||"object"!==typeof n||(r=this),e[t](n,r,this),this}}),s.bind=s.on,s.unbind=s.off,o.extend(t,s);var h=t.Model=function(t,e){var n=t||{};e||(e={}),this.cid=o.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=o.defaults({},n,o.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};o.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return o.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return o.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,s,a,u,l,c,h;if(null==t)return this;if("object"===typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;s=n.unset,u=n.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=o.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],o.isEqual(h[r],e)||a.push(r),o.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!u){a.length&&(this._pending=!0);for(var p=0,f=a.length;p<f;p++)this.trigger("change:"+a[p],this,h[a[p]],n)}if(l)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,o.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,o.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!o.isEmpty(this.changed):o.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)o.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){return e.set(e.parse(r,t),t)?(n&&n(e,r,t),void e.trigger("sync",e,r,t)):!1},L(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,s,a=this.attributes;if(null==t||"object"===typeof t?(r=t,n=e):(r={})[t]=e,n=o.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=o.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var u=this,l=n.success;return n.success=function(t){u.attributes=a;var e=u.parse(t,n);return n.wait&&(e=o.extend(r||{},e)),o.isObject(e)&&!u.set(e,n)?!1:(l&&l(u,t,n),void u.trigger("sync",u,t,n))},L(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=a),s},destroy:function(t){t=t?o.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;L(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=o.result(this,"urlRoot")||o.result(this.collection,"url")||z();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},o.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,o.extend(e,{validationError:n})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];o.each(p,function(t){h.prototype[t]=function(){var e=i.call(arguments);return e.unshift(this.attributes),o[t].apply(o,e)}});var f=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,o.extend({silent:!0},e))},d={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};o.extend(f.prototype,s,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,o.extend({merge:!1},e,m))},remove:function(t,e){var n=!o.isArray(t);t=n?[t]:o.clone(t),e||(e={});var r,i,s,a;for(r=0,i=t.length;r<i;r++)a=t[r]=this.get(t[r]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a));return n?t[0]:t},set:function(t,e){e=o.defaults({},e,d),e.parse&&(t=this.parse(t,e));var n=!o.isArray(t);t=n?t?[t]:[]:o.clone(t);var r,i,s,a,u,l,c,p=e.at,f=this.model,m=this.comparator&&null==p&&e.sort!==!1,g=o.isString(this.comparator)?this.comparator:null,v=[],y=[],_={},b=e.add,w=e.merge,q=e.remove,x=!m&&b&&q?[]:!1;for(r=0,i=t.length;r<i;r++){if(u=t[r],s=u instanceof h?a=u:u[f.prototype.idAttribute],l=this.get(s))q&&(_[l.cid]=!0),w&&(u=u===a?a.attributes:u,e.parse&&(u=l.parse(u,e)),l.set(u,e),m&&!c&&l.hasChanged(g)&&(c=!0)),t[r]=l;else if(b){if(a=t[r]=this._prepareModel(u,e),!a)continue;v.push(a),a.on("all",this._onModelEvent,this),this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a)}x&&x.push(l||a)}if(q){for(r=0,i=this.length;r<i;++r)_[(a=this.models[r]).cid]||y.push(a);y.length&&this.remove(y,e)}if(v.length||x&&x.length)if(m&&(c=!0),this.length+=v.length,null!=p)for(r=0,i=v.length;r<i;r++)this.models.splice(p+r,0,v[r]);else{x&&(this.models.length=0);var k=x||v;for(r=0,i=k.length;r<i;r++)this.models.push(k[r])}if(c&&this.sort({silent:!0}),!e.silent){for(r=0,i=v.length;r<i;r++)(a=v[r]).trigger("add",a,this,e);(c||x&&x.length)&&this.trigger("sort",this,e)}return n?t[0]:t},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),t=this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,o.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,o.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return i.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t.id]||this._byId[t.cid]||this._byId[t]},at:function(t){return this.models[t]},where:function(t,e){return o.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),o.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(o.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return o.invoke(this.models,"get",t)},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?o.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(t,e,i){i.wait&&n.add(t,i),r&&r(t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t.collection||(t.collection=this),t;e=e?o.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(g,function(t){f.prototype[t]=function(){var e=i.call(arguments);return e.unshift(this.models),o[t].apply(o,e)}});var v=["groupBy","countBy","sortBy"];o.each(v,function(t){f.prototype[t]=function(e,n){var r=o.isFunction(e)?e:function(t){return t.get(e)};return o[t](this.models,r,n)}});var y=t.View=function(t){this.cid=o.uniqueId("view"),t||(t={}),o.extend(this,o.pick(t,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];o.extend(y.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=o.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(o.isFunction(n)||(n=this[t[e]]),n){var r=e.match(_),i=r[1],s=r[2];n=o.bind(n,this),i+=".delegateEvents"+this.cid,""===s?this.$el.on(i,n):this.$el.on(i,s,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(o.result(this,"el"),!1);else{var e=o.extend({},o.result(this,"attributes"));this.id&&(e.id=o.result(this,"id")),this.className&&(e["class"]=o.result(this,"className"));var n=t.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var i=q[e];o.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:i,dataType:"json"};if(r.url||(s.url=o.result(n,"url")||z()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){s.type="POST",r.emulateJSON&&(s.data._method=i);var a=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),a?a.apply(this,arguments):void 0}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&w&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=t.ajax(o.extend(s,r));return n.trigger("request",n,u,r),u};var w="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),q={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var x=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,S=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(x.prototype,s,{initialize:function(){},route:function(e,n,r){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return t.history.route(e,function(o){var s=i._extractParameters(e,o);r&&r.apply(i,s),i.trigger.apply(i,["route:"+n].concat(s)),i.trigger("route",n,s),t.history.trigger("route",i,n,s)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=o.result(this,"routes");for(var t,e=o.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(k,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/]+)"}).replace(S,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return o.map(n,function(t){return t?decodeURIComponent(t):null})}});var F=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl"),"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,D=/msie [\w.]+/,j=/\/$/,O=/[?#].*$/;F.started=!1,o.extend(F.prototype,s,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(j,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(C,"")},start:function(e){if(F.started)throw new Error("Backbone.history has already been started");F.started=!0,this.options=o.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=D.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);this.root=("/"+this.root+"/").replace(A,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),
this.fragment=n;var s=this.location,a=s.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!a)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&a&&s.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment+s.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),F.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!F.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(O,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),t.history=new F;var I=function(t,e){var n,r=this;n=t&&o.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},o.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&o.extend(n.prototype,t),n.__super__=r.prototype,n};h.extend=f.extend=x.extend=y.extend=F.extend=I;var z=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}}}.call(this),"undefined"!==typeof module&&module.exports&&(module.exports=printStackTrace),printStackTrace.implementation=function(){},printStackTrace.implementation.prototype={run:function(t,e){return t=t||this.createException(),e=e||this.mode(t),"other"===e?this.other(arguments.callee):this[e](t)},createException:function(){try{this.undef()}catch(t){return t}},mode:function(t){return t.arguments&&t.stack?"chrome":t.stack&&t.sourceURL?"safari":t.stack&&t.number?"ie":"string"===typeof t.message&&"undefined"!==typeof window&&window.opera?t.stacktrace?t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?"opera9":t.stack?t.stacktrace.indexOf("called from line")<0?"opera10b":"opera11":"opera10a":"opera9":t.stack?"firefox":"other"},instrumentFunction:function(t,e,n){t=t||window;var r=t[e];t[e]=function(){return n.call(this,printStackTrace().slice(4)),t[e]._instrumented.apply(this,arguments)},t[e]._instrumented=r},deinstrumentFunction:function(t,e){t[e].constructor===Function&&t[e]._instrumented&&t[e]._instrumented.constructor===Function&&(t[e]=t[e]._instrumented)},chrome:function(t){var e=(t.stack+"\n").replace(/^\S[^\(]+?[\n$]/gm,"").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}()@$1$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}()@$1").split("\n");return e.pop(),e},safari:function(t){return t.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(t){var e=/^.*at (\w+) \(([^\)]+)\)$/gm;return t.stack.replace(/at Anonymous function /gm,"{anonymous}()@").replace(/^(?=\w+Error\:).*$\n/m,"").replace(e,"$1@$2").split("\n")},firefox:function(t){return t.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^[\(@]/gm,"{anonymous}()@").split("\n")},opera11:function(t){for(var e="{anonymous}",n=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/,r=t.stacktrace.split("\n"),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);if(a){var u=a[4]+":"+a[1]+":"+a[2],l=a[3]||"global code";l=l.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,e),i.push(l+"@"+u+" -- "+r[o+1].replace(/^\s+/,""))}}return i},opera10b:function(t){for(var e=/^(.*)@(.+):(\d+)$/,n=t.stacktrace.split("\n"),r=[],i=0,o=n.length;i<o;i++){var s=e.exec(n[i]);if(s){var a=s[1]?s[1]+"()":"global code";r.push(a+"@"+s[2]+":"+s[3])}}return r},opera10a:function(t){for(var e="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),i=[],o=0,s=r.length;o<s;o+=2){var a=n.exec(r[o]);if(a){var u=a[3]||e;i.push(u+"()@"+a[2]+":"+a[1]+" -- "+r[o+1].replace(/^\s+/,""))}}return i},opera9:function(t){for(var e="{anonymous}",n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),i=[],o=2,s=r.length;o<s;o+=2){var a=n.exec(r[o]);a&&i.push(e+"()@"+a[2]+":"+a[1]+" -- "+r[o+1].replace(/^\s+/,""))}return i},other:function(t){for(var e,n,r="{anonymous}",i=/function\s*([\w\-$]+)?\s*\(/i,o=[],s=10;t&&t.arguments&&o.length<s;)e=i.test(t.toString())?RegExp.$1||r:r,n=Array.prototype.slice.call(t.arguments||[]),o[o.length]=e+"("+this.stringifyArguments(n)+")",t=t.caller;return o},stringifyArguments:function(t){for(var e=[],n=Array.prototype.slice,r=0;r<t.length;++r){var i=t[r];void 0===i?e[r]="undefined":null===i?e[r]="null":i.constructor&&(i.constructor===Array?e[r]=i.length<3?"["+this.stringifyArguments(i)+"]":"["+this.stringifyArguments(n.call(i,0,1))+"..."+this.stringifyArguments(n.call(i,-1))+"]":i.constructor===Object?e[r]="#object":i.constructor===Function?e[r]="#function":i.constructor===String?e[r]='"'+i+'"':i.constructor===Number&&(e[r]=i))}return e.join(",")},sourceCache:{},ajax:function(t){var e=this.createXMLHTTPObject();if(e)try{return e.open("GET",t,!1),e.send(null),e.responseText}catch(n){}return""},createXMLHTTPObject:function(){for(var t,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=0;n<e.length;n++)try{return t=e[n](),this.createXMLHTTPObject=e[n],t}catch(r){}},isSameDomain:function(t){return"undefined"!==typeof location&&-1!==t.indexOf(location.hostname)},getSource:function(t){return t in this.sourceCache||(this.sourceCache[t]=this.ajax(t).split("\n")),this.sourceCache[t]},guessAnonymousFunctions:function(t){for(var e=0;e<t.length;++e){var n=/\{anonymous\}\(.*\)@(.*)/,r=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,i=t[e],o=n.exec(i);if(o){var s=r.exec(o[1]);if(s){var a=s[1],u=s[2],l=s[3]||0;if(a&&this.isSameDomain(a)&&u){var c=this.guessAnonymousFunction(a,u,l);t[e]=i.replace("{anonymous}",c)}}}}return t},guessAnonymousFunction:function(t,e,n){var r;try{r=this.findFunctionName(this.getSource(t),e)}catch(i){r="getSource failed with url: "+t+", exception: "+i.toString()}return r},findFunctionName:function(t,e){for(var n,r,i,o=/function\s+([^(]*?)\s*\(([^)]*)\)/,s=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,a=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,u="",l=Math.min(e,20),c=0;c<l;++c)if(n=t[e-c-1],i=n.indexOf("//"),i>=0&&(n=n.substr(0,i)),n){if(u=n+u,r=s.exec(u),r&&r[1])return r[1];if(r=o.exec(u),r&&r[1])return r[1];if(r=a.exec(u),r&&r[1])return r[1]}return"(?)"}},Cookie={get:function(t){return tmp=document.cookie.match(new RegExp("\\b"+t+"=.+?($|;)","g")),tmp&&tmp[0]?unescape(tmp[0].substring(t.length+1,tmp[0].length).replace(";",""))||null:null},set:function(t,e,n,r,i){return cookie=[t+"="+escape(e),"path="+(r&&""!=r?r:"/")],n=Cookie.hoursToExpireDate(n),n&&cookie.push("expires="+n),i&&cookie.push("secure"),document.cookie=cookie.join("; ")},unset:function(t,e){e=e&&"string"==typeof e?e:"",Cookie.get(t)&&Cookie.set(t,"",-100,e)},hoursToExpireDate:function(t){return isNaN(parseInt(t))?"":(now=new Date,now.setTime(now.getTime()+60*parseInt(t)*60*1e3),now.toGMTString())},test:function(){return Cookie.set("b49f729efde9b2578ea9f00563d06e57","true"),"true"==Cookie.get("b49f729efde9b2578ea9f00563d06e57")?(Cookie.unset("b49f729efde9b2578ea9f00563d06e57"),!0):!1},dump:function(){"undefined"!=typeof console&&console.log(document.cookie.split(";"))}},!window.console){for(var method,noop=function(){},methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,consoleObj={};length--;)method=methods[length],consoleObj[method]||(consoleObj[method]=noop);window.console=consoleObj}(function(){!function(t){return t(window.jQuery)}(function(t){var e,n,r,i,o,s;return o=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["overflowY","height","width","paddingTop","paddingLeft","paddingRight","paddingBottom","marginTop","marginLeft","marginRight","marginBottom","fontFamily","borderStyle","borderWidth","wordWrap","fontSize","lineHeight","overflowX","text-align"],e.prototype.copy_inputor_css=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4,"white-space":"pre-wrap"},t.each(this.css_attr,function(t,r){return e[r]=n.$inputor.css(r)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.copy_inputor_css()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.get_flag_rect=function(){var t,e,n;return t=this.$mirror.find("span#flag"),e=t.position(),n={left:e.left,top:e.top,bottom:t.height()+e.top},this.$mirror.remove(),n},e}(),i={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13},n={data_refactor:function(e){return t.isArray(e)?t.map(e,function(e,n){return t.isPlainObject(e)||(e={name:e}),e}):e},matcher:function(t,e){var n,r,i;return i=new RegExp(t+"([A-Za-z0-9_+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),n=i.exec(e),r=null,n&&(r=n[2]?n[2]:n[1]),r},filter:function(e,n,r){return t.map(n,function(n,i){var o;return o=t.isPlainObject(n)?n[r]:n,o.toLowerCase().indexOf(e)>=0?n:void 0})},remote_filter:function(e,n,r){return t.ajax(n,{data:e,success:function(t){return r(t)}})},sorter:function(t,e,n){var r,i,o,s,a;if(!t)return e.sort(function(t,e){return t[n].toLowerCase()>e[n].toLowerCase()});for(i=[],s=0,a=e.length;s<a;s++)r=e[s],o=r[n],r.order=o.toLowerCase().indexOf(t),i.push(r);return i.sort(function(t,e){return t.order-e.order})},tpl_eval:function(t,e){var n;try{return n=t.replace(/\$\{([^\}]*)\}/g,function(t,n,r){return e[n]})}catch(r){return""}},highlighter:function(t,e){return e?t.replace(new RegExp(">\\s*(\\w*)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),function(t,e,n,r){return"> "+e+"<strong>"+n+"</strong>"+r+" <"}):t},selector:function(t){return t.length>0?this.replace_str(t.data("value")||""):void 0}},e=function(){function e(e){this.settings={},this.common_settings={},this.pos=0,this.flags=null,this.current_flag=null,this.query=null,this.$inputor=t(e),this.mirror=new o(this.$inputor),this.common_settings=t.extend({},t.fn.atwho["default"]),this.view=new s(this,this.$el),this.listen()}return e.prototype.listen=function(){var t=this;return this.$inputor.on("keyup.atwho",function(e){return t.on_keyup(e)}).on("keydown.atwho",function(e){return t.on_keydown(e)}).on("scroll.atwho",function(e){return t.view.hide()}).on("blur.atwho",function(e){return t.view.hide(t.get_opt("display_timeout"))})},e.prototype.reg=function(e,n){var r,i;return r={},r=t.isPlainObject(e)?this.common_settings=t.extend({},this.common_settings,e):this.settings[e]=this.settings[e]?t.extend({},this.settings[e],n):t.extend({},n),i=r.data,r.data=this.callbacks("data_refactor").call(this,i),this},e.prototype.trigger=function(t,e){return e||(e=[]),e.push(this),this.$inputor.trigger(""+t+".atwho",e)},e.prototype.data=function(){return this.get_opt("data")},e.prototype.callbacks=function(t){var e;return(e=this.get_opt("callbacks",{})[t])||(e=this.common_settings.callbacks[t]),e},e.prototype.get_opt=function(t,e){var n;try{return this.current_flag&&(n=this.settings[this.current_flag][t]),void 0===n&&(n=this.common_settings[t]),n=void 0===n?e:n}catch(r){return n=void 0===e?null:e}},e.prototype.rect=function(){var e,n,r,i,o,s,a,u,l,c;return e=this.$inputor,document.selection?(n=document.selection.createRange(),l=n.boundingLeft+e.scrollLeft(),c=n.boundingTop+t(window).scrollTop()+e.scrollTop(),i=c+n.boundingHeight,{top:c-2,left:l-2,bottom:i-2}):(o=function(t){return t.replace(/</g,"&lt").replace(/>/g,"&gt").replace(/`/g,"&#96").replace(/"/g,"&quot").replace(/\r\n|\r|\n/g,"<br />")},u=e.val().slice(0,this.pos-1),s="<span>"+o(u)+"</span>",s+="<span id='flag'>?</span>",a=e.offset(),r=this.mirror.create(s).get_flag_rect(),l=a.left+r.left-e.scrollLeft(),c=a.top-e.scrollTop(),i=c+r.bottom,c+=r.top,{top:c,left:l,bottom:i+2})},e.prototype.catch_query=function(){var e,n,r,i,o,s,a=this;return n=this.$inputor.val(),e=this.$inputor.caretPos(),s=n.slice(0,e),i=null,t.each(this.settings,function(t,e){return i=a.callbacks("matcher").call(a,t,s),null!=i?(a.current_flag=t,!1):void 0}),"string"===typeof i&&i.length<=20?(o=e-i.length,r=o+i.length,this.pos=o,i={text:i.toLowerCase(),head_pos:o,end_pos:r},this.trigger("matched",[this.current_flag,i.text])):this.view.hide(),this.query=i},e.prototype.replace_str=function(t){var e,n,r,i,o;return e=this.$inputor,r=e.val(),n=this.get_opt("display_flag")?0:this.current_flag.length,i=r.slice(0,(this.query.head_pos||0)-n),o=""+i+t+" "+r.slice(this.query.end_pos||0),e.val(o),e.caretPos(i.length+t.length+1),e.change()},e.prototype.on_keyup=function(e){switch(e.keyCode){case i.ESC:e.preventDefault(),this.view.hide();break;case i.DOWN:case i.UP:t.noop();break;default:this.look_up()}return e.stopPropagation()},e.prototype.on_keydown=function(e){if(this.view.visible()){switch(e.keyCode){case i.ESC:e.preventDefault(),this.view.hide();break;case i.UP:e.preventDefault(),this.view.prev();break;case i.DOWN:e.preventDefault(),this.view.next();break;case i.TAB:case i.ENTER:if(!this.view.visible())return;e.preventDefault(),this.view.choose();break;default:t.noop()}return e.stopPropagation()}},e.prototype.render_view=function(t){var e;return e=this.get_opt("search_key"),t=this.callbacks("sorter").call(this,this.query.text,t,e),t=t.splice(0,this.get_opt("limit")),this.view.render(t)},e.prototype.remote_call=function(e,n){var r,i;return r={q:n.text,limit:this.get_opt("limit")},i=function(t){return this.reg(this.current_flag,{data:t}),this.render_view(this.data())},i=t.proxy(i,this),this.callbacks("remote_filter").call(this,r,e,i)},e.prototype.look_up=function(){var e,n,r;return(n=this.catch_query())?(e=this.data(),r=this.get_opt("search_key"),"string"===typeof e?this.remote_call(e,n):(e=this.callbacks("filter").call(this,n.text,e,r))?this.render_view(e):this.view.hide(),t.noop()):!1},e}(),s=function(){function e(e){this.controller=e,this.id=this.controller.get_opt("view_id","at-view"),this.timeout_id=null,this.$el=t("#"+this.id),this.create_view()}return e.prototype.create_view=function(){var e,n,r=this;if(!this.exist())return n="<div id='"+this.id+"' class='at-view'><ul id='"+this.id+"-ul'></ul></div>",t("body").append(n),this.$el=t("#"+this.id),e=this.$el.find("ul"),e.on("mouseenter.view","li",function(n){return e.find(".cur").removeClass("cur"),t(n.currentTarget).addClass("cur")}).on("click",function(t){return t.stopPropagation(),t.preventDefault(),r.$el.data("_view").choose()})},e.prototype.exist=function(){return t("#"+this.id).length>0},e.prototype.visible=function(){return this.$el.is(":visible")},e.prototype.choose=function(){var t;return t=this.$el.find(".cur"),this.controller.callbacks("selector").call(this.controller,t),this.controller.trigger("choose",[t]),this.hide()},e.prototype.reposition=function(){var e,n;return n=this.controller.rect(),n.bottom+this.$el.height()-t(window).scrollTop()>t(window).height()&&(n.bottom=n.top-this.$el.height()),e={left:n.left,top:n.bottom},this.$el.offset(e),this.controller.trigger("reposition",[e])},e.prototype.next=function(){var e,n;return e=this.$el.find(".cur").removeClass("cur"),n=e.next(),n.length||(n=t(this.$el.find("li")[0])),n.addClass("cur")},e.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li").last()),e.addClass("cur")},e.prototype.show=function(){return this.visible()||this.$el.show(),this.reposition()},e.prototype.hide=function(t){var e,n=this;return isNaN(t)?this.visible()?this.$el.hide():void 0:(e=function(){return n.hide()},clearTimeout(this.timeout_id),this.timeout_id=setTimeout(e,t))},e.prototype.clear=function(){return this.$el.find("ul").empty()},e.prototype.render=function(e){var n,i,o=this;return t.isArray(e)?e.length<=0?(this.hide(),!0):(this.clear(),this.$el.data("_view",this),n=this.$el.find("ul"),i=this.controller.get_opt("tpl",r),t.each(e,function(e,r){var s,a;return a=o.controller.callbacks("tpl_eval").call(o.controller,i,r),s=t(o.controller.callbacks("highlighter").call(o.controller,a,o.controller.query.text)),s.data("info",r),n.append(s)}),this.show(),n.find("li:eq(0)").addClass("cur")):!1},e}(),r="<li data-value='${name}'>${name}</li>",t.fn.atwho=function(n,r){return this.filter("textarea, input").each(function(){var i,o;return i=t(this),o=i.data("atwho"),o||i.data("atwho",o=new e(this)),o.reg(n,r)})},t.fn.atwho.Controller=e,t.fn.atwho.View=s,t.fn.atwho.Mirror=o,t.fn.atwho["default"]={data:null,search_key:"name",callbacks:n,limit:5,display_flag:!0,display_timeout:300,tpl:r}})}).call(this),function(){!function(t){return t(window.jQuery)}(function(t){var e,n;return e=function(t){var e,n,r,i,o,s,a,u;return document.selection?(s=document.selection.createRange(),o=0,s&&s.parentElement()===t&&(i=t.value.replace(/\r\n/g,"\n"),r=i.length,u=t.createTextRange(),u.moveToBookmark(s.getBookmark()),n=t.createTextRange(),n.collapse(!1),u.compareEndPoints("StartToEnd",n)>-1?a=e=r:(a=-u.moveStart("character",-r),e=-u.moveEnd("character",-r)))):a=t.selectionStart,a},n=function(t,e){var n;return document.selection?(n=t.createTextRange(),n.move("character",e),n.select()):t.setSelectionRange(e,e)},t.fn.caretPos=function(t){var r;return r=this[0],r.focus(),t?n(r,t):e(r)}})}.call(this);var window_lib=window.jQuery?jQuery:Zepto;!function(t){t.fn.passStrength=function(e,n,r,i){return this.each(function(){var o=t(this);t(o).unbind().bind("keyup blur",function(){if(null!==t(this).val()){var o=t.fn.teststrength(t(this).val(),i,r);o[2]?(e.attr("disabled","disabled"),e.addClass("disabled")):(e.removeAttr("disabled"),e.removeClass("disabled")),n.html(o[0]),n.removeClass(i.badPassStyle),n.removeClass(i.goodPassStyle),n.removeClass(i.strongPassStyle),n.addClass(o[1])}})})},t.fn.teststrength=function(e,n,r){var i=0;return e.length<6?[n.shortPassStr,n.badPassStyle,1]:n.userid.length>0&&e.toLowerCase()==n.userid.toLowerCase()?[n.samePasswordStr,n.badPassStyle,1]:t.inArray(e.toLowerCase(),r)>-1?[n.blackPassStr,n.badPassStyle,1]:(i+=2*e.length,i+=3*t.fn.uniqueCharacters(e),e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(i+=15),e.match(/(.*[!,@,#,$,%,\^,&,*,?,_,~].*[!,@,#,$,%,\^,&,*,?,_,~])/)&&(i+=15),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(i+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(i+=15),e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([0-9])/)&&(i+=15),e.match(/([!,@,#,$,%,\^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)&&(i+=15),(e.match(/^[a-z]+$/)||e.match(/^[A-Z]+$/)||e.match(/^\d+$/))&&(i-=10),i<34?[n.badPassStr,n.badPassStyle,0]:i<68?[n.goodPassStr,n.goodPassStyle,0]:[n.strongPassStr,n.strongPassStyle,0])}}(window_lib),$.fn.uniqueCharacters=function(t){for(var e={},n=0,r=0;r<t.length;r++)t.charAt(r)in e||(e[t.charAt(r)]=!0,n++);return n},window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),function(t,e){function n(t,e,n){var r=t+":",i=document.createElement("test"),o=i.style;return o.cssText=n?r+e:r+["-webkit-","-moz-","-ms-","-o-",""].join(e+";"+r)+e+";",-1!==o[t].indexOf(e)}function r(t){return parseInt(t,10)||0}var i={classes:{plugin:"fixedsticky",active:"fixedsticky-on",inactive:"fixedsticky-off",clone:"fixedsticky-dummy",withoutFixedFixed:"fixedsticky-withoutfixedfixed"},keys:{offset:"fixedStickyOffset",position:"fixedStickyPosition"},tests:{sticky:n("position","sticky"),fixed:n("position","fixed",!0)},getScrollTop:function(){var e="pageYOffset",n="scrollTop";return t?e in t?t[e]:t.document.documentElement[n]:t.document.body[n]},bypass:function(){return i.tests.sticky&&!i.optOut||!i.tests.fixed||t.FixedFixed&&!e(t.document.documentElement).hasClass("fixed-supported")},update:function(t){function n(){var t=p+a;return h<t&&t+c<=y+_}function o(){return h+(c||0)>p+m-u&&p+m-u>=y+(c||0)}if(t.offsetWidth){var s,a,u,l=e(t),c=l.outerHeight(),h=l.data(i.keys.offset),p=i.getScrollTop(),f=l.is("."+i.classes.active),d=function(t){l[t?"addClass":"removeClass"](i.classes.active)[t?"removeClass":"addClass"](i.classes.inactive)},m=e(window).height(),g=l.data(i.keys.position),v=l.parent(),y=v.offset().top,_=v.outerHeight();h||(h=l.offset().top,l.data(i.keys.offset,h),l.after(e("<div>").addClass(i.classes.clone).height(c))),g||(s="auto"!==l.css("top")||"auto"!==l.css("bottom"),s||l.css("position","fixed"),g={top:"auto"!==l.css("top"),bottom:"auto"!==l.css("bottom")},s||l.css("position",""),l.data(i.keys.position,g)),a=r(l.css("top")),u=r(l.css("bottom")),g.top&&n()||g.bottom&&o()?f||d(!0):f&&d(!1)}},destroy:function(n){var r=e(n);if(!i.bypass())return e(t).unbind(".fixedsticky"),r.each(function(){e(this).removeData([i.keys.offset,i.keys.position]).removeClass(i.classes.active).removeClass(i.classes.inactive).next("."+i.classes.clone).remove()})},init:function(n){var r=e(n);if(!i.bypass())return r.each(function(){var n=this;e(t).bind("scroll.fixedsticky",function(){i.update(n)}),i.update(this),e(t).bind("resize.fixedsticky",function(){r.is("."+i.classes.active)&&i.update(n)})})}};t.FixedSticky=i,e.fn.fixedsticky=function(t){if("function"===typeof i[t])return i[t].call(i,this);if("object"!==typeof t&&t)throw new Error("Method `"+t+"` does not exist on jQuery.fixedsticky");return i.init.call(i,this)},t.FixedFixed||e(t.document.documentElement).addClass(i.classes.withoutFixedFixed)}(this,jQuery),FixedSticky.tests.sticky=!1;var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,r,i,o,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(o=t.changedTouches[0],s=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=s.tagName.toLowerCase(),"label"===r){if(e=this.findControl(s)){if(this.focus(s),deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),deviceIsIOS&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(i=s.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,n,r;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!==typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){"use strict";function t(t){return"function"===typeof t||"object"===typeof t&&null!==t}function e(t){return"function"===typeof t}function n(t){return"object"===typeof t&&null!==t}function r(){}function i(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function o(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e}function s(t,e){return"onerror"===t?void wt.on("error",e):2!==arguments.length?wt[t]:void(wt[t]=e)}function a(){setTimeout(function(){for(var t,e=0;e<qt.length;e++){t=qt[e];var n=t.payload;n.guid=n.key+n.id,n.childGuid=n.key+n.childId,n.error&&(n.stack=n.error.stack),wt.trigger(t.name,t.payload)}qt.length=0},50)}function u(t,e,n){1===qt.push({name:t,payload:{key:e._guidKey,id:e._id,eventName:t,detail:e._result,childId:n&&n._id,label:e._label,timeStamp:yt(),error:wt["instrument-with-stack"]?new Error(e._label):null}})&&a()}function l(){return new TypeError("A promises callback cannot return that same promise.")}function c(){}function h(t){try{return t.then}catch(e){return Tt.error=e,Tt}}function p(t,e,n,r){try{t.call(e,n,r)}catch(i){return i.thrownFromCallback=!0,i}}function f(t,e,n){wt.async(function(t){var r=!1,i=p(n,e,function(n){r||(r=!0,e!==n?g(t,n):y(t,n))},function(e){r||(r=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,_(t,i))},t)}function d(t,e){e._state===Et?y(t,e._result):e._state===St?(e._onError=null,_(t,e._result)):b(e,void 0,function(n){e!==n?g(t,n):y(t,n)},function(e){_(t,e)})}function m(t,n){if(n.constructor===t.constructor)d(t,n);else{var r=h(n);r===Tt?_(t,Tt.error):void 0===r?y(t,n):e(r)?f(t,n,r):y(t,n)}}function g(e,n){e===n?y(e,n):t(n)?m(e,n):y(e,n)}function v(t){t._onError&&t._onError(t._result),w(t)}function y(t,e){t._state===kt&&(t._result=e,t._state=Et,0===t._subscribers.length?wt.instrument&&xt("fulfilled",t):wt.async(w,t))}function _(t,e){t._state===kt&&(t._state=St,t._result=e,wt.async(v,t))}function b(t,e,n,r){var i=t._subscribers,o=i.length;t._onError=null,i[o]=e,i[o+Et]=n,i[o+St]=r,0===o&&t._state&&wt.async(w,t)}function w(t){var e=t._subscribers,n=t._state;if(wt.instrument&&xt(n===Et?"fulfilled":"rejected",t),0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?k(n,r,i,o):i(o);t._subscribers.length=0}}function q(){this.error=null}function x(t,e){try{return t(e)}catch(n){return Ft.error=n,Ft}}function k(t,n,r,i){var o,s,a,u,c=e(r);if(c){if(o=x(r,i),o===Ft?(u=!0,s=o.error,o=null):a=!0,n===o)return void _(n,l())}else o=i,a=!0;n._state!==kt||(c&&a?g(n,o):u?_(n,s):t===Et?y(n,o):t===St&&_(n,o))}function E(t,e){var n=!1;try{e(function(e){n||(n=!0,g(t,e))},function(e){n||(n=!0,_(t,e))})}catch(r){_(t,r)}}function S(t,e,n){return t===Et?{state:"fulfilled",value:n}:{state:"rejected",reason:n}}function T(t,e,n,r){this._instanceConstructor=t,
this.promise=new t(c,r),this._abortOnReject=n,this._validateInput(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._init(),0===this.length?y(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&y(this.promise,this._result))):_(this.promise,this._validationError())}function F(t,e){return new Ct(this,t,!0,e).promise}function C(t,e){function n(t){g(o,t)}function r(t){_(o,t)}var i=this,o=new i(c,e);if(!vt(t))return _(o,new TypeError("You must pass an array to race.")),o;for(var s=t.length,a=0;o._state===kt&&a<s;a++)b(i.resolve(t[a]),void 0,n,r);return o}function A(t,e){var n=this;if(t&&"object"===typeof t&&t.constructor===n)return t;var r=new n(c,e);return g(r,t),r}function D(t,e){var n=this,r=new n(c,e);return _(r,t),r}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(t,n){this._id=zt++,this._label=n,this._state=void 0,this._result=void 0,this._subscribers=[],wt.instrument&&xt("created",this),c!==t&&(e(t)||j(),this instanceof I||O(),E(this,t))}function z(t,e,n){this._superConstructor(t,e,!1,n)}function L(t,e){return new z(Lt,t,e).promise}function N(t,e){return Lt.all(t,e)}function R(t,e){Gt[Ut]=t,Gt[Ut+1]=e,Ut+=2,2===Ut&&Rt()}function P(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(H)}}function M(){return function(){Nt(H)}}function U(){var t=0,e=new Xt(H),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function $(){var t=new MessageChannel;return t.port1.onmessage=H,function(){t.port2.postMessage(0)}}function B(){return function(){setTimeout(H,1)}}function H(){for(var t=0;t<Ut;t+=2){var e=Gt[t],n=Gt[t+1];e(n),Gt[t]=void 0,Gt[t+1]=void 0}Ut=0}function X(){try{var t=require,e=t("vertx");return Nt=e.runOnLoop||e.runOnContext,M()}catch(n){return B()}}function V(t){var e={};return e.promise=new Lt(function(t,n){e.resolve=t,e.reject=n},t),e}function Z(t,n,r){return Lt.all(t,r).then(function(t){if(!e(n))throw new TypeError("You must pass a function as filter's second argument.");for(var i=t.length,o=new Array(i),s=0;s<i;s++)o[s]=n(t[s]);return Lt.all(o,r).then(function(e){for(var n=new Array(i),r=0,o=0;o<i;o++)e[o]&&(n[r]=t[o],r++);return n.length=r,n})})}function G(t,e,n){this._superConstructor(t,e,!0,n)}function W(t,e,n){this._superConstructor(t,e,!1,n)}function Y(t,e){return new W(Lt,t,e).promise}function J(t,e){return new Jt(Lt,t,e).promise}function K(t,n,r){return Lt.all(t,r).then(function(t){if(!e(n))throw new TypeError("You must pass a function as map's second argument.");for(var i=t.length,o=new Array(i),s=0;s<i;s++)o[s]=n(t[s]);return Lt.all(o,r)})}function Q(){this.value=void 0}function tt(t){try{return t.then}catch(e){return ee.value=e,ee}}function et(t,e,n){try{t.apply(e,n)}catch(r){return ee.value=r,ee}}function nt(t,e){for(var n,r,i={},o=t.length,s=new Array(o),a=0;a<o;a++)s[a]=t[a];for(r=0;r<e.length;r++)n=e[r],i[n]=s[r+1];return i}function rt(t){for(var e=t.length,n=new Array(e-1),r=1;r<e;r++)n[r-1]=t[r];return n}function it(t,e){return{then:function(n,r){return t.call(e,n,r)}}}function ot(t,e){var n=function(){for(var n,r=this,i=arguments.length,o=new Array(i+1),s=!1,a=0;a<i;++a){if(n=arguments[a],!s){if(s=ut(n),s===ne){var u=new Lt(c);return _(u,ne.value),u}s&&s!==!0&&(n=it(s,n))}o[a]=n}var l=new Lt(c);return o[i]=function(t,n){t?_(l,t):void 0===e?g(l,n):e===!0?g(l,rt(arguments)):vt(e)?g(l,nt(arguments,e)):g(l,n)},s?at(l,o,t,r):st(l,o,t,r)};return n.__proto__=t,n}function st(t,e,n,r){var i=et(n,r,e);return i===ee&&_(t,i.value),t}function at(t,e,n,r){return Lt.all(e).then(function(e){var i=et(n,r,e);return i===ee&&_(t,i.value),t})}function ut(t){return t&&"object"===typeof t?t.constructor===Lt?!0:tt(t):!1}function lt(t,e){return Lt.race(t,e)}function ct(t,e){return Lt.reject(t,e)}function ht(t,e){return Lt.resolve(t,e)}function pt(t){throw setTimeout(function(){throw t}),t}function ft(t,e){wt.async(t,e)}function dt(){wt.on.apply(wt,arguments)}function mt(){wt.off.apply(wt,arguments)}var gt;gt=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var vt=gt,yt=Date.now||function(){return(new Date).getTime()},_t=Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!==typeof t)throw new TypeError("Argument must be an object");return r.prototype=t,new r},bt={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,e){var n,r=o(this);n=r[t],n||(n=r[t]=[]),-1===i(n,e)&&n.push(e)},off:function(t,e){var n,r,s=o(this);return e?(n=s[t],r=i(n,e),void(-1!==r&&n.splice(r,1))):void(s[t]=[])},trigger:function(t,e){var n,r,i=o(this);if(n=i[t])for(var s=0;s<n.length;s++)(r=n[s])(e)}},wt={instrument:!1};bt.mixin(wt);var qt=[],xt=u,kt=void 0,Et=1,St=2,Tt=new q,Ft=new q,Ct=T;T.prototype._validateInput=function(t){return vt(t)},T.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},T.prototype._init=function(){this._result=new Array(this.length)},T.prototype._enumerate=function(){for(var t=this.length,e=this.promise,n=this._input,r=0;e._state===kt&&r<t;r++)this._eachEntry(n[r],r)},T.prototype._eachEntry=function(t,e){var r=this._instanceConstructor;n(t)?t.constructor===r&&t._state!==kt?(t._onError=null,this._settledAt(t._state,e,t._result)):this._willSettleAt(r.resolve(t),e):(this._remaining--,this._result[e]=this._makeResult(Et,e,t))},T.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===kt&&(this._remaining--,this._abortOnReject&&t===St?_(r,n):this._result[e]=this._makeResult(t,e,n)),0===this._remaining&&y(r,this._result)},T.prototype._makeResult=function(t,e,n){return n},T.prototype._willSettleAt=function(t,e){var n=this;b(t,void 0,function(t){n._settledAt(Et,e,t)},function(t){n._settledAt(St,e,t)})};var At=F,Dt=C,jt=A,Ot=D,It="rsvp_"+yt()+"-",zt=0,Lt=I;I.cast=jt,I.all=At,I.race=Dt,I.resolve=jt,I.reject=Ot,I.prototype={constructor:I,_guidKey:It,_onError:function(t){wt.async(function(e){setTimeout(function(){e._onError&&wt.trigger("error",t)},0)},this)},then:function(t,e,n){var r=this,i=r._state;if(i===Et&&!t||i===St&&!e)return wt.instrument&&xt("chained",this,this),this;r._onError=null;var o=new this.constructor(c,n),s=r._result;if(wt.instrument&&xt("chained",r,o),i){var a=arguments[i-1];wt.async(function(){k(i,o,a,s)})}else b(r,o,t,e);return o},"catch":function(t,e){return this.then(null,t,e)},"finally":function(t,e){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})},e)}},z.prototype=_t(Ct.prototype),z.prototype._superConstructor=Ct,z.prototype._makeResult=S,z.prototype._validationError=function(){return new Error("allSettled must be called with an array")};var Nt,Rt,Pt=L,Mt=N,Ut=0,$t=({}.toString,R),Bt="undefined"!==typeof window?window:void 0,Ht=Bt||{},Xt=Ht.MutationObserver||Ht.WebKitMutationObserver,Vt="undefined"!==typeof process&&"[object process]"==={}.toString.call(process),Zt="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel,Gt=new Array(1e3);Rt=Vt?P():Xt?U():Zt?$():void 0===Bt&&"function"===typeof require?X():B();var Wt=V,Yt=Z,Jt=G;G.prototype=_t(Ct.prototype),G.prototype._superConstructor=Ct,G.prototype._init=function(){this._result={}},G.prototype._validateInput=function(t){return t&&"object"===typeof t},G.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},G.prototype._enumerate=function(){var t=this.promise,e=this._input,n=[];for(var r in e)t._state===kt&&e.hasOwnProperty(r)&&n.push({position:r,entry:e[r]});var i=n.length;this._remaining=i;for(var o,s=0;t._state===kt&&s<i;s++)o=n[s],this._eachEntry(o.entry,o.position)},W.prototype=_t(Jt.prototype),W.prototype._superConstructor=Ct,W.prototype._makeResult=S,W.prototype._validationError=function(){return new Error("hashSettled must be called with an object")};var Kt=Y,Qt=J,te=K,ee=new Q,ne=new Q,re=ot,ie=lt,oe=ct,se=ht,ae=pt;wt.async=$t;if("undefined"!==typeof window&&"object"===typeof window.__PROMISE_INSTRUMENTATION__){var ue=window.__PROMISE_INSTRUMENTATION__;s("instrument",!0);for(var le in ue)ue.hasOwnProperty(le)&&dt(le,ue[le])}var ce={race:ie,Promise:Lt,allSettled:Pt,hash:Qt,hashSettled:Kt,denodeify:re,on:dt,off:mt,map:te,filter:Yt,resolve:se,reject:oe,all:Mt,rethrow:ae,defer:Wt,EventTarget:bt,configure:s,async:ft};"function"===typeof define&&define.amd?define(function(){return ce}):"undefined"!==typeof module&&module.exports?module.exports=ce:"undefined"!==typeof this&&(this.RSVP=ce)}.call(this),function(){var t={};!function(){function e(t,n,r){var i=function(){};i.prototype=t.prototype;var o=new i,s=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;r=r||{};for(var a in r){var u=r[a],l=o[a];o[a]="function"==typeof l&&"function"==typeof u&&s.test(u)?function(t,e){return function(){var n=this.parent;this.parent=e;var r=t.apply(this,arguments);return this.parent=n,r}}(u,l):u}o.typename=n;var c=function(){o.init&&o.init.apply(this,arguments)};return c.prototype=o,c.prototype.constructor=c,c.extend=function(t,n){return"object"==typeof t&&(n=t,t="anonymous"),e(c,t,n)},c}t.object=e(Object,"Object",{})}(),function(){var e=Array.prototype,n=Object.prototype,r={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;"},i=/[&"'<>]/g,o=function(t){return r[t]},s=t.lib={};s.withPrettyErrors=function(t,e,n){try{return n()}catch(r){if(r.Update||(r=new s.TemplateError(r)),r.Update(t),!e){var i=r;r=new Error(i.message),r.name=i.name}throw r}},s.TemplateError=function(t,e,n){var r=this;return t instanceof Error?(r=t,t=t.name+": "+t.message):Error.captureStackTrace&&Error.captureStackTrace(r),r.name="Template render error",r.message=t,r.lineno=e,r.colno=n,r.firstUpdate=!0,r.Update=function(t){var e="("+(t||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?e+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(e+=" [Line "+this.lineno+"]")),e+="\n ",this.firstUpdate&&(e+=" "),this.message=e+(this.message||""),this.firstUpdate=!1,this},r},s.TemplateError.prototype=Error.prototype,s.escape=function(t){return t.replace(i,o)},s.isFunction=function(t){return"[object Function]"==n.toString.call(t)},s.isArray=Array.isArray||function(t){return"[object Array]"==n.toString.call(t)},s.isString=function(t){return"[object String]"==n.toString.call(t)},s.isObject=function(t){return"[object Object]"==n.toString.call(t)},s.groupBy=function(t,e){for(var n={},r=s.isFunction(e)?e:function(t){return t[e]},i=0;i<t.length;i++){var o=t[i],a=r(o,i);(n[a]||(n[a]=[])).push(o)}return n},s.toArray=function(t){return Array.prototype.slice.call(t)},s.without=function(t){var e=[];if(!t)return e;for(var n=-1,r=t.length,i=s.toArray(arguments).slice(1);++n<r;)-1===s.indexOf(i,t[n])&&e.push(t[n]);return e},s.extend=function(t,e){for(var n in e)t[n]=e[n];return t},s.repeat=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},s.each=function(t,n,r){if(null!=t)if(e.each&&t.each==e.each)t.forEach(n,r);else if(t.length===+t.length)for(var i=0,o=t.length;i<o;i++)n.call(r,t[i],i,t)},s.map=function(t,n){var r=[];if(null==t)return r;if(e.map&&t.map===e.map)return t.map(n);for(var i=0;i<t.length;i++)r[r.length]=n(t[i],i);return t.length===+t.length&&(r.length=t.length),r},s.asyncIter=function(t,e,n){function r(){i++,i<t.length?e(t[i],i,r,n):n()}var i=-1;r()},s.asyncFor=function(t,e,n){function r(){a++;var s=i[a];a<o?e(s,t[s],a,o,r):n()}var i=s.keys(t),o=i.length,a=-1;r()},s.indexOf=Array.prototype.indexOf?function(t,e,n){return Array.prototype.indexOf.call(t,e,n)}:function(t,e,n){var r=this.length>>>0;for(n=+n||0,Math.abs(n)===1/0&&(n=0),n<0&&(n+=r,n<0&&(n=0));n<r;n++)if(t[n]===e)return n;return-1},Array.prototype.map||(Array.prototype.map=function(){throw new Error("map is unimplemented for this js engine")}),s.keys=function(t){if(Object.prototype.keys)return t.keys();var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}}(),function(){function e(t,e,n){return function(){var o,s=i(arguments),a=r(arguments);if(s>t.length){o=Array.prototype.slice.call(arguments,0,t.length);for(var u=Array.prototype.slice.call(arguments,o.length,s),l=0;l<u.length;l++)l<e.length&&(a[e[l]]=u[l]);o.push(a)}else if(s<t.length){o=Array.prototype.slice.call(arguments,0,s);for(var l=s;l<t.length;l++){var c=t[l];o.push(a[c]),delete a[c]}o.push(a)}else o=arguments;return n.apply(this,o)}}function n(t){return t.__keywords=!0,t}function r(t){var e=t.length;if(e){var n=t[e-1];if(n&&n.hasOwnProperty("__keywords"))return n}return{}}function i(t){var e=t.length;if(0===e)return 0;var n=t[e-1];return n&&n.hasOwnProperty("__keywords")?e-1:e}function o(t){return"string"!=typeof t?t:void(this.val=t)}function s(t,e){return t instanceof o?new o(e):e.toString()}function a(t){var e=typeof t;return"string"===e?new o(t):"function"!==e?t:function(){var e=t.apply(this,arguments);return"string"===typeof e?new o(e):e}}function u(t,e){return t=void 0!==t&&null!==t?t:"",e&&"string"===typeof t&&(t=m.escape(t)),t}function l(t,e){return t=t||{},"function"===typeof t[e]?function(){return t[e].apply(t,arguments)}:t[e]}function c(t,e,n){if(!t)throw new Error("Unable to call `"+e+"`, which is undefined or falsey");if("function"!==typeof t)throw new Error("Unable to call `"+e+"`, which is not a function");return t.apply(this,n)}function h(t,e,n){var r=e.lookup(n);return void 0!==r&&null!==r?r:t.lookup(n)}function p(t,e,n){return t.lineno?t:new m.TemplateError(t,e,n)}function f(t,e,n,r){if(m.isArray(t)){var i=t.length;m.asyncIter(t,function(t,r,o){switch(e){case 1:n(t,r,i,o);break;case 2:n(t[0],t[1],r,i,o);break;case 3:n(t[0],t[1],t[2],r,i,o);break;default:t.push(r,o),n.apply(this,t)}},r)}else m.asyncFor(t,function(t,e,r,i,o){n(t,e,r,i,o)},r)}function d(t,e,n,r){function i(t,e){a++,s[t]=e,a==o&&r(null,s.join(""))}var o,s,a=0;if(m.isArray(t))if(o=t.length,s=new Array(o),0==o)r(null,"");else for(var u=0;u<t.length;u++){var l=t[u];switch(e){case 1:n(l,u,o,i);break;case 2:n(l[0],l[1],u,o,i);break;case 3:n(l[0],l[1],l[2],u,o,i);break;default:l.push(u,i),n.apply(this,l)}}else{var c=m.keys(t);if(o=c.length,s=new Array(o),0==o)r(null,"");else for(var u=0;u<c.length;u++){var h=c[u];n(h,t[h],u,o,i)}}}var m=t.lib,g=t.object,v=g.extend({init:function(t){this.variables={},this.parent=t},set:function(t,e,n){var r=t.split("."),i=this.variables,o=this;if(n){if(o=this.resolve(r[0]))return void o.set(t,e);o=this}for(var s=0;s<r.length-1;s++){var a=r[s];i[a]||(i[a]={}),i=i[a]}i[r[r.length-1]]=e},get:function(t){var e=this.variables[t];return void 0!==e&&null!==e?e:null},lookup:function(t){var e=this.parent,n=this.variables[t];return void 0!==n&&null!==n?n:e&&e.lookup(t)},resolve:function(t){var e=this.parent,n=this.variables[t];return null!=n?this:e&&e.resolve(t)},push:function(){return new v(this)},pop:function(){return this.parent}});o.prototype=Object.create(String.prototype),o.prototype.valueOf=function(){return this.val},o.prototype.toString=function(){return this.val},t.runtime={Frame:v,makeMacro:e,makeKeywordArgs:n,numArgs:i,suppressValue:u,memberLookup:l,contextOrFrameLookup:h,callWrap:c,handleError:p,isArray:m.isArray,keys:m.keys,SafeString:o,copySafeness:s,markSafe:a,asyncEach:f,asyncAll:d}}(),function(){var e=t.object,n=t.lib,r=e.extend({on:function(t,e){this.listeners=this.listeners||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)},emit:function(t){var e=Array.prototype.slice.call(arguments,1);this.listeners&&this.listeners[t]&&n.each(this.listeners[t],function(t){t.apply(null,e)})}});t.loader=r}(),function(){var e=t.loader,n=e.extend({init:function(t,e){this.precompiled=window.nunjucksPrecompiled||{},this.baseURL=t||"",this.neverUpdate=e},getSource:function(t){if(this.precompiled[t])return{src:{type:"code",obj:this.precompiled[t]},path:t};var e=this.fetch(this.baseURL+"/"+t);return e?{src:e,path:t,noCache:!this.neverUpdate}:null},fetch:function(t,e){var n,r,i=!0;return window.XMLHttpRequest?n=new XMLHttpRequest:window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLHTTP")),n.onreadystatechange=function(){4!==n.readyState||0!==n.status&&200!==n.status||!i||(i=!1,r=n.responseText)},t+=(-1===t.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",t,!1),n.send(),r}});t["web-loaders"]={WebLoader:n}}(),function(){t.loaders="undefined"===typeof window||window!==this?t["node-loaders"]:t["web-loaders"]}(),function(){var e=t.lib,n=t.runtime,r={abs:function(t){return Math.abs(t)},batch:function(t,e,n){for(var r=[],i=[],o=0;o<t.length;o++)o%e===0&&i.length&&(r.push(i),i=[]),i.push(t[o]);if(i.length){if(n)for(var o=i.length;o<e;o++)i.push(n);r.push(i)}return r},capitalize:function(t){var e=t.toLowerCase();return n.copySafeness(t,e.charAt(0).toUpperCase()+e.slice(1))},center:function(t,r){if(r=r||80,t.length>=r)return t;var i=r-t.length,o=e.repeat(" ",i/2-i%2),s=e.repeat(" ",i/2);return n.copySafeness(t,o+t+s)},"default":function(t,e){return t?t:e},dictsort:function(t,n,r){if(!e.isObject(t))throw new e.TemplateError("dictsort filter: val must be an object");var i=[];for(var o in t)i.push([o,t[o]]);var s;if(void 0===r||"key"===r)s=0;else{if("value"!==r)throw new e.TemplateError("dictsort filter: You can only sort by either key or value");s=1}return i.sort(function(t,r){var i=t[s],o=r[s];return n||(e.isString(i)&&(i=i.toUpperCase()),e.isString(o)&&(o=o.toUpperCase())),i>o?1:i==o?0:-1}),i},escape:function(t){return"string"==typeof t||t instanceof n.SafeString?e.escape(t):t},safe:function(t){return n.markSafe(t)},first:function(t){return t[0]},groupby:function(t,n){return e.groupBy(t,n)},indent:function(t,r,i){r=r||4;for(var o="",s=t.split("\n"),a=e.repeat(" ",r),u=0;u<s.length;u++)o+=0!=u||i?a+s[u]+"\n":s[u]+"\n";return n.copySafeness(t,o)},join:function(t,n,r){return n=n||"",r&&(t=e.map(t,function(t){return t[r]})),t.join(n)},last:function(t){return t[t.length-1]},length:function(t){return void 0!==t?t.length:0},list:function(t){if(e.isString(t))return t.split("");if(e.isObject(t)){var n=[];if(Object.keys)n=Object.keys(t);else for(var r in t)n.push(r);return e.map(n,function(e){return{key:e,value:t[e]}})}throw new e.TemplateError("list filter: type not iterable")},lower:function(t){return t.toLowerCase()},random:function(t){return t[Math.floor(Math.random()*t.length)]},replace:function(t,e,r,i){if(e instanceof RegExp)return t.replace(e,r);var o=t,s=o,a=1;for(o=o.replace(e,r);s!=o&&!(a>=i);)s=o,o=o.replace(e,r),a++;return n.copySafeness(t,o)},reverse:function(t){var i;return i=e.isString(t)?r.list(t):e.map(t,function(t){return t}),i.reverse(),e.isString(t)?n.copySafeness(t,i.join("")):i},round:function(t,e,n){e=e||0;var r,i=Math.pow(10,e);return r="ceil"==n?Math.ceil:"floor"==n?Math.floor:Math.round,r(t*i)/i},slice:function(t,e,n){for(var r=Math.floor(t.length/e),i=t.length%e,o=0,s=[],a=0;a<e;a++){var u=o+a*r;a<i&&o++;var l=o+(a+1)*r,c=t.slice(u,l);n&&a>=i&&c.push(n),s.push(c)}return s},sort:function(t,n,r,i){return t=e.map(t,function(t){return t}),t.sort(function(t,o){var s,a;return i?(s=t[i],a=o[i]):(s=t,a=o),!r&&e.isString(s)&&e.isString(a)&&(s=s.toLowerCase(),a=a.toLowerCase()),s<a?n?1:-1:s>a?n?-1:1:0}),t},string:function(t){return n.copySafeness(t,t)},title:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)e[i]=r.capitalize(e[i]);return n.copySafeness(t,e.join(" "))},trim:function(t){return n.copySafeness(t,t.replace(/^\s*|\s*$/g,""))},truncate:function(t,e,r,i){var o=t;if(e=e||255,t.length<=e)return t;if(r)t=t.substring(0,e);else{var s=t.lastIndexOf(" ",e);-1===s&&(s=e),t=t.substring(0,s)}return t+=void 0!==i&&null!==i?i:"...",n.copySafeness(o,t)},upper:function(t){return t.toUpperCase()},urlencode:function(t){var n=encodeURIComponent;if(e.isString(t))return n(t);var r;if(e.isArray(t))r=t.map(function(t){return n(t[0])+"="+n(t[1])});else{r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(n(i)+"="+n(t[i]))}return r.join("&")},urlize:function(t,e,n){isNaN(e)&&(e=1/0);var r=n===!0?' rel="nofollow"':"",i=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,o=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,s=/^https?:\/\/.*$/,a=/^www\./,u=/\.(?:org|net|com)(?:\:|\/|$)/,l=t.split(/\s+/).filter(function(t){return t&&t.length}).map(function(t){var n=t.match(i),l=n&&n[1]||t;return s.test(l)?'<a href="'+l+'"'+r+">"+l.substr(0,e)+"</a>":a.test(l)?'<a href="http://'+l+'"'+r+">"+l.substr(0,e)+"</a>":o.test(l)?'<a href="mailto:'+l+'">'+l+"</a>":u.test(l)?'<a href="http://'+l+'"'+r+">"+l.substr(0,e)+"</a>":t});return l.join(" ")},wordcount:function(t){var e=t?t.match(/\w+/g):null;return e?e.length:null},"float":function(t,e){var n=parseFloat(t);return isNaN(n)?e:n},"int":function(t,e){var n=parseInt(t,10);return isNaN(n)?e:n}};r.d=r["default"],r.e=r.escape,t.filters=r}(),function(){function e(t){var e=-1;return{current:null,reset:function(){e=-1,this.current=null},next:function(){return e++,e>=t.length&&(e=0),this.current=t[e],this.current}}}function n(t){t=t||",";var e=!0;return function(){var n=e?"":t;return e=!1,n}}var r={range:function(t,e,n){e?n||(n=1):(e=t,t=0,n=1);for(var r=[],i=t;i<e;i+=n)r.push(i);return r},cycler:function(){return e(Array.prototype.slice.call(arguments))},joiner:function(t){return n(t)}};t.globals=r}(),function(){var e=t.path,n=t.lib,r=t.object,i=(t.lexer,t.compiler),o=t.filters,s=t.loaders,a=t.runtime,u=t.globals,l=a.Frame,c=r.extend({init:function(t,e){e=e||{},this.dev=!!e.dev,this.lexerTags=e.tags,this.autoesc=!!e.autoescape,this.loaders=t?n.isArray(t)?t:[t]:s.FileSystemLoader?[new s.FileSystemLoader("views")]:[new s.WebLoader("/views")],this.initCache(),this.filters={},this.asyncFilters=[],this.extensions={},this.extensionsList=[];for(var r in o)this.addFilter(r,o[r])},initCache:function(){var t={};n.each(this.loaders,function(e){"function"===typeof e.on&&e.on("update",function(e){t[e]=null})}),this.cache=t},addExtension:function(t,e){e._name=t,this.extensions[t]=e,this.extensionsList.push(e)},getExtension:function(t){return this.extensions[t]},addGlobal:function(t,e){u[t]=e},addFilter:function(t,e,n){var r=e;n&&this.asyncFilters.push(t),this.filters[t]=r},getFilter:function(t){if(!this.filters[t])throw new Error("filter not found: "+t);return this.filters[t]},getTemplate:function(t,e,r){if(t&&t.raw&&(t=t.raw),n.isFunction(e)&&(r=e,e=!1),"string"!==typeof t)throw new Error("template names must be a string: "+t);var i=this.cache[t];if(!i){var o;return n.asyncIter(this.loaders,function(e,n,r,i){function o(t){t?i(t):r()}e.async?e.getSource(t,function(t,e){if(t)throw t;o(e)}):o(e.getSource(t))},function(n){if(n){var i=new p(n.src,this,n.path,e);n.noCache||(this.cache[t]=i),r?r(null,i):o=i}else{var s=new Error("template not found: "+t);if(!r)throw s;r(s)}}.bind(this)),o}return e&&i.compile(),r?void r(null,i):i},express:function(t){function n(t,n){if(this.name=t,this.path=t,this.defaultEngine=n.defaultEngine,this.ext=e.extname(t),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}var r=this;n.prototype.render=function(t,e){r.render(this.name,t,e)},t.set("view",n)},render:function(t,e,r){n.isFunction(e)&&(r=e,e=null);var i=null;return this.getTemplate(t,function(t,n){if(t&&r)r(t);else{if(t)throw t;n.render(e,r||function(t,e){if(t)throw t;i=e})}}),i},renderString:function(t,e,n){var r=new p(t,this);return r.render(e,n)}}),h=r.extend({init:function(t,e){this.ctx=t,this.blocks={},this.exported=[];for(var n in e)this.addBlock(n,e[n])},lookup:function(t){return t in u&&!(t in this.ctx)?u[t]:this.ctx[t]},setVariable:function(t,e){this.ctx[t]=e},getVariables:function(){return this.ctx},addBlock:function(t,e){this.blocks[t]=this.blocks[t]||[],this.blocks[t].push(e)},getBlock:function(t){if(!this.blocks[t])throw new Error('unknown block "'+t+'"');return this.blocks[t][0]},getSuper:function(t,e,r,i,o,s){var a=n.indexOf(this.blocks[e]||[],r),u=this.blocks[e][a+1],l=this;if(-1==a||!u)throw new Error('no super block available for "'+e+'"');u(t,l,i,o,s)},addExport:function(t){this.exported.push(t)},getExported:function(){for(var t={},e=0;e<this.exported.length;e++){var n=this.exported[e];t[n]=this.ctx[n]}return t}}),p=r.extend({init:function(t,e,r,i){if(this.env=e||new c,n.isObject(t))switch(t.type){case"code":this.tmplProps=t.obj;break;case"string":this.tmplStr=t.obj}else{if(!n.isString(t))throw new Error("src must be a string or an object describing the source");this.tmplStr=t}this.path=r,i?n.withPrettyErrors(this.path,this.env.dev,this._compile.bind(this)):this.compiled=!1},render:function(t,e,r){return"function"===typeof t?(r=t,t={}):"function"===typeof e&&(r=e,e=null),n.withPrettyErrors(this.path,this.env.dev,function(){try{this.compile()}catch(n){if(r)return r(n);throw n}var i=new h(t||{},this.blocks),o=null;return this.rootRenderFunc(this.env,i,e||new l,a,r||function(t,e){if(t)throw t;o=e}),o}.bind(this))},getExported:function(t,e,n){"function"===typeof t&&(n=t,t={}),"function"===typeof e&&(n=e,e=null);try{this.compile()}catch(r){if(n)return n(r);throw r}var i=new h(t||{},this.blocks);this.rootRenderFunc(this.env,i,e||new l,a,function(){n(null,i.getExported())})},compile:function(){this.compiled||this._compile()},_compile:function(){var t;if(this.tmplProps)t=this.tmplProps;else{var e=i.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.lexerTags),n=new Function(e);t=n()}this.blocks=this._getBlocks(t),this.rootRenderFunc=t.root,this.compiled=!0},_getBlocks:function(t){var e={};for(var n in t)"b_"==n.slice(0,2)&&(e[n.slice(2)]=t[n]);return e}});t.environment={Environment:c,Template:p}}();var e,n=t.lib,r=t.environment,i=t.compiler,o=t.parser,s=t.lexer,a=t.runtime,u=t.loader,l=t.loaders,c=t.precompile;e={},e.Environment=r.Environment,e.Template=r.Template,e.Loader=u,e.FileSystemLoader=l.FileSystemLoader,e.WebLoader=l.WebLoader,e.compiler=i,e.parser=o,e.lexer=s,e.runtime=a;var h;e.configure=function(t,e){e=e||{},n.isObject(t)&&(e=t,t=null);var i="watch"in e?!e.watch:!1,o=l.FileSystemLoader||l.WebLoader;return h=new r.Environment(new o(t,i),e),e&&e.express&&h.express(e.express),h},e.compile=function(t,n,r,i){return h||e.configure(),new e.Template(t,n,r,i)},e.render=function(t,n,r){return h||e.configure(),h.render(t,n,r)},e.renderString=function(t,n,r){return h||e.configure(),h.renderString(t,n,r)},c&&(e.precompile=c.precompile,e.precompileString=c.precompileString),e.require=function(e){return t[e]},"function"===typeof define&&define.amd?define(function(){return e}):(window.nunjucks=e,"undefined"!==typeof module&&(module.exports=e))}(),function(){var t=window.nunjucks,e=t.require("runtime"),n=t.require("lib"),r=e.contextOrFrameLookup;e.contextOrFrameLookup=function(t,e,n){var i=r.apply(this,arguments);if(void 0===i)switch(n){case"True":return!0;case"False":return!1;case"None":return null;case"none":return null}return i};var i=e.memberLookup,o={pop:function(t){if(void 0===t)return this.pop();if(t>=this.length||t<0)throw new Error("KeyError");return this.splice(t,1)},remove:function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return this.splice(e,1);throw new Error("ValueError")},count:function(t){for(var e=0,n=0;n<this.length;n++)this[n]==t&&e++;return e},index:function(t){var e;if(-1==(e=this.indexOf(t)))throw new Error("ValueError");return e},find:function(t){return this.indexOf(t)},insert:function(t,e){return this.splice(t,0,e)},append:function(t){this.push(t)},extend:function(t){for(var e=0;e<t.length;e++)this.push(t[e])}},s={iteritems:function(){var t=[];for(var e in this)t.push([e,this[e]]);return t},values:function(){var t=[];for(var e in this)t.push(this[e]);return t},keys:function(){var t=[];for(var e in this)t.push(e);return t},get:function(t,e){var n=this[t];return void 0===n&&(n=e),n},has_key:function(t){return this.hasOwnProperty(t)},copy:function(){var t=_.extend({},this);return t},pop:function(t,e){var n=this[t];if(void 0===n&&void 0!==e)n=e;else{if(void 0===n)throw new Error("KeyError");delete this[t]}return n},popitem:function(){for(var t in this){var e=this[t];return delete this[t],[t,e]}throw new Error("KeyError")},setdefault:function(t,e){return t in this?this[t]:(void 0===e&&(e=null),this[t]=e)},update:function(t){for(var e in t)this[e]=t[e];return null}};s.itervalues=s.values,s.iterkeys=s.keys,e.memberLookup=function(t,e,r){return t=t||{},n.isArray(t)&&o.hasOwnProperty(e)?function(){return o[e].apply(t,arguments)}:n.isObject(t)&&s.hasOwnProperty(e)?function(){return s[e].apply(t,arguments)}:i.apply(this,arguments)}}();var qq=qq||{},qq=function(t){"use strict";return{hide:function(){return t.style.display="none",this},attach:function(e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n),function(){qq(t).detach(e,n)}},detach:function(e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&t.detachEvent("on"+e,n),this},contains:function(e){return t==e?!0:t.contains?t.contains(e):!!(8&e.compareDocumentPosition(t))},insertBefore:function(e){return e.parentNode.insertBefore(t,e),this},remove:function(){return t.parentNode.removeChild(t),this},css:function(e){return null!=e.opacity&&"string"!=typeof t.style.opacity&&"undefined"!=typeof t.filters&&(e.filter="alpha(opacity="+Math.round(100*e.opacity)+")"),qq.extend(t.style,e),this},hasClass:function(e){var n=new RegExp("(^| )"+e+"( |$)");return n.test(t.className)},addClass:function(e){return qq(t).hasClass(e)||(t.className+=" "+e),this},removeClass:function(e){var n=new RegExp("(^| )"+e+"( |$)");return t.className=t.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(e){if(t.querySelectorAll)return t.querySelectorAll("."+e);for(var n=[],r=t.getElementsByTagName("*"),i=r.length,o=0;o<i;o++)qq(r[o]).hasClass(e)&&n.push(r[o]);return n},children:function(){for(var e=[],n=t.firstChild;n;)1==n.nodeType&&e.push(n),n=n.nextSibling;return e},setText:function(e){return t.innerText=e,t.textContent=e,this},clearText:function(){return qq(t).setText("")}}};qq.log=function(t,e){window.console&&(e&&"info"!==e?window.console[e]?window.console[e](t):window.console.log("<"+e+"> "+t):window.console.log(t))},qq.isObject=function(t){"use strict";return null!==t&&t&&"object"===typeof t&&t.constructor===Object},qq.extend=function(t,e,n){"use strict";var r;for(r in e)e.hasOwnProperty(r)&&(n&&qq.isObject(e[r])?(void 0===t[r]&&(t[r]={}),qq.extend(t[r],e[r],!0)):t[r]=e[r])},qq.indexOf=function(t,e,n){if(t.indexOf)return t.indexOf(e,n);n=n||0;var r=t.length;for(n<0&&(n+=r);n<r;n++)if(n in t&&t[n]===e)return n;return-1},qq.getUniqueId=function(){var t=0;return function(){return t++}}(),qq.ie=function(){return-1!=navigator.userAgent.indexOf("MSIE")},qq.ie10=function(){return-1!=navigator.userAgent.indexOf("MSIE 10")},qq.safari=function(){return void 0!=navigator.vendor&&-1!=navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!=navigator.vendor&&-1!=navigator.vendor.indexOf("Google")},qq.firefox=function(){return-1!=navigator.userAgent.indexOf("Mozilla")&&void 0!=navigator.vendor&&""==navigator.vendor},qq.windows=function(){return"Win32"==navigator.platform},qq.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},qq.toElement=function(){var t=document.createElement("div");return function(e){t.innerHTML=e;var n=t.firstChild;return t.removeChild(n),n}}(),qq.obj2url=function(t,e,n){var r=[],i="&",o=function(t,n){var i=e?/\[\]$/.test(e)?e:e+"["+n+"]":n;"undefined"!=i&&"undefined"!=n&&r.push("object"===typeof t?qq.obj2url(t,i,!0):"[object Function]"===Object.prototype.toString.call(t)?encodeURIComponent(i)+"="+encodeURIComponent(t()):encodeURIComponent(i)+"="+encodeURIComponent(t));

};if(!n&&e)i=/\?/.test(e)?/\?$/.test(e)?"":"&":"?",r.push(e),r.push(qq.obj2url(t));else if("[object Array]"===Object.prototype.toString.call(t)&&"undefined"!=typeof t)for(var s=0,a=t.length;s<a;++s)o(t[s],s);else if("undefined"!=typeof t&&null!==t&&"object"===typeof t)for(var s in t)o(t[s],s);else r.push(encodeURIComponent(e)+"="+encodeURIComponent(t));return e?r.join(i):r.join(i).replace(/^&/,"").replace(/%20/g,"+")},qq.DisposeSupport={_disposers:[],dispose:function(){for(var t;t=this._disposers.shift();)t()},addDisposer:function(t){this._disposers.push(t)},_attach:function(){this.addDisposer(qq(arguments[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))}},qq.UploadButton=function(t){this._options={element:null,multiple:!1,acceptFiles:null,name:"file",onChange:function(t){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"},qq.extend(this._options,t),qq.extend(this,qq.DisposeSupport),this._element=this._options.element,qq(this._element).css({position:"relative",overflow:"hidden",direction:"ltr"}),this._input=this._createInput()},qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq(this._input).remove(),qq(this._element).removeClass(this._options.focusClass),this._input=this._createInput()},_createInput:function(){var t=document.createElement("input");this._options.multiple&&t.setAttribute("multiple","multiple"),this._options.acceptFiles&&t.setAttribute("accept",this._options.acceptFiles),t.setAttribute("type","file"),t.setAttribute("name",this._options.name),qq(t).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),this._element.appendChild(t);var e=this;return this._attach(t,"change",function(){e._options.onChange(t)}),this._attach(t,"mouseover",function(){qq(e._element).addClass(e._options.hoverClass)}),this._attach(t,"mouseout",function(){qq(e._element).removeClass(e._options.hoverClass)}),this._attach(t,"focus",function(){qq(e._element).addClass(e._options.focusClass)}),this._attach(t,"blur",function(){qq(e._element).removeClass(e._options.focusClass)}),window.attachEvent&&t.setAttribute("tabIndex","-1"),t}},qq.FineUploaderBasic=function(t){this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{endpoint:"/server/upload",params:{},customHeaders:{},forceMultipart:!1,inputName:"qqfile"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,stopOnFirstInvalidFile:!0},callbacks:{onSubmit:function(t,e){},onComplete:function(t,e,n){},onCancel:function(t,e){},onUpload:function(t,e,n){},onProgress:function(t,e,n,r){},onError:function(t,e,n){},onAutoRetry:function(t,e,n){},onManualRetry:function(t,e){},onValidate:function(t){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"}},qq.extend(this._options,t,!0),this._wrapCallbacks(),qq.extend(this,qq.DisposeSupport),this._filesInProgress=0,this._storedFileIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._handler=this._createUploadHandler(),this._options.button&&(this._button=this._createUploadButton(this._options.button)),this._preventLeaveInProgress()},qq.FineUploaderBasic.prototype={log:function(t,e){!this._options.debug||e&&"info"!==e?e&&"info"!==e&&qq.log("[FineUploader] "+t,e):qq.log("[FineUploader] "+t)},setParams:function(t){this._options.request.params=t},getInProgress:function(){return this._filesInProgress},uploadStoredFiles:function(){"use strict";for(;this._storedFileIds.length;)this._filesInProgress++,this._handler.upload(this._storedFileIds.shift(),this._options.request.params)},clearStoredFiles:function(){this._storedFileIds=[]},retry:function(t){return this._onBeforeManualRetry(t)?(this._handler.retry(t),!0):!1},cancel:function(t){this._handler.cancel(t)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._filesInProgress=0,this._storedFileIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._button.reset()},_createUploadButton:function(t){var e=this,n=new qq.UploadButton({element:t,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),acceptFiles:this._options.validation.acceptFiles,onChange:function(t){e._onInputChange(t)}});return this.addDisposer(function(){n.dispose()}),n},_createUploadHandler:function(){var t,e=this;t=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm";var n=new qq[t]({debug:this._options.debug,endpoint:this._options.request.endpoint,forceMultipart:this._options.request.forceMultipart,maxConnections:this._options.maxConnections,customHeaders:this._options.request.customHeaders,inputName:this._options.request.inputName,demoMode:this._options.demoMode,log:this.log,onProgress:function(t,n,r,i){e._onProgress(t,n,r,i),e._options.callbacks.onProgress(t,n,r,i)},onComplete:function(t,n,r,i){e._onComplete(t,n,r,i),e._options.callbacks.onComplete(t,n,r)},onCancel:function(t,n){e._onCancel(t,n),e._options.callbacks.onCancel(t,n)},onUpload:function(t,n,r){e._onUpload(t,n,r),e._options.callbacks.onUpload(t,n,r)},onAutoRetry:function(t,n,r,i){return e._preventRetries[t]=r[e._options.retry.preventRetryResponseProperty],e._shouldAutoRetry(t,n,r)?(e._maybeParseAndSendUploadError(t,n,r,i),e._options.callbacks.onAutoRetry(t,n,e._autoRetries[t]+1),e._onBeforeAutoRetry(t,n),e._retryTimeouts[t]=setTimeout(function(){e._onAutoRetry(t,n,r)},1e3*e._options.retry.autoAttemptDelay),!0):!1}});return n},_preventLeaveInProgress:function(){var t=this;this._attach(window,"beforeunload",function(e){if(t._filesInProgress){var e=e||window.event;return e.returnValue=t._options.messages.onLeave,t._options.messages.onLeave}})},_onSubmit:function(t,e){this._options.autoUpload&&this._filesInProgress++},_onProgress:function(t,e,n,r){},_onComplete:function(t,e,n,r){this._filesInProgress--,this._maybeParseAndSendUploadError(t,e,n,r)},_onCancel:function(t,e){clearTimeout(this._retryTimeouts[t]);var n=qq.indexOf(this._storedFileIds,t);this._options.autoUpload||n<0?this._filesInProgress--:this._options.autoUpload||this._storedFileIds.splice(n,1)},_onUpload:function(t,e,n){},_onInputChange:function(t){this._handler instanceof qq.UploadHandlerXhr?this._uploadFileList(t.files):this._validateFile(t)&&this._uploadFile(t),this._button.reset()},_onBeforeAutoRetry:function(t,e){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+e+"...")},_onAutoRetry:function(t,e,n){this.log("Retrying "+e+"..."),this._autoRetries[t]++,this._handler.retry(t)},_shouldAutoRetry:function(t,e,n){return!this._preventRetries[t]&&this._options.retry.enableAuto?(void 0===this._autoRetries[t]&&(this._autoRetries[t]=0),this._autoRetries[t]<this._options.retry.maxAutoAttempts):!1},_onBeforeManualRetry:function(t){if(this._preventRetries[t])return this.log("Retries are forbidden for id "+t,"warn"),!1;if(this._handler.isValid(t)){var e=this._handler.getName(t);return this._options.callbacks.onManualRetry(t,e)===!1?!1:(this.log("Retrying upload for '"+e+"' (id: "+t+")..."),this._filesInProgress++,!0)}return this.log("'"+t+"' is not a valid file ID","error"),!1},_maybeParseAndSendUploadError:function(t,e,n,r){},_uploadFileList:function(t){var e,n,r;if(e=this._getValidationDescriptors(t),e.length>1&&(r=this._options.callbacks.onValidate(e)===!1),!r)if(t.length>0){for(n=0;n<t.length;n++)if(this._validateFile(t[n]))this._uploadFile(t[n]);else if(this._options.validation.stopOnFirstInvalidFile)return}else this._error("noFilesError","")},_uploadFile:function(t){var e=this._handler.add(t),n=this._handler.getName(e);this._options.callbacks.onSubmit(e,n)!==!1&&(this._onSubmit(e,n),this._options.autoUpload?this._handler.upload(e,this._options.request.params):this._storeFileForLater(e))},_storeFileForLater:function(t){this._storedFileIds.push(t)},_validateFile:function(t){var e,n,r;return e=this._getValidationDescriptor(t),n=e.name,r=e.size,this._options.callbacks.onValidate([e])===!1?!1:this._isAllowedExtension(n)?0===r?(this._error("emptyError",n),!1):r&&this._options.validation.sizeLimit&&r>this._options.validation.sizeLimit?(this._error("sizeError",n),!1):r&&r<this._options.validation.minSizeLimit?(this._error("minSizeError",n),!1):!0:(this._error("typeError",n),!1)},_error:function(t,e){function n(t,e){r=r.replace(t,e)}var r=this._options.messages[t],i=this._options.validation.allowedExtensions.join(", ");return n("{file}",this._formatFileName(e)),n("{extensions}",i),n("{sizeLimit}",this._formatSize(this._options.validation.sizeLimit)),n("{minSizeLimit}",this._formatSize(this._options.validation.minSizeLimit)),this._options.callbacks.onError(null,e,r),r},_formatFileName:function(t){return t.length>33&&(t=t.slice(0,19)+"..."+t.slice(-13)),t},_isAllowedExtension:function(t){var e=-1!==t.indexOf(".")?t.replace(/.*[.]/,"").toLowerCase():"",n=this._options.validation.allowedExtensions;if(!n.length)return!0;for(var r=0;r<n.length;r++)if(n[r].toLowerCase()==e)return!0;return!1},_formatSize:function(t){var e=-1;do t/=1024,e++;while(t>99);return Math.max(t,.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][e]},_wrapCallbacks:function(){var t,e;t=this,e=function(e,n,r){try{return n.apply(t,r)}catch(i){t.log("Caught exception in '"+e+"' callback - "+i,"error")}};for(var n in this._options.callbacks)!function(){var r=t._options.callbacks[n];t._options.callbacks[n]=function(){return e(n,r,arguments)}}()},_parseFileName:function(t){var e;return e=t.value?t.value.replace(/.*(\/|\\)/,""):null!==t.fileName&&void 0!==t.fileName?t.fileName:t.name},_parseFileSize:function(t){var e;return t.value||(e=null!==t.fileSize&&void 0!==t.fileSize?t.fileSize:t.size),e},_getValidationDescriptor:function(t){var e,n,r;return r={},e=this._parseFileName(t),n=this._parseFileSize(t),r.name=e,n&&(r.size=n),r},_getValidationDescriptors:function(t){var e,n;for(n=[],e=0;e<t.length;e++)n.push(t[e]);return n}},qq.FineUploader=function(t){qq.FineUploaderBasic.apply(this,arguments),qq.extend(this._options,{element:null,listElement:null,dragAndDrop:{extraDropzones:[],hideDropzones:!0,disableDefaultDropzone:!1},text:{uploadButton:"Upload a file",cancelButton:"Cancel",retryButton:"Retry",failUpload:"Upload failed",dragZone:"Drop files here to upload",formatProgress:"{percent}% of {total_size}",waitingForResponse:"Processing..."},template:'<div class="qq-uploader">'+(this._options.dragAndDrop&&this._options.dragAndDrop.disableDefaultDropzone?"":'<div class="qq-upload-drop-area"><span>{dragZoneText}</span></div>')+(this._options.button?"":'<div class="qq-upload-button"><div>{uploadButtonText}</div></div>')+(this._options.listElement?"":'<ul class="qq-upload-list"></ul>')+"</div>",fileTemplate:'<li><div class="qq-progress-bar"></div><span class="qq-upload-spinner"></span><span class="qq-upload-finished"></span><span class="qq-upload-file"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">{cancelButtonText}</a><a class="qq-upload-retry" href="#">{retryButtonText}</a><span class="qq-upload-status-text">{statusText}</span></li>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",dropDisabled:"qq-upload-drop-area-disabled",list:"qq-upload-list",progressBar:"qq-progress-bar",file:"qq-upload-file",spinner:"qq-upload-spinner",finished:"qq-upload-finished",retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",size:"qq-upload-size",cancel:"qq-upload-cancel",retry:"qq-upload-retry",statusText:"qq-upload-status-text",success:"qq-upload-success",fail:"qq-upload-fail",successIcon:null,failIcon:null},failedUploadTextDisplay:{mode:"default",maxChars:50,responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file"},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}...",showButton:!1},showMessage:function(t){alert(t)}},!0),qq.extend(this._options,t,!0),this._wrapCallbacks(),this._options.template=this._options.template.replace(/\{dragZoneText\}/g,this._options.text.dragZone),this._options.template=this._options.template.replace(/\{uploadButtonText\}/g,this._options.text.uploadButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{cancelButtonText\}/g,this._options.text.cancelButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{retryButtonText\}/g,this._options.text.retryButton),this._options.fileTemplate=this._options.fileTemplate.replace(/\{statusText\}/g,""),this._element=this._options.element,this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._classes=this._options.classes,this._button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._setupDragDrop()},qq.extend(qq.FineUploader.prototype,qq.FineUploaderBasic.prototype),qq.extend(qq.FineUploader.prototype,{clearStoredFiles:function(){qq.FineUploaderBasic.prototype.clearStoredFiles.apply(this,arguments),this._listElement.innerHTML=""},addExtraDropzone:function(t){this._setupExtraDropzone(t)},removeExtraDropzone:function(t){var e=this._options.dragAndDrop.extraDropzones;for(var n in e)if(e[n]===t)return this._options.dragAndDrop.extraDropzones.splice(n,1)},getItemByFileId:function(t){for(var e=this._listElement.firstChild;e;){if(e.qqFileId==t)return e;e=e.nextSibling}},reset:function(){qq.FineUploaderBasic.prototype.reset.apply(this,arguments),this._element.innerHTML=this._options.template,this._listElement=this._options.listElement||this._find(this._element,"list"),this._options.button||(this._button=this._createUploadButton(this._find(this._element,"button"))),this._bindCancelAndRetryEvents(),this._setupDragDrop()},_leaving_document_out:function(t){return(qq.chrome()||qq.safari()&&qq.windows())&&0==t.clientX&&0==t.clientY||qq.firefox()&&!t.relatedTarget},_storeFileForLater:function(t){qq.FineUploaderBasic.prototype._storeFileForLater.apply(this,arguments);var e=this.getItemByFileId(t);qq(this._find(e,"spinner")).hide()},_find:function(t,e){var n=qq(t).getByClass(this._options.classes[e])[0];if(!n)throw new Error("element not found "+e);return n},_setupExtraDropzone:function(t){this._options.dragAndDrop.extraDropzones.push(t),this._setupDropzone(t)},_setupDropzone:function(t){var e=this,n=new qq.UploadDropZone({element:t,onEnter:function(n){qq(t).addClass(e._classes.dropActive),n.stopPropagation()},onLeave:function(t){},onLeaveNotDescendants:function(n){qq(t).removeClass(e._classes.dropActive)},onDrop:function(n){e._options.dragAndDrop.hideDropzones&&qq(t).hide(),qq(t).removeClass(e._classes.dropActive),n.dataTransfer.files.length>1&&!e._options.multiple?e._error("tooManyFilesError",""):e._uploadFileList(n.dataTransfer.files)}});this.addDisposer(function(){n.dispose()}),this._options.dragAndDrop.hideDropzones&&qq(t).hide()},_setupDragDrop:function(){var t,e;t=this,this._options.dragAndDrop.disableDefaultDropzone||(e=this._find(this._element,"drop"),this._options.dragAndDrop.extraDropzones.push(e));var n,r=this._options.dragAndDrop.extraDropzones;for(n=0;n<r.length;n++)this._setupDropzone(r[n]);this._options.dragAndDrop.disableDefaultDropzone||qq.ie()&&!qq.ie10()||this._attach(document,"dragenter",function(i){if(!qq(e).hasClass(t._classes.dropDisabled))for(e.style.display="block",n=0;n<r.length;n++)r[n].style.display="block"}),this._attach(document,"dragleave",function(e){if(t._options.dragAndDrop.hideDropzones&&qq.FineUploader.prototype._leaving_document_out(e))for(n=0;n<r.length;n++)qq(r[n]).hide()}),qq(document).attach("drop",function(e){if(t._options.dragAndDrop.hideDropzones)for(n=0;n<r.length;n++)qq(r[n]).hide();e.preventDefault()})},_onSubmit:function(t,e){qq.FineUploaderBasic.prototype._onSubmit.apply(this,arguments),this._addToList(t,e)},_onProgress:function(t,e,n,r){qq.FineUploaderBasic.prototype._onProgress.apply(this,arguments);var i,o,s,a,u,l;i=this.getItemByFileId(t),o=this._find(i,"progressBar"),a=Math.round(n/r*100),n===r?(u=this._find(i,"cancel"),qq(u).hide(),qq(o).hide(),qq(this._find(i,"statusText")).setText(this._options.text.waitingForResponse),s=this._formatSize(r)):(s=this._formatProgress(n,r),qq(o).css({display:"block"})),qq(o).css({width:a+"%"}),l=this._find(i,"size"),qq(l).css({display:"inline"}),qq(l).setText(s)},_onComplete:function(t,e,n,r){qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments);var i=this.getItemByFileId(t);qq(this._find(i,"statusText")).clearText(),qq(i).removeClass(this._classes.retrying),qq(this._find(i,"progressBar")).hide(),(!this._options.disableCancelForFormUploads||qq.UploadHandlerXhr.isSupported())&&qq(this._find(i,"cancel")).hide(),qq(this._find(i,"spinner")).hide(),n.success?(qq(i).addClass(this._classes.success),this._classes.successIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.successIcon))):(qq(i).addClass(this._classes.fail),this._classes.failIcon&&(this._find(i,"finished").style.display="inline-block",qq(i).addClass(this._classes.failIcon)),this._options.retry.showButton&&!this._preventRetries[t]&&qq(i).addClass(this._classes.retryable),this._controlFailureTextDisplay(i,n))},_onUpload:function(t,e,n){qq.FineUploaderBasic.prototype._onUpload.apply(this,arguments);var r=this.getItemByFileId(t);this._showSpinner(r)},_onBeforeAutoRetry:function(t){var e,n,r,i,o,s;qq.FineUploaderBasic.prototype._onBeforeAutoRetry.apply(this,arguments),e=this.getItemByFileId(t),n=this._find(e,"progressBar"),this._showCancelLink(e),n.style.width=0,qq(n).hide(),this._options.retry.showAutoRetryNote&&(r=this._find(e,"statusText"),i=this._autoRetries[t]+1,o=this._options.retry.maxAutoAttempts,s=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,i),s=s.replace(/\{maxAuto\}/g,o),qq(r).setText(s),1===i&&qq(e).addClass(this._classes.retrying))},_onBeforeManualRetry:function(t){if(qq.FineUploaderBasic.prototype._onBeforeManualRetry.apply(this,arguments)){var e=this.getItemByFileId(t);return this._find(e,"progressBar").style.width=0,qq(e).removeClass(this._classes.fail),this._showSpinner(e),this._showCancelLink(e),!0}return!1},_addToList:function(t,e){var n=qq.toElement(this._options.fileTemplate);if(this._options.disableCancelForFormUploads&&!qq.UploadHandlerXhr.isSupported()){var r=this._find(n,"cancel");qq(r).remove()}n.qqFileId=t;var i=this._find(n,"file");qq(i).setText(this._formatFileName(e)),qq(this._find(n,"size")).hide(),this._options.multiple||this._clearList(),this._listElement.appendChild(n)},_clearList:function(){this._listElement.innerHTML="",this.clearStoredFiles()},_bindCancelAndRetryEvents:function(){var t=this,e=this._listElement;this._attach(e,"click",function(e){e=e||window.event;var n=e.target||e.srcElement;if(qq(n).hasClass(t._classes.cancel)||qq(n).hasClass(t._classes.retry)){qq.preventDefault(e);for(var r=n.parentNode;void 0==r.qqFileId;)r=n=n.parentNode;qq(n).hasClass(t._classes.cancel)?(t.cancel(r.qqFileId),qq(r).remove()):(qq(r).removeClass(t._classes.retryable),t.retry(r.qqFileId))}})},_formatProgress:function(t,e){function n(t,e){r=r.replace(t,e)}var r=this._options.text.formatProgress;return n("{percent}",Math.round(t/e*100)),n("{total_size}",this._formatSize(e)),r},_controlFailureTextDisplay:function(t,e){var n,r,i,o,s;n=this._options.failedUploadTextDisplay.mode,r=this._options.failedUploadTextDisplay.maxChars,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?(o=e[i],o?o.length>r&&(s=o.substring(0,r)+"..."):(o=this._options.text.failUpload,this.log("'"+i+"' is not a valid property on the server response.","warn")),qq(this._find(t,"statusText")).setText(s||o),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(t,o)):"default"===n?qq(this._find(t,"statusText")).setText(this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(t,e){t.title=e},_showSpinner:function(t){var e=this._find(t,"spinner");e.style.display="inline-block"},_showCancelLink:function(t){if(!this._options.disableCancelForFormUploads||qq.UploadHandlerXhr.isSupported()){var e=this._find(t,"cancel");e.style.display="inline"}},_error:function(t,e){var n=qq.FineUploaderBasic.prototype._error.apply(this,arguments);this._options.showMessage(n)}}),qq.UploadDropZone=function(t){this._options={element:null,onEnter:function(t){},onLeave:function(t){},onLeaveNotDescendants:function(t){},onDrop:function(t){}},qq.extend(this._options,t),qq.extend(this,qq.DisposeSupport),this._element=this._options.element,this._disableDropOutside(),this._attachEvents()},qq.UploadDropZone.prototype={_dragover_should_be_canceled:function(){return qq.safari()||qq.firefox()&&qq.windows()},_disableDropOutside:function(t){qq.UploadDropZone.dropOutsideDisabled||(this._dragover_should_be_canceled?qq(document).attach("dragover",function(t){t.preventDefault()}):qq(document).attach("dragover",function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none",t.preventDefault())}),qq.UploadDropZone.dropOutsideDisabled=!0)},_attachEvents:function(){var t=this;t._attach(t._element,"dragover",function(e){if(t._isValidFileDrag(e)){var n=qq.ie()?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"==n||"linkMove"==n?"move":"copy",e.stopPropagation(),e.preventDefault()}}),t._attach(t._element,"dragenter",function(e){t._isValidFileDrag(e)&&t._options.onEnter(e)}),t._attach(t._element,"dragleave",function(e){if(t._isValidFileDrag(e)){t._options.onLeave(e);var n=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(n)||t._options.onLeaveNotDescendants(e)}}),t._attach(t._element,"drop",function(e){t._isValidFileDrag(e)&&(e.preventDefault(),t._options.onDrop(e))})},_isValidFileDrag:function(t){if(qq.ie()&&!qq.ie10())return!1;var e=t.dataTransfer,n=qq.safari(),r=qq.ie10()?!0:"none"!=e.effectAllowed;return e&&r&&(e.files||!n&&e.types.contains&&e.types.contains("Files"))}},qq.UploadHandlerAbstract=function(t){this._options={debug:!1,endpoint:"/upload.php",maxConnections:999,log:function(t,e){},onProgress:function(t,e,n,r){},onComplete:function(t,e,n,r){},onCancel:function(t,e){},onUpload:function(t,e,n){},onAutoRetry:function(t,e,n,r){}},qq.extend(this._options,t),this._queue=[],this._params=[],this.log=this._options.log},qq.UploadHandlerAbstract.prototype={add:function(t){},upload:function(t,e){var n=this._queue.push(t),r={};qq.extend(r,e),this._params[t]=r,n<=this._options.maxConnections&&this._upload(t,this._params[t])},retry:function(t){var e=qq.indexOf(this._queue,t);e>=0?this._upload(t,this._params[t]):this.upload(t,this._params[t])},cancel:function(t){this.log("Cancelling "+t),this._cancel(t),this._dequeue(t)},cancelAll:function(){for(var t=0;t<this._queue.length;t++)this._cancel(this._queue[t]);this._queue=[]},getName:function(t){},getSize:function(t){},getQueue:function(){return this._queue},reset:function(){this.log("Resetting upload handler"),this._queue=[],this._params=[]},_upload:function(t){},_cancel:function(t){},_dequeue:function(t){var e=qq.indexOf(this._queue,t);this._queue.splice(e,1);var n=this._options.maxConnections;if(this._queue.length>=n&&e<n){var r=this._queue[n-1];this._upload(r,this._params[r])}},isValid:function(t){}},qq.UploadHandlerForm=function(t){qq.UploadHandlerAbstract.apply(this,arguments),this._inputs={},this._detach_load_events={}},qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerForm.prototype,{add:function(t){t.setAttribute("name",this._options.inputName);var e="qq-upload-handler-iframe"+qq.getUniqueId();return this._inputs[e]=t,t.parentNode&&qq(t).remove(),e},getName:function(t){return this._inputs[t].value.replace(/.*(\/|\\)/,"")},isValid:function(t){return void 0!==this._inputs[t]},reset:function(){qq.UploadHandlerAbstract.prototype.reset.apply(this,arguments),this._inputs={},this._detach_load_events={}},_cancel:function(t){this._options.onCancel(t,this.getName(t)),delete this._inputs[t],delete this._detach_load_events[t];var e=document.getElementById(t);e&&(e.setAttribute("src","javascript:false;"),qq(e).remove())},_upload:function(t,e){this._options.onUpload(t,this.getName(t),!1);var n=this._inputs[t];if(!n)throw new Error("file with passed id was not added, or already uploaded or cancelled");var r=this.getName(t);e[this._options.inputName]=r;var i=this._createIframe(t),o=this._createForm(i,e);o.appendChild(n);var s=this;return this._attachLoadEvent(i,function(){s.log("iframe loaded");var e=s._getIframeContentJSON(i);setTimeout(function(){s._detach_load_events[t](),delete s._detach_load_events[t],qq(i).remove()},1),(e.success||!s._options.onAutoRetry(t,r,e))&&(s._options.onComplete(t,r,e),s._dequeue(t))}),this.log("Sending upload request for "+t),o.submit(),qq(o).remove(),t},_attachLoadEvent:function(t,e){var n=this;this._detach_load_events[t.id]=qq(t).attach("load",function(){if(n.log("Received response for "+t.id),t.parentNode){try{if(t.contentDocument&&t.contentDocument.body&&"false"==t.contentDocument.body.innerHTML)return}catch(r){n.log("Error when attempting to access iframe during handling of upload response ("+r+")","error")}e()}})},_getIframeContentJSON:function(iframe){try{var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response,innerHTML=doc.body.innerHTML;this.log("converting iframe's innerHTML to JSON"),this.log("innerHTML = "+innerHTML),innerHTML&&innerHTML.match(/^<pre/i)&&(innerHTML=doc.body.firstChild.firstChild.nodeValue),response=eval("("+innerHTML+")")}catch(error){this.log("Error when attempting to parse form upload response ("+error+")","error"),response={success:!1}}return response},_createIframe:function(t){var e=qq.toElement('<iframe src="javascript:false;" name="'+t+'" />');return e.setAttribute("id",t),e.style.display="none",document.body.appendChild(e),e},_createForm:function(t,e){var n=this._options.demoMode?"GET":"POST",r=qq.toElement('<form method="'+n+'" enctype="multipart/form-data"></form>'),i=qq.obj2url(e,this._options.endpoint);return r.setAttribute("action",i),r.setAttribute("target",t.name),r.style.display="none",document.body.appendChild(r),r}}),qq.UploadHandlerXhr=function(t){qq.UploadHandlerAbstract.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},qq.UploadHandlerXhr.isSupported=function(){var t=document.createElement("input");return t.type="file","multiple"in t&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof(new XMLHttpRequest).upload},qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype),qq.extend(qq.UploadHandlerXhr.prototype,{add:function(t){if(!(t instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(t)-1},getName:function(t){var e=this._files[t];return null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},getSize:function(t){var e=this._files[t];return null!=e.fileSize?e.fileSize:e.size},getLoaded:function(t){return this._loaded[t]||0},isValid:function(t){return void 0!==this._files[t]},reset:function(){qq.UploadHandlerAbstract.prototype.reset.apply(this,arguments),this._files=[],this._xhrs=[],this._loaded=[]},_upload:function(t,e){this._options.onUpload(t,this.getName(t),!0);{var n=this._files[t],r=this.getName(t);this.getSize(t)}this._loaded[t]=0;var i=this._xhrs[t]=new XMLHttpRequest,o=this;i.upload.onprogress=function(e){e.lengthComputable&&(o._loaded[t]=e.loaded,o._options.onProgress(t,r,e.loaded,e.total))},i.onreadystatechange=function(){4==i.readyState&&o._onComplete(t,i)},e=e||{},e[this._options.inputName]=r;var s=qq.obj2url(e,this._options.endpoint),a=this._options.demoMode?"GET":"POST";if(i.open(a,s,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-File-Name",encodeURIComponent(r)),i.setRequestHeader("Cache-Control","no-cache"),this._options.forceMultipart){var u=new FormData;u.append(this._options.inputName,n),n=u}else i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Mime-Type",n.type);for(key in this._options.customHeaders)i.setRequestHeader(key,this._options.customHeaders[key]);this.log("Sending upload request for "+t),i.send(n)},_onComplete:function(id,xhr){"use strict";if(this._files[id]){var name=this.getName(id),size=this.getSize(id),response;this._options.onProgress(id,name,size,size),this.log("xhr - server response received for "+id),this.log("responseText = "+xhr.responseText);try{response="function"===typeof JSON.parse?JSON.parse(xhr.responseText):eval("("+xhr.responseText+")")}catch(error){this.log("Error when attempting to parse xhr response text ("+error+")","error"),response={}}(200===xhr.status&&response.success||!this._options.onAutoRetry(id,name,response,xhr))&&(this._options.onComplete(id,name,response,xhr),this._xhrs[id]=null,this._dequeue(id))}},_cancel:function(t){this._options.onCancel(t,this.getName(t)),this._files[t]=null,this._xhrs[t]&&(this._xhrs[t].abort(),this._xhrs[t]=null)}}),function(){var t=qq.UploadHandlerForm.prototype._createForm;qq.UploadHandlerForm.prototype._createForm=function(){var e=t.apply(this,arguments),n=$('<input type="hidden" name="csrfmiddlewaretoken" value="'+P.csrf.getCSRFToken()+'">');return e.appendChild(n.get(0)),e},qq.FineUploaderBasic.prototype._maybeParseAndSendUploadError=function(t,e,n,r){n.success||this._options.callbacks.onError(t,e,r.status)}}(),function(t,e){var n=e();"function"===typeof define&&define.amd&&define(n),"object"===typeof exports&&(module.exports=n),t.Intl||(t.Intl=n,n.__applyLocaleSensitivePrototypes()),t.IntlPolyfill=n}("undefined"!==typeof global?global:this,function(){"use strict";function t(t){return U.test(t)?B.test(t)?!1:H.test(t)?!1:!0:!1}function e(t){var e,n;t=t.toLowerCase(),n=t.split("-");for(var r=1,i=n.length;r<i;r++)if(2===n[r].length)n[r]=n[r].toUpperCase();else if(4===n[r].length)n[r]=n[r].charAt(0).toUpperCase()+n[r].slice(1);else if(1===n[r].length&&"x"!=n[r])break;t=et.call(n,"-"),(e=t.match($))&&e.length>1&&(e.sort(),t=t.replace(RegExp("(?:"+$.source+")+","i"),et.call(e,""))),G.call(ht.tags,t)&&(t=ht.tags[t]),n=t.split("-");for(var r=1,i=n.length;r<i;r++)G.call(ht.subtags,n[r])?n[r]=ht.subtags[n[r]]:G.call(ht.extLang,n[r])&&(n[r]=ht.extLang[n[r]][0],1===r&&ht.extLang[n[1]][1]===n[0]&&(n=K.call(n,r++),i-=1));return et.call(n,"-")}function n(){return M}function r(t){var e=String(t),n=N(e);return lt.test(n)===!1?!1:!0}function i(n){if(void 0===n)return new z;for(var r=new z,n="string"===typeof n?[n]:n,i=R(n),o=i.length,s=0;s<o;){var a=String(s),u=a in i;if(u){var l=i[a];if(null==l||"string"!==typeof l&&"object"!==typeof l)throw new TypeError("String or Object type expected");var c=String(l);if(!t(c))throw new RangeError("'"+c+"' is not a structurally valid language tag");c=e(c),-1===Y.call(r,c)&&tt.call(r,c)}s++}return r}function o(t,e){for(var n=e;;){if(Y.call(t,n)>-1)return n;var r=n.lastIndexOf("-");if(r<0)return;r>=2&&"-"==n.charAt(r-2)&&(r-=2),n=n.substring(0,r)}}function s(t,e){for(var r,i=0,s=e.length;i<s&&!r;){var a=e[i],u=String(a).replace(ct,""),r=o(t,u);i++}var l=new I;if(void 0!==r){if(l["[[locale]]"]=r,String(a)!==String(u)){var c=a.match(ct)[0],h=a.indexOf("-u-");l["[[extension]]"]=c,l["[[extensionIndex]]"]=h}}else l["[[locale]]"]=n();return l}function a(t,e){return s(t,e)}function u(t,e,n,r,i){if(0===t.length)throw new ReferenceError("No locale data has been provided for this object yet.");var o=n["[[localeMatcher]]"];if("lookup"===o)var u=s(t,e);else var u=a(t,e);var l=u["[[locale]]"];

if(G.call(u,"[[extension]]"))var c=u["[[extension]]"],h=u["[[extensionIndex]]"],p=String.prototype.split,f=p.call(c,"-"),d=f.length;var m=new I;m["[[dataLocale]]"]=l;for(var g="-u",v=0,y=r.length;v<y;){var _=r[v],b=i[l],w=b[_],q=w[0],x="",k=Y;if(void 0!==f){var E=k.call(f,_);if(-1!==E)if(E+1<d&&f[E+1].length>2){var S=f[E+1],T=k.call(w,S);if(-1!==T)var q=S,x="-"+_+"-"+q}else{var T=k(w,"true");if(-1!==T)var q="true"}}if(G.call(n,"[["+_+"]]")){var F=n["[["+_+"]]"];-1!==k.call(w,F)&&F!==q&&(q=F,x="")}m["[["+_+"]]"]=q,g+=x,v++}if(g.length>2)var C=l.substring(0,h),A=l.substring(h),l=C+g+A;return m["[[locale]]"]=l,m}function l(t,e){for(var n=e.length,r=new z,i=0;i<n;){var s=e[i],a=String(s).replace(ct,""),u=o(t,a);void 0!==u&&tt.call(r,s),i++}var l=K.call(r);return l}function c(t,e){return l(t,e)}function h(t,e,n){if(void 0!==n){var n=new I(R(n)),r=n.localeMatcher;if(void 0!==r&&(r=String(r),"lookup"!==r&&"best fit"!==r))throw new RangeError('matcher should be "lookup" or "best fit"')}if(void 0===r||"best fit"===r)var i=c(t,e);else var i=l(t,e);for(var o in i)G.call(i,o)&&W(i,o,{writable:!1,configurable:!1,value:i[o]});return W(i,"length",{writable:!1}),i}function p(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o="boolean"===n?Boolean(o):"string"===n?String(o):o,void 0!==r&&-1===Y.call(r,o))throw new RangeError("'"+o+"' is not an allowed value for `"+e+"`");return o}return i}function f(t,e,n,r,i){var o=t[e];if(void 0!==o){if(o=Number(o),isNaN(o)||o<n||o>r)throw new RangeError("Value is not a number or outside accepted range");return Math.floor(o)}return i}function d(){var t=arguments[0],e=arguments[1];return this&&this!==X?m(R(this),t,e):new X.NumberFormat(t,e)}function m(t,e,n){var o=P(t),s=L();if(o["[[initializedIntlObject]]"]===!0)throw new TypeError("`this` object has already been initialized as an Intl object");W(t,"__getInternalProperties",{value:function(){return arguments[0]===ot?o:void 0}}),o["[[initializedIntlObject]]"]=!0;var a=i(e);n=void 0===n?{}:R(n);var l=new I,c=p(n,"localeMatcher","string",new z("lookup","best fit"),"best fit");l["[[localeMatcher]]"]=c;var h=it.NumberFormat["[[localeData]]"],d=u(it.NumberFormat["[[availableLocales]]"],a,l,it.NumberFormat["[[relevantExtensionKeys]]"],h);o["[[locale]]"]=d["[[locale]]"],o["[[numberingSystem]]"]=d["[[nu]]"],o["[[dataLocale]]"]=d["[[dataLocale]]"];var m=d["[[dataLocale]]"],y=p(n,"style","string",new z("decimal","percent","currency"),"decimal");o["[[style]]"]=y;var _=p(n,"currency","string");if(void 0!==_&&!r(_))throw new RangeError("'"+_+"' is not a valid currency code");if("currency"===y&&void 0===_)throw new TypeError("Currency code is required when style is currency");if("currency"===y){_=_.toUpperCase(),o["[[currency]]"]=_;var b=g(_)}var w=p(n,"currencyDisplay","string",new z("code","symbol","name"),"symbol");"currency"===y&&(o["[[currencyDisplay]]"]=w);var q=f(n,"minimumIntegerDigits",1,21,1);o["[[minimumIntegerDigits]]"]=q;var x="currency"===y?b:0,k=f(n,"minimumFractionDigits",0,20,x);o["[[minimumFractionDigits]]"]=k;var E="currency"===y?Math.max(k,b):"percent"===y?Math.max(k,0):Math.max(k,3),S=f(n,"maximumFractionDigits",k,20,E);o["[[maximumFractionDigits]]"]=S;var T=n.minimumSignificantDigits,F=n.maximumSignificantDigits;(void 0!==T||void 0!==F)&&(T=f(n,"minimumSignificantDigits",1,21,1),F=f(n,"maximumSignificantDigits",T,21,21),o["[[minimumSignificantDigits]]"]=T,o["[[maximumSignificantDigits]]"]=F);var C=p(n,"useGrouping","boolean",void 0,!0);o["[[useGrouping]]"]=C;var A=h[m],D=A.patterns,j=D[y];return o["[[positivePattern]]"]=j.positivePattern,o["[[negativePattern]]"]=j.negativePattern,o["[[boundFormat]]"]=void 0,o["[[initializedNumberFormat]]"]=!0,Z&&(t.format=v.call(t)),s.exp.test(s.input),t}function g(t){return void 0!==pt[t]?pt[t]:2}function v(){var t=null!=this&&"object"===typeof this&&P(this);if(!t||!t["[[initializedNumberFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.NumberFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(t){return y(this,Number(t))},n=rt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function y(t,e){var n,r=L(),i=P(t),o=i["[[dataLocale]]"],s=i["[[numberingSystem]]"],a=it.NumberFormat["[[localeData]]"][o],u=a.symbols[s]||a.symbols.latn,l=!1;if(isFinite(e)===!1)isNaN(e)?n=u.nan:(n=u.infinity,e<0&&(l=!0));else{if(e<0&&(l=!0,e=-e),"percent"===i["[[style]]"]&&(e*=100),n=G.call(i,"[[minimumSignificantDigits]]")&&G.call(i,"[[maximumSignificantDigits]]")?_(e,i["[[minimumSignificantDigits]]"],i["[[maximumSignificantDigits]]"]):b(e,i["[[minimumIntegerDigits]]"],i["[[minimumFractionDigits]]"],i["[[maximumFractionDigits]]"]),ft[s]){var c=ft[i["[[numberingSystem]]"]];n=String(n).replace(/\d/g,function(t){return c[t]})}else n=String(n);if(n=n.replace(/\./g,u.decimal),i["[[useGrouping]]"]===!0){var h=n.split(u.decimal),p=h[0],f=a.patterns.primaryGroupSize||3,d=a.patterns.secondaryGroupSize||f;if(p.length>f){var m=new z,g=p.length-f,v=g%d,y=p.slice(0,v);for(y.length&&tt.call(m,y);v<g;)tt.call(m,p.slice(v,v+d)),v+=d;tt.call(m,p.slice(g)),h[0]=et.call(m,u.group)}n=et.call(h,u.decimal)}}var w=i[l===!0?"[[negativePattern]]":"[[positivePattern]]"];if(w=w.replace("{number}",n),"currency"===i["[[style]]"]){var q,x=i["[[currency]]"],k=a.currencies[x];switch(i["[[currencyDisplay]]"]){case"symbol":q=k||x;break;default:case"code":case"name":q=x}w=w.replace("{currency}",q)}return r.exp.test(r.input),w}function _(t,e,n){var r=n;if(0===t)var i=et.call(Array(r+1),"0"),o=0;else var o=D(Math.abs(t)),s=Math.round(Math.exp(Math.abs(o-r+1)*Math.LN10)),i=String(Math.round(o-r+1<0?t*s:t/s));if(o>=r)return i+et.call(Array(o-r+1+1),"0");if(o===r-1)return i;if(o>=0?i=i.slice(0,o+1)+"."+i.slice(o+1):o<0&&(i="0."+et.call(Array(-(o+1)+1),"0")+i),i.indexOf(".")>=0&&n>e){for(var a=n-e;a>0&&"0"===i.charAt(i.length-1);)i=i.slice(0,-1),a--;"."===i.charAt(i.length-1)&&(i=i.slice(0,-1))}return i}function b(t,e,n,r){var i,o=Number.prototype.toFixed.call(t,r),s=o.split(".")[0].length,a=r-n,u=(i=o.indexOf("e"))>-1?o.slice(i+1):0;for(u&&(o=o.slice(0,i).replace(".",""),o+=et.call(Array(u-(o.length-1)+1),"0")+"."+et.call(Array(r+1),"0"),s=o.length);a>0&&"0"===o.slice(-1);)o=o.slice(0,-1),a--;if("."===o.slice(-1)&&(o=o.slice(0,-1)),s<e)var l=et.call(Array(e-s+1),"0");return(l?l:"")+o}function w(){var t=arguments[0],e=arguments[1];return this&&this!==X?q(R(this),t,e):new X.DateTimeFormat(t,e)}function q(t,e,n){var r=P(t),o=L();if(r["[[initializedIntlObject]]"]===!0)throw new TypeError("`this` object has already been initialized as an Intl object");W(t,"__getInternalProperties",{value:function(){return arguments[0]===ot?r:void 0}}),r["[[initializedIntlObject]]"]=!0;var s=i(e),n=x(n,"any","date"),a=new I;b=p(n,"localeMatcher","string",new z("lookup","best fit"),"best fit"),a["[[localeMatcher]]"]=b;var l=it.DateTimeFormat,c=l["[[localeData]]"],h=u(l["[[availableLocales]]"],s,a,l["[[relevantExtensionKeys]]"],c);r["[[locale]]"]=h["[[locale]]"],r["[[calendar]]"]=h["[[ca]]"],r["[[numberingSystem]]"]=h["[[nu]]"],r["[[dataLocale]]"]=h["[[dataLocale]]"];var f=h["[[dataLocale]]"],d=n.timeZone;if(void 0!==d&&(d=N(d),"UTC"!==d))throw new RangeError("timeZone is not supported.");r["[[timeZone]]"]=d,a=new I;for(var m in dt)if(G.call(dt,m)){var g=p(n,m,"string",dt[m]);a["[["+m+"]]"]=g}var v,y=c[f],_=y.formats,b=p(n,"formatMatcher","string",new z("basic","best fit"),"best fit");v="basic"===b?k(a,_):S(a,_);for(var m in dt)if(G.call(dt,m)&&G.call(v,m)){var w=v[m];r["[["+m+"]]"]=w}var q,E=p(n,"hour12","boolean");if(r["[[hour]]"])if(E=void 0===E?y.hour12:E,r["[[hour12]]"]=E,E===!0){var F=y.hourNo0;r["[[hourNo0]]"]=F,q=v.pattern12}else q=v.pattern;else q=v.pattern;return r["[[pattern]]"]=q,r["[[boundFormat]]"]=void 0,r["[[initializedDateTimeFormat]]"]=!0,Z&&(t.format=T.call(t)),o.exp.test(o.input),t}function x(t,e,n){if(void 0===t)t=null;else{var r=R(t);t=new I;for(var i in r)t[i]=r[i]}var o=J,t=o(t),s=!0;return("date"===e||"any"===e)&&(void 0!==t.weekday||void 0!==t.year||void 0!==t.month||void 0!==t.day)&&(s=!1),("time"===e||"any"===e)&&(void 0!==t.hour||void 0!==t.minute||void 0!==t.second)&&(s=!1),!s||"date"!==n&&"all"!==n||(t.year=t.month=t.day="numeric"),!s||"time"!==n&&"all"!==n||(t.hour=t.minute=t.second="numeric"),t}function k(t,e){return E(t,e)}function E(t,e,n){for(var r,i=8,o=120,s=20,a=8,u=6,l=6,c=3,h=-(1/0),p=0,f=e.length;p<f;){var d=e[p],m=0;for(var g in dt)if(G.call(dt,g)){var v=t["[["+g+"]]"],y=G.call(d,g)?d[g]:void 0;if(void 0===v&&void 0!==y)m-=s;else if(void 0!==v&&void 0===y)m-=o;else{var _=["2-digit","numeric","narrow","short","long"],b=Y.call(_,v),w=Y.call(_,y),q=Math.max(Math.min(w-b,2),-2);!n||("numeric"!==v&&"2-digit"!==v||"numeric"===y||"2-digit"===y)&&("numeric"===v||"2-digit"===v||"2-digit"!==y&&"numeric"!==y)||(m-=i),2===q?m-=u:1===q?m-=c:-1===q?m-=l:-2===q&&(m-=a)}}m>h&&(h=m,r=d),p++}return r}function S(t,e){return E(t,e,!0)}function T(){var t=null!=this&&"object"===typeof this&&P(this);if(!t||!t["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for format() is not an initialized Intl.DateTimeFormat object.");if(void 0===t["[[boundFormat]]"]){var e=function(){var t=Number(0===arguments.length?Date.now():arguments[0]);return F(this,t)},n=rt.call(e,this);t["[[boundFormat]]"]=n}return t["[[boundFormat]]"]}function F(t,e){if(!isFinite(e))throw new RangeError("Invalid valid date passed to format");var n=t.__getInternalProperties(ot),r=L(),i=n["[[locale]]"],o=new X.NumberFormat([i],{useGrouping:!1}),s=new X.NumberFormat([i],{minimumIntegerDigits:2,useGrouping:!1}),a=C(e,n["[[calendar]]"],n["[[timeZone]]"]),u=n["[[pattern]]"],l=n["[[dataLocale]]"],c=it.DateTimeFormat["[[localeData]]"][l].calendars,h=n["[[calendar]]"];for(var p in dt)if(G.call(n,"[["+p+"]]")){var f,d,m=n["[["+p+"]]"],g=a["[["+p+"]]"];if("year"===p&&g<=0?g=1-g:"month"===p?g++:"hour"===p&&n["[[hour12]]"]===!0&&(g%=12,f=g!==a["[["+p+"]]"],0===g&&n["[[hourNo0]]"]===!0&&(g=12)),"numeric"===m)d=y(o,g);else if("2-digit"===m)d=y(s,g),d.length>2&&(d=d.slice(-2));else if(m in st)switch(p){case"month":d=O(c,h,"months",m,a["[["+p+"]]"]);break;case"weekday":try{d=O(c,h,"days",m,a["[["+p+"]]"])}catch(v){throw new Error("Could not find weekday data for locale "+i)}break;case"timeZoneName":d="";break;default:d=a["[["+p+"]]"]}u=u.replace("{"+p+"}",d)}return n["[[hour12]]"]===!0&&(d=O(c,h,"dayPeriods",f?"pm":"am"),u=u.replace("{ampm}",d)),r.exp.test(r.input),u}function C(t,e,n){var r=new Date(t),i="get"+(n||"");return new I({"[[weekday]]":r[i+"Day"](),"[[era]]":+(r[i+"FullYear"]()>=0),"[[year]]":r[i+"FullYear"](),"[[month]]":r[i+"Month"](),"[[day]]":r[i+"Date"](),"[[hour]]":r[i+"Hours"](),"[[minute]]":r[i+"Minutes"](),"[[second]]":r[i+"Seconds"](),"[[inDST]]":!1})}function A(t,e){if(!t.number)throw new Error("Object passed doesn't contain locale data for Intl.NumberFormat");var n,r=[e],i=e.split("-");for(i.length>2&&4==i[1].length&&tt.call(r,i[0]+"-"+i[2]);n=nt.call(r);)tt.call(it.NumberFormat["[[availableLocales]]"],n),it.NumberFormat["[[localeData]]"][n]=t.number,t.date&&(t.date.nu=t.number.nu,tt.call(it.DateTimeFormat["[[availableLocales]]"],n),it.DateTimeFormat["[[localeData]]"][n]=t.date);void 0===M&&(M=e),at||(m(X.NumberFormat.prototype),at=!0),t.date&&!ut&&(q(X.DateTimeFormat.prototype),ut=!0)}function D(t){if("function"===typeof Math.log10)return Math.floor(Math.log10(t));var e=Math.round(Math.log(t)*Math.LOG10E);return e-(Number("1e"+e)>t)}function j(t){if(!G.call(this,"[[availableLocales]]"))throw new TypeError("supportedLocalesOf() is not a constructor");var e=L(),n=arguments[1],r=this["[[availableLocales]]"],o=i(t);return e.exp.test(e.input),h(r,o,n)}function O(t,e,n,r,i){var o=t[e]&&t[e][n]?t[e][n]:t.gregory[n],s={narrow:["short","long"],"short":["long","narrow"],"long":["short","narrow"]},a=G.call(o,r)?o[r]:G.call(o,s[r][0])?o[s[r][0]]:o[s[r][1]];return null!=i?a[i]:a}function I(t){for(var e in t)(t instanceof I||G.call(t,e))&&W(this,e,{value:t[e],enumerable:!0,writable:!0,configurable:!0})}function z(){W(this,"length",{writable:!0,value:0}),arguments.length&&tt.apply(this,K.call(arguments))}function L(){for(var t=/[.?*+^$[\]\\(){}|-]/g,e=RegExp.lastMatch,n=RegExp.multiline?"m":"",r={input:RegExp.input},i=new z,o=!1,s={},a=1;a<=9;a++)o=(s["$"+a]=RegExp["$"+a])||o;if(e=e.replace(t,"\\$&"),o)for(var a=1;a<=9;a++){var u=s["$"+a];u?(u=u.replace(t,"\\$&"),e=e.replace(u,"("+u+")")):e="()"+e,tt.call(i,e.slice(0,e.indexOf("(")+1)),e=e.slice(e.indexOf("(")+1)}return r.exp=new RegExp(et.call(i,"")+e,n),r}function N(t){for(var e=t.length;e--;){var n=t.charAt(e);n>="a"&&n<="z"&&(t=t.slice(0,e)+n.toUpperCase()+t.slice(e+1))}return t}function R(t){if(null==t)throw new TypeError("Cannot convert null or undefined to object");return Object(t)}function P(t){return G.call(t,"__getInternalProperties")?t.__getInternalProperties(ot):J(null)}var M,U,$,B,H,X={},V=function(){try{return!!Object.defineProperty({},"a",{})}catch(t){return!1}}(),Z=!V&&!Object.prototype.__defineGetter__,G=Object.prototype.hasOwnProperty,W=V?Object.defineProperty:function(t,e,n){"get"in n&&t.__defineGetter__?t.__defineGetter__(e,n.get):(!G.call(t,e)||"value"in n)&&(t[e]=n.value)},Y=Array.prototype.indexOf||function(t){var e=this;if(!e.length)return-1;for(var n=arguments[1]||0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},J=Object.create||function(t,e){function n(){}var r;n.prototype=t,r=new n;for(var i in e)G.call(e,i)&&W(r,i,e[i]);return r},K=Array.prototype.slice,Q=Array.prototype.concat,tt=Array.prototype.push,et=Array.prototype.join,nt=Array.prototype.shift,rt=(Array.prototype.unshift,Function.prototype.bind||function(t){var e=this,n=K.call(arguments,1);return 1===e.length?function(r){return e.apply(t,Q.call(n,K.call(arguments)))}:function(){return e.apply(t,Q.call(n,K.call(arguments)))}}),it=J(null),ot=Math.random(),st=J(null,{narrow:{},"short":{},"long":{}}),at=!1,ut=!1,lt=/^[A-Z]{3}$/,ct=/-u(?:-[0-9a-z]{2,8})+/gi,ht={tags:{"art-lojban":"jbo","i-ami":"ami","i-bnn":"bnn","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","no-bok":"nb","no-nyn":"nn","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-CH-DE":"sgg","zh-guoyu":"cmn","zh-hakka":"hak","zh-min-nan":"nan","zh-xiang":"hsn","sgn-BR":"bzs","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsl","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs","zh-cmn":"cmn","zh-cmn-Hans":"cmn-Hans","zh-cmn-Hant":"cmn-Hant","zh-gan":"gan","zh-wuu":"wuu","zh-yue":"yue"},subtags:{BU:"MM",DD:"DE",FX:"FR",TP:"TL",YD:"YE",ZR:"CD",heploc:"alalc97","in":"id",iw:"he",ji:"yi",jw:"jv",mo:"ro",ayx:"nun",bjd:"drl",ccq:"rki",cjr:"mom",cka:"cmr",cmk:"xch",drh:"khk",drw:"prs",gav:"dev",hrr:"jal",ibi:"opa",kgh:"kml",lcq:"ppr",mst:"mry",myt:"mry",sca:"hle",tie:"ras",tkk:"twm",tlw:"weo",tnf:"prs",ybd:"rki",yma:"lrr"},extLang:{aao:["aao","ar"],abh:["abh","ar"],abv:["abv","ar"],acm:["acm","ar"],acq:["acq","ar"],acw:["acw","ar"],acx:["acx","ar"],acy:["acy","ar"],adf:["adf","ar"],ads:["ads","sgn"],aeb:["aeb","ar"],aec:["aec","ar"],aed:["aed","sgn"],aen:["aen","sgn"],afb:["afb","ar"],afg:["afg","sgn"],ajp:["ajp","ar"],apc:["apc","ar"],apd:["apd","ar"],arb:["arb","ar"],arq:["arq","ar"],ars:["ars","ar"],ary:["ary","ar"],arz:["arz","ar"],ase:["ase","sgn"],asf:["asf","sgn"],asp:["asp","sgn"],asq:["asq","sgn"],asw:["asw","sgn"],auz:["auz","ar"],avl:["avl","ar"],ayh:["ayh","ar"],ayl:["ayl","ar"],ayn:["ayn","ar"],ayp:["ayp","ar"],bbz:["bbz","ar"],bfi:["bfi","sgn"],bfk:["bfk","sgn"],bjn:["bjn","ms"],bog:["bog","sgn"],bqn:["bqn","sgn"],bqy:["bqy","sgn"],btj:["btj","ms"],bve:["bve","ms"],bvl:["bvl","sgn"],bvu:["bvu","ms"],bzs:["bzs","sgn"],cdo:["cdo","zh"],cds:["cds","sgn"],cjy:["cjy","zh"],cmn:["cmn","zh"],coa:["coa","ms"],cpx:["cpx","zh"],csc:["csc","sgn"],csd:["csd","sgn"],cse:["cse","sgn"],csf:["csf","sgn"],csg:["csg","sgn"],csl:["csl","sgn"],csn:["csn","sgn"],csq:["csq","sgn"],csr:["csr","sgn"],czh:["czh","zh"],czo:["czo","zh"],doq:["doq","sgn"],dse:["dse","sgn"],dsl:["dsl","sgn"],dup:["dup","ms"],ecs:["ecs","sgn"],esl:["esl","sgn"],esn:["esn","sgn"],eso:["eso","sgn"],eth:["eth","sgn"],fcs:["fcs","sgn"],fse:["fse","sgn"],fsl:["fsl","sgn"],fss:["fss","sgn"],gan:["gan","zh"],gds:["gds","sgn"],gom:["gom","kok"],gse:["gse","sgn"],gsg:["gsg","sgn"],gsm:["gsm","sgn"],gss:["gss","sgn"],gus:["gus","sgn"],hab:["hab","sgn"],haf:["haf","sgn"],hak:["hak","zh"],hds:["hds","sgn"],hji:["hji","ms"],hks:["hks","sgn"],hos:["hos","sgn"],hps:["hps","sgn"],hsh:["hsh","sgn"],hsl:["hsl","sgn"],hsn:["hsn","zh"],icl:["icl","sgn"],ils:["ils","sgn"],inl:["inl","sgn"],ins:["ins","sgn"],ise:["ise","sgn"],isg:["isg","sgn"],isr:["isr","sgn"],jak:["jak","ms"],jax:["jax","ms"],jcs:["jcs","sgn"],jhs:["jhs","sgn"],jls:["jls","sgn"],jos:["jos","sgn"],jsl:["jsl","sgn"],jus:["jus","sgn"],kgi:["kgi","sgn"],knn:["knn","kok"],kvb:["kvb","ms"],kvk:["kvk","sgn"],kvr:["kvr","ms"],kxd:["kxd","ms"],lbs:["lbs","sgn"],lce:["lce","ms"],lcf:["lcf","ms"],liw:["liw","ms"],lls:["lls","sgn"],lsg:["lsg","sgn"],lsl:["lsl","sgn"],lso:["lso","sgn"],lsp:["lsp","sgn"],lst:["lst","sgn"],lsy:["lsy","sgn"],ltg:["ltg","lv"],lvs:["lvs","lv"],lzh:["lzh","zh"],max:["max","ms"],mdl:["mdl","sgn"],meo:["meo","ms"],mfa:["mfa","ms"],mfb:["mfb","ms"],mfs:["mfs","sgn"],min:["min","ms"],mnp:["mnp","zh"],mqg:["mqg","ms"],mre:["mre","sgn"],msd:["msd","sgn"],msi:["msi","ms"],msr:["msr","sgn"],mui:["mui","ms"],mzc:["mzc","sgn"],mzg:["mzg","sgn"],mzy:["mzy","sgn"],nan:["nan","zh"],nbs:["nbs","sgn"],ncs:["ncs","sgn"],nsi:["nsi","sgn"],nsl:["nsl","sgn"],nsp:["nsp","sgn"],nsr:["nsr","sgn"],nzs:["nzs","sgn"],okl:["okl","sgn"],orn:["orn","ms"],ors:["ors","ms"],pel:["pel","ms"],pga:["pga","ar"],pks:["pks","sgn"],prl:["prl","sgn"],prz:["prz","sgn"],psc:["psc","sgn"],psd:["psd","sgn"],pse:["pse","ms"],psg:["psg","sgn"],psl:["psl","sgn"],pso:["pso","sgn"],psp:["psp","sgn"],psr:["psr","sgn"],pys:["pys","sgn"],rms:["rms","sgn"],rsi:["rsi","sgn"],rsl:["rsl","sgn"],sdl:["sdl","sgn"],sfb:["sfb","sgn"],sfs:["sfs","sgn"],sgg:["sgg","sgn"],sgx:["sgx","sgn"],shu:["shu","ar"],slf:["slf","sgn"],sls:["sls","sgn"],sqk:["sqk","sgn"],sqs:["sqs","sgn"],ssh:["ssh","ar"],ssp:["ssp","sgn"],ssr:["ssr","sgn"],svk:["svk","sgn"],swc:["swc","sw"],swh:["swh","sw"],swl:["swl","sgn"],syy:["syy","sgn"],tmw:["tmw","ms"],tse:["tse","sgn"],tsm:["tsm","sgn"],tsq:["tsq","sgn"],tss:["tss","sgn"],tsy:["tsy","sgn"],tza:["tza","sgn"],ugn:["ugn","sgn"],ugy:["ugy","sgn"],ukl:["ukl","sgn"],uks:["uks","sgn"],urk:["urk","ms"],uzn:["uzn","uz"],uzs:["uzs","uz"],vgt:["vgt","sgn"],vkk:["vkk","ms"],vkt:["vkt","ms"],vsi:["vsi","sgn"],vsl:["vsl","sgn"],vsv:["vsv","sgn"],wuu:["wuu","zh"],xki:["xki","sgn"],xml:["xml","sgn"],xmm:["xmm","ms"],xms:["xms","sgn"],yds:["yds","sgn"],ysl:["ysl","sgn"],yue:["yue","zh"],zib:["zib","sgn"],zlm:["zlm","ms"],zmi:["zmi","ms"],zsl:["zsl","sgn"],zsm:["zsm","ms"]}},pt={BHD:3,BYR:0,XOF:0,BIF:0,XAF:0,CLF:0,CLP:0,KMF:0,DJF:0,XPF:0,GNF:0,ISK:0,IQD:3,JPY:0,JOD:3,KRW:0,KWD:3,LYD:3,OMR:3,PYG:0,RWF:0,TND:3,UGX:0,UYI:0,VUV:0,VND:0};!function(){var t="[a-z]{3}(?:-[a-z]{3}){0,2}",e="(?:[a-z]{2,3}(?:-"+t+")?|[a-z]{4}|[a-z]{5,8})",n="[a-z]{4}",r="(?:[a-z]{2}|\\d{3})",i="(?:[a-z0-9]{5,8}|\\d[a-z0-9]{3})",o="[0-9a-wy-z]",s=o+"(?:-[a-z0-9]{2,8})+",a="x(?:-[a-z0-9]{1,8})+",u="(?:en-GB-oed|i-(?:ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu)|sgn-(?:BE-FR|BE-NL|CH-DE))",l="(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-(?:guoyu|hakka|min|min-nan|xiang))",c="(?:"+u+"|"+l+")",h=e+"(?:-"+n+")?(?:-"+r+")?(?:-"+i+")*(?:-"+s+")*(?:-"+a+")?";U=RegExp("^(?:"+h+"|"+a+"|"+c+")$","i"),B=RegExp("^(?!x).*?-("+i+")-(?:\\w{4,8}-(?!x-))*\\1\\b","i"),H=RegExp("^(?!x).*?-("+o+")-(?:\\w+-(?!x-))*\\1\\b","i"),$=RegExp("-"+s,"ig")}(),W(X,"NumberFormat",{configurable:!0,writable:!0,value:d}),W(X.NumberFormat,"prototype",{writable:!1}),it.NumberFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["nu"],"[[localeData]]":{}},W(X.NumberFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:rt.call(j,it.NumberFormat)}),W(X.NumberFormat.prototype,"format",{configurable:!0,get:v});var ft={arab:["","","","","","","","","",""],arabext:["","","","","","","","","",""],bali:["","","","","","","","","",""],beng:["","","","","","","","","",""],deva:["","","","","","","","","",""],fullwide:["","","","","","","","","",""],gujr:["","","","","","","","","",""],guru:["","","","","","","","","",""],hanidec:["","","","","","","","","",""],khmr:["","","","","","","","","",""],knda:["","","","","","","","","",""],laoo:["","","","","","","","","",""],latn:["0","1","2","3","4","5","6","7","8","9"],limb:["","","","","","","","","",""],mlym:["","","","","","","","","",""],mong:["","","","","","","","","",""],mymr:["","","","","","","","","",""],orya:["","","","","","","","","",""],tamldec:["","","","","","","","","",""],telu:["","","","","","","","","",""],thai:["","","","","","","","","",""],tibt:["","","","","","","","","",""]};W(X.NumberFormat.prototype,"resolvedOptions",{configurable:!0,writable:!0,value:function(){var t,e=new I,n=["locale","numberingSystem","style","currency","currencyDisplay","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","useGrouping"],r=null!=this&&"object"===typeof this&&P(this);if(!r||!r["[[initializedNumberFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.NumberFormat object.");for(var i=0,o=n.length;i<o;i++)G.call(r,t="[["+n[i]+"]]")&&(e[n[i]]={value:r[t],writable:!0,configurable:!0,enumerable:!0});return J({},e)}}),W(X,"DateTimeFormat",{configurable:!0,writable:!0,value:w}),W(w,"prototype",{writable:!1});var dt={weekday:["narrow","short","long"],era:["narrow","short","long"],year:["2-digit","numeric"],month:["2-digit","numeric","narrow","short","long"],day:["2-digit","numeric"],hour:["2-digit","numeric"],minute:["2-digit","numeric"],second:["2-digit","numeric"],timeZoneName:["short","long"]};it.DateTimeFormat={"[[availableLocales]]":[],"[[relevantExtensionKeys]]":["ca","nu"],"[[localeData]]":{}},W(X.DateTimeFormat,"supportedLocalesOf",{configurable:!0,writable:!0,value:rt.call(j,it.DateTimeFormat)}),W(X.DateTimeFormat.prototype,"format",{configurable:!0,get:T}),W(X.DateTimeFormat.prototype,"resolvedOptions",{writable:!0,configurable:!0,value:function(){var t,e=new I,n=["locale","calendar","numberingSystem","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"],r=null!=this&&"object"===typeof this&&P(this);if(!r||!r["[[initializedDateTimeFormat]]"])throw new TypeError("`this` value for resolvedOptions() is not an initialized Intl.DateTimeFormat object.");for(var i=0,o=n.length;i<o;i++)G.call(r,t="[["+n[i]+"]]")&&(e[n[i]]={value:r[t],writable:!0,configurable:!0,enumerable:!0});return J({},e)}});var mt=X.__localeSensitiveProtos={Number:{},Date:{}};return mt.Number.toLocaleString=function(){if("[object Number]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a number for Number.prototype.toLocaleString()");return y(new d(arguments[0],arguments[1]),this)},mt.Date.toLocaleString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=x(n,"any","all"),r=new w(e,n);return F(r,t)},mt.Date.toLocaleDateString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleDateString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=x(n,"date","date"),r=new w(e,n);return F(r,t)},mt.Date.toLocaleTimeString=function(){if("[object Date]"!==Object.prototype.toString.call(this))throw new TypeError("`this` value must be a Date instance for Date.prototype.toLocaleTimeString()");var t=+this;if(isNaN(t))return"Invalid Date";var e=arguments[0],n=arguments[1],n=x(n,"time","time"),r=new w(e,n);return F(r,t)},W(X,"__applyLocaleSensitivePrototypes",{writable:!0,configurable:!0,value:function(){W(Number.prototype,"toLocaleString",{writable:!0,configurable:!0,value:mt.Number.toLocaleString});for(var t in mt.Date)G.call(mt.Date,t)&&W(Date.prototype,t,{writable:!0,configurable:!0,value:mt.Date[t]})}}),W(X,"__addLocaleData",{value:function(e){if(!t(e.locale))throw new Error("Object passed doesn't identify itself with a valid language tag");A(e,e.locale)}}),I.prototype=J(null),z.prototype=J(null),X});