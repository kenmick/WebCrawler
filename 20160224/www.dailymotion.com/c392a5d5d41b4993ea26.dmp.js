webpackJsonpdmp([1],Array(41).concat([function(t,e,i){var n,r,o,s,a,u;r=i(42).compose,a=i(42).registry,n=i(42).advice,o=i(42).debug,r.mixin(a,[n.withAdvice]),o.enable(!1),i(43),u=i(44).requiresNativePlayer(),u||(i(45),i(46)),(s=i(47))()},function(t,e,i){/*! Flight v1.5.1 | (c) Twitter, Inc. | MIT License */
!function(e,i){t.exports=i()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var n,r;n=[i(1),i(2),i(3),i(4),i(5),i(6),i(7)],r=function(t,e,i,n,r,o,s){"use strict";return{advice:t,component:e,compose:i,debug:n,logger:r,registry:o,utils:s}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){"use strict";var e={around:function(t,e){return function(){var i=0,n=arguments.length,r=new Array(n+1);for(r[0]=t.bind(this);n>i;i++)r[i+1]=arguments[i];return e.apply(this,r)}},before:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){return i.apply(this,arguments),t.apply(this,arguments)}},after:function(t,e){var i="function"==typeof e?e:e.obj[e.fnName];return function(){var e=(t.unbound||t).apply(this,arguments);return i.apply(this,arguments),e}},withAdvice:function(){["before","after","around"].forEach(function(i){this[i]=function(n,r){var o=n.trim().split(" ");o.forEach(function(n){t.mutateProperty(this,n,function(){return"function"==typeof this[n]?this[n]=e[i](this[n],r):this[n]=r,this[n]})},this)}},this)}};return e}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(1),i(7),i(3),i(8),i(6),i(5),i(4)],r=function(t,e,i,n,r,o,s){"use strict";function a(){var t=r.findComponentInfo(this);t&&Object.keys(t.instances).forEach(function(e){var i=t.instances[e];i&&i.instance&&i.instance.teardown()})}function u(t){for(var i=arguments.length,n=new Array(i-1),o=1;i>o;o++)n[o-1]=arguments[o];if(!t)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var s=e.merge.apply(e,n),a=r.findComponentInfo(this);$(t).each(function(t,e){a&&a.isAttachedTo(e)||(new this).initialize(e,s)}.bind(this))}function h(){var t=this.mixedIn||this.prototype.mixedIn||[];return t.map(function(t){if(null==t.name){var e=t.toString().match(d);return e&&e[1]?e[1]:""}return c[t.name]?"":t.name}).filter(Boolean).join(", ")}function l(){for(var d=arguments.length,c=new Array(d),f=0;d>f;f++)c[f]=arguments[f];var p=function(){};return p.toString=p.prototype.toString=h,s.enabled&&(p.describe=p.prototype.describe=p.toString()),p.attachTo=u,p.mixin=function(){var t=l(),n=Object.create(p.prototype);return n.mixedIn=[].concat(p.prototype.mixedIn),n.defaults=e.merge(p.prototype.defaults),n.attrDef=p.prototype.attrDef,i.mixin(n,arguments),t.prototype=n,t.prototype.constructor=t,t},p.teardownAll=a,s.enabled&&c.unshift(o),c.unshift(n,t.withAdvice,r.withRegistration),i.mixin(p.prototype,c),p}var d=/function (.*?)\s?\(/,c={withBase:!0,withLogging:!0};return l.teardownAll=function(){r.components.slice().forEach(function(t){t.component.teardownAll()}),r.reset()},l}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){"use strict";function e(e,i){Object.keys(e).forEach(function(r){n.indexOf(r)<0&&t.propertyWritability(e,r,i)})}function i(t,i){t.mixedIn=Object.prototype.hasOwnProperty.call(t,"mixedIn")?t.mixedIn:[];for(var n=0;n<i.length;n++)-1==t.mixedIn.indexOf(i[n])&&(e(t,!1),i[n].call(t),t.mixedIn.push(i[n]));e(t,!0)}var n=["mixedIn","attrDef"];return{mixin:i}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(6)],r=function(t){"use strict";function e(t,i,n){n=n||{};var r=n.obj||window,o=n.path||(r==window?"window":""),s=Object.keys(r);s.forEach(function(n){(E[t]||t)(i,r,n)&&console.log([o,".",n].join(""),"->",["(",typeof r[n],")"].join(""),r[n]),"[object Object]"==Object.prototype.toString.call(r[n])&&r[n]!=r&&-1==o.split(".").indexOf(n)&&e(t,i,{obj:r[n],path:[o,n].join(".")})})}function i(t,i,n,r){i&&typeof n!=i?console.error([n,"must be",i].join(" ")):e(t,n,r)}function n(t,e){i("name","string",t,e)}function r(t,e){i("nameContains","string",t,e)}function o(t,e){i("type","function",t,e)}function s(t,e){i("value",null,t,e)}function a(t,e){i("valueCoerced",null,t,e)}function u(t,i){e(t,null,i)}function h(){var t=[].slice.call(arguments);_.eventNames.length||(_.eventNames=m),_.actions=t.length?t:m,f()}function l(){var t=[].slice.call(arguments);_.actions.length||(_.actions=m),_.eventNames=t.length?t:m,f()}function d(){_.actions=[],_.eventNames=[],f()}function c(){_.actions=m,_.eventNames=m,f()}function f(){try{window.localStorage&&(localStorage.setItem("logFilter_eventNames",_.eventNames),localStorage.setItem("logFilter_actions",_.actions))}catch(t){}}function p(){var t,e;try{t=window.localStorage&&localStorage.getItem("logFilter_eventNames"),e=window.localStorage&&localStorage.getItem("logFilter_actions")}catch(i){return}t&&(_.eventNames=t),e&&(_.actions=e),Object.keys(_).forEach(function(t){var e=_[t];"string"==typeof e&&e!==m&&(_[t]=e?e.split(","):[])})}var E={name:function(t,e,i){return t==i},nameContains:function(t,e,i){return i.indexOf(t)>-1},type:function(t,e,i){return e[i]instanceof t},value:function(t,e,i){return e[i]===t},valueCoerced:function(t,e,i){return e[i]==t}},m="all",_={eventNames:[],actions:[]};return{enable:function(t){this.enabled=!!t,t&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),p(),window.DEBUG=this},warn:function(){if(window.console){var t=console.warn||console.log,e=[].slice.call(arguments);e.unshift(this.toString()+":"),t.apply(console,e)}},registry:t,find:{byName:n,byNameContains:r,byType:o,byValue:s,byValueCoerced:a,custom:u},events:{logFilter:_,logByAction:h,logByName:l,logAll:c,logNone:d}}}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7)],r=function(t){"use strict";function e(t){var e=t.tagName?t.tagName.toLowerCase():t.toString(),i=t.className?"."+t.className:"",n=e+i;return t.tagName?["'","'"].join(n):n}function i(t,i,n){if(window.DEBUG&&window.DEBUG.enabled){var o,s,a,u,h,l,d,c,f,p;"function"==typeof n[n.length-1]&&(u=n.pop(),u=u.unbound||u),1==n.length?(a=i.$node[0],s=n[0]):2!=n.length||"object"!=typeof n[1]||n[1].type?(a=n[0],s=n[1],"trigger"==t&&(h=n[2])):(a=i.$node[0],s=n[0],"trigger"==t&&(h=n[1])),o="object"==typeof s?s.type:s,l=window.DEBUG.events.logFilter,c="all"==l.actions||l.actions.indexOf(t)>-1,d=function(t){return t.test?t:new RegExp("^"+t.replace(/\*/g,".*")+"$")},f="all"==l.eventNames||l.eventNames.some(function(t){return d(t).test(o)}),c&&f&&(p=[r[t],t,"["+o+"]"],h&&p.push(h),p.push(e(a)),p.push(i.constructor.describe.split(" ").slice(0,3).join(" ")),console.groupCollapsed&&"trigger"==t&&console.groupCollapsed(t,o),Function.prototype.apply.call(console.info,console,p))}}function n(){this.before("trigger",function(){i("trigger",this,t.toArray(arguments))}),console.groupCollapsed&&this.after("trigger",function(){console.groupEnd()}),this.before("on",function(){i("on",this,t.toArray(arguments))}),this.before("off",function(){i("off",this,t.toArray(arguments))})}var r={on:"<-",trigger:"->",off:"x "};return n}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[],r=function(){"use strict";function t(t,e){var i,n,r,o=e.length;return"function"==typeof e[o-1]&&(o-=1,r=e[o]),"object"==typeof e[o-1]&&(o-=1),2==o?(i=e[0],n=e[1]):(i=t.node,n=e[0]),{element:i,type:n,callback:r}}function e(t,e){return t.element==e.element&&t.type==e.type&&(null==e.callback||t.callback==e.callback)}function i(){function i(t){this.component=t,this.attachedTo=[],this.instances={},this.addInstance=function(t){var e=new n(t);return this.instances[t.identity]=e,this.attachedTo.push(t.node),e},this.removeInstance=function(t){delete this.instances[t.identity];var e=this.attachedTo.indexOf(t.node);e>-1&&this.attachedTo.splice(e,1),Object.keys(this.instances).length||r.removeComponentInfo(this)},this.isAttachedTo=function(t){return this.attachedTo.indexOf(t)>-1}}function n(t){this.instance=t,this.events=[],this.addBind=function(t){this.events.push(t),r.events.push(t)},this.removeBind=function(t){for(var i,n=0;i=this.events[n];n++)e(i,t)&&this.events.splice(n,1)}}var r=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(t){var e=this.findComponentInfo(t);e||(e=new i(t.constructor),this.components.push(e));var n=e.addInstance(t);return this.allInstances[t.identity]=n,e},this.removeInstance=function(t){var e=this.findComponentInfo(t);e&&e.removeInstance(t),delete this.allInstances[t.identity]},this.removeComponentInfo=function(t){var e=this.components.indexOf(t);e>-1&&this.components.splice(e,1)},this.findComponentInfo=function(t){for(var e,i=t.attachTo?t:t.constructor,n=0;e=this.components[n];n++)if(e.component===i)return e;return null},this.findInstanceInfo=function(t){return this.allInstances[t.identity]||null},this.getBoundEventNames=function(t){return this.findInstanceInfo(t).events.map(function(t){return t.type})},this.findInstanceInfoByNode=function(t){var e=[];return Object.keys(this.allInstances).forEach(function(i){var n=this.allInstances[i];n.instance.node===t&&e.push(n)},this),e},this.on=function(e){for(var i,n=r.findInstanceInfo(this),o=arguments.length,s=1,a=new Array(o-1);o>s;s++)a[s-1]=arguments[s];if(n){i=e.apply(null,a),i&&(a[a.length-1]=i);var u=t(this,a);n.addBind(u)}},this.off=function(){var i=t(this,arguments),n=r.findInstanceInfo(this);n&&n.removeBind(i);for(var o,s=0;o=r.events[s];s++)e(o,i)&&r.events.splice(s,1)},r.trigger=function(){},this.teardown=function(){r.removeInstance(this)},this.withRegistration=function(){this.after("initialize",function(){r.addInstance(this)}),this.around("on",r.on),this.after("off",r.off),window.DEBUG&&(!1).enabled&&this.after("trigger",r.trigger),this.after("teardown",{obj:r,fnName:"teardown"})}}return new i}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(4)],r=function(t){"use strict";function e(){var e=t.enabled&&!Object.propertyIsEnumerable("getOwnPropertyDescriptor");if(e)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(i){return!1}return e}var i=100,n={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(t,e){e=e||0;for(var i=t.length,n=new Array(i-e),r=e;i>r;r++)n[r-e]=t[r];return n},merge:function(){var t=arguments.length,e=new Array(t+1);if(0===t)return{};for(var i=0;t>i;i++)e[i+1]=arguments[i];return e[0]={},e[e.length-1]===!0&&(e.pop(),e.unshift(!0)),$.extend.apply(void 0,e)},push:function(t,e,i){return t&&Object.keys(e||{}).forEach(function(n){if(t[n]&&i)throw new Error('utils.push attempted to overwrite "'+n+'" while running in protected mode');"object"==typeof t[n]&&"object"==typeof e[n]?this.push(t[n],e[n]):t[n]=e[n]},this),t},getEnumerableProperty:function(t,e){return t.propertyIsEnumerable(e)?t[e]:void 0},compose:function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},uniqueArray:function(t){for(var e={},i=[],n=0,r=t.length;r>n;++n)e.hasOwnProperty(t[n])||(i.push(t[n]),e[t[n]]=1);return i},debounce:function(t,e,n){"number"!=typeof e&&(e=i);var r,o;return function(){var i=this,s=arguments,a=function(){r=null,n||(o=t.apply(i,s))},u=n&&!r;return r&&clearTimeout(r),r=setTimeout(a,e),u&&(o=t.apply(i,s)),o}},throttle:function(t,e){"number"!=typeof e&&(e=i);var n,r,o,s,a,u,h=this.debounce(function(){a=s=!1},e);return function(){n=this,r=arguments;var i=function(){o=null,a&&(u=t.apply(n,r)),h()};return o||(o=setTimeout(i,e)),s?a=!0:(s=!0,u=t.apply(n,r)),h(),u}},countThen:function(t,e){return function(){return--t?void 0:e.apply(this,arguments)}},delegate:function(t){return function(e,i){var n,r=$(e.target);Object.keys(t).forEach(function(o){return!e.isPropagationStopped()&&(n=r.closest(o)).length?(i=i||{},e.currentTarget=i.el=n[0],t[o].apply(this,[e,i])):void 0},this)}},once:function(t){var e,i;return function(){return e?i:(e=!0,i=t.apply(this,arguments))}},propertyWritability:function(t,i,n){e()&&t.hasOwnProperty(i)&&Object.defineProperty(t,i,{writable:n})},mutateProperty:function(t,i,n){var r;return e()&&t.hasOwnProperty(i)?(r=Object.getOwnPropertyDescriptor(t,i).writable,Object.defineProperty(t,i,{writable:!0}),n.call(t),void Object.defineProperty(t,i,{writable:r})):void n.call(t)}};return n}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n,r;n=[i(7),i(6),i(4)],r=function(t,e,i){"use strict";function n(t){t.events.slice().forEach(function(t){var e=[t.type];t.element&&e.unshift(t.element),"function"==typeof t.callback&&e.push(t.callback),this.off.apply(this,e)},t.instance)}function r(t,e){try{window.postMessage(e,"*")}catch(n){i.warn.call(this,['Event "',t,'" was triggered with non-serializable data. ',"Flight recommends you avoid passing non-serializable data in events."].join(""))}}function o(t){i.warn.call(this,['Attribute "',t,'" defaults to an array or object. ',"Enclose this in a function to avoid sharing between component instances."].join(""))}function s(t){var e,n=[];if(this.attr=new this.attrDef,i.enabled&&window.console){for(var r in this.attrDef.prototype)n.push(r);e=Object.keys(t);for(var s=e.length-1;s>=0;s--)if(-1==n.indexOf(e[s])){i.warn.call(this,'Passed unused attribute "'+e[s]+'".');break}}for(var r in this.attrDef.prototype){if("undefined"==typeof t[r]){if(null===this.attr[r])throw new Error('Required attribute "'+r+'" not specified in attachTo for component "'+this.toString()+'".');i.enabled&&"object"==typeof this.attr[r]&&o.call(this,r)}else this.attr[r]=t[r];"function"==typeof this.attr[r]&&(this.attr[r]=this.attr[r].call(this))}}function a(t){i.enabled&&i.warn.call(this,"defaultAttrs will be removed in a future version. Please use attributes.");var e=Object.create(t);for(var n in this.defaults)t.hasOwnProperty(n)||(e[n]=this.defaults[n],i.enabled&&"object"==typeof this.defaults[n]&&o.call(this,n));this.attr=e,Object.keys(this.defaults||{}).forEach(function(t){if(null===this.defaults[t]&&null===this.attr[t])throw new Error('Required attribute "'+t+'" not specified in attachTo for component "'+this.toString()+'".')},this)}function u(t){return function(e,i){$(e.target).trigger(t,i)}}function h(){this.trigger=function(){var t,e,n,o,s,a=arguments.length-1,u=arguments[a];return"string"==typeof u||u&&u.defaultBehavior||(a--,n=u),1==a?(t=$(arguments[0]),o=arguments[1]):(t=this.$node,o=arguments[0]),o.defaultBehavior&&(s=o.defaultBehavior,o=$.Event(o.type)),e=o.type||o,i.enabled&&window.postMessage&&r.call(this,e,n),"object"==typeof this.attr.eventData&&(n=$.extend(!0,{},this.attr.eventData,n)),t.trigger(o||e,n),s&&!o.isDefaultPrevented()&&(this[s]||s).call(this,o,n),t},this.on=function(){var e,i,n,r,o=arguments.length-1,s=arguments[o];if(r="object"==typeof s?t.delegate(this.resolveDelegateRules(s)):"string"==typeof s?u(s):s,2==o?(e=$(arguments[0]),i=arguments[1]):(e=this.$node,i=arguments[0]),"function"!=typeof r&&"object"!=typeof r)throw new Error('Unable to bind to "'+i+'" because the given callback is not a function or an object');return n=r.bind(this),n.target=r,n.context=this,e.on(i,n),r.bound||(r.bound=[]),r.bound.push(n),n},this.off=function(){var t,i,n,r=arguments.length-1;if("function"==typeof arguments[r]&&(n=arguments[r],r-=1),1==r?(t=$(arguments[0]),i=arguments[1]):(t=this.$node,i=arguments[0]),n){var o=n.target?n.target.bound:n.bound||[];o&&o.some(function(t,e,i){return t.context&&this.identity==t.context.identity?(i.splice(e,1),n=t,!0):void 0},this),t.off(i,n)}else e.findInstanceInfo(this).events.forEach(function(e){i==e.type&&t.off(i,e.callback)});return t},this.resolveDelegateRules=function(t){var e={};return Object.keys(t).forEach(function(i){if(!(i in this.attr))throw new Error('Component "'+this.toString()+'" wants to listen on "'+i+'" but no such attribute was defined.');e[this.attr[i]]="string"==typeof t[i]?u(t[i]):t[i]},this),e},this.select=function(t){return this.$node.find(this.attr[t])},this.attributes=function(t){var e=function(){};this.attrDef&&(e.prototype=new this.attrDef);for(var i in t)e.prototype[i]=t[i];this.attrDef=e},this.defaultAttrs=function(e){t.push(this.defaults,e,!0)||(this.defaults=e)},this.initialize=function(t,e){if(e=e||{},this.identity||(this.identity=l++),!t)throw new Error("Component needs a node");return t.jquery?(this.node=t[0],this.$node=t):(this.node=t,this.$node=$(t)),this.attrDef?s.call(this,e):a.call(this,e),this},this.teardown=function(){n(e.findInstanceInfo(this))}}var l=0;return h}.apply(e,n),!(void 0!==r&&(t.exports=r))}])})},function(t,e,i){var n,r;n=[i(11)],r=function(t){var e,i,n,r,o,s,a,u,h,l,d,c,f;t.style("gold",{background:"gold",color:"black"}),t.style("darkgold",{background:"DarkGoldenRod",color:"black"}),t.style("goldenrod",{background:"GoldenRod",color:"black"}),t.style("crimson",{background:"Crimson"}),t.style("olivedrab",{background:"olivedrab"}),t.style("seagreen",{background:"seagreen"}),t.style("darkseagreen",{background:"darkseagreen"}),t.style("darkgreen",{background:"darkgreen"}),t.style("lawngreen",{background:"lawngreen",color:"black"}),t.style("deepskyblue",{background:"DeepSkyBlue",color:"black"}),t.style("royalblue",{background:"RoyalBlue"}),t.style("cornflowerblue",{background:"CornflowerBlue"}),t.style("dodgerblue",{background:"dodgerblue"}),t.style("lightskyblue",{background:"lightskyblue",color:"black"}),t.style("chocolate",{background:"Chocolate",color:"black"}),t.style("tan",{background:"Tan",color:"black"}),t.style("redbrown1",{background:"#ff4040",color:"white"}),t.style("redbrown2",{background:"#ee3b3b",color:"white"}),t.style("redbrown3",{background:"#cd3333",color:"white"}),t.style("redbrown4",{background:"#8b2323",color:"white"}),t.style("redpink",{background:"#ff8c8c",color:"black"}),t.style("gray",{background:"gray"}),t.style("debug",{background:"red","font-size":"20px"}),u=t.define("Player","orange"),n=u.define("Ads","orange"),u.define("Subtitles","orange"),i=t.define("AdLinearSlot","gold"),e=n.define("AdFetcher","darkgold"),n.define("VASTMediaFile","goldenrod"),n.define("VPAIDMediaFile","goldenrod"),a=t.define("Error","crimson"),l=t.define("Stats","green"),l.define("Pinba","olivedrab"),l.define("eStat","seagreen"),l.define("Xiti","darkseagreen"),l.define("Emitter","lawngreen"),d=t.define("Tracking","darkgreen"),c=t.define("Video","blue"),c.define("Advert","cornflowerblue"),c.define("Buffering","dodgerblue"),c.define("URL Resolver","royalblue"),c.define("android stock mixins","royalblue"),c.define("CueZone","lightskyblue"),f=t.define("VideoSlot","deepskyblue"),h=t.define("Quality","redbrown1"),h.define("StaticQuality","redbrown2"),h.define("DynamicQuality","redbrown3"),h.define("QualityList","redbrown4"),h.define("Hls","pink"),o=t.define("ChromecastVideo","gray"),s=t.define("Debug","debug"),r=t.define("AudienceBroker","chocolate"),r.define("LiveStatus","tan")}.apply(e,n),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g,S,T;return n=i(30),t=i(28),l=i(4),h=i(18),T=i(37),d=i(16),e=i(39),c=document.createElement("video"),r=function(){return!(d.isMobile()||d.isTablet())}(),s=function(){return!(d.isMobile()||d.isTablet())}(),a=function(){var t,e,i,n;return t=d.isAndroid()&&T.isGreaterOrEqualThan(d.getOsVersion(),"4.0")&&!d.isAndroidStockBrowser(),n=d.isIos()&&T.isGreaterOrEqualThan(d.getOsVersion(),"6"),i=d.isWindowsPhone(),e=d.isDesktop(),n||t||i||e}(),o=function(){return!(d.isAndroid()||d.isWindowsPhone())}(),f=function(){return d.isAndroid()&&T.isLesserOrEqualThan(d.getOsVersion(),"4.4")}(),E=function(){return d.isIE()||d.isSafari()||d.isAndroid()}(),m=function(){return d.isAndroidStockBrowser()||d.isAndroid()&&T.isLesserOrEqualThan(d.getOsVersion(),"4.3")||d.isIos()&&T.isLesserThan(d.getOsVersion(),"6")||d.isIphone()&&T.isLesserThan(d.getOsVersion(),"8")||d.isWindowsPhone()&&T.isLesserThan(d.getOsVersion(),"8.1")}(),g=function(){return h.maySupportChromecast()}(),v=function(){return"function"==typeof l.window().btoa}(),_=function(){return l.window().WebKitPlaybackTargetAvailabilityEvent}(),S=function(){var e;return e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"},e[t.prefixed("transition")]}(),p=function(){return top!==self}(),u={canAutoplay:function(){return r},canChangeVolume:function(){return s},canPlayAd:function(){return a},isEmbed:function(){return p},canChangePlaybackRate:function(){return o},mayNotSendPlayingEventOnSeek:function(){return E},fullscreenCrashesLiveVideos:function(){return f},requiresNativePlayer:function(){return m},supportsChromecast:function(){return g},supportsBase64:function(){return v},supportsAirPlay:function(){return _},transitionEndEvent:function(){return S}},$.extend(!0,n,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(t,e,i){var n,r;return r=e.originalEvent,r.preventDefault(),(n=r.targetTouches[0])&&(e.pageX=n.pageX,e.pageY=n.pageY),e.type=i,t.trigger(e)},jQuery.event.special.drag={setup:function(){var e;return e=$(this),e.mousedown(function(t){return 0===t.button?(t.preventDefault(),$(window).mousemove(function(t){return t.type="drag",e.trigger(t)}),$(window).mouseup(function(t){return $(window).unbind("mousemove"),$(window).unbind("mouseup"),t.type="dragend",e.trigger(t)}),t.type="dragstart",e.trigger(t)):void 0}),e.on("touchstart",function(i){return t(e,i,"dragstart"),i.preventDefault(),e.on("touchmove",function(i){return t(e,i,"drag")}),e.on("touchcancel touchend",function(i){return t(e,i,"dragend"),e.off("touchmove touchcancel touchend")})})},teardown:function(){var t;return t=$(this),t.off("mousedown"),t.off("touchstart")}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=function(t,e,i){return'<line x1="'+e[t].x+'" y1="'+e[t].y+'" x2="'+i[t].x+'" y2="'+i[t].y+'" style="stroke:rgb(255,0,0);stroke-width:4" />'},e=function(t,e){var i,n;return i=(t[0].x+t[1].x)/2-25,n=(t[0].y+t[1].y)/2-25,'<text x="'+i+'" y="'+n+'"  style="font-family:Verdana; font-size:25; fill:white" >'+e+"</text>"},jQuery.event.special.pinch={setup:function(){var i,n,r,o;return o=[{},{}],r=[{},{}],i=$(this),n=!1,i.on("touchstart",function(s){return s=s.originalEvent,2===s.touches.length?(o[0].x=r[0].x=s.touches[0].clientX,o[0].y=r[0].y=s.touches[0].clientY,o[1].x=r[1].x=s.touches[1].clientX,o[1].y=r[1].y=s.touches[1].clientY,s.preventDefault(),i.on("touchmove",function(t){return t=t.originalEvent,r[0].x=t.touches[0].clientX,r[0].y=t.touches[0].clientY,r[1].x=t.touches[1].clientX,r[1].y=t.touches[1].clientY,t.preventDefault()}),i.on("touchend",function(s){var a,u,h,l,d,c;return i.off("touchmove"),i.off("touchend"),d=[{},{}],d[0].x=r[0].x-o[0].x,d[0].y=r[0].y-o[0].y,d[1].x=r[1].x-o[1].x,d[1].y=r[1].y-o[1].y,u=Math.floor(Math.sqrt(Math.pow(d[0].x-d[1].x,2)+Math.pow(d[0].y-d[1].y,2))),c=o[0].x-o[1].x,h=r[0].x-r[1].x,n&&(a=jQuery("#dmp_svg_touchdemo"),a.length||(a=jQuery('<svg id="dmp_svg_touchdemo" height="100%" width="100%" style="position:absolute;top: 0;left: 0;width: 100%;height: 100%;" ></svg>').appendTo("body")),a.html(t(0,o,r)+t(1,o,r)+e(o,u)),a.show().fadeOut(800)),u>180&&(s.type="pinch",l=h>c?"out":"in",i.trigger(s,{mode:l})),s.preventDefault()})):void 0}),!1},teardown:function(){return $element.off("touchstart"),!1}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g,S,T,A,D,y,b,I,N,R,O,C,P,L,w,V,x,k,M,U,F,B,H,z,Q,G,W,j,q,Y,K,Z,X,J;return K=i(4),A=i(28),q=i(11),v=i(7),Y=i(44),Z=i(16),t=i(48),e=i(185),r=i(189),o=i(190),s=i(191),a=i(193),u=i(194),c=i(195),f=i(234),E=i(251),_=i(254),p=i(256),m=i(258),g=i(277),S=i(279),P=i(280),T=i(282),D=i(288),I=i(289),b=i(290),N=i(296),R=i(302),O=i(303),C=i(310),y=i(311),w=i(312),V=i(315),x=i(316),F=i(317),H=i(319),z=i(320),Q=i(321),L=i(323),h=i(335),d=i(336),l=i(337),G=i(338),W=i(342),n=i(343),M=i(345),U=i(346),k=i(347),j=i(373),B=i(374),J=Y.requiresNativePlayer(),X=function(){var i,X,tt,et,it;return it=K.rootNode(),X=K.get("chromeless"),tt=K.get("controls"),i=$(it),_.attachTo(it),m.attachTo(it),Q.attachTo(it),O.attachTo(it,{videoTagSelector:".dmp_VideoView-content video"}),F.attachTo(it),W.attachTo(it,{videoTagSelector:".dmp_VideoView-content video"}),L.attachTo(it,{videoTagSelector:".dmp_VideoView-content video",videoWrapperTagSelector:".dmp_VideoView-content"}),t.attachTo(it,{videoTagSelector:".dmp_VideoView-content video",videoWrapperTagSelector:".dmp_VideoView-content"}),f.attachTo(it),a.attachTo(it),S.attachTo(it),j.attachTo(it),b.attachTo(it),et=q.get("Stats"),K.settings("reporting.enable")?(et.groupCollapsed("Setting up stats plugins"),M.attachTo(it),U.attachTo(it),k.attachTo(it,{videoTagSelector:".dmp_VideoView-content video"}),et.groupEnd()):et.log("reporting=0"),J||(g.attachTo(it),Y.supportsChromecast()&&h.attachTo(it),Y.supportsAnnotations()&&s.attachTo(it),Y.supportsAirPlay()&&!Z.isIphone()&&r.attachTo(it,{videoTagSelector:".dmp_VideoView-content video"})),u.attachTo(i.find(".dmp_Player")),N.attachTo(i.find(".dmp_Player"),{"native":J}),R.attachTo(i.find(".dmp_Poster")),I.attachTo(i.find(".dmp_PasswordPane")),P.attachTo(i.find(".dmp_ScheduledContentPane")),X||(o.attachTo(i.find(".dmp_AlertPane")),V.attachTo(i.find(".dmp_Spinner")),B.attachTo(i)),x.attachTo(i.find(".dmp_StartView"),{"native":J,baseTabindex:1e3}),z.attachTo(i.find(".dmp_VideoInfo")),G.attachTo(i.find(".dmp_VideoView"),{"native":J,baseTabindex:4e3}),C.attachTo(i.find(".dmp_RelatedEndScreen"),{baseTabindex:1e3}),y.attachTo(i.find(".dmp_NextVideoEndScreen"),{baseTabindex:1e3}),p.attachTo(i.find(".dmp_DefaultEndScreen"),{baseTabindex:1e3}),J?D.attachTo(i.find(".dmp_VideoView video")):X||(H.attachTo(i.find(".dmp_Tooltip")),e.attachTo(i.find(".dmp_AdLabel"),{labelSelector:".dmp_AdLabel-label",remainingTimeSelector:".dmp_AdLabel-time",type:"floating"}),n.attachTo(i.find(".dmp_AdSkipUnit")),w.attachTo(i.find(".dmp_SharePane"),{baseTabindex:3010}),T.attachTo(i.find(".dmp_Menu")),Y.supportsChromecast()&&(d.attachTo(i.find(".dmp_ChromecastStatusPane")),l.attachTo(i.find(".dmp_ChromecastOverridePane"))),A.touchevents||H.attachTo(i.find(".dmp_Tooltip")),tt&&(c.attachTo(i.find(".dmp_ControlBar"),{baseTabindex:2e3}),E.attachTo(i.find(".dmp_Dock"),{baseTabindex:3e3}))),i.trigger(v.COMPONENTS_READY,{time:(new Date).getTime()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return a=i(42).component,s=i(4),n=i(7),o=i(49),e=i(52),t=i(51),u=i(6),h=i(11).get("AdFetcher"),l=i(184),r=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.onVideoSelected=function(){return this.setAdHelper()},this.setAdHelper=function(t,e){var i,n;return null==t&&(t=null),null==e&&(e=!1),n=s.metadata("advertising"),t&&(i=t,e&&(this.defaultSpec=i)),i?n=$.extend({},n,{type:i}):this.defaultSpec&&(n=$.extend({},n,{type:this.defaultSpec})),o.onConfigChange(n),this.helper=o.getHelper()},this.getInitAdOptions=function(t){var e;switch(e={size:this.size,position:null!=t?t.position:void 0},null!=t?t.position:void 0){case"midroll":e.LR_VIDEO_POSITION="5",e.LR_POD_SLOTS=1,e.LR_FORMAT_BLOCKLIST="application/javascript;application/x-javascript;video/x-flv;application/x-shockwave-flash";break;case"adbreak":e.LR_POD_SLOTS=t.podSlots||1;break;case"postroll":e.LR_VIDEO_POSITION="100%",e.LR_POD_SLOTS=1}return e},this.fetchAd=function(t){var e;return h.log("Fetching new ad"),e={cache:!this.clearCachedMediafile,sdkLiverailUrl:s.getDependencyURL("sdk_liverail")},this.clearCachedMediafile=!1,this.helper.loadAdProviderSdk(e).then(function(e){return function(){return e.trigger(n.AD_SDK_READY,{timeoutInfo:e.helper.getTimeoutInfo()}),e.helper.callInitAd(e.getInitAdOptions(t))}}(this)).then(function(t){return function(){return t.trigger(n.AD_LOADED,{timeoutInfo:t.helper.getTimeoutInfo()})}}(this))},this.after("initialize",function(){return o.initialize(this.select("videoWrapperTagSelector")[0],this.select("videoTagSelector")[0]),this.on(s.rootNode(),n.VIDEO_SELECTED,this.onVideoSelected),this.on(s.rootNode(),n.AD_LINEAR_SLOT_ENDED,function(){return this.clearCachedMediafile=!0}),this.on(s.rootNode(),n.AD_FETCHER_PREFETCH,function(t,e){return this.fetchAd({position:e.position,podSlots:e.podSlots})}),this.on(s.rootNode(),n.AD_FETCHER_REQUESTED,function(t,e){return null!=e.spec&&this.setAdHelper(e.spec.type,e.spec["default"]),this.fetchAd({position:e.position,podSlots:e.podSlots}).done(function(t){return function(){return h.log("Success - Responded with mediaFile"),t.trigger(n.AD_FETCHER_RESPONDED,{position:e.position})}}(this)).fail(function(t){return function(e){return h.log("Failed - ",e),e=$.extend({},e,{helper:t.helper.constructor.name}),t.trigger(n.AD_ERROR,e)}}(this))})})},a(r,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return e=i(50),o=i(54),r=i(60),t=i(52),a=i(44),d=i(11).get("Ads"),h=null,u=null,n={VPAID:"sdk/liverail",VMAP:"vmap/liverail"},l=function(t,e){(null!=u?u.logger_url:void 0)&&((new Image).src=u.logger_url.replace("_WIDTH_",t).replace("_HEIGHT_",e).replace("PTYPE_web","PTYPE_html"))},s=function(t){var e;return e=$.map(n,function(t){return t}),t&&"ok"===t.status&&-1!==e.indexOf(t.type)},{SUPPORTED_TYPES:n,initialize:function(t,e){this.videoWrapperTag=t,this.videoTag=e},onConfigChange:function(t){return h=null,u=t},resetHelper:function(){return h=null},getHelper:function(){return null!=h?h:h=function(){if(!s(u))return l(this.videoTag.offsetWidth,this.videoTag.offsetHeight),null==u.reason&&(u.reason="Unknown reason (API)"),new e(u);if(!a.canPlayAd())return new e({reason:"Device can't play ads",reason_id:1105});switch(u.type){case n.VPAID:return d.log("Init VPAIDHelper"),new o(u,this.videoWrapperTag,this.videoTag);case n.VMAP:return d.log("Init VMAPHelper"),new r(u,this.videoWrapperTag,this.videoTag);default:return new e({reason:"Unsupported type: "+u.type})}}.call(this)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o;return t=i(51),e=i(52),o=$.Deferred(),n=function(e){function i(e){o.reject({type:t.NO_ADS,message:e.reason,code:e.reason_id})}return r(i,e),i.prototype.loadAdProviderSdk=function(){return o.promise()},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return function(t){var e,i,n,r;for(r={},e=0,i=t.length;i>e;e++)n=t[e],r[n]=n;return r}(["VAST_XML_PARSING_FAILED","VAST_SCHEMA_VALIDATION_FAILED","VAST_VERSION_NOT_SUPPORTED","INVALID_TRAFFICKING","INVALID_LINEARITY","INVALID_DURATION","INVALID_SIZE","GENERAL_WRAPPER_ERROR","WRAPPER_AD_TAG_URI_TIMEOUT_REACHED","WRAPPER_REDIRECT_LIMIT_REACHED","WRAPPER_LIMIT_WITH_NO_ADS_REACHED","GENERAL_LINEAR_ERROR","MEDIA_FILE_RESOURCE_NOT_FOUND","MEDIA_FILE_RESOURCE_LOAD_TIMEOUT","SUPPORTED_MEDIA_FILE_NOT_FOUND","INVALID_MEDIA_FILE","GENERAL_NON_LINEAR_ERROR","INVALID_NON_LINEAR_SIZE","NON_LINEAR_RESOURCE_NOT_FOUND","SUPPORTED_NON_LINEAR_NOT_FOUND","GENERAL_COMPANION_ERROR","INVALID_COMPANION_SIZE","SUPPORTED_REQUIRED_COMPANION_NOT_FOUND","COMPANION_RESOURCE_NOT_FOUND","SUPPORTED_COMPANION_NOT_FOUND","UNDEFINED_ERROR","GENERAL_VPAID_ERROR","VPAID_VERSION_NOT_SUPPORTED","VPAID_UNDEFINED_URL","NO_ADS","VPAID_SDK_LOAD_TIMEOUT","VPAID_INIT_TIMEOUT","VPAID_START_TIMEOUT","VPAID_STOP_TIMEOUT","VPAID_SDK_LOAD_ERROR","VPAID_INIT_ERROR","VPAID_START_ERROR","VPAID_BUFFERING_ERROR","VPAID_PLAYING_ERROR","VPAID_STOP_ERROR","VMAP_LOAD_TIMEOUT","VMAP_LOAD_ERROR","VMAP_LOAD_NET_ERROR","VMAP_LOAD_XML_PARSING_FAILED","VMAP_INIT_TIMEOUT","VMAP_INIT_ERROR","VMAP_NO_ADS","VMAP_START_TIMEOUT","VMAP_START_ERROR","VMAP_START_BLOCKED","VMAP_STOP_TIMEOUT","VMAP_STOP_ERROR"])}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(4),n=i(7),o=i(11).get("Ads"),e=i(53),t=function(){function t(t,e,i){this.config=t,this.videoWrapper=e,
this.videoElement=i,this.deadline=null,this._timeouts={}}return t.prototype.getCreativeData=function(){throw new Error("@getCreativeData() method must be overridden")},t.prototype.getEnvironmentVars=function(){throw new Error("@getEnvironmentVars() method must be overridden")},t.prototype.loadAdProviderSdk=function(){throw new Error("@loadAdProviderSdk() method must be overridden")},t.prototype.callInitAd=function(){throw new Error("@callInitAd() method must be overridden")},t.prototype.callStartAd=function(){throw new Error("@callStartAd() method must be overridden")},t.prototype.getTimeoutDurationForStep=function(){throw new Error("@getTimeoutDurationForStep() method must be overridden")},t.prototype.getTimeoutInfo=function(){throw new Error("@getTimeoutInfo() method must be overridden")},t.prototype.triggerAdStepEvent=function(t,i){var s;return-1===["BEGIN","END","TIMEOUT"].indexOf(i)?void o.warn("Can't trigger AdStepEvent. Wrong type :",i):(s=function(){switch(t){case e.types.GLOBAL_AD:return"AD_GLOBAL_DID_";case e.types.STOP_AD:return"AD_STOP_DID_";default:return null}}(),null===s?void o.warn("Can't trigger AdStepEvent. Wrong step :",t):(s=""+s+i,s in n?$(r.rootNode()).trigger(n[s]):o.warn("Can't trigger AdStepEvent. Wrong event :",s)))},t.prototype.remaining=function(){return this.deadline?this.deadline-(new Date).getTime():0},t.prototype.newTimedDeferred=function(t,i){var n;return n=$.Deferred(),this.deadline?this.setAdTimeout(e.types.GLOBAL_AD,this.remaining(),function(){return n.reject({type:t}),"function"==typeof i?i():void 0}):(n.reject({message:"No deadline set",type:t}),"function"==typeof i&&i()),n},t.prototype.setAdTimeout=function(t,i,n){var r,s;return null==n&&(n=null),-1===Object.keys(e.types).indexOf(t)?void o.warn("Unkonwn Timeout step:",t):(i=i>0?i:this.getTimeoutDurationForStep(t),void(i&&(this.triggerAdStepEvent(t,"BEGIN"),r=function(){var e;(e=this._timeouts[t])&&(o.log(this.constructor.name+" Timeout reached.  Interrupting "+t+":",e.toId),this._timeouts[t].callback(),this.triggerAdStepEvent(t,"TIMEOUT"))},this._timeouts[t]={callback:n,toId:setTimeout(r.bind(this),i)},o.log(this.constructor.name+" Defined timeout for "+t+":",null!=(s=this._timeouts[t])?s.toId:void 0))))},t.prototype.clearAdTimeout=function(t){var e;return this.triggerAdStepEvent(t,"END"),(e=this._timeouts[t])?(o.log(this.constructor.name+" Clearing timeout for "+t+":",null!=e?e.toId:void 0),clearTimeout(e.toId),delete this._timeouts[t]):void 0},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return{types:{GLOBAL_AD:"GLOBAL_AD",STOP_AD:"STOP_AD"},defaults:{GLOBAL_AD:1e4,STOP_AD:250}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g;return d=i(44),o=i(55),E=i(11).get("Ads"),n=i(53),t=i(51),e=i(52),a=i(56),g=null,f=null,m=null,_=null,v={globalAdTimeout:0,loadAd:0,initAd:0,startAd:0,bufferAd:0},p=function(e,i){var r,o,s,a,u;if(null==i&&(i=null),null===g&&(g=$.Deferred()),a=document.getElementById("dmp-vpaid-frame"),null===a){if(!i)return g.reject(c(t.VPAID_UNDEFINED_URL,"VPAID url is undefined")),g.promise();u="loadAd",o=function(e,i){var n,r;null==i&&(i=!1),i===!0?(r=t.VPAID_SDK_LOAD_TIMEOUT,n=2001):(r=t.VPAID_SDK_LOAD_ERROR,n=1104),g.reject(c(r,e,1104))},s=function(){var t;t=a.contentWindow.getVPAIDAd(),t.handshakeVersion("2.0"),v.loadAd=(new Date).getTime()-r,E.log("LoadAd step - end",v.loadAd),e.clearAdTimeout(n.types.GLOBAL_AD),g.resolve(t)},r=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(u),function(){o(null,!0)}),a=document.createElement("iframe"),a.id="dmp-vpaid-frame",a.style.display="none",a.onload=function(){var t;return t=a.contentWindow.document.createElement("script"),t.src=i,t.onerror=function(){return o("unreacheable VPAID url")},t.onload=function(){return s()},a.contentWindow.document.body.appendChild(t)},document.body.appendChild(a)}return g.promise()},u=function(e,i,r,o,s,u){var h,l,d,p,m,_,g,S;if(null===f){f=$.Deferred(),S="initAd",g=function(){e.clearAdTimeout(n.types.GLOBAL_AD),v.initAd=(new Date).getTime()-d,E.log("InitAd step - end",v.initAd),i.unsubscribe(m,a.events.LOADED),i.unsubscribe(p,a.events.ERROR)},m=function(){g(),"rejected"!==f.state()&&f.resolve(i)},p=function(t,e){return _(t,e)},_=function(e,n,r){var o;null==r&&(r=!1),g(),i.stopAd(),o=r===!0?t.VPAID_INIT_TIMEOUT:t.VPAID_INIT_ERROR,f.reject(c(o,e,n))},i.subscribe(m,a.events.LOADED),i.subscribe(p,a.events.ERROR),d=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(S),function(){_(null,2002,!0)});try{i.initAd(r,o,"normal",600,s,u)}catch(l){h=l,_(h.message)}}return f.promise()},h=function(e,i){var r,o,s,u,h,l,d,f,p;if(null===m){m=$.Deferred(),p="startAd",f=function(){i.unsubscribe(u,a.events.STARTED),i.unsubscribe(h,a.events.VIDEO_START),i.unsubscribe(s,a.events.ERROR)},u=function(){e.clearAdTimeout(n.types.GLOBAL_AD),v.startAd=(new Date).getTime()-d,E.log("StartAd step - end",v.startAd),i.unsubscribe(s,a.events.ERROR),i.unsubscribe(u,a.events.STARTED),m.resolve(i)},h=function(){v.bufferAd=(new Date).getTime()-d-v.startAd,i.unsubscribe(h,a.events.VIDEO_START)},s=function(t,e){return l(t,e)},l=function(e,n,r){var o;null==r&&(r=!1),f(),i.stopAd(),o=r===!0?t.VPAID_START_TIMEOUT:t.VPAID_START_ERROR,m.reject(c(o,e,n))},i.subscribe(u,a.events.STARTED),i.subscribe(h,a.events.VIDEO_START),i.subscribe(s,a.events.ERROR),d=(new Date).getTime(),e.setAdTimeout(n.types.GLOBAL_AD,e.getTimeoutRemaingTime(p),function(){l(null,2003,!0)});try{i.startAd()}catch(o){r=o,l(r.message)}}return m.promise()},l=function(e,i){var r,o,s,u,h,l;if(null===_){_=$.Deferred(),l=function(){e.clearAdTimeout(n.types.STOP_AD),i.unsubscribe(u,a.events.STOPPED),i.unsubscribe(s,a.events.ERROR)},u=function(){l(),_.resolve(i)},s=function(t,e){return h(t,e)},h=function(e,i,n){var r;null==n&&(n=!1),l(),r=n===!0?t.VPAID_STOP_TIMEOUT:t.VPAID_STOP_ERROR,_.reject(c(r,e,i))},i.subscribe(u,a.events.STOPPED),i.subscribe(s,a.events.ERROR),e.setAdTimeout(n.types.STOP_AD,0,function(){s("Timeout reached for "+n.types.STOP_AD,!0)});try{i.stopAd()}catch(o){r=o,s(r.message)}}return _.promise()},c=function(t,e,i){return{type:t,message:e,code:i}},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.getCreativeData=function(t){var e,i,n,r,s,a,u;for((s=this.config.params.LR_TAGS)&&(s=s.replace(/(PTYPE_)web/,"$1html"),this.config.params.LR_TAGS=s),d.requiresNativePlayer()?(this.config.params.LR_LAYOUT_SKIN_ID=2,this.config.params.LR_LAYOUT_SKIN_MESSAGE=o.__("ads:::Advertisement: {COUNTDOWN} seconds"),this.config.params.LR_SKIP_COUNTDOWN=o.__("ads:::Skip in {COUNTDOWN} seconds"),this.config.params.LR_SKIP_MESSAGE=o.__("ads:::Skip to video")):this.config.params.LR_LAYOUT_SKIN_ID=0,(r=this.config.params.LR_DM_PTYPE)&&(this.config.params.LR_DM_PTYPE=r.replace(/web/,"html")),null==this.config.params.LR_AUTOPLAY&&(this.config.params.LR_AUTOPLAY=t.canAutoplay?1:0),"userHome"!==(a=this.config.params.LR_DM_PAGE)&&"playerPage"!==a&&"playlist"!==a||(this.config.params.LR_AUTOPLAY=0),this.config.params.LR_ADUNIT=(null!=t?t.LR_ADUNIT:void 0)?t.LR_ADUNIT:"in",u=["LR_VIDEO_POSITION","LR_POD_SLOTS","LR_FORMAT_BLOCKLIST"],i=0,n=u.length;n>i;i++)e=u[i],(null!=t?t[e]:void 0)&&(this.config.params[e]=t[e]);return this.config.params},e.prototype.getEnvironmentVars=function(){return{slot:this.videoWrapper,videoSlot:this.videoElement,videoSlotCanAutoPlay:!0}},e.prototype.loadAdProviderSdk=function(t){return t.cache||(this.mediaFile=null,f=null,m=null,_=null,v.loadAd=0,v.initAd=0),v.globalAdTimeout=this.getTimeoutDurationForStep(n.types.GLOBAL_AD),v.startAd=0,v.bufferAd=0,p(this,t.sdkLiverailUrl).then(function(t){return function(e){return null!=t.mediaFile?t.mediaFile:t.mediaFile=new a(e)}}(this))},e.prototype.callInitAd=function(t){var e,i,n,r;return e=this.getCreativeData(t),i=this.getEnvironmentVars(),n=t.size.player.height,r=t.size.player.width,u(this,this.mediaFile,r,n,e,i)},e.prototype.callStartAd=function(){return h(this,this.mediaFile)},e.prototype.callStopAd=function(){return l(this,this.mediaFile)},e.prototype.getTimeoutDurationForStep=function(t){var e,i;return e=this.config.timeouts,i=function(){if(!e)return null;switch(t){case n.types.GLOBAL_AD:return e.global;case n.types.STOP_AD:return e.stop;default:return E.warn("Unkonwn Timeout Type :",t),null}}(),i||n.defaults[t]},e.prototype.getTimeoutInfo=function(){return v},e.prototype.getTimeoutRemaingTime=function(t){switch(t){case"loadAd":return v.globalAdTimeout;case"initAd":return v.globalAdTimeout-v.loadAd;case"startAd":return v.globalAdTimeout-v.loadAd-v.initAd}},e}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),n=i(10).get("i18n"),t=function(t,i){var r,o,s,a,u,h,l,d,c;if(null==i&&(i=null),l=null,h=t.split(":::"),a=h[0],r=h[1],null==r&&(r=a,a="default"),d=e.context("translations"),null!=d[a]?d=d[a]:null!=d["default"]&&(d=d["default"]),null!=i&&null!=i.count&&(o=r+"_plural",s=o+"_"+i.count,null!=d[s]&&""!==d[s]?l=d[s]:null!=d[o]&&""!==d[o]&&(l=d[o])),null==l&&(null!=d[r]&&""!==d[r]?l=d[r]:(n.log("No translation found for: '"+t+"'"),l=r)),null!=i)for(u in i)c=i[u],l=l.replace("%"+u+"%",c);return l},{__:t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].slice,a=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){var t,e,n,o,u,h,l;return n=i(4),u=i(11).get("VPAIDMediaFile"),t=i(57),h=i(59),l=h.safeObject,o=h.loggedObject,e=function(e){function i(t){var e,r,a;this.vpaidAdUnit=t,i.__super__.constructor.call(this),l(this.vpaidAdUnit,function(t){return function(e){return t._trigger(n.ERROR,e)}}(this)),o(this.vpaidAdUnit,function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],u.info.apply(u,[">>> calling"].concat(s.call(t)))});for(r in n)e=n[r],a=function(){switch(!1){case e!==n.DURATION_CHANGE:return this.onVPAIDDurationChange();case e!==n.REMAINING_TIME_CHANGE:return this.onVPAIDRemaingTimeChange();case e!==n.SKIPPABLE_REMAINING_TIME_CHANGE:return this.onVPAIDSkippableRemaingTimeChange();default:return this.onVPAIDEvent(e)}}.call(this),this._listeners[e]=a,this.vpaidAdUnit.subscribe(a,e,this)}var n,h;return r(i,e),h="VPAIDMediaFile",n=t.events,i.prototype._adStreamType=!1,i.prototype._listeners={},i.prototype.cleanWrapper=function(){var t,e,i,n;for(e=i=n=this.videoWrapper.childNodes.length-1;i>=0;e=i+=-1)t=this.videoWrapper.childNodes[e],a.call(this.wrapperChildren,t)<0&&this.videoWrapper.removeChild(t);return this.wrapperChildren=[]},i.prototype.onVPAIDEvent=function(t){return function(e){return function(){var i;switch(i=1<=arguments.length?s.call(arguments,0):[],u.log("event:",t,i),!1){case t!==n.VIDEO_START:e.onVideoStart();break;case t!==n.PLAYING:e.onPlaying();break;case t!==n.PAUSED:e.onPaused();break;case t!==n.SKIPPABLE_STATE_CHANGE:e.onSkippableStateChange();break;case t!==n.STOPPED:e.onStopped()}return e._trigger.apply(e,[t].concat(s.call(i)))}}(this)},i.prototype.onVideoStart=function(){return this._adStreamType||this.mockDeprecatedVPAIDEvents(),this.handleDuration()},i.prototype.onPlaying=function(){return this._adStreamType?void 0:this.mockDeprecatedVPAIDEvents()},i.prototype.onPaused=function(){return this._adStreamType?void 0:this.clearMockEvents()},i.prototype.onSkippableStateChange=function(){return this.adSkippableState=this.vpaidAdUnit.getAdSkippableState()},i.prototype.onStopped=function(){var t,e,i,n;this._$videoSlot.off("."+h),this.cleanWrapper(),this._adStreamType||this.clearMockEvents(),i=this._listeners,n=[];for(t in i)e=i[t],n.push(this.vpaidAdUnit.unsubscribe(e,t));return n},i.prototype.onVPAIDDurationChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],t._$videoSlot.off("durationchange."+h),t.handleDuration()}}(this)},i.prototype.onVPAIDRemaingTimeChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearInterval(t.remaingTimeChangeId),t._$videoSlot.off("timeupdate.remaining."+h),t.handleRemaingTime()}}(this)},i.prototype.onVPAIDSkippableRemaingTimeChange=function(){return function(t){return function(){var e;return e=1<=arguments.length?s.call(arguments,0):[],clearInterval(t.SkippableRemainingTimeChangeId),t._$videoSlot.off("timeupdate.skippable."+h),t.handleSkippableRemainingTime()}}(this)},i.prototype.handleDuration=function(t){return null==t&&(t=null),this.adDuration=t||this.vpaidAdUnit.getAdDuration(),this.adDuration>0?this._trigger(n.DURATION_CHANGE,this.adDuration):void 0},i.prototype.handleRemaingTime=function(t){return null==t&&(t=null),this.adRemainingTime=t||this.vpaidAdUnit.getAdRemainingTime(),this.adRemainingTime>=0?this._trigger(n.REMAINING_TIME_CHANGE,this.adRemainingTime):void 0},i.prototype.handleSkippableRemainingTime=function(){var t;return this.adSkippableRemainingTime=this.vpaidAdUnit.getAdSkippableRemainingTime(),t=this.adSkippableRemainingTime<=this.adRemainingTime,(this.adSkippableRemainingTime<=0||!t)&&(clearInterval(this.SkippableRemainingTimeChangeId),this._$videoSlot.off("timeupdate.skippable."+h)),t?this._trigger(n.SKIPPABLE_REMAINING_TIME_CHANGE,this.adSkippableRemainingTime):void 0},i.prototype.mockDeprecatedVPAIDEvents=function(){return(this.remaingTimeChangeId||this.SkippableRemainingTimeChangeId)&&this.clearMockEvents(),u.log("Set intervals"),this.remaingTimeChangeId=setInterval(this.handleRemaingTime.bind(this),250),this.SkippableRemainingTimeChangeId=setInterval(this.handleSkippableRemainingTime.bind(this),250)},i.prototype.clearMockEvents=function(){return u.log("Clear intervals"),clearInterval(this.remaingTimeChangeId),clearInterval(this.SkippableRemainingTimeChangeId)},i.prototype.handshakeVersion=function(t){return this.vpaidAdUnit.handshakeVersion(t)},i.prototype.initAd=function(t,e,i,n,r,o){var s;return u.log("initAd",r,o),this._$videoSlot=$(o.videoSlot),this.videoWrapper=o.slot,this.wrapperChildren=function(){var t,e,i,n;for(i=this.videoWrapper.childNodes,n=[],t=0,e=i.length;e>t;t++)s=i[t],n.push(s);return n}.call(this),this.vpaidAdUnit.initAd(t,e,i,n,r,o)},i.prototype.startAd=function(){return this._$videoSlot.on("loadstart."+h,function(t){return function(){return u.log("Ad is a video stream, clear intervals"),t._adStreamType=!0}}(this)).on("timeupdate.remaining."+h,function(t){return function(e){return t.handleRemaingTime(t.adDuration-e.target.currentTime)}}(this)).on("timeupdate.skippable."+h,function(t){return function(e){return t.handleSkippableRemainingTime()}}(this)).on("durationchange."+h,function(t){return function(e){return t.handleDuration(e.target.duration)}}(this)),this.vpaidAdUnit.startAd()},i.prototype.stopAd=function(){return this.vpaidAdUnit.stopAd()},i.prototype.resizeAd=function(t,e,i){return this.vpaidAdUnit.resizeAd(t,e,i)},i.prototype.pauseAd=function(){return this.vpaidAdUnit.pauseAd()},i.prototype.resumeAd=function(){return this.vpaidAdUnit.resumeAd()},i.prototype.setAdVolume=function(t){return this.vpaidAdUnit.setAdVolume(t)},i.prototype.getAdVolume=function(){return this.vpaidAdUnit.getAdVolume()},i.prototype.expandAd=function(){return this.vpaidAdUnit.expandAd()},i.prototype.collapseAd=function(){return this.vpaidAdUnit.collapseAd()},i.prototype.skipAd=function(){return this.vpaidAdUnit.skipAd()},i.prototype.getAdDuration=function(){return this.adDuration},i.prototype.getAdRemainingTime=function(){return this.adRemainingTime},i.prototype.getAdSkippableState=function(){return this.adSkippableState},i.prototype.getAdSkippableRemainingTime=function(){return this.adSkippableRemainingTime},i}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o;return t=i(58).Events,o=i(11).get("Ads"),n=function(){o.warn("MediaFile : Implement me")},e=function(){function e(){this._events=new t}return e.events={LOADED:"AdLoaded",STARTED:"AdStarted",STOPPED:"AdStopped",SKIPPED:"AdSkipped",SKIPPABLE_STATE_CHANGE:"AdSkippableStateChange",SIZE_CHANGE:"AdSizeChange",LINEAR_CHANGE:"AdLinearChange",DURATION_CHANGE:"AdDurationChange",EXPANDED_CHANGE:"AdExpandedChange",REMAINING_TIME_CHANGE:"AdRemainingTimeChange",VOLUME_CHANGE:"AdVolumeChange",IMPRESSION:"AdImpression",VIDEO_START:"AdVideoStart",VIDEO_1ST_QUARTILE:"AdVideoFirstQuartile",VIDEO_MIDPOINT:"AdVideoMidpoint",VIDEO_3RD_QUARTILE:"AdVideoThirdQuartile",VIDEO_COMPLETE:"AdVideoComplete",CLICK_THRU:"AdClickThru",INTERACTION:"AdInteraction",USER_ACCEPT:"AdUserAccept",INVITATION:"AdInvitation",USER_MINIMIZE:"AdUserMinimize",USER_CLOSE:"AdUserClose",PAUSED:"AdPaused",PLAYING:"AdPlaying",LOG:"AdLog",BLOCKED:"AdBlocked",ERROR:"AdError",SKIPPABLE_REMAINING_TIME_CHANGE:"AdSkippableRemainingTimeChange"},e.prototype.adLinear=!0,e.prototype.adWidth=0,e.prototype.adHeight=0,e.prototype.adExpanded=!1,e.prototype.adSkippableState=!1,e.prototype.adRemainingTime=0,e.prototype.adDuration=0,e.prototype.adVolume=0,e.prototype.adCompanions=[],e.prototype.adIcons=!1,e.prototype.adSkippableRemainingTime=0,e.prototype._events=null,e.prototype._videoSlot=null,e.prototype._trigger=function(){var t,e;t=1<=arguments.length?r.call(arguments,0):[],null!=(e=this._events)&&e.trigger.apply(e,t)},e.prototype.handshakeVersion=function(t){return n()},e.prototype.subscribe=function(t,e,i){var n;null!=(n=this._events)&&n.on(e,t,i)},e.prototype.unsubscribe=function(t,e){var i;null!=(i=this._events)&&i.off(e,t)},e.prototype.initAd=function(t,e,i,r,o,s){return n()},e.prototype.resizeAd=function(t,e,i){return n()},e.prototype.startAd=function(){return n()},e.prototype.stopAd=function(){return n()},e.prototype.expandAd=function(){return n()},e.prototype.collapseAd=function(){return n()},e.prototype.skipAd=function(){return n()},e.prototype.getAdDuration=function(){return n()},e.prototype.getAdRemainingTime=function(){return n()},e.prototype.getAdSkippableState=function(){return n()},e.prototype.getAdSkippableRemainingTime=function(){return n()},e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e;return t=function(){function t(){}return t.prototype.on=function(t,e,i){return null==i&&(i=null),"function"==typeof e?(this.listeners||(this.listeners={}),this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({func:e,scope:i}),this):void 0},t.prototype.off=function(t,e){var i,n,r,o;if("function"!=typeof e)this.listeners[t]=[];else if(null!=this.listeners[t])for(o=this.listeners[t],n=r=o.length-1;r>=0;n=r+=-1)i=o[n],i.func===e&&this.listeners[t].splice(n,1)},t.prototype.trigger=function(){var t,e,i,n,o,s;if(i=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],null!=(o=this.listeners)?o[i]:void 0)for(s=this.listeners[i],n=s.length-1;n>=0;n+=-1)if(e=s[n],e.func.apply(e.scope,t)===!1)return},t}(),e=function(){var t,e,i,n,r,o;for(t=e=1,r=arguments.length;r>=1?r>=e:e>=r;t=r>=1?++e:--e){n=arguments[t];for(i in n)o=n[i],n.hasOwnProperty(i)&&(arguments[0][i]=o)}return arguments[0]},{Events:t,extend:e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice,o=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){var t,e,i,n,s;return i=function(t,e,i){return function(){var e,n;try{return t.apply(this,arguments)}catch(e){return n=e,"function"==typeof i?i(n):void 0}}},t=function(t,e,i){return function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],i(e,"(",n.map(function(t){switch(typeof t){case"function":return"function";case"object":return"Object";default:return t}}).join(", "),")"),t.apply(this,n)}},s=function(){var t,e,i,n,s,a,u,h;s=arguments[0],t=arguments[1],i=3<=arguments.length?r.call(arguments,2):[],h=t.wrapperName,u=t.wrapperFunction,null==s._wrapped&&(s._wrapped=[]);for(n in s)a=s[n],null==(e=s._wrapped)[n]&&(e[n]=[]),"function"!=typeof a||o.call(s._wrapped[n],h)>=0||(s[n]=u.apply(null,[a,n].concat(r.call(i))),s._wrapped[n].push(h))},n=function(t,e){return s(t,{wrapperName:"safe",wrapperFunction:i},e)},e=function(e,i){return s(e,{wrapperName:"log",wrapperFunction:t},i)},{safeObject:n,loggedObject:e}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g,S;return l=i(4),m=i(11).get("Ads"),s=i(57),n=i(53),t=i(51),e=i(52),E=i(61).loadVMAPModules,_=i(183).obfuscate,a=null,u=null,o=null,p=null,f=null,v=null,g=null,S={globalAdTimeout:0,loadAd:0,initAd:0,startAd:0,bufferAd:0},c=function(t){var e;return e=_("proxy=1&lr_params="+encodeURIComponent($.param(t))),"/ac/video/"+l.metadata("id")+"?"+e},d=function(e,i){var n,r,s,a,u,h,l,d,c,f;if(r=$.Deferred(),(null!=e&&null!=(u=e.adBreaks)?u.length:void 0)>0)for(h=null!=e?e.adBreaks:void 0,s=0,a=h.length;a>s;s++){switch(n=h[s],i){case"preroll":if("start"!==n.timeOffset)continue;break;case"postroll":if("end"!==n.timeOffset)continue;break;default:continue}return null!=(null!=n&&null!=(l=n.adSource)?l.vastAdData:void 0)?(f={supported:function(){return!0},get:function(t,e,i){var r,o;return"xml"===t?(o={documentElement:null!=n&&null!=(r=n.adSource)?r.vastAdData:void 0},i(null,o)):$.get(t).done(function(t){return i(null,t)}).fail(function(t,e){return i(e,null)})}},o.client.get("xml",{urlhandler:f},function(e){return e?r.resolve(n,e):(n.track("error",1002),r.reject({type:t.VAST_XML_PARSING_FAILED}))})):null!=(null!=n&&null!=(d=n.adSource)?d.adTagURI:void 0)?o.client.get(null!=n&&null!=(c=n.adSource)?c.adTagURI:void 0,function(e){return e?r.resolve(n,e):(n.track("error",1002),r.reject({type:t.VAST_XML_PARSING_FAILED}))}):(m.warn("VMAP empty ad source"),r.reject({type:t.VMAP_NO_ADS})),r.promise()}return r.reject({type:t.VMAP_NO_ADS}),r.promise()},h=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.loadAdProviderSdk=function(e){var i,r;return e.cache||(this.mediaFile=null,f=null,v=null,g=null),S.globalAdTimeout=this.getTimeoutDurationForStep(n.types.GLOBAL_AD),this.deadline=(new Date).getTime()+S.globalAdTimeout,S.startAd=0,p||(p=this.newTimedDeferred(t.VMAP_LOAD_TIMEOUT),r=this.deadline-(new Date).getTime(),i=$.ajax({url:c(this.getCreativeData()),dataType:"xml",timeout:r,xhrFields:{withCredentials:!0}}),$.when(E(),i).always(function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.loadAd=t.remaining(),m.log("LoadAd ",S.loadAd)}}(this)).done(function(e){return function(i,n){var r,s,h;r=n[0],u=i.VMAP,o=i.DMVAST,a=i.VASTMediaFile,o.util.track=function(t,e){var i,n,r,o,s;for(n=this.resolveURLTemplates(t,e),s=[],r=0,o=n.length;o>r;r++)i=n[r],s.push($.get(i));return s};try{return e.vmap=new u(r),p.resolve()}catch(h){return s=h,p.reject({type:t.VMAP_LOAD_XML_PARSING_FAILED,message:s})}}}(this)).fail(function(e,i){var n;return n=function(){switch(i){case"timeout":return t.VMAP_LOAD_TIMEOUT;case"error":return 0===e.status?t.VMAP_LOAD_NET_ERROR:t.VMAP_LOAD_ERROR;case"parsererror":return t.VMAP_LOAD_XML_PARSING_FAILED;default:return t.VMAP_LOAD_ERROR}}(),p.reject({message:i,type:n})})),p.promise()},i.prototype.callInitAd=function(e){return f||(f=this.newTimedDeferred(t.VMAP_INIT_TIMEOUT),d(this.vmap,e.position).done(function(i){return function(n,r){var o,s,u,h,l,d,c,p,E,m,_,v,g,S,T,A,D,y,b,I,N,R,O,C,P,L,w,V;for(b=null!=n?n.trackingEvents:void 0,c=0,_=b.length;_>c;c++){if(w=b[c],"error"===w.event)for(I=r.ads,p=0,v=I.length;v>p;p++)o=I[p],null!=(N=o.errorURLTemplates)&&N.push(w.uri);if("breakStart"===w.event)for(R=r.ads,E=0,g=R.length;g>E;E++)o=R[E],null!=(O=o.impressionURLTemplates)&&O.push(w.uri);if("breakEnd"===w.event)for(C=r.ads,m=0,S=C.length;S>m;m++)for(o=C[m],P=o.creatives,D=0,T=P.length;T>D;D++)if(s=P[D],"linear"===s.type&&s.trackingEvents)for(L=["complete","close","skip"],y=0,A=L.length;A>y;y++)l=L[y],s.trackingEvents[l]?s.trackingEvents[l].push(w.uri):s.trackingEvents[l]=[w.uri]}return i.adBreak=n,d=e.size.player.height,V=e.size.player.width,u=i.getCreativeData(),h={slot:i.videoWrapper,videoSlot:i.videoElement,vast:r,vastRules:{closeButtonDisplayDelay:5}},i.mediaFile=new a,i.mediaFile.initAd(V,d,null,null,u,h).done(function(){return f.resolve(i.mediaFile)}).fail(function(e){return f.reject({message:e,type:t.VMAP_INIT_ERROR})})}}(this)).fail(function(t){return f.reject(t)}).always(function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.initAd=t.remaining(),m.log("InitAd ",S.initAd)}}(this))),f.promise()},i.prototype.callStartAd=function(){var e,i,r,o,a,u;if(!v){v=this.newTimedDeferred(t.VMAP_START_TIMEOUT),u=function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.startAd=t.remaining(),m.log("StartAd ",S.startAd),t.mediaFile.unsubscribe(a,s.events.STARTED),t.mediaFile.unsubscribe(o,s.events.ERROR),t.mediaFile.unsubscribe(r,s.events.BLOCKED)}}(this),a=function(t){return function(){return u(),v.resolve(t.mediaFile)}}(this),o=function(e){return function(i){return u(),e.mediaFile.stopAd(),v.reject({message:i,type:t.VMAP_START_ERROR})}}(this),r=function(e){return function(i){return u(),e.mediaFile.stopAd(),v.reject({message:i,type:t.VMAP_START_BLOCKED})}}(this),this.mediaFile.subscribe(a,s.events.STARTED),this.mediaFile.subscribe(o,s.events.ERROR),this.mediaFile.subscribe(r,s.events.BLOCKED);try{this.mediaFile.startAd()}catch(i){e=i,o(e.message)}}return v.promise()},i.prototype.callStopAd=function(){var e,i,r,o,a;if(!g){g=$.Deferred(),this.setAdTimeout(n.types.STOP_AD,0,function(){g.reject({message:"Timeout reached for "+n.types.STOP_AD,type:t.VMAP_STOP_TIMEOUT})}),a=function(t){return function(){return t.clearAdTimeout(n.types.GLOBAL_AD),S.stopAd=t.remaining(),m.log("StopAd ",S.stopAd),t.mediaFile.unsubscribe(o,s.events.STOPED),t.mediaFile.unsubscribe(r,s.events.ERROR)}}(this),o=function(t){return function(){return a(),g.resolve(t.mediaFile)}}(this),r=function(e){return a(),g.reject({message:e,type:t.VMAP_STOP_ERROR})},this.mediaFile.subscribe(o,s.events.STOPED),this.mediaFile.subscribe(r,s.events.ERROR);try{this.mediaFile.stopAd()}catch(i){e=i,r(e.message)}}return g.promise()},i.prototype.getCreativeData=function(t){var e,i,n,r,o,s,a;for((o=this.config.params.LR_TAGS)&&(o=o.replace(/(PTYPE_)web/,"$1html"),this.config.params.LR_TAGS=o),(r=this.config.params.LR_DM_PTYPE)&&(this.config.params.LR_DM_PTYPE=r.replace(/web/,"html")),null==this.config.params.LR_AUTOPLAY&&(this.config.params.LR_AUTOPLAY=(null!=t?t.canAutoplay:void 0)?1:0),"userHome"!==(s=this.config.params.LR_DM_PAGE)&&"playerPage"!==s&&"playlist"!==s||(this.config.params.LR_AUTOPLAY=0),a=["LR_VIDEO_POSITION","LR_SCHEMA","LR_FORMAT"],i=0,n=a.length;n>i;i++)e=a[i],(null!=t?t[e]:void 0)&&(this.config.params[e]=t[e]);return this.config.params},i.prototype.getTimeoutInfo=function(){return S},i.prototype.getTimeoutDurationForStep=function(t){var e,i;return e=this.config.timeouts,i=function(){if(!e)return null;switch(t){case n.types.GLOBAL_AD:return e.global;case n.types.STOP_AD:return e.stop;default:return m.warn("Unkonwn Timeout Type :",t),null}}(),i||n.defaults[t]},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=null,n=null,e=null,{loadDynamicQualitySwitcher:function(e){return t=e,i.e(2,function(n){var r;if(t===e)return r=i(62),t(r)})},loadPeer5:function(){return null===e&&(e=$.Deferred(),i.e(3,function(t){var n;return n=i(120),e.resolve(n)})),e.promise()},loadAudienceClient:function(t){return i.e(4,function(e){return i(128),t()})},loadVMAPModules:function(){return null===n&&(n=$.Deferred(),i.e(5,function(t){var e,r,o;return o=i(129),e=i(133),r=i(147),n.resolve({VMAP:o,DMVAST:e,VASTMediaFile:r})})),n.promise()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,function(t,e,i){var n=i(64),r=i(89),o=r(n);t.exports=o},function(t,e,i){var n=i(65),r=i(88),o=r(n);t.exports=o},function(t,e,i){function n(t,e){return r(t,e,o)}var r=i(66),o=i(73);t.exports=n},function(t,e,i){var n=i(67),r=n();t.exports=r},function(t,e,i){function n(t){return function(e,i,n){for(var o=r(e),s=n(e),a=s.length,u=t?a:-1;t?u--:++u<a;){var h=s[u];if(i(o[h],h,o)===!1)break}return e}}var r=i(68);t.exports=n},function(t,e,i){function n(t){if(s.unindexedChars&&o(t)){for(var e=-1,i=t.length,n=Object(t);++e<i;)n[e]=t.charAt(e);return n}return r(t)?t:Object(t)}var r=i(69),o=i(70),s=i(72);t.exports=n},function(t,e){function i(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=i},function(t,e,i){function n(t){return"string"==typeof t||r(t)&&a.call(t)==o}var r=i(71),o="[object String]",s=Object.prototype,a=s.toString;t.exports=n},function(t,e){function i(t){return!!t&&"object"==typeof t}t.exports=i},function(t,e){var i=Array.prototype,n=Error.prototype,r=Object.prototype,o=r.propertyIsEnumerable,s=i.splice,a={};!function(t){var e=function(){this.x=t},i={0:t,length:t},r=[];e.prototype={valueOf:t,y:t};for(var u in new e)r.push(u);a.enumErrorProps=o.call(n,"message")||o.call(n,"name"),a.enumPrototypes=o.call(e,"prototype"),a.nonEnumShadows=!/valueOf/.test(r),a.ownLast="x"!=r[0],a.spliceObjects=(s.call(i,0,1),!i[0]),a.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),t.exports=a},function(t,e,i){var n=i(74),r=i(78),o=i(69),s=i(82),a=i(72),u=n(Object,"keys"),h=u?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:r(t))?s(t):o(t)?u(t):[]}:s;t.exports=h},function(t,e,i){function n(t,e){var i=null==t?void 0:t[e];return r(i)?i:void 0}var r=i(75);t.exports=n},function(t,e,i){function n(t){return null==t?!1:r(t)?d.test(h.call(t)):s(t)&&(o(t)?d:a).test(t)}var r=i(76),o=i(77),s=i(71),a=/^\[object .+?Constructor\]$/,u=Object.prototype,h=Function.prototype.toString,l=u.hasOwnProperty,d=RegExp("^"+h.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,i){function n(t){return r(t)&&a.call(t)==o}var r=i(69),o="[object Function]",s=Object.prototype,a=s.toString;t.exports=n},function(t,e){var i=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();t.exports=i},function(t,e,i){function n(t){return null!=t&&o(r(t))}var r=i(79),o=i(81);t.exports=n},function(t,e,i){var n=i(80),r=n("length");t.exports=r},function(t,e,i){function n(t){return function(e){return null==e?void 0:r(e)[t]}}var r=i(68);t.exports=n},function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&n>=t}var n=9007199254740991;t.exports=i},function(t,e,i){function n(t){for(var e=h(t),i=e.length,n=i&&t.length,l=!!n&&a(n)&&(o(t)||r(t)||u(t)),c=-1,f=[];++c<i;){var p=e[c];(l&&s(p,n)||d.call(t,p))&&f.push(p)}return f}var r=i(83),o=i(84),s=i(85),a=i(81),u=i(70),h=i(86),l=Object.prototype,d=l.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){return o(t)&&r(t)&&a.call(t,"callee")&&!u.call(t,"callee")}var r=i(78),o=i(71),s=Object.prototype,a=s.hasOwnProperty,u=s.propertyIsEnumerable;t.exports=n},function(t,e,i){var n=i(74),r=i(81),o=i(71),s="[object Array]",a=Object.prototype,u=a.toString,h=n(Array,"isArray"),l=h||function(t){return o(t)&&r(t.length)&&u.call(t)==s};t.exports=l},function(t,e){function i(t,e){return t="number"==typeof t||n.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&e>t}var n=/^\d+$/,r=9007199254740991;t.exports=i},function(t,e,i){function n(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&h(e)&&(s(t)||o(t)||d(t))&&e||0;
for(var i=t.constructor,n=-1,r=a(i)&&i.prototype||y,f=r===t,p=Array(e),E=e>0,_=c.enumErrorProps&&(t===D||t instanceof Error),v=c.enumPrototypes&&a(t);++n<e;)p[n]=n+"";for(var S in t)v&&"prototype"==S||_&&("message"==S||"name"==S)||E&&u(S,e)||"constructor"==S&&(f||!I.call(t,S))||p.push(S);if(c.nonEnumShadows&&t!==y){var O=t===b?T:t===D?m:N.call(t),C=R[O]||R[g];for(O==g&&(r=y),e=A.length;e--;){S=A[e];var P=C[S];f&&P||(P?!I.call(t,S):t[S]===r[S])||p.push(S)}}return p}var r=i(87),o=i(83),s=i(84),a=i(76),u=i(85),h=i(81),l=i(69),d=i(70),c=i(72),f="[object Array]",p="[object Boolean]",E="[object Date]",m="[object Error]",_="[object Function]",v="[object Number]",g="[object Object]",S="[object RegExp]",T="[object String]",A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],D=Error.prototype,y=Object.prototype,b=String.prototype,I=y.hasOwnProperty,N=y.toString,R={};R[f]=R[E]=R[v]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},R[p]=R[T]={constructor:!0,toString:!0,valueOf:!0},R[m]=R[_]=R[S]={constructor:!0,toString:!0},R[g]={constructor:!0},r(A,function(t){for(var e in R)if(I.call(R,e)){var i=R[e];i[t]=I.call(i,t)}}),t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=t.length;++i<n&&e(t[i],i,t)!==!1;);return t}t.exports=i},function(t,e,i){function n(t,e){return function(i,n){var a=i?r(i):0;if(!o(a))return t(i,n);for(var u=e?a:-1,h=s(i);(e?u--:++u<a)&&n(h[u],u,h)!==!1;);return i}}var r=i(79),o=i(81),s=i(68);t.exports=n},function(t,e,i){function n(t,e){return function(i,n,u){if(n=r(n,u,3),a(i)){var h=s(i,n,e);return h>-1?i[h]:void 0}return o(i,n,t)}}var r=i(90),o=i(114),s=i(115),a=i(84);t.exports=n},function(t,e,i){function n(t,e,i){var n=typeof t;return"function"==n?void 0===e?t:s(t,e,i):null==t?a:"object"==n?r(t):void 0===e?u(t):o(t,e)}var r=i(91),o=i(103),s=i(110),a=i(111),u=i(112);t.exports=n},function(t,e,i){function n(t){var e=o(t);if(1==e.length&&e[0][2]){var i=e[0][0],n=e[0][1];return function(t){return null==t?!1:(t=s(t),t[i]===n&&(void 0!==n||i in t))}}return function(t){return r(t,e)}}var r=i(92),o=i(100),s=i(68);t.exports=n},function(t,e,i){function n(t,e,i){var n=e.length,s=n,a=!i;if(null==t)return!s;for(t=o(t);n--;){var u=e[n];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++n<s;){u=e[n];var h=u[0],l=t[h],d=u[1];if(a&&u[2]){if(void 0===l&&!(h in t))return!1}else{var c=i?i(l,d,h):void 0;if(!(void 0===c?r(d,l,i,!0):c))return!1}}return!0}var r=i(93),o=i(68);t.exports=n},function(t,e,i){function n(t,e,i,a,u,h){return t===e?!0:null==t||null==e||!o(t)&&!s(e)?t!==t&&e!==e:r(t,e,n,i,a,u,h)}var r=i(94),o=i(69),s=i(71);t.exports=n},function(t,e,i){function n(t,e,i,n,f,m,_){var v=a(t),g=a(e),S=d,T=d;v||(S=E.call(t),S==l?S=c:S!=c&&(v=h(t))),g||(T=E.call(e),T==l?T=c:T!=c&&(g=h(e)));var A=S==c&&!u(t),D=T==c&&!u(e),y=S==T;if(y&&!v&&!A)return o(t,e,S);if(!f){var b=A&&p.call(t,"__wrapped__"),I=D&&p.call(e,"__wrapped__");if(b||I)return i(b?t.value():t,I?e.value():e,n,f,m,_)}if(!y)return!1;m||(m=[]),_||(_=[]);for(var N=m.length;N--;)if(m[N]==t)return _[N]==e;m.push(t),_.push(e);var R=(v?r:s)(t,e,i,n,f,m,_);return m.pop(),_.pop(),R}var r=i(95),o=i(97),s=i(98),a=i(84),u=i(77),h=i(99),l="[object Arguments]",d="[object Array]",c="[object Object]",f=Object.prototype,p=f.hasOwnProperty,E=f.toString;t.exports=n},function(t,e,i){function n(t,e,i,n,o,s,a){var u=-1,h=t.length,l=e.length;if(h!=l&&!(o&&l>h))return!1;for(;++u<h;){var d=t[u],c=e[u],f=n?n(o?c:d,o?d:c,u):void 0;if(void 0!==f){if(f)continue;return!1}if(o){if(!r(e,function(t){return d===t||i(d,t,n,o,s,a)}))return!1}else if(d!==c&&!i(d,c,n,o,s,a))return!1}return!0}var r=i(96);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}t.exports=i},function(t,e){function i(t,e,i){switch(i){case n:case r:return+t==+e;case o:return t.name==e.name&&t.message==e.message;case s:return t!=+t?e!=+e:t==+e;case a:case u:return t==e+""}return!1}var n="[object Boolean]",r="[object Date]",o="[object Error]",s="[object Number]",a="[object RegExp]",u="[object String]";t.exports=i},function(t,e,i){function n(t,e,i,n,o,a,u){var h=r(t),l=h.length,d=r(e),c=d.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=h[f];if(!(o?p in e:s.call(e,p)))return!1}for(var E=o;++f<l;){p=h[f];var m=t[p],_=e[p],v=n?n(o?_:m,o?m:_,p):void 0;if(!(void 0===v?i(m,_,n,o,a,u):v))return!1;E||(E="constructor"==p)}if(!E){var g=t.constructor,S=e.constructor;if(g!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof S&&S instanceof S))return!1}return!0}var r=i(73),o=Object.prototype,s=o.hasOwnProperty;t.exports=n},function(t,e,i){function n(t){return o(t)&&r(t.length)&&!!O[P.call(t)]}var r=i(81),o=i(71),s="[object Arguments]",a="[object Array]",u="[object Boolean]",h="[object Date]",l="[object Error]",d="[object Function]",c="[object Map]",f="[object Number]",p="[object Object]",E="[object RegExp]",m="[object Set]",_="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",S="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",D="[object Int16Array]",y="[object Int32Array]",b="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]",O={};O[S]=O[T]=O[A]=O[D]=O[y]=O[b]=O[I]=O[N]=O[R]=!0,O[s]=O[a]=O[g]=O[u]=O[h]=O[l]=O[d]=O[c]=O[f]=O[p]=O[E]=O[m]=O[_]=O[v]=!1;var C=Object.prototype,P=C.toString;t.exports=n},function(t,e,i){function n(t){for(var e=o(t),i=e.length;i--;)e[i][2]=r(e[i][1]);return e}var r=i(101),o=i(102);t.exports=n},function(t,e,i){function n(t){return t===t&&!r(t)}var r=i(69);t.exports=n},function(t,e,i){function n(t){t=o(t);for(var e=-1,i=r(t),n=i.length,s=Array(n);++e<n;){var a=i[e];s[e]=[a,t[a]]}return s}var r=i(73),o=i(68);t.exports=n},function(t,e,i){function n(t,e){var i=a(t),n=u(t)&&h(e),f=t+"";return t=c(t),function(a){if(null==a)return!1;var u=f;if(a=d(a),(i||!n)&&!(u in a)){if(a=1==t.length?a:r(a,s(t,0,-1)),null==a)return!1;u=l(t),a=d(a)}return a[u]===e?void 0!==e||u in a:o(e,a[u],void 0,!0)}}var r=i(104),o=i(93),s=i(105),a=i(84),u=i(106),h=i(101),l=i(107),d=i(68),c=i(108);t.exports=n},function(t,e,i){function n(t,e,i){if(null!=t){t=r(t),void 0!==i&&i in t&&(e=[i]);for(var n=0,o=e.length;null!=t&&o>n;)t=r(t)[e[n++]];return n&&n==o?t:void 0}}var r=i(68);t.exports=n},function(t,e){function i(t,e,i){var n=-1,r=t.length;e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),i=void 0===i||i>r?r:+i||0,0>i&&(i+=r),r=e>i?0:i-e>>>0,e>>>=0;for(var o=Array(r);++n<r;)o[n]=t[n+e];return o}t.exports=i},function(t,e,i){function n(t,e){var i=typeof t;if("string"==i&&a.test(t)||"number"==i)return!0;if(r(t))return!1;var n=!s.test(t);return n||null!=e&&t in o(e)}var r=i(84),o=i(68),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=n},function(t,e){function i(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=i},function(t,e,i){function n(t){if(o(t))return t;var e=[];return r(t).replace(s,function(t,i,n,r){e.push(n?r.replace(a,"$1"):i||t)}),e}var r=i(109),o=i(84),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;t.exports=n},function(t,e){function i(t){return null==t?"":t+""}t.exports=i},function(t,e,i){function n(t,e,i){if("function"!=typeof t)return r;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)};case 5:return function(i,n,r,o,s){return t.call(e,i,n,r,o,s)}}return function(){return t.apply(e,arguments)}}var r=i(111);t.exports=n},function(t,e){function i(t){return t}t.exports=i},function(t,e,i){function n(t){return s(t)?r(t):o(t)}var r=i(80),o=i(113),s=i(106);t.exports=n},function(t,e,i){function n(t){var e=t+"";return t=o(t),function(i){return r(i,t,e)}}var r=i(104),o=i(108);t.exports=n},function(t,e){function i(t,e,i,n){var r;return i(t,function(t,i,o){return e(t,i,o)?(r=n?i:t,!1):void 0}),r}t.exports=i},function(t,e){function i(t,e,i){for(var n=t.length,r=i?n:-1;i?r--:++r<n;)if(e(t[r],r,t))return r;return-1}t.exports=i},,,function(t,e,i){var n,r=[].slice,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(){var t,e,i;return i=document.createElement("a"),e=function(){function t(t,e,i,n,r,o,s){this.protocol=t,this.host=e,this.hostname=i,this.port=n,this.pathname=null!=r?r:"",this.search=null!=o?o:"",this.hash=null!=s?s:"",this.href=this.protocol?this.protocol+"//"+this.host+this.pathname+this.search+this.hash:this.host?"//"+this.host+this.pathname+this.search+this.hash:this.pathname+this.search+this.hash}return t.prototype.params=function(e){return null==this._params&&(this._params=t.parseQueryString(this.search)),e?this._params[e]?this._params[e][0]:null:this._params},t.regexp=/^(?:(https?:)\/\/(([^:\/]+)(:[^\/]+)?))?([^#?]*)(\\?[^#]*)?(#.*)?$/,t.parse=function(e){var i,n,o;return o=e.match(this.regexp),i=o[0],n=2<=o.length?r.call(o,1):[],o?function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(t,n,function(){}):null},t.parseQueryString=function(t,e){var i,n,r,o,s,a,u;if(null==e&&(e=!1),a={},""===t)return a;for(s=t.substring(1).split(/[;&]/),i=0,r=s.length;r>i;i++)o=s[i],o=o.split("="),n=decodeURIComponent(o[0]),u=decodeURIComponent(o[1]),e===!0?a[n]=u:(a[n]||(a[n]=[]),a[n].push(u));return a},t.appendQueryStringParameter=function(t,e){return i.href=t,t+=""+(i.search.length?"&":"?")+e,i.href="",t},t}(),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.params=function(t){var i;return i=function(t,e){var n,r,o,s,a,u,h;for(null==e&&(e=/[&]/),u={},a=t.split(e),n=0,o=a.length;o>n;n++)s=a[n],s=s.split("="),r=decodeURIComponent(s[0]),h=s.length<=2?decodeURIComponent(s[1]):i(s.slice(1).join("="),/[;]/),u[r]||(u[r]=[]),u[r].push(h);return u},this._params?e.__super__.params.call(this,t):this._params=i(this.search.substring(1))},e.parse=function(t){var i,n,o;return o=t.match(this.regexp),i=o[0],n=2<=o.length?r.call(o,1):[],o?function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(e,n,function(){}):null},e}(e),{Location:e,AuditudeLocation:t}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o;return n=i(4),t=i(118).Location,o=i(11).get("URL Resolver"),e=i(39),{resolveStreamUrl:function(i,s){var a;return a=$.Deferred(),"recorded"===n.metadata("stream_type")&&s===e.HLS?a.resolve(i):(i=t.appendQueryStringParameter(i,"redirect=0"),o.log("Resolving URL",i),$.get(i).done(a.resolve).fail(function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],o.log("URL failed to resolve"),a.reject.apply(a,t)})),a.promise()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return r=i(149),s=i(63),a=i(73),u=i(159),h=i(162),l=i(171),t={240:{name:"240",label:"240p",tag:""},380:{name:"380",label:"380p",tag:""},480:{name:"480",label:"480p",tag:""},720:{name:"720",label:"720p",tag:"HD"},1080:{name:"1080",label:"1080p",tag:"HD"},1440:{name:"1440",label:"1440p",tag:"HD"},2160:{name:"2160",label:"2160p",tag:"4K"},source:{name:"source",label:"Source",tag:""},audio:{name:"audio",label:"Audio",tag:""}},n=function(e){return null!=t[e]?r(t[e],!0):null},o=function(t,e){return l(t,function(t,i){return Math.abs(e-t)<Math.abs(e-i)?t:i})},e=function(){function e(){this._qualities={},this.hasNumericQualities=!1}return e.AUTHORIZED_QUALITIES=t,e.normalizeQuality=n,e.createFromLevels=function(t,i){var n,r,o,s,a,u;for(a=new e,r=n=0,o=t.length;o>n;r=++n)s=t[r],u=e.normalizeQuality(s.name||this.getNumericQualityNameFromVideoSize(s.width,s.height)),u&&(s.index=r,a.addQuality(u.name,u.label,u.tag,i,r,s));return a},e.getNumericQualityNameFromVideoSize=function(e,i){var n,r,s,u,h,l;return s={3840:t[2160].name,2560:t[1440].name,1920:t[1080].name,1280:t[720].name,848:t[480].name,512:t[380].name,320:t[240].name},h={2160:t[2160].name,1440:t[1440].name,1080:t[1080].name,720:t[720].name,480:t[480].name,380:t[380].name,240:t[240].name},l=e>=i?{mapping:s,dimension:e}:{mapping:h,dimension:i},u=l.mapping,n=l.dimension,r=o(a(u),n),u[r]},e.prototype.addQuality=function(t,e,i,n,r,o){return null==o&&(o=null),this.hasQuality(t)||(this._qualities[t]={name:t,label:e,tag:i,resource:n,index:r,levels:[]}),$.isNumeric(t)&&(this.hasNumericQualities=!0),null!=o?this._qualities[t].levels.push(o):void 0},e.prototype.hasQuality=function(t){return null!=this._qualities[t]},e.prototype.hasLevels=function(t){return this.hasQuality(t)&&this._qualities[t].levels.length},e.prototype.getQualityForLevel=function(t){var e,i,n;n=this._qualities;for(e in n)if(i=n[e],s(i.levels,{index:t}))return this._qualities[e]},e.prototype.getQualityForName=function(t){var e;return e=this.hasQuality(t)?this._qualities[t]:null},e.prototype.getFirstAvailable=function(){return this._qualities[a(this._qualities)[0]]},e.prototype.getLevelForQualityName=function(t){return this.hasLevels(t)?this._qualities[t].levels[0].index:null},e.prototype.getQualityNameOrClosestNumericQualityName=function(t){var e;return this.hasQuality(t)?t:$.isNumeric(t)&&this.hasNumericQualities?(e=this.availableQualityNames(),o(e,t)):null},e.prototype.getHighestQuality=function(){return this.hasNumericQualities?this._qualities[h(this.availableQualityNames().map(Number))]:null},e.prototype.adaptiveSupported=function(){return!0},e.prototype.availableQualityNames=function(){return a(this._qualities)},e.prototype.availableQualities=function(){var t;return t=u(this._qualities,function(t,e){var i;return i=r(t),delete i.levels,i}),t.reverse(),{adaptiveSupported:this.adaptiveSupported(),qualities:t}},e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){function n(t,e,i,n){return e&&"boolean"!=typeof e&&s(t,e,i)?e=!1:"function"==typeof e&&(n=i,i=e,e=!1),"function"==typeof i?r(t,e,o(i,n,3)):r(t,e)}var r=i(150),o=i(110),s=i(158);t.exports=n},function(t,e,i){function n(t,e,i,E,m,_,v){var S;if(i&&(S=m?i(t,E,m):i(t)),void 0!==S)return S;if(!f(t))return t;var T=d(t);if(T){if(S=u(t),!e)return r(t,S)}else{var D=F.call(t),y=D==g;if(D!=A&&D!=p&&(!y||m))return M[D]?h(t,D,e):m?t:{};if(c(t))return m?t:{};if(S=l(y?{}:t),!e)return s(S,t)}_||(_=[]),v||(v=[]);for(var b=_.length;b--;)if(_[b]==t)return v[b];return _.push(t),v.push(S),(T?o:a)(t,function(r,o){S[o]=n(r,e,i,o,t,_,v)}),S}var r=i(151),o=i(87),s=i(152),a=i(65),u=i(154),h=i(155),l=i(157),d=i(84),c=i(77),f=i(69),p="[object Arguments]",E="[object Array]",m="[object Boolean]",_="[object Date]",v="[object Error]",g="[object Function]",S="[object Map]",T="[object Number]",A="[object Object]",D="[object RegExp]",y="[object Set]",b="[object String]",I="[object WeakMap]",N="[object ArrayBuffer]",R="[object Float32Array]",O="[object Float64Array]",C="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",w="[object Uint8Array]",V="[object Uint8ClampedArray]",x="[object Uint16Array]",k="[object Uint32Array]",M={};M[p]=M[E]=M[N]=M[m]=M[_]=M[R]=M[O]=M[C]=M[P]=M[L]=M[T]=M[A]=M[D]=M[b]=M[w]=M[V]=M[x]=M[k]=!0,M[v]=M[g]=M[S]=M[y]=M[I]=!1;var U=Object.prototype,F=U.toString;t.exports=n},function(t,e){function i(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}t.exports=i},function(t,e,i){function n(t,e){return null==e?t:r(e,o(e),t)}var r=i(153),o=i(73);t.exports=n},function(t,e){function i(t,e,i){i||(i={});for(var n=-1,r=e.length;++n<r;){var o=e[n];i[o]=t[o]}return i}t.exports=i},function(t,e){function i(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(i.index=t.index,i.input=t.input),i}var n=Object.prototype,r=n.hasOwnProperty;t.exports=i},function(t,e,i){(function(e){function n(t,e,i){var n=t.constructor;switch(e){case l:return r(t);case o:case s:return new n(+t);case d:case c:case f:case p:case E:case m:case _:case v:case g:n instanceof n&&(n=A[e]);var T=t.buffer;return new n(i?r(T):T,t.byteOffset,t.length);case a:case h:return new n(t);case u:var D=new n(t.source,S.exec(t));D.lastIndex=t.lastIndex}return D}var r=i(156),o="[object Boolean]",s="[object Date]",a="[object Number]",u="[object RegExp]",h="[object String]",l="[object ArrayBuffer]",d="[object Float32Array]",c="[object Float64Array]",f="[object Int8Array]",p="[object Int16Array]",E="[object Int32Array]",m="[object Uint8Array]",_="[object Uint8ClampedArray]",v="[object Uint16Array]",g="[object Uint32Array]",S=/\w*$/,T=e.Uint8Array,A={};A[d]=e.Float32Array,A[c]=e.Float64Array,A[f]=e.Int8Array,A[p]=e.Int16Array,A[E]=e.Int32Array,A[m]=T,A[_]=e.Uint8ClampedArray,A[v]=e.Uint16Array,A[g]=e.Uint32Array,t.exports=n}).call(e,function(){return this}())},function(t,e){(function(e){function i(t){var e=new n(t.byteLength),i=new r(e);return i.set(new r(t)),e}var n=e.ArrayBuffer,r=e.Uint8Array;t.exports=i}).call(e,function(){return this}())},function(t,e){function i(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}t.exports=i},function(t,e,i){function n(t,e,i){if(!s(i))return!1;var n=typeof e;if("number"==n?r(i)&&o(e,i.length):"string"==n&&e in i){var a=i[e];return t===t?t===a:a!==a}return!1}var r=i(78),o=i(85),s=i(69);t.exports=n},function(t,e,i){function n(t,e,i){var n=a(t)?r:s;return e=o(e,i,3),n(t,e)}var r=i(160),o=i(90),s=i(161),a=i(84);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}t.exports=i},function(t,e,i){function n(t,e){var i=-1,n=o(t)?Array(t.length):[];return r(t,function(t,r,o){n[++i]=e(t,r,o)}),n}var r=i(64),o=i(78);t.exports=n},function(t,e,i){t.exports=i(163)},function(t,e,i){var n=i(164),r=i(170),o=Number.NEGATIVE_INFINITY,s=n(r,o);t.exports=s},function(t,e,i){function n(t,e){return function(i,n,l){if(l&&u(i,n,l)&&(n=void 0),n=o(n,l,3),1==n.length){i=a(i)?i:h(i);var d=r(i,n,t,e);if(!i.length||d!==e)return d}return s(i,n,t,e)}}var r=i(165),o=i(90),s=i(166),a=i(84),u=i(158),h=i(167);t.exports=n},function(t,e){function i(t,e,i,n){for(var r=-1,o=t.length,s=n,a=s;++r<o;){var u=t[r],h=+e(u);i(h,s)&&(s=h,a=u)}return a}t.exports=i},function(t,e,i){function n(t,e,i,n){var o=n,s=o;return r(t,function(t,r,a){var u=+e(t,r,a);(i(u,o)||u===n&&u===s)&&(o=u,s=t)}),s}var r=i(64);t.exports=n},function(t,e,i){function n(t){return null==t?[]:r(t)?a.unindexedChars&&s(t)?t.split(""):o(t)?t:Object(t):u(t)}var r=i(78),o=i(69),s=i(70),a=i(72),u=i(168);t.exports=n},function(t,e,i){function n(t){return r(t,o(t))}var r=i(169),o=i(73);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=e.length,r=Array(n);++i<n;)r[i]=t[e[i]];return r}t.exports=i},function(t,e){function i(t,e){return t>e}t.exports=i},function(t,e,i){var n=i(172),r=i(64),o=i(173),s=o(n,r);t.exports=s},function(t,e){function i(t,e,i,n){var r=-1,o=t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}t.exports=i},function(t,e,i){function n(t,e){return function(i,n,a,u){var h=arguments.length<3;return"function"==typeof n&&void 0===u&&s(i)?t(i,n,a,h):o(i,r(n,u,4),a,h,e)}}var r=i(90),o=i(174),s=i(84);t.exports=n},function(t,e){function i(t,e,i,n,r){return r(t,function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)}),i}t.exports=i},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return s=i(4),t=i(7),n=i(176),o=i(42).compose,u=i(11).get("Quality"),a=i(6),r=i(44),e=i(148),l=i(180),h="dmp_quality",d=function(){return this.attributes({qualities:null,videoTagSelector:null,playerSize:{width:0,height:0},defaultQualityName:"480"}),this._chooseClosestOrDefaultQuality=function(t){var e,i,n;return n=null,t&&(i=this.qualityList.getQualityNameOrClosestNumericQualityName(t))?(n=this.qualityList.getQualityForName(i),u.log("Choosing quality based on '"+t+"' (qs or requested value)")):(e=this.qualityList.getQualityNameOrClosestNumericQualityName(this.attr.defaultQualityName))?(n=this.qualityList.getQualityForName(e),u.log("Choosing quality based on '"+this.attr.defaultQualityName+"' (player size)")):(n=this.qualityList.getFirstAvailable(),u.log("No numeric quality available, picking the first one available...")),n},this._chooseInitialQualityState=function(){var t,i,n,r,o;return r=this.get(h),o=s.settings("quality"),n=e.getNumericQualityNameFromVideoSize(this.playerWidth,this.playerHeight),this.attr.defaultQualityName=n,i={adaptive:this.qualityList.adaptiveSupported()},r&&(t=this.qualityList.getQualityNameOrClosestNumericQualityName(r))?(i.adaptive=!1,i.quality=this.qualityList.getQualityForName(t),u.log("Choosing quality based on '"+r+"' (local storage)")):i.quality=this._chooseClosestOrDefaultQuality(o),i=this.sanitizeQualityState(i),u.log("Initial quality set",i),i},this._savePlayerSize=function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,"resolved"!==this.playerSizeDeferred.state()?this.playerSizeDeferred.resolve({width:e.width,height:e.height}):void 0},this._waitForInitialPlayerSize=function(){return this.playerWidth>0&&this.playerHeight>0&&this.playerSizeDeferred.resolve({width:this.playerWidth,height:this.playerHeight}),this.playerSizeDeferred.promise()},this._handleQualityChangedRequestedEvent=function(e,i){return this.waitForQualityListAndPlayerSize().then(function(e){return function(){var n,r,o,s,l,d;if(u.log("QUALITY_CHANGE_REQUESTED",i),l=""+((null!=i?i.qualityName:void 0)||""),s=(null!=i?i.adaptive:void 0)||!1,r=null!=(null!=i?i.startPlayback:void 0),n=r&&e.startupsCount>0,d=n?"replay":r?"start":"current",r)e.startupsCount++,o=e._nextQualityState;else{if(e.isQualityStateNull(e._currentQualityState)||e._currentQualityState.adaptive&&s||!e._currentQualityState.adaptive&&!s&&l===e._currentQualityState.quality.name)return void u.log("Skipping quality change request");s?(o={adaptive:e.qualityList.adaptiveSupported()},e.remove(h)):(o={adaptive:!1},u.log("Save '"+l+"' quality in local storage"),e.set(h,l)),o.quality=e._chooseClosestOrDefaultQuality(l||e._currentQualityState.quality.name),o=e.sanitizeQualityState(o)}return null!=o.quality?(e._nextQualityState=o,e.changeQuality(o,d,i.startPlayback)):e.trigger(t.ERROR_PLAYER,{error:a.MEDIA_ERR_SRC_NOT_SUPPORTED})}}(this))},this.handleErrorEvent=function(){throw new Error("Implement Me!!!")},this.handleLoadedmetadataEvent=function(){throw new Error("Implement Me!!!")},this.handleInitialQualitySet=function(){throw new Error("Implement Me!!!")},this.streamCell=function(){throw new Error("Implement Me!!!")},this.streamTech=function(){throw new Error("Implement Me!!!")},this.changeQuality=function(){throw new Error("Implement Me!!!")},this.waitForQualityList=function(){throw new Error("Implement Me!!! And return a promise that resolves with the qualityList instance")},this.getStats=function(){throw new Error("Implement Me!!!")},this.sanitizeQualityState=function(t){return t},this.setInitialQualityState=function(){return this._nextQualityState=this._chooseInitialQualityState(),this.handleInitialQualitySet(this._nextQualityState)},this.notifyQualityChangeConfirmed=function(e,i){var n,r;return null==i&&(i=!1),i||e.adaptive!==this._currentQualityState.adaptive||(null!=(n=e.quality)?n.name:void 0)!==(null!=(r=this._currentQualityState.quality)?r.name:void 0)?(u.log("QUALITY_CHANGE_CONFIRMED",e),this.trigger(t.QUALITY_CHANGE_CONFIRMED,e)):u.log("Skipping quality change confirmed")},this.notifyQualityChanged=function(e){var i,r,o,a,h,l,d;return d=this.videoTag.videoWidth,a=this.videoTag.videoHeight,o=d>0&&a>0,l=d!==this.videoWidth||a!==this.videoHeight,i=e.adaptive!==this._currentQualityState.adaptive,h="audio"===s.metadata("media_type"),o&&(l||i)||h?(this._currentQualityState=e,this.videoWidth=d,this.videoHeight=a,r=n({videoWidth:this.videoWidth,videoHeight:this.videoHeight,streamTech:this.streamTech(),streamCell:this.streamCell()},e),u.log("QUALITY_CHANGED",r),this.trigger(t.QUALITY_CHANGED,r)):void 0},this.getCurrentQualityState=function(){return this._currentQualityState},this.getNextQualityState=function(){return this._nextQualityState},this.isQualityStateNull=function(t){return null===t.adaptive&&null===t.quality},this.setQualityList=function(e){return this.qualityList=e,u.log("QUALITIES_AVAILABLE",this.qualityList.availableQualities()),this.trigger(t.QUALITIES_AVAILABLE,this.qualityList.availableQualities()),this.qualityList},this.waitForQualityListAndPlayerSize=function(){return null!=this._waitForQualityListAndPlayerSize?this._waitForQualityListAndPlayerSize:this._waitForQualityListAndPlayerSize=$.when(this.waitForQualityList(),this._waitForInitialPlayerSize())},this.setup=function(){return this.waitForQualityListAndPlayerSize().then(function(t){return function(e,i){return t.setInitialQualityState()}}(this))},this.bindMediaEvents=function(){return this.on(this.videoTag,"error",this.handleErrorEvent),this.on(this.videoTag,"loadedmetadata",this.handleLoadedmetadataEvent)},this.unbindMediaEvents=function(){return this.off(this.videoTag,"error",this.handleErrorEvent),this.off(this.videoTag,"loadedmetadata",this.handleLoadedmetadataEvent)},this.triggerPlayerError=function(e){return this.remove(h),this.trigger(t.ERROR_PLAYER,{error:e})},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.playerWidth=this.attr.playerSize.width,this.playerHeight=this.attr.playerSize.height,this.playerSizeDeferred=$.Deferred(),this.videoWidth=0,this.videoHeight=0,this.qualityList=null,this.startupsCount=0,this._currentQualityState={adaptive:null,quality:null},this._nextQualityState={adaptive:null,quality:null},this.on(t.QUALITY_CHANGE_REQUESTED,this._handleQualityChangedRequestedEvent),this.on(t.PLAYER_SIZE_CHANGED,this._savePlayerSize),this.on(t.VIDEO_SLOT_STARTED,function(){return this.bindMediaEvents()}),this.on(t.VIDEO_SLOT_ENDED,function(){return this.unbindMediaEvents()}),this.on(t.QUALITY_STATS_REQUESTED,this.getStats)}),o.mixin(this,[l])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n=i(177),r=i(152),o=i(178),s=o(function(t,e,i){return i?n(t,e,i):r(t,e)});t.exports=s},function(t,e,i){function n(t,e,i){for(var n=-1,o=r(e),s=o.length;++n<s;){var a=o[n],u=t[a],h=i(u,e[a],a,t,e);(h===h?h===u:u!==u)&&(void 0!==u||a in t)||(t[a]=h)}return t}var r=i(73);t.exports=n},function(t,e,i){function n(t){return s(function(e,i){var n=-1,s=null==e?0:i.length,a=s>2?i[s-2]:void 0,u=s>2?i[2]:void 0,h=s>1?i[s-1]:void 0;for("function"==typeof a?(a=r(a,h,5),s-=2):(a="function"==typeof h?h:void 0,s-=a?1:0),u&&o(i[0],i[1],u)&&(a=3>s?void 0:a,s=1);++n<s;){var l=i[n];l&&t(e,l,a)}return e})}var r=i(110),o=i(158),s=i(179);t.exports=n},function(t,e){function i(t,e){if("function"!=typeof t)throw new TypeError(n);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var i=arguments,n=-1,o=r(i.length-e,0),s=Array(o);++n<o;)s[n]=i[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=Array(e+1);for(n=-1;++n<e;)a[n]=i[n];return a[e]=s,t.apply(this,a)}}var n="Expected a function",r=Math.max;t.exports=i},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n;return t=i(4),e=i(181),n=function(){return this.get=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.get.apply(e,t)},this.set=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.set.apply(e,t)},this.remove=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.remove.apply(e,t)},this.clear=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],e.clear.apply(e,t)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.onOverlaySizeChanged=function(){return null},this.onPlayerSizeChanged=function(){return null},this.after("initialize",function(){return this.size={player:{width:0,height:0}},this.on(e.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.size.player.width!==e.width||this.size.player.height!==e.height?(this.size.player.width=e.width,this.size.player.height=e.height,this.onPlayerSizeChanged()):void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return o=i(42).component,r=i(4),t=i(7),e=i(55),s=i(186),a=i(187),u=i(188),n=function(){return this.attributes({ariaLabel:e.__("accessibility:::Advertisement"),remainingTimeSelector:".dmp_AdInfo-time",labelSelector:".dmp_AdInfo-label",type:"default"}),this.enableDisplay=function(){return this.adRunning=!0,this.$remainingTime.text(""),this.on(r.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),"default"===this.attr.type?this.showNode():void 0},this.disableDisplay=function(){return this.adRunning=!1,this.duration=0,this.$remainingTime.text(""),this.off(r.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.hideNode()},this.handleTimeUpdate=function(t,i){var n;if(this.duration)return n="floating"===this.attr.type?"("+this.formatTime(this.duration-i.time)+")":this.formatTime(this.duration-i.time),this.$remainingTime.text(n),this.updateAccessibility(e.__("accessibility:::Advertisement: %time% remaining",{time:this.formatReadableTime(this.duration-i.time)}))},this.after("initialize",function(){return this.$remainingTime=this.select("remainingTimeSelector"),this.$label=this.select("labelSelector"),this.$label.text(e.__("ads:::Advertisement")),this.on(r.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.duration=e.duration}),this.on(r.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.enableDisplay():void 0}),this.on(r.rootNode(),[t.AD_STOPPED,t.LOAD_VIDEO].join(" "),function(){return this.disableDisplay()}),"floating"===this.attr.type?(this.prepareJsTransition(),this.on(r.rootNode(),t.CONTROL_BAR_WILL_SHOW,function(){return this.jsFadeOut()}),this.on(r.rootNode(),t.CONTROL_BAR_WILL_HIDE,function(){return this.adRunning?this.jsFadeIn():void 0})):void 0})},o(s,n,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.setAccessibility=function(t,e,i){var n;return null==i&&(i=null),n=null!=i?this.select(i):this.$node,null!=n&&(t&&n.attr("aria-label",t),e)?n.attr("tabindex",e):void 0},this.updateAccessibility=function(t,e){var i;return null==e&&(e=null),i=null!=e?this.select(e):this.$node,null!=i&&t?i.attr("aria-label",t):void 0}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(55),e=function(){return this.splitTimeFromSeconds=function(t){var e,i,n,r;return n=parseInt(t,10),e=Math.floor(n/3600),i=Math.floor((n-3600*e)/60),r=n-3600*e-60*i,[e,i,r]},this.zeroPad=function(t){return 10>t?"0"+t:t},this.formatTime=function(t){var e,i,n,r,o;return n=this.splitTimeFromSeconds(t),e=n[0],i=n[1],r=n[2],o=this.zeroPad(i)+":"+this.zeroPad(r),e>0&&(o=e+":"+o),o},this.formatRemainingTime=function(e){var i,n,r,o;return r=this.splitTimeFromSeconds(e),i=r[0],n=r[1],o=r[2],o+=1,i>0?n>0?t.__("default:::%hours%h %minutes%m %seconds%s",{hours:i,minutes:n,seconds:o}):t.__("default:::%hours%h %seconds%s",{hours:i,minutes:n,seconds:o}):n>0?t.__("default:::%minutes%m %seconds%s",{minutes:n,seconds:o}):t.__("default:::%seconds%s",{seconds:o})},this.formatReadableTime=function(e){var i,n,r,o;return r=this.splitTimeFromSeconds(e),i=r[0],n=r[1],o=r[2],i>0?n>0?t.__("default:::%hours% hours, %minutes% minutes, %seconds% seconds",{hours:i,minutes:n,seconds:o}):t.__("default:::%hours% hours, %seconds% seconds",{hours:i,minutes:n,seconds:o}):n>0?t.__("default:::%minutes% minutes, %seconds% seconds",{minutes:n,seconds:o}):t.__("default:::%seconds% seconds",{seconds:o})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this._elementify=function(t){return"string"==typeof t&&null!=this.attr[t]?this.select(t):t},this.prepareCssTransition=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_will-transition").removeClass("dmp_is-hidden")},this.prepareJsTransition=function(t){
return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-hidden").hide()},this.toggleNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.hasClass("dmp_is-hidden")?this.showNode(t):this.hideNode(t)},this.setInvisibility=function(t){return null==t&&(t=this.$node),this.$node.addClass("dmp_is-invisible").removeClass("dmp_is-hidden")},this.unsetInvisibility=function(t){return null==t&&(t=this.$node),this.$node.addClass("dmp_is-hidden").removeClass("dmp_is-invisible")},this.showNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.cssFadeIn=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-transitioned--fadein").removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.cssFadeInSlide=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-transitioned--fadeinslide").removeClass("dmp_is-hidden").removeAttr("aria-hidden")},this.jsFadeIn=function(t,e){return null==t&&(t="normal"),null==e&&(e=this.$node),e=this._elementify(e),e.fadeIn(t,function(){return e.removeAttr("aria-hidden")})},this.hideNode=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.addClass("dmp_is-hidden").attr("aria-hidden",!0)},this.cssFadeOut=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-transitioned--fadein").attr("aria-hidden",!0)},this.cssFadeOutSlide=function(t){return null==t&&(t=this.$node),t=this._elementify(t),t.removeClass("dmp_is-transitioned--fadeinslide").attr("aria-hidden",!0)},this.jsFadeOut=function(t,e){return null==t&&(t="normal"),null==e&&(e=this.$node),e=this._elementify(e),e.fadeOut(t,function(){return e.attr("aria-hidden",!0)})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return o=i(42).component,r=i(4),t=i(7),n=i(44),e=function(){return this.attributes({videoTagSelector:null}),this.bindAirPlayEvents=function(){return this.on(t.AIRPLAY_REQUESTED,this.handleAirPlayRequestedEvent),this.on(this.videoTag,"webkitplaybacktargetavailabilitychanged",this.handlePlaybackTargetAvailabilityChangedEvent),this.on(this.videoTag,"webkitcurrentplaybacktargetiswirelesschanged",this.handlePlaybackTargetIsWireless),this.airPlayListenersBound=!0},this.unbindAirPlayEvents=function(){return this.airPlayListenersBound?(this.off(t.AIRPLAY_REQUESTED,this.handleAirPlayRequestedEvent),this.off(this.videoTag,"webkitplaybacktargetavailabilitychanged",this.handlePlaybackTargetAvailabilityChangedEvent),this.off(this.videoTag,"webkitcurrentplaybacktargetiswirelesschanged",this.handlePlaybackTargetIsWireless),this.airPlayListenersBound=!1):void 0},this.handleAirPlayRequestedEvent=function(t){return this.videoTag.webkitShowPlaybackTargetPicker()},this.handlePlaybackTargetAvailabilityChangedEvent=function(e){return"available"===e.originalEvent.availability?this.trigger(t.AIRPLAY_AVAILABLE):this.trigger(t.AIRPLAY_NOT_AVAILABLE)},this.handlePlaybackTargetIsWireless=function(e){return this.trigger(t.AIRPLAY_WIRELESS_STATE,{active:this.videoTag.webkitCurrentPlaybackTargetIsWireless})},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.bindAirPlayEvents()}),this.before("teardown",function(){return this.unbindAirPlayEvents()})},o(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(42).component,n=i(4),t=i(7),o=i(188),e=function(){return this.attributes({titleSelector:".dmp_AlertPane-title",textSelector:".dmp_AlertPane-text"}),this.openPane=function(){return this.closed?(this.trigger(t.ALERT_PANE_WILL_OPEN),this.showNode(),this.closed=!1):void 0},this.closePane=function(){return this.closed?void 0:(this.trigger(t.ALERT_PANE_WILL_CLOSE),this.hideNode(),this.closed=!0)},this.setFontStyles=function(t){var e,i,n,r;return r=6,n=70,i=200,e=t/r,e>i?e=i:n>e&&(e=n),this.$node.css({"font-size":e+"%"})},this.setContent=function(e){var i;return null!=e&&(this.titleElement.text(e.title),this.textElement.html(e.text),i=parseInt(e.refresh,10)||0,i>=5)?(i=1e3*Math.max(i,5),this.refreshTimeout=n.window().setTimeout(function(e){return function(){return e.trigger(n.rootNode(),t.LOAD_VIDEO,{xid:n.metadata().id})}}(this),i)):void 0},this.after("initialize",function(){return this.closed=!0,this.titleElement=this.select("titleSelector"),this.textElement=this.select("textSelector"),this.on(n.rootNode(),t.ERROR_DISPLAY_REQUESTED,function(t,e){return this.setContent(e),this.openPane()}),this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.setFontStyles(e.width)}),this.on(n.rootNode(),[t.VIDEO_PLAYING,t.LOAD_VIDEO].join(" "),function(t,e){return this.closePane()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return clearTimeout(this.refreshTimeout)})})},r(e,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(4),r=i(42).component,t=i(7),o=i(192),s=i(180),e=function(){return this.bindModalListeners=function(){return this.on(n.rootNode(),t.MODAL_WILL_OPEN,this.handleModalEvent.bind(this,!1)),this.on(n.rootNode(),t.MODAL_WILL_CLOSE,this.handleModalEvent.bind(this,!0))},this.unbindModalListeners=function(){return this.off(n.rootNode(),t.MODAL_WILL_OPEN,this.handleModalEvent.bind(this,!1)),this.off(n.rootNode(),t.MODAL_WILL_CLOSE,this.handleModalEvent.bind(this,!0))},this.handleModalEvent=function(e){return this.get("dmp_annotations_disabled")?void 0:this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{visible:e})},this.setInitialState=function(){var e;return this.on(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),e=this.get("dmp_annotations_disabled")?"disable":"enable",this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:e,overlayData:this.overlayData})},this.setLocalStorage=function(t,e){return e.enabled?(this.set("dmp_annotations_disabled",!1),this.bindModalListeners()):(this.set("dmp_annotations_disabled",!0),this.unbindModalListeners())},this.onVideoOverlaySizeChanged=function(t,e){return this.overlayData=e},this.removeAnnotationsLayer=function(){return this.off(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),this.asyncTrigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:"disable"})},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(e,i){return null!=n.get("annotations")?(this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,this.setInitialState),this.on(n.rootNode(),t.VIDEO_SLOT_ENDED,this.removeAnnotationsLayer),this.on(n.rootNode(),t.VIDEO_OVERLAY_SIZE_CHANGED,this.onVideoOverlaySizeChanged)):void 0}),this.on(n.rootNode(),t.LOAD_VIDEO,function(e,i){return this.removeAnnotationsLayer(),this.off(n.rootNode(),t.VIDEO_SLOT_STARTED,this.setInitialState),this.off(n.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,this.setLocalStorage),this.off(n.rootNode(),t.VIDEO_SLOT_ENDED,this.removeAnnotationsLayer),this.off(n.rootNode(),t.VIDEO_OVERLAY_SIZE_CHANGED,this.onVideoOverlaySizeChanged)})})},r(e,o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;(function(r){var o=[].slice;n=function(){var t;return t=function(){return this.asyncTrigger=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],r.nextTick(function(e){return function(){return e.trigger.apply(e,t)}}(this))},this.setImmediate=function(t){return r.nextTick(function(){return t()})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}).call(e,i(3))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return a=i(11).get("AudienceBroker"),r=i(4),s=i(6),o=i(42).component,t=i(7),e=i(61),n=function(){return this.LIVE_AD_BREAK="livead",this.LIVE_STATUS="live_status",this.LIVE_VIEWERS="live_viewers",this.updateAudienceOptionsAndState=function(){return this.allowLiveStatus=r.isLiveStatusEnabled(),this.showLiveViewers=r.metadata("live_show_viewers",!1),this.updateAudienceState(r.metadata("id",null),r.metadata("audience_url",null))},this.updateAudienceState=function(t,e){var i;return this.audienceState=this.audienceState||{xId:null,endpointURL:null},i=t!==this.audienceState.xId||e!==this.audienceState.endpointURL,this.audienceState={xId:t,endpointURL:e},i},this.connectAudience=function(){return this.audience?void 0:e.loadAudienceClient(function(t){return function(){return a.log("Establish connection to "+t.audienceState.endpointURL),t.audience=$.audience(t.audienceState.endpointURL).progress(t.onMessageReceived.bind(t))}}(this))},this.onMessageReceived=function(e){var i,n,r;switch(n=this.decomposeMessage(e),i=n[0],r=n[1],a.log("Receiving/decomposing message: "+e+" ("+i+","+r+")"),i){case this.LIVE_STATUS:if(this.allowLiveStatus)return this.trigger(t.LIVE_STATUS,{status:r});break;case this.LIVE_VIEWERS:if(this.showLiveViewers)return this.trigger(t.LIVE_AUDIENCE,{nbViewers:parseInt(r,10)})}},this.decomposeMessage=function(t){var e;return t?$.isNumeric(t)?[this.LIVE_VIEWERS,t]:(e=t.split("="),2===e.length?e:["",""]):["",""]},this.disconnectAudience=function(){return this.audience?(a.log("Close the opened connection"),this.audience.close(),this.audience=null):void 0},this.connectAudienceOnFirstPlay=function(){return this.off(t.VIDEO_START,this.connectAudienceOnFirstPlay),this.connectAudience()},this.after("initialize",function(){return this.on(t.ERROR_PLAYER,function(t,e){return"metadata"===(null!=e?e.type:void 0)&&this.updateAudienceOptionsAndState()&&(this.disconnectAudience(),this.audienceState.endpointURL)?this.connectAudience():void 0}),this.on(t.VIDEO_SELECTED,function(){return this.updateAudienceOptionsAndState()&&(this.disconnectAudience(),this.off(t.VIDEO_START,this.connectAudienceOnFirstPlay),this.audienceState.endpointURL)?this.on(t.VIDEO_START,this.connectAudienceOnFirstPlay):void 0})})},o(n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return r=i(42).component,n=i(4),t=i(7),e=function(){return this.widths=[{name:"xs","min-width":0},{name:"s","min-width":320},{name:"m","min-width":480},{name:"l","min-width":640},{name:"xl","min-width":960}],this.heights=[{name:"xs","min-height":0},{name:"s","min-height":180},{name:"m","min-height":270},{name:"l","min-height":360},{name:"xl","min-height":540}],this.horizontalBreakpoint={},this.verticalBreakpoint={},this.horizontalBreakpointChanged=!1,this.verticalBreakpointChanged=!1,this.hasChanged=function(t){return t.hasOwnProperty("min-width")?t["min-width"]!==this.horizontalBreakpoint["min-width"]:t.hasOwnProperty("min-height")?t["min-height"]!==this.verticalBreakpoint["min-height"]:!1},this.findBreakpointsFor=function(t){var e,i,n;return e=this.widths.filter(function(e){return t.width>=e["min-width"]}),n=this.heights.filter(function(e){return t.height>=e["min-height"]}),i={horizontal:e,vertical:n}},this.after("initialize",function(){return this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(e,i){var n,r,o,s,a,u,h,l,d,c;if(n=this.findBreakpointsFor(i),s=n.horizontal[n.horizontal.length-1],c=n.vertical[n.vertical.length-1],this.hasChanged(s)){for(this.horizontalBreakpointChanged=!0,this.horizontalBreakpoint=s,this.horizontalClasses&&this.$node.removeClass(this.horizontalClasses),this.horizontalClasses="",h=n.horizontal,r=0,a=h.length;a>r;r++)d=h[r],this.horizontalClasses+=" dmp_h-min-"+d.name;this.$node.addClass(this.horizontalClasses)}else this.horizontalBreakpointChanged=!1;if(this.hasChanged(c)){for(this.verticalBreakpointChanged=!0,this.verticalBreakpoint=c,this.verticalClasses&&this.$node.removeClass(this.verticalClasses),this.verticalClasses="",l=n.vertical,o=0,u=l.length;u>o;o++)d=l[o],this.verticalClasses+=" dmp_v-min-"+d.name;this.$node.addClass(this.verticalClasses)}else this.verticalBreakpointChanged=!1;return this.horizontalBreakpointChanged||this.verticalBreakpointChanged?this.trigger(t.BREAKPOINT_CHANGED,{horizontalBreakpoint:this.horizontalBreakpoint,verticalBreakpoint:this.verticalBreakpoint}):void 0})})},r(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g,S,T,A,D,y,b,I,N,R,O;return A=i(44),D=i(4),b=i(42).component,I=i(16),a=i(7),h=i(55),N=i(186),R=i(196),O=i(188),t=i(185),e=i(199),n=i(203),r=i(204),o=i(206),s=i(207),u=i(208),l=i(209),d=i(210),c=i(211),f=i(212),p=i(213),E=i(215),m=i(217),_=i(229),v=i(230),g=i(231),S=i(232),T=i(233),y=function(){return this.attributes({baseTabindex:null,ariaLabel:h.__("accessibility:::Primary control bar"),containerSelector:".dmp_ControlBar",containerType:"controlbar",dummyNodeClass:"dmp_dummy-focus",leftGroupSelector:".dmp_ControlBar-group--left",miniUI:!1,rightGroupSelector:".dmp_ControlBar-group--right",subComponents:{AdInfo:{constructor:t,selector:".dmp_AdInfo"},AirPlayButton:{constructor:e,selector:".dmp_AirPlayButton",enabled:function(){return A.supportsAirPlay()&&!I.isIphone()}},AnnotationsButton:{constructor:n,selector:".dmp_AnnotationsButton",enabled:function(){return A.supportsAnnotations()}},ChromecastButton:{constructor:r,selector:".dmp_ChromecastButton"},Drawer:{constructor:o,selector:".dmp_Drawer"},DrawerButton:{constructor:s,selector:".dmp_DrawerButton"},FullscreenButton:{constructor:u,selector:".dmp_FullscreenButton"},LiveInfo:{constructor:l,selector:".dmp_LiveInfo"},LogoButton:{constructor:d,selector:".dmp_LogoButton",enabled:function(){return D.settings("ui.logo")!==!1&&D.metadata("ui.logo")!==!1}},PipButton:{constructor:c,selector:".dmp_PipButton"},PlaybackButton:{constructor:f,selector:".dmp_PlaybackButton"},QualityButton:{constructor:p,selector:".dmp_QualityButton"},ReportIssueButton:{constructor:E,selector:".dmp_ReportIssueButton",enabled:function(){return I.isDesktop()&&D.context("onsite")}},SeekBar:{constructor:m,selector:".dmp_SeekBar"},SizeButton:{constructor:_,selector:".dmp_SizeButton",enabled:function(){return D.settings("expand.enable")}},SpeedButton:{constructor:v,selector:".dmp_SpeedButton"},SubtitlesButton:{constructor:g,selector:".dmp_SubtitlesButton"},TimeInfo:{constructor:S,selector:".dmp_TimeInfo"},VolumeSlider:{constructor:T,selector:".dmp_VolumeSlider"}}}),this.after("present",function(){return this.presenting?this.trigger(a.CONTROL_BAR_WILL_SHOW):void 0}),this.after("dismiss",function(){return this.dismissing?this.trigger(a.CONTROL_BAR_WILL_HIDE):void 0}),this.after("didPresent",function(){return this.moveFocus(),this.setDummyNodeEnabled(!1)}),this.after("didDismiss",function(){return this.setDummyNodeEnabled(!0)}),this.moveFocus=function(){return this.dummyNodeFocused?(this.$node.find(this.attr.subComponents.PlaybackButton.selector).focus(),this.dummyNodeFocused=!1):void 0},this.setDummyNodeEnabled=function(t){var e;return e=t?[500,5e3]:[-1,-1],this.$dummyNodeStart.attr("tabindex",e[0]),this.$dummyNodeEnd.attr("tabindex",e[1])},this.handleDummyFocus=function(){return this.dummyNodeFocused=!0,this.visible?this.moveFocus():this.trigger(a.PRESENT_CONTROLS_REQUESTED)},this.getMaxHeight=function(){var t;return t=this.$node.find(this.attr.subComponents.SeekBar.selector),this.buttonHeight=this.$node.find(this.attr.subComponents.PlaybackButton.selector).outerHeight(!0),this.seekBarHeight=t.height()+parseFloat(t.css("padding-top")),this.maxControlBarHeight=this.buttonHeight+this.seekBarHeight},this.notifyControlBarUpdated=function(){return this.trigger(a.CONTROL_BAR_UPDATED,{height:this.currentControlBarHeight,autoHide:this.autoHide})},this.updateHeight=function(){return this.attr.miniUI?(this.currentControlBarHeight=this.buttonHeight,this.$node.addClass("dmp_ControlBar--mini")):(this.currentControlBarHeight=this.maxControlBarHeight,this.$node.removeClass("dmp_ControlBar--mini")),this.notifyControlBarUpdated()},this.handleMiniUI=function(){return this.playerWidth<=460||this.maxControlBarHeight>=this.playerHeight/4?this.attr.miniUI=!0:this.attr.miniUI=!1,this.updateHeight(),this.trigger(a.MINI_UI_UPDATED,{enabled:this.attr.miniUI,leftGroupWidth:this.select("leftGroupSelector").outerWidth(!0),rightGroupWidth:this.select("rightGroupSelector").outerWidth(!0)})},this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel),this.$dummyNodeStart=$("<div class='"+this.attr.dummyNodeClass+"'>"),$(D.rootNode()).prepend(this.$dummyNodeStart),this.$dummyNodeEnd=$("<div class='"+this.attr.dummyNodeClass+"'>"),$(D.rootNode()).prepend(this.$dummyNodeEnd),this.on(this.$dummyNodeStart,"focus",function(){return this.handleDummyFocus()}),this.on(this.$dummyNodeEnd,"focus",function(){return this.handleDummyFocus()}),this.on(D.rootNode(),a.COMPONENTS_READY,function(){return this.setInvisibility(),this.getMaxHeight(),this.updateHeight(),this.unsetInvisibility(),this.handleMiniUI()}),this.on(D.rootNode(),[a.FULLSCREEN_ENTERED,a.FULLSCREEN_EXITED].join(" "),function(){return this.getMaxHeight(),this.updateHeight()}),this.on(D.rootNode(),a.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.maxControlBarHeight?this.handleMiniUI():void 0}),this.on(D.rootNode(),a.SEQUENCE_ENDED,function(){return this.setDummyNodeEnabled(!1)}),this.on(D.rootNode(),a.SEQUENCE_STARTED,function(){return this.setDummyNodeEnabled(!0),this.attr.canShow=!0,this.prepareCssTransition(),this.present()}),this.on(D.rootNode(),[a.AD_LINEAR_SLOT_STARTED,a.VIDEO_SLOT_STARTED,a.FULLSCREEN_BUTTON_ENABLED,a.PIP_BUTTON_ENABLED].join(" "),function(){return this.handleMiniUI()}),this.on(D.rootNode(),a.AD_STARTED,function(){return this.present(),this.$node.addClass("dmp_ControlBar--ad")}),this.on(D.rootNode(),[a.AD_STOPPED,a.LOAD_VIDEO].join(" "),function(){return this.$node.removeClass("dmp_ControlBar--ad")})})},b(N,R,y,O)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f;return o=i(4),e=i(28),t=i(7),h=i(11).get("Debug"),n=i(44),r=i(42).compose,l=i(197),c=i(198),f=i(188),u=function(){return console.error("Implement me in the component!")},s=[],a=[],d=function(){return this.attributes({dismissDelay:3e3,adDismissDelay:5e3,mouseOutDismissDelay:500,canShow:!1}),this.canHide=function(){switch(this.currentState){case"adLinear":return this.canHideAdLinear();case"video":return this.canHideVideo();case"startView":return this.canHideStartView();case"endScreen":return this.canHideEndScreen();case"empty":return this.canHideEmpty()}},this.canHideAdLinear=function(){return this.visible&&!this.paused&&0===a.length&&0===s.length},this.canHideVideo=function(){return this.visible&&this.autoHide&&!this._sticky&&!this.paused&&0===a.length&&0===s.length&&!this.playerHasOpenMenu()},this.canHideStartView=function(){return!0},this.canHideEndScreen=function(){return!1},this.canHideEmpty=function(){return!1},this.didPresent=function(){return this.presenting=!1,this.visible=!0,this.trigger(t.ENABLE_TOOLTIP_REQUESTED)},this.didDismiss=function(){return this.dismissing=!1,this.visible=!1,clearTimeout(this.dismissTimeout)},this.present=function(){return!this.attr.canShow||this.overlayVisible||this.presenting?void 0:(this.delayHide(),!this.visible||this.dismissing?(this.presenting=!0,this.dismissing=!1,this.on(n.transitionEndEvent(),function(t){return this._handleTransitionEnd(t,this.didPresent)}),setTimeout(function(t){return function(){return t.cssFadeInSlide()}}(this),10)):void 0)},this.dismiss=function(e){return null==e&&(e=!1),(e||this.canHide()&&!this.dismissing)&&(this.visible||this.presenting)?(this.dismissing=!0,this.presenting=!1,this.trigger(t.DISABLE_TOOLTIP_REQUESTED),this.on(n.transitionEndEvent(),function(t){return this._handleTransitionEnd(t,this.didDismiss)}),setTimeout(function(t){return function(){return t.cssFadeOutSlide()}}(this),0)):void 0},this.toggle=function(){return this.visible?this.dismiss():this.present()},this.delayHide=function(){var t;return clearTimeout(this.dismissTimeout),t="adLinear"===this.currentState?this.attr.adDismissDelay:this.attr.dismissDelay,this.dismissTimeout=setTimeout(function(t){return function(){return t.dismiss()}}(this),t)},this._handleTransitionEnd=function(t,e){return t.target===this.node?(t.stopPropagation(),this.off(n.transitionEndEvent()),e.call(this)):void 0},this._handleMouseOverPlayerEvent=function(t){return clearTimeout(this.mouseOutDismissTimeout),this.present()},this._handleMouseLeftPlayer=function(t){var e;return e="adLinear"===this.currentState?this.attr.adDismissDelay/2:this.attr.mouseOutDismissDelay>=0?this.attr.mouseOutDismissDelay:500,this.mouseOutDismissTimeout=setTimeout(function(t){return function(){return t.dismiss()}}(this),e)},this._handleMouseEnteredContainer=function(){return-1===$.inArray(this.attr.containerType,a)?a.push(this.attr.containerType):void 0},this._handleMouseLeftContainer=function(){return a.splice($.inArray(this.attr.containerType,a),1),clearTimeout(null)},this._handleContainerFocus=function(t){return this.delayHide(),this.$node.find(t.target).length?s.push(this.attr.containerType):void 0},this._handleContainerBlur=function(t){return this.$node.find(t.target).length?s.splice($.inArray(this.attr.containerType,s),1):void 0},this._handleContainerTapped=function(){return this.delayHide()},this._attachSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],null==t.enabled||t.enabled()!==!1?n.push(this._attachSubComp(t)):n.push(void 0);return n},this._attachSubComp=function(t){return t.constructor.attachTo(this.$node.find(t.selector),{nodeSelector:t.selector,containerSelector:this.attr.containerSelector,containerType:this.attr.containerType,tabindex:t.hasOwnProperty("tabindexOrder")?this.attr.baseTabindex+t.tabindexOrder:null})},this._teardownSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],null==t.enabled||t.enabled()!==!1?n.push(t.constructor.teardownAll()):n.push(void 0);return n},this.after("teardown",function(){return this._teardownSubComponents()}),this.after("initialize",function(){return this.currentState="empty",this._attachSubComponents(),this.on(o.rootNode(),t.VIDEO_BUFFERING,function(){return this._sticky=!0}),this.on(o.rootNode(),t.VIDEO_STEADYPLAY,function(){return this._sticky=!1,this.dismiss()}),e.touchevents?this.on("click",function(){return this._handleContainerTapped()}):(this.on("mouseenter",function(){return this._handleMouseEnteredContainer()}),this.on("mouseleave",function(){return this._handleMouseLeftContainer()})),o.rootNode().addEventListener("focus",this._handleContainerFocus.bind(this),!0),o.rootNode().addEventListener("blur",this._handleContainerBlur.bind(this),!0),this.on(o.rootNode(),t.PRESENT_CONTROLS_REQUESTED,function(t){return this.present()}),this.on(o.rootNode(),[t.MOUSE_ENTERED_PLAYER,t.MOUSE_MOVED_OVER_PLAYER].join(" "),this._handleMouseOverPlayerEvent),this.on(o.rootNode(),t.MOUSE_LEFT_PLAYER,this._handleMouseLeftPlayer),this.on(o.rootNode(),t.VIDEO_TAPPED,function(){return this.playerHasOpenMenu()?this.delayHide():this.toggle()}),this.on(o.rootNode(),t.VIDEO_PLAY,function(){return this.paused=!1,this.present()}),this.on(o.rootNode(),t.VIDEO_PAUSE,function(t,e){return this.paused=!0,this.present()}),this.on(o.rootNode(),[t.MODAL_WILL_OPEN,t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN].join(" "),function(){return this.overlayVisible=!0,this.dismiss(!0)}),this.on(o.rootNode(),[t.MODAL_WILL_CLOSE,t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE].join(" "),function(){return this.overlayVisible=!1,this.present()}),this.on(o.rootNode(),t.LOAD_VIDEO,function(){return this.currentState="empty",this.attr.canShow=!1,this.dismiss()}),this.on(o.rootNode(),t.SEQUENCE_STARTED,function(){return this.currentState="empty"}),this.on(o.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.currentState="adLinear":void 0}),this.on(o.rootNode(),t.AD_STOPPED,function(t,e){var i;return"linear"===e.type?"midroll"===(i=e.position)||"adbreak"===i?this.currentState="video":this.currentState="empty":void 0}),this.on(o.rootNode(),t.VIDEO_START,function(){return this.currentState="video",a=[],this.present()}),this.on(o.rootNode(),t.VIDEO_ENDED,function(){return this.currentState="empty"}),this.on(o.rootNode(),t.START_VIEW_WILL_OPEN,function(){return this.currentState="startView",this.dismiss()}),this.on(o.rootNode(),t.END_SCREEN_WILL_OPEN,function(){return this.currentState="endScreen",this.present()}),this.on(o.rootNode(),t.END_SCREEN_WILL_CLOSE,function(){return this.currentState="empty",this.dismiss()}),this.on(t.PRESSED_SPACE,function(t){return t.stopPropagation()})}),this.after("teardown",function(){return o.rootNode().removeEventListener("focus",this._handleContainerFocus.bind(this),!0),o.rootNode().removeEventListener("blur",this._handleContainerBlur.bind(this),!0)}),r.mixin(this,[f,l,c])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.setAutoHide=function(t){return this.autoHideHistory.push(this.autoHide),this.autoHide=t},this.hasAutoHideHistory=function(){return this.autoHideHistory.length>0},this.resetAutoHide=function(){return this.autoHide=this.hasAutoHideHistory()?this.autoHideHistory.pop():!0},this.after("initialize",function(){return this.autoHide=!0,this.autoHideHistory=[],this.on(e.rootNode(),[t.CHROMECAST_LAUNCH_REQUESTED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.setAutoHide(!1)}),this.on(e.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(t,e){return this.resetAutoHide()}),this.on(e.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return e.active?this.setAutoHide(!1):this.resetAutoHide()})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.playerHasOpenMenu=function(){return this._playerHasOpenMenu},this.after("initialize",function(){return this.on(e.rootNode(),t.MENU_DID_SHOW,function(){return this._playerHasOpenMenu=!0}),this.on(e.rootNode(),t.MENU_DID_HIDE,function(){return this._playerHasOpenMenu=!1})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return o=i(42).component,r=i(4),e=i(55),t=i(7),s=i(186),a=i(200),u=i(201),h=i(188),l=i(202),n=function(){return this.attributes({ariaLabel:e.__("tooltip:::AirPlay"),tooltipText:e.__("tooltip:::AirPlay"),videoTagSelector:"#dmp_Video"}),this.after("initialize",function(){return this.on(r.rootNode(),t.SEQUENCE_STARTED,function(){return this.setAccessibility(this.attr.ariaLabel),this.airPlayAvailable?this.showNode():void 0}),this.on(r.rootNode(),t.AIRPLAY_AVAILABLE,function(t,e){return this.airPlayAvailable=!0,this.showNode()}),this.on(r.rootNode(),t.AIRPLAY_NOT_AVAILABLE,function(){return this.airPlayAvailable=!1,this.hideNode()}),this.on(r.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return this.highlightIcon(e.active)}),this.on("click",function(){return this.trigger(t.AIRPLAY_REQUESTED),this.trigger(t.HIDE_TOOLTIP_REQUESTED,{containerType:this.attr.containerType})}),this.on(r.rootNode(),t.SEQUENCE_ENDED,function(){return this.hideNode()})})},o(s,l,n,a,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({nodeSelector:null,containerSelector:null,containerType:null,tabindex:null})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.highlightIcon=function(t){return t?this.$node.addClass("dmp_is-active"):this.$node.removeClass("dmp_is-active")}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.attributes({tooltipAlign:"default"}),this.requestTooltip=function(){return this.trigger(t.SHOW_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign,containerType:this.attr.containerType})},this.requestTooltipUpdate=function(){return this.trigger(t.UPDATE_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign,containerType:this.attr.containerType})},this.requestTooltipHide=function(){return this.trigger(t.HIDE_TOOLTIP_REQUESTED,{containerType:this.attr.containerType})},this.after("initialize",function(){return this.on("mouseenter focus",function(){return this.requestTooltip()}),this.on("mouseenter",function(){return this._mouseOverButton=!0}),this.on("mouseleave",function(){return this._mouseOverButton=!1,this.requestTooltipHide()}),this.on("blur",function(){return this._mouseOverButton?void 0:this.requestTooltipHide()})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return o=i(42).component,r=i(4),t=i(7),e=i(55),s=i(186),a=i(200),h=i(188),l=i(202),u=i(180),n=function(){return this.attributes({tabindex:null,tooltipText:"",iconSelector:".dmp_AnnotationsButton-icon",enableTooltipText:e.__("tooltip:::Enable annotations"),disableTooltipText:e.__("tooltip:::Disable annotations")}),this.enabledUiState=function(){return this.$node.addClass("dmp_is-active"),this.setTooltipText("enabled")},this.disabledUiState=function(){return this.$node.removeClass("dmp_is-active"),this.setTooltipText("disabled")},this.setTooltipText=function(t){switch(t){case"disabled":this.attr.tooltipText=this.attr.enableTooltipText;break;case"enabled":this.attr.tooltipText=this.attr.disableTooltipText}return this.updateAccessibility(this.attr.tooltipText),this.requestTooltipUpdate()},this.after("initialize",function(){return this.enabled=!1,this.setAccessibility(this.attr.tooltipText,this.attr.tabindex),this.on(r.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.enabled=null!=r.metadata("annotations")}),this.on(r.rootNode(),[t.LOAD_VIDEO,t.VIDEO_SLOT_ENDED].join(" "),function(t,e){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.get("dmp_annotations_disabled")?this.setTooltipText("disabled"):this.setTooltipText("enabled"),this.enabled?this.showNode():void 0}),this.on(r.rootNode(),t.ANNOTATIONS_CHANGE_CONFIRMED,function(t,e){return e.enabled?this.enabledUiState():this.disabledUiState()}),this.on("click tap",function(){return this.trigger(t.ANNOTATIONS_CHANGE_REQUESTED,{state:"toggle"})}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.enabled?this.showNode():void 0})})},o(s,l,n,a,h,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e,n,r,o,s,a,u,h,l,d,c,f;return s=i(4),a=i(42).component,e=i(7),n=i(55),u=i(8),h=i(186),l=i(200),d=i(205),c=i(188),f=i(202),r=u({HIDDEN:null,IDLE:null,CONNECTING:null,ACTIVE:null}),o=function(){return this.attributes({tabindex:null,activeIconSelector:".dmp_ChromecastButton-icon-active",ariaLabel:n.__("accessibility:::Cast to your TV"),defaultIconSelector:".dmp_ChromecastButton-icon-default",tooltipText:n.__("tooltip:::Play on a TV")}),this.State=r,this.state=r.HIDDEN,this.authorizePrompt=!1,this.showPrompt=null,this.hideTimeoutId=null,this.showIdleIcon=function(){return this.showNode(),this.showNode("defaultIconSelector"),this.hideNode("activeIconSelector"),this.$node.removeClass("dmp_is-active")},this.showConnectingIcon=function(){return this.showIdleIcon(),this.$node.addClass("dmp_is-active")},this.showActiveIcon=function(){return this.showNode(),this.hideNode("defaultIconSelector"),this.showNode("activeIconSelector"),this.$node.addClass("dmp_is-active")},this.getPromptHasBeenDisplayed=this.fromStorage("local","dmp_chromecast_prompt"),this.setPromptHasBeenDisplayed=this.toStorage("local","dmp_chromecast_prompt"),this.getChromecastHasBeenDetected=this.fromStorage("session","dmp_chromecast_available"),this.setChromecastHasBeenDetected=this.toStorage("session","dmp_chromecast_available"),this.displayPrompt=function(){return this.authorizePrompt?(null==this.showPrompt&&(this.showPrompt=!this.getPromptHasBeenDisplayed()),this.showPrompt&&this.state!==r.HIDDEN?(this.setPromptHasBeenDisplayed(!0),this.showPrompt=!1,this.requestTooltip()):void 0):void 0},this.updateState=function(t){if(null==t&&(t=this.state),
this.adRunning)return this.hideNode(),void(this.state=t);switch(t){case r.IDLE:this.showIdleIcon();break;case r.ACTIVE:this.showActiveIcon();break;case r.CONNECTING:this.showConnectingIcon();break;default:t=r.HIDDEN,this.hideNode()}return this.state=t,this.displayPrompt()},this.handleHideTooltipRequested=function(t,i){return i.containerType!==this.attr.containerType?(this.setPromptHasBeenDisplayed(!1),this.showPrompt=!0,this.updateState()):this.off(s.rootNode(),e.HIDE_TOOLTIP_REQUESTED,this.handleHideTooltipRequested)},this.after("initialize",function(){return this.on(s.rootNode(),e.AD_LINEAR_SLOT_STARTED,function(){return this.adRunning=!0,this.updateState()}),this.on(s.rootNode(),e.AD_LINEAR_SLOT_ENDED,function(){return this.adRunning=!1,this.authorizePrompt=!0,this.updateState()}),this.on(s.rootNode(),[e.CHROMECAST_READY,e.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.hideTimeoutId&&(s.window().clearTimeout(this.hideTimeoutId),this.hideTimeoutId=null),this.setChromecastHasBeenDetected(!0),this.updateState(r.IDLE),this.attr.tooltipText=n.__("tooltip:::Play on a TV")}),this.on(s.rootNode(),e.CHROMECAST_NOT_AVAILABLE,function(){return this.updateState(r.HIDDEN)}),this.on(s.rootNode(),e.CHROMECAST_MEDIA_DISCOVERED,function(){return this.updateState(r.ACTIVE),this.attr.tooltipText=n.__("tooltip:::Playing on %device%",{device:this.deviceName}),this.updateAccessibility(this.attr.tooltipText)}),this.on(s.rootNode(),e.CHROMECAST_REQUESTING_SESSION,function(){return this.updateState(r.CONNECTING)}),this.on(s.rootNode(),e.CHROMECAST_SESSION_AVAILABLE,function(t,e){return this.updateState(r.ACTIVE),this.deviceName=e.receiver.friendlyName}),this.on(s.rootNode(),e.CHROMECAST_USER_CANCEL,function(){return this.state===r.CONNECTING?this.updateState(r.IDLE):void 0}),this.on(s.rootNode(),e.HIDE_TOOLTIP_REQUESTED,this.handleHideTooltipRequested),this.on("click",function(){return this.adRunning?void 0:this.trigger(e.CHROMECAST_LAUNCH_REQUESTED)}),this.on(s.rootNode(),e.COMPONENTS_READY,function(){return this.adRunning=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.getChromecastHasBeenDetected()?(this.hideTimeoutId=s.window().setTimeout(function(t){return function(){return t.updateState(r.HIDDEN)}}(this),3e3),this.updateState(r.IDLE)):this.updateState(r.HIDDEN)})})},a(h,f,d,o,l,c)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(182),e=function(){return this.fromStorage=function(e,i){return function(){return t.get(e,i)}},this.toStorage=function(e,i,n){return function(r){return t.set(e,i,r,n)}},this.removeStorage=function(e){return function(){return t.remove(e,key)}},this.clearStorage=function(e){return function(){return t.clear(e)}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(42).component,e=i(28),n=i(4),t=i(7),o=i(16),a=i(37),u=i(188),s=function(){return this.attributes({drawerInnerSelector:".dmp_Drawer-inner",containerSelector:null}),this.handleDrawer=function(){return this.miniUiEnabled?(this.createDrawer(),this.isTouch?this.setDrawerWidth():(this.hideNode(),this.trigger(t.DRAWER_UPDATED,{enabled:!1}))):this.destroyDrawer()},this.createDrawer=function(){var e;return this.drawerInner.is(":empty")?(e=$(this.attr.containerSelector).find(".dmp_Drawer-item"),e.length>1?(e.detach().appendTo(this.drawerInner),this.trigger(t.DRAWER_UPDATED,{enabled:!0})):this.trigger(t.DRAWER_UPDATED,{enabled:!1})):void 0},this.destroyDrawer=function(){return this.trigger(t.DRAWER_UPDATED,{enabled:!1}),this.drawerInner.is(":empty")?void 0:this.drawerInner.children().detach().insertBefore(this.$node)},this.setDrawerWidth=function(){return this.miniUiEnabled?(this.drawerViewportWidth=this.$node.outerWidth(!0),this.$node.css({left:this.leftPos,right:this.rightPos}),this.drawerWidth=0,this.$node.find(".dmp_ControlBarButton:visible").each(function(t){return function(e,i){var n,r;return o.isChromiumWebview&&a.isLesserOrEqualThan(o.getOsVersion(),"4.4")?(n=i.getBoundingClientRect().width,r=$(i).find("svg")[0].getBoundingClientRect().width,t.drawerWidth+=n+r):t.drawerWidth+=i.getBoundingClientRect().width}}(this)),this.drawerInner.width(Math.ceil(this.drawerWidth))):void 0},this.toggleDrawer=function(){return this.drawerExpanded?(this.closeDrawer(),this.drawerExpanded=!1):(this.openDrawer(),this.drawerExpanded=!0)},this.closeDrawer=function(){return this.trigger(t.HIDE_MENU_REQUESTED),this.$node.removeClass("dmp_is-open"),this.trigger(t.DRAWER_CLOSED)},this.openDrawer=function(){return this.setDrawerWidth(),this.trigger(t.DRAWER_OPENED),this.$node.scrollLeft(this.drawerWidth-this.drawerViewportWidth),this.$node.addClass("dmp_is-open")},this.after("initialize",function(){return this.isTouch=e.touchevents,this.drawerInner=this.select("drawerInnerSelector"),this.on(n.rootNode(),t.MINI_UI_UPDATED,function(t,e){return this.miniUiEnabled=e.enabled,this.leftPos=e.leftGroupWidth,this.rightPos=e.rightGroupWidth,this.handleDrawer()}),this.on(n.rootNode(),[t.AD_LINEAR_SLOT_STARTED,t.VIDEO_SLOT_STARTED].join(" "),function(){return this.setDrawerWidth()}),this.on(n.rootNode(),t.TOGGLE_DRAWER_REQUESTED,function(){return this.toggleDrawer()}),this.on(n.rootNode(),t.CLOSE_DRAWER_REQUESTED,function(){return this.closeDrawer()}),this.on(n.rootNode(),t.OPEN_DRAWER_REQUESTED,function(){return this.openDrawer()}),this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.miniUiEnabled?this.closeDrawer():void 0})})},r(s,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return r=i(4),o=i(42).component,n=i(28),t=i(7),e=i(55),a=i(186),u=i(200),h=i(188),s=function(){return this.attributes({ariaLabel:e.__("accessibility:::More controls"),closedAriaLabel:e.__("accessibility:::More controls"),openedAriaLabel:e.__("accessibility:::Fewer controls")}),this.handleVisibility=function(){return this.isTouch&&this.buttonEnabled&&this.miniUiEnabled?(this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode(),this.trigger(t.DRAWER_BUTTON_ENABLED)):this.hideNode()},this.after("initialize",function(){return this.isTouch=n.touchevents,this.on(r.rootNode(),t.DRAWER_UPDATED,function(t,e){return this.buttonEnabled=e.enabled,this.handleVisibility()}),this.on(r.rootNode(),t.MINI_UI_UPDATED,function(t,e){return this.miniUiEnabled=e.enabled,this.handleVisibility()}),this.on("click",function(){return this.trigger(t.TOGGLE_DRAWER_REQUESTED)}),this.on(r.rootNode(),t.DRAWER_CLOSED,function(t,e){return this.$node.attr("aria-expanded",!1),this.updateAccessibility(this.attr.closedAriaLabel)}),this.on(r.rootNode(),t.DRAWER_OPENED,function(t,e){return this.$node.attr("aria-expanded",!0),this.updateAccessibility(this.attr.openedAriaLabel)})})},o(a,s,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(200),u=i(188),h=i(202),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Enter fullscreen"),enterAriaLabel:e.__("accessibility:::Enter fullscreen"),enterIconSelector:".dmp_FullscreenButton-icon-enter",enterTooltipText:e.__("tooltip:::Enter fullscreen"),exitAriaLabel:e.__("accessibility:::Exit fullscreen"),exitIconSelector:".dmp_FullscreenButton-icon-exit",exitTooltipText:e.__("tooltip:::Exit fullscreen"),tooltipText:""}),this.enterFullscreenUiState=function(){return this.showNode(this.select("exitIconSelector")),this.hideNode(this.select("enterIconSelector")),this.attr.tooltipText=this.attr.exitTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.exitAriaLabel),this.$node.attr("aria-pressed",!0)},this.exitFullscreenUiState=function(){return this.showNode(this.select("enterIconSelector")),this.hideNode(this.select("exitIconSelector")),this.attr.tooltipText=this.attr.enterTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.enterAriaLabel),this.$node.attr("aria-pressed",!1)},this.requestFullscreenToggle=function(){return this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)},this.after("initialize",function(){return this.updateAccessibility(this.attr.enterAriaLabel),this.on(n.rootNode(),t.FULLSCREEN_SUPPORTED,function(){return this.showNode(),this.trigger(t.FULLSCREEN_BUTTON_ENABLED)}),this.on("click",this.requestFullscreenToggle),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.enterFullscreenUiState()}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.exitFullscreenUiState()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(n.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()}),this.exitFullscreenUiState(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex)})},r(s,h,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(188),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Live video"),badgeSelector:".dmp_LiveInfo-badge",labelSelector:".dmp_LiveInfo-label"}),this.setText=function(){return this.select("badgeSelector").text(e.__("badge:::Live"))},this.setViewers=function(t){return this.select("labelSelector").text(e.__("badge:::%count% viewers",{count:t})),this.updateAccessibility(e.__("accessibility:::Live video: %count% viewers",{count:t}))},this.showLiveInfo=function(){return"live"===n.get("stream_type")?(this.showNode(),n.get("show_live_viewers")?this.showNode(this.select("labelSelector")):this.hideNode(this.select("labelSelector"))):this.hideNode()},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.setAccessibility(this.attr.ariaLabel),this.setText()}),this.on(n.rootNode(),[t.VIDEO_SLOT_ENDED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.AD_STOPPED].join(" "),function(){return this.showLiveInfo()}),this.on(n.rootNode(),t.LIVE_AUDIENCE,function(t,e){return this.setViewers(e.nbViewers)})})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(200),u=i(188),h=i(202),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Watch on Dailymotion.com"),tooltipText:e.__("tooltip:::Watch on Dailymotion.com")}),this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.$node.attr("href",n.metadata("url")),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode()}),this.on("click",function(e){return this.trigger(t.PAUSE_REQUESTED),this.trigger(t.WATCH_ON_SITE_REQUESTED),e.preventDefault()})})},r(s,h,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(201),u=i(188),o=function(){return this.attributes({ariaLabel:e.__("tooltip:::Picture in Picture"),tooltipText:e.__("tooltip:::Picture in Picture")}),this.requestPresentationModeToggle=function(){return this.trigger(t.PRESENTATION_MODE_TOGGLE_REQUESTED,{mode:"picture-in-picture"})},this.after("initialize",function(){return this.on(n.rootNode(),t.PIP_SUPPORTED,function(){return this.setAccessibility(this.attr.ariaLabel),this.showNode(),this.trigger(t.PIP_BUTTON_ENABLED)}),this.on("click",this.requestPresentationModeToggle),this.on(n.rootNode(),t.PRESENTATION_MODE_CHANGED,function(t,e){return this.highlightIcon("picture-in-picture"===e.mode)})})},r(o,s,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(188),o=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Control video playback"),playAriaLabel:e.__("accessibility:::Play video"),pauseAriaLabel:e.__("accessibility:::Pause video"),stopAriaLabel:e.__("accessibility:::Stop video"),replayAriaLabel:e.__("accessibility:::Replay video"),canPause:!0,pauseIconSelector:".dmp_PlaybackButton-icon-pause",playIconSelector:".dmp_PlaybackButton-icon-play",replayIconSelector:".dmp_PlaybackButton-icon-replay",stopIconSelector:".dmp_PlaybackButton-icon-stop"}),this.showPlayIcon=function(){return this.showNode(this.playIcon),this.hideNode(this.pauseIcon),this.hideNode(this.stopIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.playAriaLabel)},this.showPauseIcon=function(){return this.showNode(this.pauseIcon),this.hideNode(this.playIcon),this.hideNode(this.stopIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.pauseAriaLabel)},this.showStopIcon=function(){return this.showNode(this.stopIcon),this.hideNode(this.playIcon),this.hideNode(this.pauseIcon),this.hideNode(this.replayIcon),this.updateAccessibility(this.attr.stopAriaLabel)},this.showReplayIcon=function(){return this.showNode(this.replayIcon),this.hideNode(this.playIcon),this.hideNode(this.stopIcon),this.hideNode(this.pauseIcon),this.updateAccessibility(this.attr.replayAriaLabel)},this.after("initialize",function(){return this.playIcon=this.select("playIconSelector"),this.pauseIcon=this.select("pauseIconSelector"),this.stopIcon=this.select("stopIconSelector"),this.replayIcon=this.select("replayIconSelector"),this.setAccessibility(this.attr.pauseAriaLabel,this.attr.tabindex),this.showPauseIcon(),this.showNode(),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.isLive="live"===n.get("stream_type"),this.attr.canPause=!this.isLive}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.attr.canPause=!0:void 0}),this.on(n.rootNode(),t.AD_STOPPED,function(){return this.attr.canPause=!this.isLive}),this.on(n.rootNode(),[t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return this.attr.canPause?this.showPauseIcon():this.showStopIcon()}),this.on(n.rootNode(),t.VIDEO_PAUSE,function(t,e){return e.interrupted?void 0:this.showPlayIcon()}),this.on(n.rootNode(),t.SEQUENCE_ENDED,function(){return this.showReplayIcon()}),this.on("click",function(){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)})})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(200),u=i(201),h=i(214),l=i(188),d=i(202),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Toggle the quality menu"),tooltipText:e.__("tooltip:::Change quality"),menuContentId:"quality",hdIconSelector:".dmp_QualityButton-icon-hd","4kIconSelector":".dmp_QualityButton-icon-4k"}),this.show4kIcon=function(){return this.showNode(this.select("4kIconSelector")),this.hideNode(this.select("hdIconSelector"))},this.showHdIcon=function(){return this.showNode(this.select("hdIconSelector")),this.hideNode(this.select("4kIconSelector"))},this.updateButtonVisibility=function(){return this.enabled&&this.videoSlotStarted?this.showNode():this.hideNode()},this.after("initialize",function(){return this.enabled=!1,this.videoSlotStarted=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showHdIcon(),this.on(n.rootNode(),t.QUALITIES_AVAILABLE,function(t,e){return this.enabled=e.qualities.length>(e.adaptiveSupported?0:1)&&"audio"!==n.metadata("media_type"),this.updateButtonVisibility()}),this.on(n.rootNode(),[t.VIDEO_SLOT_ENDED,t.CHROMECAST_REMOTE_ENABLED,t.LOAD_VIDEO].join(" "),function(){return this.videoSlotStarted=!1,this.updateButtonVisibility()}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.videoSlotStarted=!0,this.updateButtonVisibility()}),this.on(n.rootNode(),t.QUALITY_CHANGED,function(t,e){var i;if(this.enabled)return i=parseInt(e.quality.name,10),i>=2160?this.show4kIcon():this.showHdIcon(),this.highlightIcon(i>=720)})})},r(l,s,l,h,d,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.attributes({menuAlign:"default",menuContentId:null}),this.before("hideNode",function(e){return e?void 0:this.trigger(t.HIDE_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId})}),this.after("initialize",function(){return this.on(e.rootNode(),t.MENU_DID_SHOW,function(){return this.menuVisible=!0}),this.on(e.rootNode(),t.MENU_DID_HIDE,function(){return this.menuVisible=!1}),this.on(e.rootNode(),t.ERROR_DISPLAY_REQUESTED,function(){return this.trigger(t.HIDE_MENU_REQUESTED)}),this.on(["click",t.PRESSED_ENTER].join(" "),function(){return this.$node.attr("aria-expanded","false"===this.$node.attr("aria-expanded")),this.trigger(t.TOGGLE_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId,align:this.attr.menuAlign})}),this.on([t.PRESSED_UP,t.PRESSED_DOWN].join(" "),function(e){return e.stopPropagation(),this.trigger(t.SHOW_MENU_REQUESTED,{targetSelector:this.attr.nodeSelector,menuContentId:this.attr.menuContentId,align:this.attr.menuAlign}),this.trigger(t.FOCUS_FIRST_MENUITEM_REQUESTED,{menuContentId:this.attr.menuContentId})}),this.on("keydown",function(e){return this.menuVisible&&9===e.which?(e.stopPropagation(),this.trigger(t.HIDE_MENU_REQUESTED)):void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c;return r=i(4),o=i(42).component,s=i(16),t=i(7),e=i(55),n=i(118).Location,u=i(186),h=i(200),l=i(216),d=i(188),c=i(202),a=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Report playback issue"),tooltipText:e.__("tooltip:::Report playback issue")}),this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.fullscreenState=!1,this.on(r.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.showNode()}),this.on(r.rootNode(),[t.VIDEO_SLOT_ENDED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.currentVid=r.metadata("id")}),this.on(r.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.fullscreenState=!0}),this.on(r.rootNode(),t.FULLSCREEN_EXITED,function(){return this.fullscreenState=!1}),this.on("click",function(){var e;return this.trigger(t.PAUSE_REQUESTED),this.fullscreenState&&this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED),"inline"===r.get("integration")?this.trigger(t.REPORT_ISSUE_REQUESTED,{id:this.currentVid,techno:"html5"}):(e=this.openPopup(n.appendQueryStringParameter(r.context("report_issue_url"),"id="+this.currentVid+"&techno=html5"),"Report Issue"),$(e).load(function(){return e.document.getElementById("config").value=JSON.stringify(r.get())}))})})},o(u,c,a,h,l,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({popupWidth:500,popupHeight:500}),this._windowOptions=function(t,e){return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+this.attr.popupWidth+",height="+this.attr.popupHeight+",left="+e+",top="+t},this.openLink=function(t){return window.open(t)},this.openPopup=function(t,e){var i,n;return n=Math.round((screen.height-this.attr.popupHeight)/2),i=Math.round((screen.width-this.attr.popupWidth)/2),window.open(t,e,this._windowOptions(n,i))}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o,s,a,u,h,l,d,c,f,p,E,m;return h=i(4),l=i(42).component,s=i(55),n=i(7),c=i(186),f=i(187),p=i(218),E=i(219),m=i(188),u=i(220),o=i(222),t=i(224),e=i(225),a=i(226),d=function(){return this.attributes({tabindex:null,ariaLabel:s.__("accessibility:::Seek bar"),delayHidePlayhead:1500,duration:0,hoveringPlayer:!1,time:0,nodeSelector:null,containerSelector:null,subComponents:{TimeFilmstrip:{constructor:u,selector:".dmp_Filmstrip--time"},FrameFilmstrip:{constructor:o,selector:".dmp_Filmstrip--frame"},ArrowFilmstrip:{constructor:t,selector:".dmp_Filmstrip--arrow"},BufferBar:{constructor:e,selector:".dmp_SeekBar-buffer"},Markers:{constructor:a,selector:".dmp_SeekBar-markers"}},ariaNodeSelector:".dmp_SeekBar-playhead",railTrackSelector:".dmp_SeekBar-rail",valueTrackSelector:".dmp_SeekBar-time",playheadCenterOffset:1,trackMargin:{start:h.isGKEnabled("PV5_NEW_PLAYHEAD")?Modernizr.touchevents?5:4:2,end:0},gapSelector:".dmp_SeekBar-gaps-rail"}),this.setInteractionEnabled=function(t){return this.setSliderEnabled(t),t?this.$node.addClass("dmp_SeekBar--interactive"):this.$node.removeClass("dmp_SeekBar--interactive"),this.trigger(n.SEEK_BAR_INTERACTION_CHANGED,{interactive:t})},this.setVariant=function(){var t,e,i,n,o;for(o=1<=arguments.length?r.call(arguments,0):[],i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(this.$node.addClass("dmp_SeekBar--"+n));return i},this.unsetVariant=function(){var t,e,i,n,o;for(o=1<=arguments.length?r.call(arguments,0):[],i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(this.$node.removeClass("dmp_SeekBar--"+n));return i},this.updateTimeBar=function(){var t;if(!this.disableUpdate)return t=this.fullBar?1:this.attr.duration>0?this.attr.time/this.attr.duration:0,t!==this.attr.sliderValue?(this.setSliderValue(t),this.select("ariaNodeSelector").attr("aria-valuetext",this.formatReadableTime(this.attr.time))):void 0},this.handleDragStart=function(){return this.trigger(n.VIDEO_INTERRUPT_REQUESTED,{reason:"DragSeeking"}),this.updatePlayhead(),this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_DRAGGING,{value:this.attr.sliderValue})},this.handleDrag=function(){return this.trigger(n.SEEK_BAR_DRAGGING,{value:this.attr.sliderValue})},this.handleDragEnd=function(){return this.trigger(n.SEEK_REQUESTED,{time:this.attr.sliderValue*this.attr.duration}),this.trigger(n.VIDEO_RESUME_REQUESTED,{reason:"DragSeeking"}),this.updateFilmstripVisibility()},this.updatePlayhead=function(){return(this.attr.hoveringPlayer||this.attr.sliderIsDragging)&&this.$node.addClass("dmp_playhead-is-active"),this.attr.sliderIsDragging?void 0:(clearTimeout(this.t),this.t=setTimeout(function(t){return function(){return t.$node.removeClass("dmp_playhead-is-active")}}(this),this.attr.delayHidePlayhead))},this.updateFilmstripVisibility=function(){return this.attr.mouseIn||this.attr.sliderIsDragging?this.trigger(n.SHOW_FILMSTRIP_REQUESTED):this.trigger(n.HIDE_FILMSTRIP_REQUESTED)},this.after("updateSliderUI",function(t){return this.select("gapSelector").width(Math.min(this.getSliderPercentageValue(t),100)+"%")}),this.after("initialize",function(){return this.attachSubComponents({seekBarSelector:this.attr.nodeSelector,trackBarSelector:this.attr.railTrackSelector}),this.setAccessibility(this.attr.ariaLabel,"0","ariaNodeSelector"),this.showNode(),this.chromecastRemoteEnabled=!1,this.on(h.rootNode(),n.MENU_DID_SHOW,function(){return this.$node.css("z-index",0)}),this.on(h.rootNode(),n.MENU_DID_HIDE,function(){return this.$node.css("z-index",1)}),this.on(h.rootNode(),n.LOAD_VIDEO,function(){return this.unsetVariant("content","ad"),this.attr.time=0,this.fullBar=!1,this.updateTimeBar()}),this.on(h.rootNode(),n.SEQUENCE_STARTED,function(){return this.setInteractionEnabled(!1),this.disableUpdate=!1,this.unsetVariant("content","ad")}),this.on(h.rootNode(),n.AD_STARTED,function(t,e){return"linear"===e.type?(this.setInteractionEnabled(!1),this.fullBar=!1,this.unsetVariant("content"),this.setVariant("ad"),this.attr.time=0,this.updateTimeBar()):void 0}),this.on(h.rootNode(),n.AD_STOPPED,function(t,e){return"linear"===e.type?(this.unsetVariant("ad"),this.attr.time=0,this.updateTimeBar()):void 0}),this.on(h.rootNode(),n.VIDEO_SLOT_STARTED,function(){return"live"===h.get("stream_type")?(this.setInteractionEnabled(!1),this.fullBar=!0):(this.setInteractionEnabled(!0),this.fullBar=!1),this.attr.time=0,this.updateTimeBar(),this.unsetVariant("ad"),this.setVariant("content")}),this.on(h.rootNode(),n.VIDEO_ENDED,function(t,e){return this.chromecastRemoteEnabled?(this.attr.time=h.get("duration"),this.updateTimeBar()):void 0}),this.on(h.rootNode(),n.VIDEO_SLOT_ENDED,function(){return this.unsetVariant("content"),this.attr.time=0,this.updateTimeBar()}),this.on(h.rootNode(),n.SEQUENCE_ENDED,function(){return this.setInteractionEnabled(!0),this.disableUpdate=!0,this.attr.duration=h.get("duration"),this.setSliderValue(1),this.unsetVariant("ad"),this.setVariant("content")}),this.on(h.rootNode(),n.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration,this.updateTimeBar()}),this.on(h.rootNode(),n.VIDEO_TIME_UPDATE,function(t,e){return this.attr.sliderIsDragging?void 0:(this.attr.time=e.time,this.updateTimeBar())}),this.on(h.rootNode(),[n.MOUSE_MOVED_OVER_PLAYER,n.VIDEO_PLAY].join(" "),function(){return this.attr.hoveringPlayer=!0,this.updatePlayhead()}),this.on(h.rootNode(),n.MOUSE_LEFT_PLAYER,function(){return this.attr.hoveringPlayer=!1,this.updatePlayhead()}),this.on(h.rootNode(),n.CHROMECAST_REMOTE_ENABLED,function(){return this.chromecastRemoteEnabled=!0}),this.on(h.rootNode(),n.CHROMECAST_SESSION_STOPPED,function(t,e){return this.chromecastRemoteEnabled=!1}),this.on("mouseenter",function(t){return this.attr.mouseIn=!0,this.updateFilmstripVisibility()}),this.on("mouseleave",function(t){return this.attr.mouseIn=!1,this.updateFilmstripVisibility()}),this.on("mousemove",function(t){var e;return this.attr.sliderIsDragging?void 0:(e=this.sliderValueForMouseEvent(t),this.trigger(n.SEEK_BAR_MOUSE_MOVE,{value:e}))}),this.on(this.attr.ariaNodeSelector,"focus",function(){return this.attr.mouseIn=!0,this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_FOCUS,{value:this.attr.sliderValue})}),this.on(this.attr.ariaNodeSelector,"blur",function(){return this.attr.mouseIn=!1,this.updateFilmstripVisibility(),this.trigger(n.SEEK_BAR_BLUR)}),this.on(h.rootNode(),n.MINI_UI_UPDATED,function(t,e){return e.enabled?this.setVariant("mini"):this.unsetVariant("mini")}),this.on(h.rootNode(),n.DRAWER_OPENED,function(){return this.$node.addClass("dmp_is-transitioned--fadeLeft")}),this.on(h.rootNode(),[n.DRAWER_CLOSED,n.BREAKPOINT_CHANGED].join(" "),function(){return this.$node.removeClass("dmp_is-transitioned--fadeLeft")}),this.$node.toggleClass("dmp_SeekBar--gk",h.isGKEnabled("PV5_NEW_PLAYHEAD"))})},l(c,p,E,d,f,m)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attributes({sliderValue:0,sliderIsDragging:!1,ariaNodeSelector:!1,railTrackSelector:null,valueTrackSelector:null,playheadCenterOffset:0}),this.sliderValueForMouseEvent=function(t){var e,i,n,r;return n=this.select("railTrackSelector").width(),e=n-this.attr.trackMargin.end,r=n-this.attr.trackMargin.start-this.attr.trackMargin.end,i=t.pageX-this.select("railTrackSelector").offset().left+this.attr.playheadCenterOffset,i<this.attr.trackMargin.start&&(i=this.attr.trackMargin.start),i>e&&(i=e),(i-this.attr.trackMargin.start)/r},this._handleValueChange=function(t){return this.setSliderValue(this.sliderValueForMouseEvent(t))},this.setSliderValue=function(t){var e;return this.attr.sliderValue=t,this.updateSliderUI(t),e=this.attr.ariaNodeSelector?this.select("ariaNodeSelector"):this.$node,e.attr("aria-valuenow",Math.floor(100*this.attr.sliderValue))},this.updateSliderUI=function(t){return this.select("valueTrackSelector").width(Math.min(this.getSliderPercentageValue(t),100)+"%")},this.getSliderPercentageValue=function(t){var e;return e=this.select("railTrackSelector").width(),e>0?100*(this.attr.trackMargin.start/e+t*(e-this.attr.trackMargin.start-this.attr.trackMargin.end)/e):0},this.setSliderEnabled=function(t){var e;return this._sliderEnabled=t,e=this.attr.ariaNodeSelector?this.select("ariaNodeSelector"):this.$node,this._sliderEnabled?e.attr("role","slider"):e.attr("role","progressbar")},this.after("initialize",function(){return this._sliderEnabled=!0,this.attr.trackMargin||(this.attr.trackMargin={start:0,end:0}),this.on("dragstart",function(t){return this._sliderEnabled&&(this.attr.sliderIsDragging=!0,this._handleValueChange(t),this.handleDragStart)?this.handleDragStart():void 0}),this.on("drag",function(t){return this._sliderEnabled&&(this._handleValueChange(t),this.handleDrag)?this.handleDrag(t):void 0}),this.on("dragend",function(t){return this._sliderEnabled&&(this.attr.sliderIsDragging=!1,this.handleDragEnd)?this.handleDragEnd():void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this.attachSubComponents=function(t){var e,i,n,r;null==t&&(t={}),n=this.attr.subComponents,r=[];for(i in n)e=n[i],r.push(e.constructor.attachTo(this.$node.find(e.selector),t));return r},this.teardownSubComponents=function(){var t,e,i,n;i=this.attr.subComponents,n=[];for(e in i)t=i[e],n.push(t.constructor.teardownAll());return n},this.after("teardown",function(){return this.teardownSubComponents()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return t=i(42).component,r=i(187),n=i(221),e=function(){return this.attributes({textSelector:".dmp_Filmstrip-text"}),this.willUpdateFilmstripPosition=function(t){return this.select("textSelector").text(this.formatTime(t*this.attr.duration))}},t(n,e,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(4),t=i(7),e=i(42).compose,o=i(188),r=function(){return this.attributes({seekBarSelector:null,trackBarSelector:null,duration:0}),this.willUpdateFilmstripPosition=function(t){return console.error("Implement me in the component!")},this.updateFilmstrip=function(t){var e,i,n,r,o,s,a,u;return this.willUpdateFilmstripPosition(t),s=this._$trackBar.width(),a=this.$node.outerWidth(),u=Math.round(this._trackBarOffset+s*t-.5*a),e=4,o=2,r=this._trackBarOffset-e-o,n=Math.max(u,r),i=Math.min(n,this._$seekBar.width()-a-r),this.$node.css({left:i})},this.after("initialize",function(){return this._$seekBar=this.$node.closest(this.attr.seekBarSelector),this._$trackBar=this._$seekBar.find(this.attr.trackBarSelector),this._trackBarOffset=parseInt(this._$trackBar.css("margin-left"),10),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration}),this.on(n.rootNode(),[t.VIDEO_SELECTED,t.LOAD_VIDEO].join(" "),function(){return this._metadata=!1,this._canShow=!1,this.hideNode()}),this.on(n.rootNode(),t.SEEK_BAR_INTERACTION_CHANGED,function(t,e){return this._interactiveSeekbar=e.interactive,this._canShow=!(!this._interactiveSeekbar||!this._metadata),this._canShow?void 0:this.hideNode()}),this.on(n.rootNode(),t.VIDEO_LOADED_METADATA,function(){return this._metadata=!0,this._canShow=!!this._interactiveSeekbar}),this.on(n.rootNode(),[t.FULLSCREEN_ENTERED,t.FULLSCREEN_EXITED].join(" "),function(){return this.hideNode()}),this.on(this.attr.seekBarSelector,[t.SEEK_BAR_MOUSE_MOVE,t.SEEK_BAR_DRAGGING].join(" "),function(t,e){return this.updateFilmstrip(e.value)}),this.on(this.attr.seekBarSelector,t.SHOW_FILMSTRIP_REQUESTED,function(){return this._canShow&&!this.unavailable?this.showNode():void 0}),this.on(this.attr.seekBarSelector,t.HIDE_FILMSTRIP_REQUESTED,function(){return this.hideNode()}),this.on("mouseenter",function(){return this.hideNode()}),this.on(n.rootNode(),t.SEEK_BAR_FOCUS,function(t,e){return this._seekBarFocused=!0,this.updateFilmstrip(e.value)}),this.on(n.rootNode(),t.SEEK_BAR_BLUR,function(t,e){return this._seekBarFocused=!1}),this.on(n.rootNode(),t.VIDEO_TIME_UPDATE,function(t,e){var i;return this._seekBarFocused?(i=this.attr.duration>0?e.time/this.attr.duration:0,this.updateFilmstrip(i)):void 0})}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(42).component,e=i(4),t=i(7),o=i(221),s=i(223),r=function(){return this.attributes({totFrames:100,framePerRow:10,frameHeight:60}),this.onQualityChanged=function(i,n){return this.off(e.rootNode(),t.QUALITY_CHANGED,this.onQualityChanged),
this.imageReady?(n.videoWidth/n.videoHeight>1.65?this.frameWidth=parseInt(16*this.attr.frameHeight/9,10):this.frameWidth=parseInt(4*this.attr.frameHeight/3,10),this.$node.css("width",this.frameWidth),this.unavailable=!1):void 0},this.willUpdateFilmstripPosition=function(t){var e,i,n,r,o;return o=this.attr.duration*t,i=this.attr.duration/this.attr.totFrames,n=parseInt(Math.floor(o/i)),r=parseInt(Math.floor(n/this.attr.framePerRow)),e=n%this.attr.framePerRow,this.$node.css("background-position",-this.frameWidth*e+"px "+-this.attr.frameHeight*r+"px")},this.after("initialize",function(){return this.unavailable=!0,this.$node.css("height",this.attr.frameHeight+1),this.on(e.rootNode(),t.VIDEO_START,function(i,n){var r;return r=e.metadata("filmstrip_url"),null!=r?(this.preloadImage(r),this.on(e.rootNode(),t.QUALITY_CHANGED,this.onQualityChanged)):this.unavailable=!0}),this.on(t.IMAGE_PRELOADED,function(t,e){return this.$node.css("background-image","url("+e.src+")"),this.imageReady=!0}),this.on(t.IMAGE_PRELOAD_ERROR,function(){return this.unavailable=!0,this.imageReady=!1})})},n(o,r,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(7),e=function(){return this._notifyImagePreloaded=function(e){return this.trigger(t.IMAGE_PRELOADED,{width:e.target.width,height:e.target.height,src:e.target.src})},this._notifyImagePreloadError=function(e){return this.trigger(t.IMAGE_PRELOAD_ERROR)},this.preloadImage=function(t){var e;return t?(e=new Image,this.on(e,"load",this._notifyImagePreloaded),this.on(e,"error",this._notifyImagePreloadError),e.src=t):void this._notifyImagePreloadError()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(42).component,n=i(221),t=function(){return this.willUpdateFilmstripPosition=function(t){}},e(n,t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return r=i(42).component,n=i(4),t=i(7),e=function(){return this.attributes({time:0,duration:0}),this.updateBufferBar=function(){var t,e;return t=this.attr.duration>0?this.attr.time/this.attr.duration:0,e=Math.max(Math.min(100*t,100),0),this.$node.width(e+"%")},this.after("initialize",function(){return this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.attr.time=0,this.updateBufferBar()}),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,e){return this.attr.duration=e.duration,this.updateBufferBar()}),this.on(n.rootNode(),t.VIDEO_BUFFER_UPDATE,function(t,e){return this.attr.time=e.buffer,this.updateBufferBar()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.attr.time=0,this.updateBufferBar()})})},r(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(4),o=i(42).component,n=i(7),t=i(227),e=i(228),a=i(188),s=function(){return this.canDisplayGroup=function(t){return this.authorizedCuezoneGroups.indexOf(t)>-1},this.canDisplayType=function(t){return this.authorizedCuezoneTypes.indexOf(t)>-1},this.canRemoveMarker=function(t){return this.authorizedCuezoneTypes.indexOf(t.cuezone.type)>-1&&null!=t.countdown&&0===t.countdown},this.createMarker=function(t,e){var i,n;return n=t.to/this.duration*100,i="<div id='"+t.id+"' class='dmp_SeekBar-marker' style='left:"+n+"%;'></div>",this.markers[t.id]={group:e,displayElement:$(i).appendTo(this.$node)}},this.removeMarker=function(t){return null!=this.markers[t]?(this.markers[t].displayElement.remove(),delete this.markers[t]):void 0},this.after("initialize",function(){return this.duration=r.get("duration"),"noads"!==r.metadata("advertising.status")&&r.isGKEnabled("PV5_AD_MARKERS")&&this.duration>0?(this.markers={},this.authorizedCuezoneGroups=[t.LINEAR_ADS],this.authorizedCuezoneTypes=[e.MIDROLL],this.on(r.rootNode(),n.CUE_ZONE_REGISTER_GROUP,function(t,e){var i,n,r,o,s;if(this.canDisplayGroup(e.id)){for(o=e.cuezones,s=[],n=0,r=o.length;r>n;n++)i=o[n],this.canDisplayType(i.type)?s.push(this.createMarker(i,e.id)):s.push(void 0);return s}}),this.on(r.rootNode(),n.CUE_ZONE_LEFT,function(t,e){var i;return this.canRemoveMarker(e)&&(i=e.cuezone.id,null!=this.markers[i])?this.removeMarker(i):void 0}),this.on(r.rootNode(),n.CUE_ZONE_UNREGISTER_GROUP,function(t,e){var i,n,r,o;if(this.canDisplayGroup(e.id)){r=this.markers,o=[];for(i in r)n=r[i],n.group===e.id?o.push(this.removeMarker(i)):o.push(void 0);return o}}),this.on(r.rootNode(),n.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(r.rootNode(),n.VIDEO_SLOT_STARTED,function(t,e){return this.showNode()})):void 0})},o(a,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return{LINEAR_ADS:"linearAds",SUBTITLES:"subtitles"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return{MIDROLL:"midroll",POSTROLL:"postroll",SUBTITLES:"subtitles"}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return n=i(44),r=i(4),o=i(42).component,t=i(7),e=i(55),a=i(186),u=i(200),h=i(188),l=i(202),s=function(){return this.attributes({ariaLabel:e.__("accessibility:::Increase size"),expandAriaLabel:e.__("accessibility:::Increase size"),expandIconSelector:".dmp_SizeButton-icon-expand",expandTooltipText:e.__("tooltip:::Increase size"),reduceAriaLabel:e.__("accessibility:::Reduce size"),reduceIconSelector:".dmp_SizeButton-icon-reduce",reduceTooltipText:e.__("tooltip:::Reduce size"),tooltipText:""}),this.enterExpandedState=function(){return this.isExpanded=!0,this.showNode(this.select("reduceIconSelector")),this.hideNode(this.select("expandIconSelector")),this.attr.tooltipText=this.attr.reduceTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.reduceAriaLabel),this.$node.attr("aria-pressed",!0)},this.exitExpandedState=function(){return this.isExpanded=!1,this.showNode(this.select("expandIconSelector")),this.hideNode(this.select("reduceIconSelector")),this.attr.tooltipText=this.attr.expandTooltipText,this.requestTooltipUpdate(),this.updateAccessibility(this.attr.expandAriaLabel),this.$node.attr("aria-pressed",!1)},this.requestSizeToggle=function(){return this.isExpanded?(this.exitExpandedState(),this.trigger(t.REDUCE_PLAYER_SIZE_REQUESTED)):(this.enterExpandedState(),this.trigger(t.EXPAND_PLAYER_SIZE_REQUESTED))},this.after("initialize",function(){return n.isEmbed()||(this.showNode(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex)),"expanded"===r.settings("expand.state")?this.enterExpandedState():this.exitExpandedState(),this.on("click",function(){return this.requestSizeToggle()}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()})})},o(a,l,s,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c;return o=i(42).component,r=i(4),t=i(7),e=i(55),n=i(44),a=i(186),u=i(200),c=i(202),h=i(201),d=i(188),l=i(214),s=function(){return this.attributes({ariaLabel:e.__("accessibility:::Toggle the speed menu"),tooltipText:e.__("tooltip:::Change playback speed"),menuContentId:"speed",defaultIconSelector:".dmp_SpeedButton-icon-default",fastIconSelector:".dmp_SpeedButton-icon-fast",slowIconSelector:".dmp_SpeedButton-icon-slow"}),this.showDefaultIcon=function(){return this.showNode(this.select("defaultIconSelector")),this.hideNode(this.select("fastIconSelector")),this.hideNode(this.select("slowIconSelector"))},this.showFastIcon=function(){return this.showNode(this.select("fastIconSelector")),this.hideNode(this.select("slowIconSelector")),this.hideNode(this.select("defaultIconSelector"))},this.showSlowIcon=function(){return this.showNode(this.select("slowIconSelector")),this.hideNode(this.select("fastIconSelector")),this.hideNode(this.select("defaultIconSelector"))},this.after("initialize",function(){return this.showDefaultIcon(),this.updateAccessibility(this.attr.ariaLabel),this.on(r.rootNode(),t.VIDEO_SELECTED,function(){return this.canShow=n.canChangePlaybackRate()&&"live"!==r.metadata("stream_type")}),this.on(r.rootNode(),[t.LOAD_VIDEO,t.VIDEO_SLOT_ENDED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.videoStarted=!1,this.hideNode()}),this.on(r.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.canShow?(this.videoStarted=!0,this.showNode()):void 0}),this.on(r.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return e.active?this.hideNode():this.canShow&&this.videoStarted?this.showNode():void 0}),this.on(r.rootNode(),t.SPEED_CHANGE_CONFIRMED,function(t,e){if(this.canShow){switch(!1){case!(e.speed<1):this.showSlowIcon();break;case!(e.speed>1):this.showFastIcon();break;default:this.showDefaultIcon()}return this.highlightIcon(1!==e.speed)}})})},o(a,c,l,s,u,h,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(200),u=i(201),h=i(214),l=i(188),d=i(202),o=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Toggle the subtitles menu"),menuContentId:"subtitles",tooltipText:e.__("tooltip:::Set subtitles")}),this.after("initialize",function(){return this.enabled=!1,this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled=n.metadata("subtitles.enable")}),this.on(n.rootNode(),[t.AD_LINEAR_SLOT_STARTED,t.LOAD_VIDEO,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),[t.VIDEO_SLOT_STARTED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.enabled?this.showNode():void 0}),this.on(n.rootNode(),t.SUBTITLE_CHANGE_CONFIRMED,function(t,e){return this.highlightIcon(-1!==parseInt(e.code))})})},r(s,l,h,d,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(187),u=i(188),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Time elapsed / Video duration"),timeSelector:".dmp_TimeInfo-time",durationSelector:".dmp_TimeInfo-duration"}),this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.enabled="live"!==n.metadata("stream_type")}),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.enabled?(this.select("timeSelector").text(this.formatTime(0)),this.setAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(0)}),"timeSelector"),this.select("durationSelector").text(this.formatTime(n.get("duration"))),this.setAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.get("duration"))}),"durationSelector"),this.showNode()):void 0}),this.on(n.rootNode(),t.END_SCREEN_WILL_OPEN,function(){return this.enabled?(this.select("timeSelector").text(this.formatTime(n.get("duration"))),this.updateAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(n.get("duration"))}),"timeSelector"),this.select("durationSelector").text(this.formatTime(n.get("duration"))),this.updateAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.get("duration"))}),"durationSelector"),this.showNode()):void 0}),this.on(n.rootNode(),t.VIDEO_DURATION_CHANGE,function(t,i){return this.enabled?(this.select("durationSelector").text(this.formatTime(i.duration)),this.updateAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(i.duration)}),"durationSelector")):void 0}),this.on(n.rootNode(),t.VIDEO_TIME_UPDATE,function(t,i){return this.enabled?(this.select("timeSelector").text(this.formatTime(i.time)),this.updateAccessibility(e.__("accessibility:::Time elapsed: %time%",{time:this.formatReadableTime(i.time)}),"timeSelector")):void 0})})},r(s,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return n=i(44),r=i(4),o=i(42).component,t=i(7),e=i(55),a=i(186),u=i(200),h=i(218),l=i(188),d=i(202),s=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Volume"),gradStopLeftSelector:".dmp_VolumeSlider-gstop-left",gradStopRightSelector:".dmp_VolumeSlider-gstop-right",tooltipText:e.__("tooltip:::Change volume"),railTrackSelector:".dmp_VolumeSlider-rail",valueTrackSelector:".dmp_VolumeSlider-volume",trackMargin:{start:10,end:10}}),this.updateSliderUI=function(t){return this.select("gradStopLeftSelector").attr("offset",t),this.select("gradStopRightSelector").attr("offset",t+.01),this.updateTooltipText(t)},this.updateTooltipText=function(e){var i;return i=parseInt(100*e,10),this.attr.tooltipText=this.attr.tooltipTextBase+": "+i+"%",this.trigger(t.UPDATE_TOOLTIP_REQUESTED,{targetSelector:this.attr.nodeSelector,text:this.attr.tooltipText,align:this.attr.tooltipAlign})},this.requestVolumeChange=function(){return this.trigger(t.VOLUME_CHANGE_REQUESTED,{volume:this.attr.sliderValue,muted:!1})},this.handleDragStart=function(){return this.requestVolumeChange()},this.handleDrag=function(){return this.requestVolumeChange()},this.handleDragEnd=function(){return this.attr.tooltipText=this.attr.tooltipTextBase},this.after("initialize",function(){return this.volume=1,this.muted=!1,n.canChangeVolume()?(this.attr.tooltipTextBase=this.attr.tooltipText,this.attr.sliderValue=null,this.on(r.rootNode(),t.SEQUENCE_STARTED,function(){return this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.showNode()}),this.on(r.rootNode(),t.SEQUENCE_ENDED,function(){return this.hideNode()}),this.on(r.rootNode(),t.VIDEO_VOLUME_CHANGED,function(t,e){var i;return this.volume=e.volume,this.muted=e.muted,i=this.muted?0:this.volume,this.attr.sliderValue!==i?this.setSliderValue(i):void 0})):void 0})},o(a,h,d,s,u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return r=i(42).component,e=i(4),a=i(11).get("CueZone"),t=i(7),o=i(63),s=i(235),u=i(237),h=i(241),n=function(){return this._clearCuePoints=function(){return this.nextCuepoints=[],this.prevCuepoints=[]},this._addCuepoint=function(t,e){var i;return i=o(this.nextCuepoints,{cuepoint:t}),i||(i={cuepoint:t,boundary:[]},this.nextCuepoints.push(i)),i.boundary.push(e)},this._removeCuezone=function(t,e){return this.groups[t].cuezones[e]&&delete this.groups[t].cuezones[e],this._removeCuezoneInCuepoints(t,e,this.prevCuepoints),this._removeCuezoneInCuepoints(t,e,this.nextCuepoints)},this._removeCuezoneInCuepoints=function(t,e,i){var n,r,o,s,u,h;for(o in i){s=i[o],u=s.boundary;for(n in u)r=u[n],r.groupId===t&&r.cuezoneId===e&&(a.log("boundary (",r.groupId,r.cuezoneId,"at",r.countdown,") is removed from cue point",i[o].cuepoint),i[o].boundary.splice(n,1))}h=[];for(o in i)s=i[o],0===s.boundary.length?(a.log("cue point (",s,") is removed (empty)"),h.push(i.splice(o,1))):h.push(void 0);return h},this._sortNextCuepoints=function(){return this.nextCuepoints=u(this.nextCuepoints,"cuepoint")},this._time=function(t){return null==t&&(t=0),1e3*Math.round(t)/1e3},this._processCuepoints=function(t,e){var i,n,r,o,s,a;for(i=t.backward,r=t.breakOn,null==i&&(i=!1),s=i?this.prevCuepoints:this.nextCuepoints;s.length&&(a=s[0],o=a.cuepoint,n=a.boundary,null!=r?!r.bind(this)(o,n):!0);)e.bind(this)(0,o,n),s[0]&&this._moveCuepointInLists(0,i);return i?this._sortNextCuepoints():void 0},this._processCueZoneBoundary=function(t,e){var i,n,r,o,s,a,u;for(a=[],s=t.length-1;s>=0;s+=-1)i=t[s],o=i.groupId,n=this.groups[o].cuezones[i.cuezoneId],u=n.from||0,r=n.to||this.duration,a.push(e.bind(this)(o,n,i,u,r));return a},this._enterCueZone=function(e,i,n){var r;return r={group:e,cuezone:i},a.log("Entered :",e,i),this.trigger(t.CUE_ZONE_ENTERED,r),n.entered=!0},this._leaveCueZone=function(e,i,n,r){var o;return null==r&&(r=!1),o={group:e,completed:r,cuezone:i},a.log("Leaved :",e,i),n.entered=!1,r&&null!=n.countdown&&(n.countdown--,o.countdown=n.countdown,0===n.countdown&&this._removeCuezone(e,n.cuezoneId)),this.trigger(t.CUE_ZONE_LEFT,o)},this._leaveAllEnteredCueZones=function(t,e){return null==t&&(t=0),null==e&&(e=null),a.log("_leaveAllEnteredCueZones:",t,e,this.prevCuepoints.length,this.nextCuepoints.length),this._processCuepoints({backward:!0},function(i,n,r){return this._processCueZoneBoundary(r,function(i,n,r,o,s){var a;return a=null!=e?e===i:!0,a&&r.entered&&o>t?this._leaveCueZone(i,n,r):void 0})})},this._moveCuepointInLists=function(t,e){var i,n,r;return null==e&&(e=!1),n=e?{from:this.prevCuepoints,to:this.nextCuepoints}:{from:this.nextCuepoints,to:this.prevCuepoints},i=n.from,r=n.to,r.push(i[t]),i.splice(t,1)},this._processAllCuepointsUntil=function(t,e){null==e&&(e=!1),this.currentTime=this._time(t),this._processCuepoints({breakOn:function(t,e){return t>this.currentTime}},function(t,i,n){return this._processCueZoneBoundary(n,function(t,n,r,o,s){return!r.entered&&this.currentTime<s&&i>=o&&s>i&&this._enterCueZone(t,n,r),r.entered&&i>=s?this._leaveCueZone(t,n,r,e):void 0})})},this.clearCueZones=function(){return this.groups={},this.duration=0,this.currentTime=0,this.seekingTime=0,this._clearCuePoints()},this.resetCuePoints=function(){return this.nextCuepoints=h(this.nextCuepoints,this.prevCuepoints),this.prevCuepoints=[],this.seekingTime=0,this._sortNextCuepoints()},this.initializeGroups=function(t){var e,i,n;null==t&&(t=!1),t&&this._clearCuePoints(),n=this.groups;for(i in n)e=n[i],t&&(e.initialized=!1),this.initializeGroup(e,!1);return this._sortNextCuepoints()},this.initializeGroup=function(t,e){var i,n,r,o,s,a;if(null==e&&(e=!0),!t.initialized){s=t.cuezones;for(o in s)i=s[o],r=i.from||0,a=i.to||this.duration,n={groupId:t.id,cuezoneId:o,entered:!1},null!=i.countdown&&(n.countdown=i.countdown),this._addCuepoint(r,n),this._addCuepoint(a,n);t.initialized=!0,e===!0&&this._sortNextCuepoints()}},this.registerGroup=function(t){var e;return e={id:t.id,cuezones:s(t.cuezones,"id"),initialized:!1},a.log("Register group :",e),this.duration>0&&this.initializeGroup(e),this.groups[e.id]=e,this.currentTime>0?this._processAllCuepointsUntil(this.currentTime):void 0},this.unregisterGroup=function(t){var e,i,n;if(this.groups[t]){this._leaveAllEnteredCueZones(0,t),n=this.groups[t].cuezones;for(i in n)e=n[i],this._removeCuezone(t,e.id);return delete this.groups[t],this.initializeGroups(!0)}},this.handleTimeUpdate=function(t,e){return this._processAllCuepointsUntil(e.time,!0)},this.handleSeeking=function(t,e){this.seekingTime=this._time(e.time)},this.handleSeeked=function(t,e){this._leaveAllEnteredCueZones(e.time),this._processAllCuepointsUntil(e.time)},this.after("initialize",function(){return this.groups={},this.duration=0,this.currentTime=0,this.seekingTime=0,this.nextCuepoints=[],this.prevCuepoints=[],this.on(t.VIDEO_SELECTED,function(){return this.duration=e.metadata("duration"),this.initializeGroups()}),this.on(t.LOAD_VIDEO,function(){return this._leaveAllEnteredCueZones(),this.clearCueZones()}),this.on(t.VIDEO_SLOT_STARTED,function(){return this.initializeGroups(),this.on(t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.on(t.VIDEO_SEEKING,this.handleSeeking),this.on(t.VIDEO_SEEKED,this.handleSeeked)}),this.on(t.VIDEO_SLOT_ENDED,function(){return this.off(t.VIDEO_TIME_UPDATE,this.handleTimeUpdate),this.off(t.VIDEO_SEEKING,this.handleSeeking),this.off(t.VIDEO_SEEKED,this.handleSeeked),this.resetCuePoints()}),this.on(t.CUE_ZONE_REGISTER_GROUP,function(t,e){return this.registerGroup(e)}),this.on(t.CUE_ZONE_UNREGISTER_GROUP,function(t,e){return this.unregisterGroup(e.id)})})},r(n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n=i(236),r=n(function(t,e,i){t[i]=e});t.exports=r},function(t,e,i){function n(t,e){return function(i,n,a){var u=e?e():{};if(n=r(n,a,3),s(i))for(var h=-1,l=i.length;++h<l;){var d=i[h];t(u,d,n(d,h,i),i)}else o(i,function(e,i,r){t(u,e,n(e,i,r),r)});return u}}var r=i(90),o=i(64),s=i(84);t.exports=n},function(t,e,i){function n(t,e,i){if(null==t)return[];i&&u(t,e,i)&&(e=void 0);var n=-1;e=r(e,i,3);var h=o(t,function(t,i,r){return{criteria:e(t,i,r),index:++n,value:t}});return s(h,a)}var r=i(90),o=i(161),s=i(238),a=i(239),u=i(158);t.exports=n},function(t,e){function i(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}t.exports=i},function(t,e,i){function n(t,e){return r(t.criteria,e.criteria)||t.index-e.index}var r=i(240);t.exports=n},function(t,e){function i(t,e){if(t!==e){var i=null===t,n=void 0===t,r=t===t,o=null===e,s=void 0===e,a=e===e;if(t>e&&!o||!r||i&&!s&&a||n&&a)return 1;if(e>t&&!i||!a||o&&!n&&r||s&&r)return-1}return 0}t.exports=i},function(t,e,i){var n=i(242),r=i(244),o=i(179),s=o(function(t){return r(n(t,!1,!0))});t.exports=s},function(t,e,i){function n(t,e,i,h){h||(h=[]);for(var l=-1,d=t.length;++l<d;){var c=t[l];u(c)&&a(c)&&(i||s(c)||o(c))?e?n(c,e,i,h):r(h,c):i||(h[h.length]=c)}return h}var r=i(243),o=i(83),s=i(84),a=i(78),u=i(71);t.exports=n},function(t,e){function i(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}t.exports=i},function(t,e,i){function n(t,e){var i=-1,n=r,u=t.length,h=!0,l=h&&u>=a,d=l?s():null,c=[];d?(n=o,h=!1):(l=!1,d=e?[]:c);t:for(;++i<u;){var f=t[i],p=e?e(f,i,t):f;if(h&&f===f){for(var E=d.length;E--;)if(d[E]===p)continue t;e&&d.push(p),c.push(f)}else n(d,p,0)<0&&((e||l)&&d.push(p),c.push(f))}return c}var r=i(245),o=i(247),s=i(248),a=200;t.exports=n},function(t,e,i){function n(t,e,i){if(e!==e)return r(t,i);for(var n=i-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}var r=i(246);t.exports=n},function(t,e){function i(t,e,i){for(var n=t.length,r=e+(i?0:-1);i?r--:++r<n;){var o=t[r];if(o!==o)return r}return-1}t.exports=i},function(t,e,i){function n(t,e){var i=t.data,n="string"==typeof e||r(e)?i.set.has(e):i.hash[e];return n?0:-1}var r=i(69);t.exports=n},function(t,e,i){(function(e){function n(t){return a&&s?new r(t):null}var r=i(249),o=i(74),s=o(e,"Set"),a=o(Object,"create");t.exports=n}).call(e,function(){return this}())},function(t,e,i){(function(e){function n(t){var e=t?t.length:0;for(this.data={hash:a(null),set:new s};e--;)this.push(t[e])}var r=i(250),o=i(74),s=o(e,"Set"),a=o(Object,"create");n.prototype.push=r,t.exports=n}).call(e,function(){return this}())},function(t,e,i){function n(t){var e=this.data;"string"==typeof t||r(t)?e.set.add(t):e.hash[t]=!0}var r=i(69);t.exports=n},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return o=i(4),s=i(42).component,t=i(7),e=i(55),u=i(186),h=i(196),l=i(188),n=i(252),r=i(253),a=function(){return this.attributes({baseTabindex:null,ariaLabel:e.__("accessibility:::Utility dock"),containerSelector:".dmp_Dock",containerType:"dock",subComponents:{ShareButton:{constructor:n,selector:".dmp_ShareButton"}}}),this.canHideAdLinear=function(){return!0},this.canHideEmpty=function(){return!0},this.getButtonHeight=function(){return this.$node.find(this.attr.subComponents.ShareButton.selector).outerHeight(!0)},this.updateHeight=function(){return this.currentDockHeight=this.getButtonHeight(),this.previousDockHeight!==this.currentDockHeight?(this.previousDockHeight=this.currentDockHeight,this.trigger(t.DOCK_UPDATED,{height:this.currentDockHeight})):void 0},this.after("initialize",function(){return this.attr.canShow=!1,this.on(o.rootNode(),t.COMPONENTS_READY,function(){return this.updateHeight(),this.setAccessibility(this.attr.ariaLabel)}),this.on(o.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.attr.canShow=!1,this.dismiss()}),this.on(o.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?(this.attr.canShow=!1,this.dismiss()):void 0}),this.on(o.rootNode(),[t.VIDEO_SLOT_STARTED,t.SEQUENCE_ENDED,t.CHROMECAST_SESSION_STOPPED].join(" "),function(){return this.attr.canShow=!0,this.prepareCssTransition(),this.present()}),this.on(o.rootNode(),t.BREAKPOINT_CHANGED,function(t,e){return this.updateHeight()})})},s(u,h,a,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(200),u=i(188),h=i(202),o=function(){return this.attributes({ariaLabel:e.__("accessibility:::Share"),tooltipAlign:"bottom",tooltipText:e.__("tooltip:::Share")}),this.after("initialize",function(){return this.enabled=n.settings("sharing.enable"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.enabled&&null!=n.metadata("sharing")?(this.setAccessibility(this.attr.ariaLabel),this.showNode()):this.hideNode()}),this.on("click",function(){return this.trigger(t.OPEN_SHARE_PANE_REQUESTED)})})},r(s,h,o,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(42).component,t=i(7),e=i(55),o=i(186),s=i(200),a=i(188),u=i(202),r=function(){return this.attributes({tabindex:null,ariaLabel:e.__("accessibility:::Watch later"),tooltipAlign:"bottom",tooltipText:e.__("tooltip:::Watch later")}),this.after("initialize",function(){return this.showNode(),this.setAccessibility(this.attr.ariaLabel,this.attr.tabindex),this.on("click",function(){return this.trigger(t.DEBUG_VIDEO_ZOOM_TOGGLE_REQUESTED)})})},n(o,u,r,s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};n=function(){var t,e,n,o,s,a,u,h,l;return s=i(4),a=i(42).component,o=i(44),h=i(6),e=i(7),n=i(55),l=i(11).get("Error"),t=i(255),u=function(){return this.discardedErrors=[h.MEDIA_ERR_ABORTED,h.API_ERR_UNKNOWN_METHOD,h.API_ERR_PLAYER_NOT_READY,h.API_WARN_DEPRECATED_POSTMESSAGE,h.API_WARN_NOT_RECOMMENDED,h.PLAYER_ERR_EB_BLOCKED],this.liveErrors=[h.DM003,h.DM018],this.templates={DEFAULT:{title:n.__("error:::Oh no!"),text:n.__("error:::An unexpected error has occured.")},MEDIA_ERR_SRC_NOT_SUPPORTED:{title:n.__("error:::Whoops!"),text:n.__("error:::Looks like we can't play this video in this browser.")},PRIVATE_VIDEOS_NOT_SUPPORTED:{title:n.__("error:::Sorry!"),text:n.__("error:::Password-protected videos aren't supported in this browser.")},PLAYER_ERR_NEED_FLASH:{title:n.__("error:::Whack!"),text:n.__('error:::You need Adobe Flash to watch this video in this browser. You can download it from <a target="_blank" href="https://get.adobe.com/flashplayer/">adobe.com</a>.')},PLAYER_ERR_NEED_FLASH_UPGRADE:{title:n.__("error:::Bang!"),text:n.__('error:::You need to upgrade your Adobe Flash Player to watch this video. You can download it from <a target="_blank" href="https://get.adobe.com/flashplayer/">adobe.com</a>.')},PLAYER_ERR_VIDEO_NOT_SUPPORTED:{title:n.__("error:::Blop!"),text:n.__("error:::Please update your browser or try a different one.")},PLAYER_ERR_BLOCKED:{title:n.__("error:::Oops!"),text:n.__("error:::Looks like something is blocking this content.<br>Make sure your connection is working and try disabling any ad blockers.")}},this.getMetadataErrorInfo=function(t){var e,i;return e={title:t.title,text:t.message},i=this.getRefresh(t,this.startTime,this.endTime),i>0&&(e.refresh=i),e},this.isLiveError=function(t){return this.liveErrors.indexOf(t)>-1},this.getRefresh=function(e,i,n){var r,o,a,u;return r=null!=(o=e.code)?o:"",u=null!=(a=e.refresh)?a:0,this.isLiveError(r)&&(u=s.isLiveStatusEnabled()&&t.nowIsInLivePlaybackPeriod(i,n)?0:10),u},this.getRuntimeErrorInfo=function(t){return this.templates[null!=this.templates[t]?t:"DEFAULT"]},this.after("initialize",function(){return this.on(e.ERROR_PLAYER,function(i,a){var u,d,c,f;if(this.startTime=t.getTimeInMilliseconds(s.metadata("start_time",0)),this.endTime=t.getTimeInMilliseconds(s.metadata("end_time",0)),c={type:a.type||"runtime",code:a.error.code||a.error,extra:a.extra},l.error(e.ERROR_PLAYER,c),this.isLiveError(a.error.code))return u=this.startTime?{title:n.__("live:::Watch the live stream!"),message:n.__("live:::This content will be available shortly..."),publicTime:this.startTime,publicTimeFormatted:s.metadata("start_time_formatted")}:{title:a.error.title,message:a.error.message,publicTime:0,publicTimeFormatted:null},void this.trigger(e.CONTENT_OFFAIR,u);if("password_protected"===a.error.type){if(o.supportsBase64())return void this.trigger(e.PASSWORD_REQUIRED,{id:s.metadata("id")});c={type:"runtime",code:h.PRIVATE_VIDEOS_NOT_SUPPORTED}}return c.code===h.API_WARN_NOT_RECOMMENDED&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn(n.__("error:::Calling `%method%` method right after `apiready` is not recommended.\nAre you sure you don't want to use the `%parameter%` parameter instead?\nSee: https://developer.dailymotion.com/player#player-parameters",c.extra)),f=c.code,r.call(this.discardedErrors,f)>=0?void 0:(d="metadata"===c.type?this.getMetadataErrorInfo(a.error):this.getRuntimeErrorInfo(c.code),this.trigger(e.ERROR_DISPLAY_REQUESTED,$.extend(c,d)))})})},a(u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){return{now:function(){return Date.now()},getTimeInMilliseconds:function(t){return t>0?1e3*t:t},nowIsBefore:function(t,e){return null==e&&(e=!1),e?this.now()<=t:this.now()<t},nowIsAfter:function(t,e){return null==e&&(e=!1),e?this.now()>=t:this.now()>t},nowIsBetween:function(t,e,i){return null==i&&(i=!0),this.nowIsAfter(t,i)&&this.nowIsBefore(e,i)},nowIsInLivePlaybackPeriod:function(t,e){return t>0&&e>0?this.nowIsBetween(t,e):t>0?this.nowIsAfter(t):e>0?this.nowIsBefore(e):!0}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(4),o=i(42).component,t=i(7),e=i(55),s=i(257),r=function(){return this.attributes({baseTabindex:null,type:"none",buttonSelector:".dmp_DefaultEndScreen-button",titleSelector:".dmp_DefaultEndScreen-title",titleContent:e.__("endscreen:::Replay")}),this.onEndScreenDataChanged=function(t){},this.getEndScreenWillOpenData=function(){return{name:this.attr.type}},this.setContent=function(){return this.select("titleSelector").text(this.attr.titleContent)},this.after("initialize",function(){return this.on(n.rootNode(),t.COMPONENTS_READY,function(t,e){return this.setContent()}),this.on("click",{buttonSelector:function(){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)}})})},o(s,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(4),t=i(7),r=i(16),e=i(42).compose,s=i(188),o=function(){return this.endScreenVisible=!1,this.chromecastSessionRunning=!1,this.sequenceEnded=!1,this.topMargin=this.bottomMargin=10,this.attributes({type:null}),this.onEndScreenDataChanged=function(t){throw new Error("onEndScreenDataChanged(endScreenData) method must be overridden in the component")},this.getEndScreenWillOpenData=function(){throw new Error("getEndScreenWillOpenData() method must be overridden in the component")},this.getEndScreenVideoClickedData=function(t){throw new Error("getEndScreenVideoClickedData(video) method must be overridden in the component")},this.displayEndscreen=function(){return!this.sequenceEnded||this.endScreenVisible||this.chromecastSessionRunning||null==this.data&&("none"!==this.endScreenType||"none"!==this.attr.type)?void 0:(this.endScreenVisible=!0,this.trigger(t.END_SCREEN_WILL_OPEN,this.getEndScreenWillOpenData()),this.isAndroidStockBrowser?this.showNode():this.cssFadeIn())},this.hideEndScreen=function(){return this.endScreenVisible?(this.endScreenVisible=!1,this.isAndroidStockBrowser?this.hideNode():this.cssFadeOut(),this.trigger(t.END_SCREEN_WILL_CLOSE)):void 0},this.handleVideoSelectedEvent=function(t,e){return this.endScreenType=null,this.action=null,this.data=null,this.sequenceEnded=!1},this.handleEndScreenDataChanged=function(t,e){var i;return null==e&&(e={}),this.endScreenType=e.type,this.data=null,this.endScreenType!==this.attr.type?(this.action=null,this.hideEndScreen()):(this.action=n.settings("endscreen.action",n.metadata("endscreen.action")),
((null!=(i=e.data)?i.length:void 0)>0||!$.isEmptyObject(e.data))&&(this.data=e.data),this.onEndScreenDataChanged(e),this.sequenceEnded?this.displayEndscreen():void 0)},this.handleEndScreenVideoClickedEvent=function(e,i){if(this.trigger(n.rootNode(),t.END_SCREEN_VIDEO_CLICKED,this.getEndScreenVideoClickedData(i)),"open_window"!==this.action)switch(e.preventDefault(),this.action){case"trigger_event":return this.trigger(n.rootNode(),t.END_SCREEN_ACTION,i);case"load_inline":return this.trigger(n.rootNode(),t.LOAD_VIDEO,{xid:i.id})}},this.handleSequenceEnded=function(){return this.sequenceEnded=!0,this.displayEndscreen()},this.after("initialize",function(){return this.isAndroidStockBrowser=r.isAndroidStockBrowser(),this.isAndroidStockBrowser||this.prepareCssTransition(),this.on(n.rootNode(),t.VIDEO_SELECTED,this.handleVideoSelectedEvent),this.on(n.rootNode(),t.END_SCREEN_DATA_CHANGED,this.handleEndScreenDataChanged),this.on(n.rootNode(),t.SEQUENCE_ENDED,this.handleSequenceEnded),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.LOAD_VIDEO,t.CHROMECAST_PREPARE_FOR_REMOTE].join(" "),function(){return this.sequenceEnded=!1,this.hideEndScreen()}),this.on(n.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.chromecastSessionRunning=!0,this.hideEndScreen()}),this.on(n.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.chromecastSessionRunning=!1,this.hideEndScreen(),this.displayEndscreen()}),this.on(n.rootNode(),t.CONTROL_BAR_UPDATED,function(t,e){return this.bottomMargin=e.height,this.$node.css("padding-bottom",this.bottomMargin)}),this.on(n.rootNode(),t.DOCK_UPDATED,function(t,e){return this.topMargin=e.height+10,this.$node.css("padding-top",this.topMargin)})}),e.mixin(this,[s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(42).component,o=i(259),e=i(4),t=i(7),r=function(){return this._defaultEndscreenObject=function(){return{type:"none"}},this._initialState=function(){return{dataState:"initial",currentTime:0,endScreenData:this._defaultEndscreenObject,duration:0,enabled:!1,remote:!1,url:null,shouldWatchTimeUpdates:!1,watchingTimeUpdates:!1}},this.initialState(this._initialState),this.isInitialState=function(){return"initial"===this.state.dataState&&0===this.state.currentTime&&0===this.state.duration},this.isDisabled=function(){return!this.state.enabled&&"none"===this.state.endScreenData.type},this.doesNotNeedTimeListeners=function(){return!this.state.shouldWatchTimeUpdates&&this.state.watchingTimeUpdates},this.needsTimeListeners=function(){return this.state.enabled&&this.state.shouldWatchTimeUpdates&&!this.state.watchingTimeUpdates},this.dataNotFetched=function(){return this.state.url&&"initial"===this.state.dataState&&this.state.currentTime>=this.state.duration-10},this.dataFetched=function(){return"fetched"===this.state.dataState&&!this.state.remote},this.onStateChanged=function(){this.doesNotNeedTimeListeners()&&(this.unbindTimeListeners(),this.mergeState({watchingTimeUpdates:!1})),this.needsTimeListeners()&&(this.bindTimeListeners(),this.mergeState({watchingTimeUpdates:!0})),this.isInitialState()||this.isDisabled()?this.notifyEndScreenDataChanged():this.dataFetched()?(this.notifyEndScreenDataChanged(),this.mergeState({dataState:"done"})):this.dataNotFetched()&&(this.mergeState({dataState:"fetching"}),this.fetchData())},this.notifyEndScreenDataChanged=function(){return this.trigger(t.END_SCREEN_DATA_CHANGED,this.state.endScreenData)},this.fetchData=function(){return $.getJSON(this.state.url).done(function(t){return function(e){var i;return i=$.isEmptyObject(e.data)?t._defaultEndscreenObject():e,t.mergeState({dataState:"fetched",endScreenData:i})}}(this)).fail(function(t){return function(e,i,n){return t.mergeState({dataState:"fetched",endScreenData:t._defaultEndscreenObject()})}}(this))},this.bindTimeListeners=function(){return this.on(e.rootNode(),t.VIDEO_DURATION_CHANGE,this.handleDurationChange),this.on(e.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate)},this.unbindTimeListeners=function(){return this.off(e.rootNode(),t.VIDEO_DURATION_CHANGE,this.handleDurationChange),this.off(e.rootNode(),t.VIDEO_TIME_UPDATE,this.handleTimeUpdate)},this.handleDurationChange=function(t,e){return this.mergeState({duration:e.duration})},this.handleTimeUpdate=function(t,e){return this.mergeState({currentTime:e.time})},this.after("initialize",function(){return this.after("stateChanged",this.onStateChanged),this.on(e.rootNode(),t.LOAD_VIDEO,function(){return this.mergeState({enabled:!1})}),this.on(e.rootNode(),t.VIDEO_SELECTED,function(t,i){return this.replaceState({enabled:e.settings("endscreen.enable")&&e.metadata("endscreen.enable"),url:e.metadata("endscreen.url",null),dataState:"initial",currentTime:0,duration:0,remote:!1,endScreenData:this._defaultEndscreenObject(),shouldWatchTimeUpdates:!0,watchingTimeUpdates:!1})}),this.on(e.rootNode(),t.SEQUENCE_ENDED,function(){return this.mergeState({currentTime:this.state.duration})}),this.on(e.rootNode(),t.AD_STARTED,function(){return this.mergeState({shouldWatchTimeUpdates:!1})}),this.on(e.rootNode(),t.AD_STOPPED,function(){return this.mergeState({shouldWatchTimeUpdates:!0})}),this.on(t.CHROMECAST_REMOTE_ENABLED,function(){return this.mergeState({remote:!0})}),this.on(t.CHROMECAST_SESSION_STOPPED,function(){return this.mergeState({remote:!1})})})},n(o,r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){!function(e,n){t.exports=n(i(260))}(this,function(t){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t=t||{},function(){var e=this;return Object.keys(t).reduce(function(i,n){var r=t[n];return i[n]="function"==typeof r?r.call(e):r,i},{})}}function o(){this.initialState=function(t){if(this._stateDef)throw new Error("initialState can only be defined once");this._stateDef="function"==typeof t?t:r(t)},this.replaceState=function(t){return t&&"object"==typeof t?(this.state=t,this.stateChanged(this.state),this.state):void 0},this.mergeState=function(t){return this.replaceState((0,a["default"])(this.state,t))},this.fromState=function(t){return function(){return this.state[t]}},this.toState=function(t){return function(e){var i={};i[t]=e,this.mergeState(i)}},this.fromAttr=function(t){return function(e){return this.attr[t]}},this.stateChanged=function(){},this.after("initialize",function(){this._stateDef=this._stateDef||u,this.replaceState(this._stateDef())})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var s=i(1),a=n(s),u=function(){return{}};t.exports=e["default"]},function(e,i){e.exports=t}])})},function(t,e,i){function n(t){return!!t&&"object"==typeof t}function r(t,e,i,s,u){if(!h(t))return t;var l=a(e)&&(p(e)||m(e)),c=l?void 0:_(e);return d(c||e,function(a,h){if(c&&(h=a,a=e[h]),n(a))s||(s=[]),u||(u=[]),o(t,e,h,r,i,s,u);else{var d=t[h],f=i?i(d,a,h,t,e):void 0,p=void 0===f;p&&(f=a),void 0===f&&(!l||h in t)||!p&&(f===f?f===d:d!==d)||(t[h]=f)}}),t}function o(t,e,i,n,r,o,s){for(var u=o.length,h=e[i];u--;)if(o[u]==h)return void(t[i]=s[u]);var d=t[i],c=r?r(d,h,i,t,e):void 0,_=void 0===c;_&&(c=h,a(h)&&(p(h)||m(h))?c=p(d)?d:a(d)?l(d):[]:E(h)||f(h)?c=f(d)?v(d):E(d)?d:{}:_=!1),o.push(h),s.push(c),_?t[i]=n(c,h,r,o,s):(c===c?c!==d:d===d)&&(t[i]=c)}function s(t){return function(e){return null==e?void 0:e[t]}}function a(t){return null!=t&&u(S(t))}function u(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var l=i(261),d=i(262),c=i(263),f=i(267),p=i(268),E=i(269),m=i(272),_=i(273),v=i(275),g=9007199254740991,S=s("length"),T=c(r);t.exports=T},function(t,e){function i(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}t.exports=i},function(t,e){function i(t,e){for(var i=-1,n=t.length;++i<n&&e(t[i],i,t)!==!1;);return t}t.exports=i},function(t,e,i){function n(t){return s(function(e,i){var n=-1,s=null==e?0:i.length,a=s>2?i[s-2]:void 0,u=s>2?i[2]:void 0,h=s>1?i[s-1]:void 0;for("function"==typeof a?(a=r(a,h,5),s-=2):(a="function"==typeof h?h:void 0,s-=a?1:0),u&&o(i[0],i[1],u)&&(a=3>s?void 0:a,s=1);++n<s;){var l=i[n];l&&t(e,l,a)}return e})}var r=i(264),o=i(265),s=i(266);t.exports=n},function(t,e){function i(t,e,i){if("function"!=typeof t)return n;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)};case 5:return function(i,n,r,o,s){return t.call(e,i,n,r,o,s)}}return function(){return t.apply(e,arguments)}}function n(t){return t}t.exports=i},function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}function n(t){return null!=t&&s(l(t))}function r(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?h:e,t>-1&&t%1==0&&e>t}function o(t,e,i){if(!a(i))return!1;var o=typeof e;if("number"==o?n(i)&&r(e,i.length):"string"==o&&e in i){var s=i[e];return t===t?t===s:s!==s}return!1}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,h=9007199254740991,l=i("length");t.exports=o},function(t,e){function i(t,e){if("function"!=typeof t)throw new TypeError(n);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var i=arguments,n=-1,o=r(i.length-e,0),s=Array(o);++n<o;)s[n]=i[e+n];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=Array(e+1);for(n=-1;++n<e;)a[n]=i[n];return a[e]=s,t.apply(this,a)}}var n="Expected a function",r=Math.max;t.exports=i},function(t,e){function i(t){return function(e){return null==e?void 0:e[t]}}function n(t){return o(t)&&E.call(t,"callee")&&(!_.call(t,"callee")||m.call(t)==d)}function r(t){return null!=t&&!("function"==typeof t&&s(t))&&a(v(t))}function o(t){return h(t)&&r(t)}function s(t){var e=u(t)?m.call(t):"";return e==c||e==f}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&l>=t}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){return!!t&&"object"==typeof t}var l=9007199254740991,d="[object Arguments]",c="[object Function]",f="[object GeneratorFunction]",p=Object.prototype,E=p.hasOwnProperty,m=p.toString,_=p.propertyIsEnumerable,v=i("length");t.exports=n},function(t,e){function i(t){return!!t&&"object"==typeof t}function n(t,e){var i=null==t?void 0:t[e];return a(i)?i:void 0}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&_>=t}function o(t){return s(t)&&p.call(t)==h}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null==t?!1:o(t)?E.test(c.call(t)):i(t)&&l.test(t)}var u="[object Array]",h="[object Function]",l=/^\[object .+?Constructor\]$/,d=Object.prototype,c=Function.prototype.toString,f=d.hasOwnProperty,p=d.toString,E=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=n(Array,"isArray"),_=9007199254740991,v=m||function(t){return i(t)&&r(t.length)&&p.call(t)==u};t.exports=v},function(t,e,i){function n(t){return!!t&&"object"==typeof t}function r(t,e){return s(t,e,u)}function o(t){var e;if(!n(t)||c.call(t)!=h||a(t)||!d.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var i;return r(t,function(t,e){i=e}),void 0===i||d.call(t,i)}var s=i(270),a=i(267),u=i(271),h="[object Object]",l=Object.prototype,d=l.hasOwnProperty,c=l.toString;t.exports=o},function(t,e){function i(t){return function(e,i,n){for(var r=-1,o=Object(e),s=n(e),a=s.length;a--;){var u=s[t?a:++r];if(i(o[u],u,o)===!1)break}return e}}var n=i();t.exports=n},function(t,e,i){function n(t,e){return t="number"==typeof t||h.test(t)?+t:-1,e=null==e?c:e,t>-1&&t%1==0&&e>t}function r(t){return"number"==typeof t&&t>-1&&t%1==0&&c>=t}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){if(null==t)return[];o(t)||(t=Object(t));var e=t.length;e=e&&r(e)&&(u(t)||a(t))&&e||0;for(var i=t.constructor,s=-1,h="function"==typeof i&&i.prototype===t,l=Array(e),c=e>0;++s<e;)l[s]=s+"";for(var f in t)c&&n(f,e)||"constructor"==f&&(h||!d.call(t,f))||l.push(f);return l}var a=i(267),u=i(268),h=/^\d+$/,l=Object.prototype,d=l.hasOwnProperty,c=9007199254740991;t.exports=s},function(t,e){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&o>=t}function n(t){return!!t&&"object"==typeof t}function r(t){return n(t)&&i(t.length)&&!!O[P.call(t)]}var o=9007199254740991,s="[object Arguments]",a="[object Array]",u="[object Boolean]",h="[object Date]",l="[object Error]",d="[object Function]",c="[object Map]",f="[object Number]",p="[object Object]",E="[object RegExp]",m="[object Set]",_="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",S="[object Float32Array]",T="[object Float64Array]",A="[object Int8Array]",D="[object Int16Array]",y="[object Int32Array]",b="[object Uint8Array]",I="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]",O={};O[S]=O[T]=O[A]=O[D]=O[y]=O[b]=O[I]=O[N]=O[R]=!0,O[s]=O[a]=O[g]=O[u]=O[h]=O[l]=O[d]=O[c]=O[f]=O[p]=O[E]=O[m]=O[_]=O[v]=!1;var C=Object.prototype,P=C.toString;t.exports=r},function(t,e,i){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&s(v(t))}function o(t,e){return t="number"==typeof t||f.test(t)?+t:-1,e=null==e?_:e,t>-1&&t%1==0&&e>t}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&_>=t}function a(t){for(var e=h(t),i=e.length,n=i&&t.length,r=!!n&&s(n)&&(c(t)||d(t)),a=-1,u=[];++a<i;){var l=e[a];(r&&o(l,n)||E.call(t,l))&&u.push(l)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(c(t)||d(t))&&e||0;for(var i=t.constructor,n=-1,r="function"==typeof i&&i.prototype===t,a=Array(e),h=e>0;++n<e;)a[n]=n+"";for(var l in t)h&&o(l,e)||"constructor"==l&&(r||!E.call(t,l))||a.push(l);return a}var l=i(274),d=i(267),c=i(268),f=/^\d+$/,p=Object.prototype,E=p.hasOwnProperty,m=l(Object,"keys"),_=9007199254740991,v=n("length"),g=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?a(t):u(t)?m(t):[]}:a;t.exports=g},function(t,e){function i(t){return!!t&&"object"==typeof t}function n(t,e){var i=null==t?void 0:t[e];return s(i)?i:void 0}function r(t){return o(t)&&c.call(t)==a}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null==t?!1:r(t)?f.test(l.call(t)):i(t)&&u.test(t)}var a="[object Function]",u=/^\[object .+?Constructor\]$/,h=Object.prototype,l=Function.prototype.toString,d=h.hasOwnProperty,c=h.toString,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e,i){function n(t){return r(t,o(t))}var r=i(276),o=i(271);t.exports=n},function(t,e){function i(t,e,i){i||(i={});for(var n=-1,r=e.length;++n<r;){var o=e[n];i[o]=t[o]}return i}t.exports=i},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(42).component,e=i(4),t=i(7),o=i(278),r=function(){return this.attributes({shortcuts:{esc:[{eventName:t.PRESSED_ESC},{eventName:t.HIDE_MENU_REQUESTED},{eventName:t.CLOSE_SHARE_PANE_REQUESTED}]," ":[{eventName:t.PRESSED_SPACE,throttle:!1}],ret:[{eventName:t.PRESSED_ENTER,throttle:!1}],left:[{eventName:t.PRESSED_LEFT,throttle:!1}],right:[{eventName:t.PRESSED_RIGHT,throttle:!0}],up:[{eventName:t.PRESSED_UP,throttle:!1}],down:[{eventName:t.PRESSED_DOWN,throttle:!1}],"SHIFT+left":[{eventName:t.PRESSED_SHIFT_LEFT,throttle:!1}],"SHIFT+right":[{eventName:t.PRESSED_SHIFT_RIGHT,throttle:!1}],f:[{eventName:t.PRESSED_F},{eventName:t.FULLSCREEN_TOGGLE_REQUESTED}],m:[{eventName:t.PRESSED_M}],0:[{eventName:t.PRESSED_0}],1:[{eventName:t.PRESSED_1}],2:[{eventName:t.PRESSED_2}],3:[{eventName:t.PRESSED_3}],4:[{eventName:t.PRESSED_4}],5:[{eventName:t.PRESSED_5}],6:[{eventName:t.PRESSED_6}],7:[{eventName:t.PRESSED_7}],8:[{eventName:t.PRESSED_8}],9:[{eventName:t.PRESSED_9}]}}),this.requestSeek=function(e){return this.trigger(t.SEEK_REQUESTED,e)},this.requestVolumeChange=function(e){return this.trigger(t.VOLUME_CHANGE_REQUESTED,e)},this.after("initialize",function(){return o.attachTo(e.rootNode(),{shortcuts:this.attr.shortcuts,rootNode:e.rootNode()}),this.volume=1,this.muted=!1,this.on(t.PRESSED_SPACE,function(e){return this.trigger(t.TOGGLE_PLAYBACK_REQUESTED)}),this.on(t.VIDEO_TIME_UPDATE,function(t,e){return this.currentTime=e.time}),this.on(t.PRESSED_LEFT,function(){return this.requestSeek({time:this.currentTime-5})}),this.on(t.PRESSED_RIGHT,function(){return this.requestSeek({time:this.currentTime+5})}),this.on(t.PRESSED_SHIFT_LEFT,function(){return this.requestSeek({time:this.currentTime-10})}),this.on(t.PRESSED_SHIFT_RIGHT,function(){return this.requestSeek({time:this.currentTime+10})}),this.on(t.PRESSED_0,function(){return this.requestSeek({perc:0})}),this.on(t.PRESSED_1,function(){return this.requestSeek({perc:10})}),this.on(t.PRESSED_2,function(){return this.requestSeek({perc:20})}),this.on(t.PRESSED_3,function(){return this.requestSeek({perc:30})}),this.on(t.PRESSED_4,function(){return this.requestSeek({perc:40})}),this.on(t.PRESSED_5,function(){return this.requestSeek({perc:50})}),this.on(t.PRESSED_6,function(){return this.requestSeek({perc:60})}),this.on(t.PRESSED_7,function(){return this.requestSeek({perc:70})}),this.on(t.PRESSED_8,function(){return this.requestSeek({perc:80})}),this.on(t.PRESSED_9,function(){return this.requestSeek({perc:90})}),this.on(t.VIDEO_VOLUME_CHANGED,function(t,e){return this.volume=e.volume,this.muted=e.muted}),this.on(t.PRESSED_UP,function(){var t;return t=this.volume<=.8?this.volume+.1:1,this.requestVolumeChange({volume:t,muted:!1})}),this.on(t.PRESSED_DOWN,function(){var t;return t=this.volume>=.2?this.volume-.1:0,this.requestVolumeChange({volume:t,muted:!1})}),this.on(t.PRESSED_M,function(){return this.requestVolumeChange({volume:this.volume,muted:!this.muted})})})},n(r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){"use strict";function e(){this.defaultAttrs({debounce:200,throttle:100,shortcuts:null,charCodes:{esc:27,ret:13,del:46,left:37,up:38,right:39,down:40,bksp:8,pageup:33,pagedown:34,home:36,end:35},defaultKeyEvent:"keypress",keySequenceTimeoutDelay:1e3,modifiers:{ctrl:"ctrlKey",alt:"altKey",cmd:"metaKey",shift:"shiftKey"},rootNode:document.body}),this.after("initialize",function(){this.activeSequences={},this.sequenceStarters={},this.singleKeys={},this.combos={};for(var t in this.attr.shortcuts)if(this.attr.shortcuts.hasOwnProperty(t)){var e=this.attr.shortcuts[t];"string"==typeof e?this.addShortcut(t,this.shortcutEventHandlerFactory({event:e})):e.forEach(function(e){var i=this.shortcutEventHandlerFactory({event:e.eventName,throttle:e.throttle});this.addShortcut(t,i,e.selector)},this)}this.on(window,"keypress",this.handleKeyPress),this.on(window,"keydown",this.handleKeyDown),this.on("shortcut-add",this.handleShortcutAdd),this.on("shortcut-remove",this.handleShortcutRemove)}),this.handleShortcutAdd=function(t,e){var i=this.shortcutEventHandlerFactory({event:e.eventName,throttle:e.throttle});this.addShortcut(e.shortcut,i,e.selector)},this.handleShortcutRemove=function(t,e){this.removeShortcut(e.shortcut,e.eventName,e.selector)},this.getShortcutForEvent=function(t){var e,i=t.which;return this.eventHasModifier(t)&&(e=this.combos[i]),e||this.eventHasFunctionModifier(t)||(e=this.activeSequences[i]||this.singleKeys[i]||this.sequenceStarters[i]),e},this.clearActiveSequences=function(){this.activeSequences={}},this.eventHasModifier=function(t){return t.ctrlKey||t.altKey||t.metaKey||t.shiftKey},this.eventHasFunctionModifier=function(t){return t.ctrlKey||t.metaKey},this.eventHasTextModifier=function(t){return t.altKey||t.shiftKey},this.getModifiedKeyEvent=function(t,e){var i;if(this.eventHasModifier(t)&&e.modifiers)for(var n in e.modifiers)e.modifiers.hasOwnProperty(n)&&t[n]&&(i=e.modifiers[n]);return i},this.handleKeyPress=function(t){var e,i=[],n=":not(input):not(textarea)";if(t.which>=65&&t.which<=90&&(t.which+=32),e=this.getShortcutForEvent(t))if(e.sequences){for(var r in e.sequences)e.sequences.hasOwnProperty(r)&&this.addSequenceEnd(r,e.sequences[r]);setTimeout(function(){this.clearActiveSequences()}.bind(this),this.attr.keySequenceTimeoutDelay)}else i=e.shortcuts||[e],i=i.map(function(e){return e.modifiers&&(e=this.getModifiedKeyEvent(t,e)),e},this),i=i.filter(function(t){return void 0!==t}),i.forEach(function(e){var i=e.selector||n;$(t.target).is(i)&&e.callback(t,e.data)}),this.clearActiveSequences();else this.clearActiveSequences()},this.getCharCodeForKey=function(t){var e,i=!1,n=[[32,64],[91,126]];if("string"!=typeof t)throw"Key must be a string";return t=t.toLowerCase(),1===t.length?(e=t.charCodeAt(0),n.forEach(function(t){return e>=t[0]&&e<=t[1]?(i=!0,!1):void 0}),i||(e=void 0)):e=this.attr.charCodes[t],e},this.addSingleKey=function(t,e,i,n){var r;if("function"!=typeof e)throw"addSingleKey: no callback";if(r=this.getCharCodeForKey(t),void 0===r)throw"addSingleKey: invalid key string";if(this.singleKeys[r]){var o=this.singleKeys[r].shortcuts.every(function(t){return e!==t.callback||i!==t.selector},this);if(!o)throw"addSingleKey: attempted to add identical shortcut"}else this.singleKeys[r]={shortcuts:[]};this.singleKeys[r].shortcuts.push({shortcut:t,callback:e,selector:i,data:n})},this.addSequence=function(t,e,i,n){var r,o,s;if("function"!=typeof e)throw"addSequence: no callback";if("string"!=typeof t)throw"addSequence: sequence must be a string";if(r=t.split(" "),2!==r.length)throw'addSequence: sequence should be in format "g a"';if(o=this.getCharCodeForKey(r[0]),void 0===o)throw'addSequence: sequence should be in format "g a"';if(s=this.getCharCodeForKey(r[1]),void 0===s)throw'addSequence: sequence should be in format "g a"';this.sequenceStarters[o]||(this.sequenceStarters[o]={sequences:{}}),this.sequenceStarters[o].sequences[r[1]]={shortcut:t,callback:e,selector:i,data:n}},this.addSequenceEnd=function(t,e){var i;if("function"!=typeof e.callback)throw"addSequenceEnd: no callback";if("string"!=typeof t)throw"addSequenceEnd: invalid shortcut key";if(i=this.getCharCodeForKey(t),void 0===i)throw"addSequenceEnd: invalid shortcut key";this.activeSequences[i]={shortcut:e.shortcut,callback:e.callback,selector:e.selector,data:e.data}},this.addCombo=function(t,e,i,n){var r,o,s;if("function"!=typeof e)throw"addCombo: no callback";if("string"!=typeof t)throw"addCombo: invalid combo string";if(r=t.split("+"),2!==r.length)throw"addCombo: invalid combo";if(o=this.attr.modifiers[r[0].toLowerCase()],void 0===o)throw"addCombo: invalid modifier";if(s=this.getCharCodeForKey(r[1]),void 0===s)throw"addCombo: invalid shortcut key";var a={modifiers:{}};a.modifiers[o]={shortcut:t,callback:e,selector:i,data:n},this.combos[s]||(this.combos[s]={shortcuts:[]}),this.combos[s].shortcuts.push(a)},this.isSequence=function(t){return"string"==typeof t&&t.indexOf(" ")>0},this.isCombo=function(t){return"string"==typeof t&&t.indexOf("+")>0},this.addShortcut=function(t,e,i,n){3===arguments.length&&"string"!=typeof i&&(n=i,i=void 0),this.isCombo(t)?this.addCombo(t,e,i,n):this.isSequence(t)?this.addSequence(t,e,i,n):this.addSingleKey(t,e,i,n)},this.removeSingleKey=function(t){var e=this.getCharCodeForKey(t);this.singleKeys[e]&&delete this.singleKeys[e]},this.removeCombo=function(t){var e=this.getCharCodeForKey(t.split("+")[1]);this.combos[e]&&delete this.combos[e]},this.removeSequence=function(t,e,i){var n=this.getCharCodeForKey(t.split(" ")[0]);this.sequenceStarters[n]&&delete this.sequenceStarters[n]},this.removeShortcut=function(t,e,i){this.isCombo(t)?this.removeCombo(t,e,i):this.isSequence(t)?this.removeSequence(t,e,i):this.removeSingleKey(t,e,i)},this.handleKeyDown=function(t){var e=[this.attr.charCodes.del,this.attr.charCodes.bksp,this.attr.charCodes.esc,this.attr.charCodes.ret,this.attr.charCodes.left,this.attr.charCodes.right,this.attr.charCodes.up,this.attr.charCodes.down,this.attr.charCodes.pagedown,this.attr.charCodes.pageup,this.attr.charCodes.home,this.attr.charCodes.end],i=e.some(function(e){return e===t.which});i&&this.handleKeyPress(t)},this.throttle=function(t,e){var i=null;return function(n){var r=Date.now();(!i||r>i+e)&&(t(n),i=r)}},this.debounce=function(t,e){var i=null;return function(n){var r=Date.now();(!i||r>i+e)&&t(n),i=r}},this.shortcutEventHandlerFactory=function(t){var e,i,n,r=function(e){e.preventDefault(),e.stopPropagation();var i=e.target;$(this.attr.rootNode).find(i).length<1&&(i=this.attr.rootNode),this.trigger(i,t.event)}.bind(this);return void 0!==t.throttle?(n="number"==typeof t.throttle?t.throttle:this.attr.throttle,e=this.throttle(r,n)):i=this.debounce(r,this.attr.debounce)}}var n=i(42).component;return n(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(61),r=i(44),o=i(4),s=i(42).component,a=i(6),e=i(7),h=i(11).get("LiveStatus"),t=i(255),u=function(){return this.STATUS_OFFAIR="offair",this.STATUS_ONAIR="onair",this.canSwitchTo=function(e){var i,n,r,s;return s=(e===this.STATUS_OFFAIR||e===this.STATUS_ONAIR)&&e!==this.status,r=t.getTimeInMilliseconds(o.metadata("start_time",0)),i=t.getTimeInMilliseconds(o.metadata("end_time",0)),n=t.nowIsInLivePlaybackPeriod(r,i),h.log("Validate the status `"+e+"` (status="+s+", period="+n+")"),s&&n},this.refreshMetadata=function(){var t,i;return i=o.metadata("id",null),t=r.canAutoplay()&&o.settings("autoplay",!1),i?(h.log("Switching to `"+this.status+"` confirmed (autoplay="+t+")"),this.trigger(e.LOAD_VIDEO,{xid:i,settings:{autoplay:t}})):void 0},this.attemptToSwitchOffAir=function(){var t;return this.streamLoaded?(t=function(){return this.off(e.VIDEO_WAITING,t),this.refreshMetadata()},this.on(e.VIDEO_WAITING,t)):void 0},this.attemptToSwitchOnAir=function(){return this.streamLoaded?void 0:this.refreshMetadata()},this.after("initialize",function(){return this.on(e.ERROR_PLAYER,function(){return this.streamLoaded=!1,this.status===this.STATUS_ONAIR?this.status=null:void 0}),this.on(e.VIDEO_LOADED_DATA,function(){return this.streamLoaded=!0,this.status===this.STATUS_OFFAIR?this.status=null:void 0}),this.on(e.LIVE_STATUS,function(t,e){var i;if(i=((null!=e?e.status:void 0)||"").toLowerCase(),h.log("Attempt to switch `"+i+"` (streamLoaded="+this.streamLoaded+")"),this.canSwitchTo(i))switch(this.status=i,this.status){case this.STATUS_OFFAIR:return this.attemptToSwitchOffAir();case this.STATUS_ONAIR:return this.attemptToSwitchOnAir()}})})},s(u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return o=i(42).component,n=i(44),r=i(4),t=i(7),e=i(55),a=i(187),u=i(281),h=i(188),s=function(){return this.attributes({titleSelector:".dmp_ScheduledContentPane-title",messageSelector:".dmp_ScheduledContentPane-message",tickerSelector:".dmp_Ticker",tickerHoursSelector:".dmp_Ticker-h",tickerMinutesSelector:".dmp_Ticker-m",tickerSecondsSelector:".dmp_Ticker-s"}),this.tickerCallback=function(){var e,i;return i=r.metadata("id",null),e=n.canAutoplay()&&r.settings("autoplay",!1),i?this.trigger(t.LOAD_VIDEO,{xid:i,settings:{autoplay:e}}):void 0},this.showTicker=function(t){return this.initializeTicker(t,this.tickerCallback),this.showNode("tickerSelector"),this.hideNode("messageSelector")},this.showMessage=function(t){return this.select("messageSelector").html(t),this.showNode("messageSelector"),this.hideNode("tickerSelector")},this.after("initialize",function(){return this.on(r.rootNode(),t.LOAD_VIDEO,function(e){return this.trigger(t.SCHEDULED_CONTENT_PANE_WILL_CLOSE),this.hideNode(),this.killTicker()}),this.on(r.rootNode(),t.CONTENT_OFFAIR,function(e,i){var n,r,o,s;return this.trigger(t.SCHEDULED_CONTENT_PANE_WILL_OPEN),this.showNode(),this.select("titleSelector").text(i.title),i.publicTime>0?(s=new Date(i.publicTime),this.remainingTime=this.getRemainingTime(s)):(s=null,this.remainingTime=null),(null!=(n=this.remainingTime)?n.days:void 0)>0?this.showMessage(i.publicTimeFormatted):(null!=(r=this.remainingTime)?r.seconds:void 0)>0&&(null!=(o=this.remainingTime)?o.hours:void 0)<24?this.showTicker(s):this.showMessage(i.message)})})},o(s,a,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return o=i(42).component,r=i(4),t=i(255),e=i(7),n=i(42).compose,s=i(186),a=function(){return this.attributes,this.getRemainingTime=function(t){var e;return e=t-Date.now()+1e3,{total:e/1e3,seconds:Math.floor(e/1e3%60),minutes:Math.floor(e/6e4%60),hours:Math.floor(e/36e5%24),days:Math.floor(e/864e5)}},this.initializeTicker=function(t,e){return this._targetTime=t,this._callback=e,this.updateTicker(),this.timeInterval=setInterval(this.updateTicker.bind(this),1e3)},this.updateTicker=function(){var t;return t=this.getRemainingTime(this._targetTime),t.total<=0?(this.killTicker(),this._callback()):(this.$tickerHoursNode.text(this.zeroPad(t.hours)),this.$tickerMinutesNode.text(this.zeroPad(t.minutes)),this.$tickerSecondsNode.text(this.zeroPad(t.seconds)),this.updateAccessibility(this.formatReadableTime(t.total),"tickerSelector"))},this.killTicker=function(){return clearInterval(this.timeInterval),this.hideNode("tickerSelector")},this.after("initialize",function(){return this.$tickerHoursNode=this.select("tickerHoursSelector"),this.$tickerMinutesNode=this.select("tickerMinutesSelector"),this.$tickerSecondsNode=this.select("tickerSecondsSelector")}),n.mixin(this,[s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return s=i(42).component,o=i(4),t=i(7),h=i(219),u=i(283),l=i(188),e=i(284),r=i(286),n=i(287),a=function(){return this.attributes({popoverType:"menu",subComponents:{QualityMenuContent:{constructor:e,selector:".dmp_QualityMenuContent"},SpeedMenuContent:{constructor:n,selector:".dmp_SpeedMenuContent"},SubtitlesMenuContent:{constructor:r,selector:".dmp_SubtitlesMenuContent"}}}),this.before("showPopover",function(){return this.lastMenuContentId?this.trigger(t.SHOW_MENU_CONTENT_REQUESTED,{menuContentId:this.lastMenuContentId}):void 0}),this.after("showPopover",function(){return this.visible=!0,this.trigger(t.DISABLE_TOOLTIP_REQUESTED),this.trigger(t.MENU_DID_SHOW)}),this.after("hidePopover",function(){return this.visible?(this.visible=!1,this.trigger(t.ENABLE_TOOLTIP_REQUESTED),this.trigger(t.MENU_DID_HIDE)):void 0}),this.showMenu=function(t,e,i){return this.lastMenuContentId=t,this.showPopover(e,i),this.on(o.rootNode(),"click",this.bindRootnodeClick)},this.hideMenu=function(){return this.hidePopover(),this.off(o.rootNode(),"click",this.bindRootnodeClick)},this.bindRootnodeClick=function(t){return this.visible&&$(t.target).closest(this.$node).length<1&&$(t.target).closest(".dmp_ControlBarButton").length<1?this.hideMenu():void 0},this.after("initialize",function(){return this.attachSubComponents(),this.on(o.rootNode(),t.TOGGLE_MENU_REQUESTED,function(t,e){return this.visible&&this.lastMenuContentId===e.menuContentId?this.hideMenu():this.showMenu(e.menuContentId,e.targetSelector,e.align)}),this.on(o.rootNode(),t.HIDE_MENU_REQUESTED,function(t,e){return null==(null!=e?e.menuContentId:void 0)||e.menuContentId===this.lastMenuContentId?this.hideMenu():void 0}),this.on(o.rootNode(),t.SHOW_MENU_REQUESTED,function(t,e){return this.showMenu(e.menuContentId,e.targetSelector,e.align)})})},s(u,a,h,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(4),e=i(28),t=i(7),n=i(42).compose,s=i(188),o=function(){return this.attributes({pointerSize:4,offset:5,enabled:!0}),this.lastPopoverTargetSelector=function(){return this._lastTargetSelector},this.lastPopoverAlign=function(){return this._lastAlign},this.showPopover=function(t,e){return this._lastTargetSelector=t,
this._lastAlign=e,this.attr.enabled?(this._updatePosition(),this.showNode(),this._visible=!0):void 0},this.hidePopover=function(){return this.hideNode(),this._visible=!1},this._getPopoverSize=function(){var t,e,i,n,r,o;return o=this.$node.css("top"),t=this.$node.css("bottom"),e=this.$node.css("left"),r=this.$node.css("right"),this.$node.css({top:"",right:"",bottom:"",left:""}),this._visible?(n=this.$node.outerWidth(),i=this.$node.outerHeight()):(this.setInvisibility(),n=this.$node.outerWidth(),i=this.$node.outerHeight(),this.unsetInvisibility()),this.$node.css({top:o,right:r,bottom:t,left:e}),{width:n,height:i}},this._updatePosition=function(){var t,i,n,r,o,s,a,u,h,l,d,c,f,p,E,m;if(this._lastTargetSelector&&this._lastAlign)return t=this.$rootNode.find(this._lastTargetSelector),E=t.outerWidth(),c=t.outerHeight(),s=this._playerHeight-c,h=this._getPopoverSize(),l=this._fullscreen?0:this.$rootNode.offset().left,d=this._fullscreen?0:this.$rootNode.offset().top,f=t.offset().left-l+E/2,p=t.offset().top-d+c,m=Math.round(f-h.width/2),a=this.attr.offset,o=Math.max(m,a),i=Math.min(o,this._playerWidth-h.width-a),n=h.height>s?0:"","menu"!==this.attr.popoverType||!e.touchevents||"xs"!==this.horizontalBreakpoint.name&&"s"!==this.horizontalBreakpoint.name?(r=!1,u=f-i-this.attr.pointerSize):(r=!0,u=f-2*this.attr.pointerSize),"bottom"===this._lastAlign?(this.$node.addClass("dmp_Popover--bottom").css({left:r?0:i,right:r?0:"",top:p+this.attr.offset,bottom:n}),this.$pointer.css({left:u,bottom:"",top:-this.attr.pointerSize})):(this.$node.removeClass("dmp_Popover--bottom").css({left:r?0:i,right:r?0:"",bottom:c,top:n}),this.$pointer.css({left:u,bottom:-this.attr.pointerSize,top:""}))},this.insertPointer=function(){return this.$node.append('<div class="dmp_PopoverPointer">'),this.$pointer=this.$node.find(".dmp_PopoverPointer")},this.after("initialize",function(){return this.$rootNode=$(r.rootNode()),this.insertPointer(),this.on(r.rootNode(),t.BREAKPOINT_CHANGED,function(t,e){return this.horizontalBreakpoint=e.horizontalBreakpoint,this.verticalBreakpoint=e.verticalBreakpoint}),this.on(r.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this._playerWidth=e.width,this._playerHeight=e.height,this._visible?this._updatePosition():void 0}),this.on(r.rootNode(),t.FULLSCREEN_ENTERED,function(){return this._fullscreen=!0,this._visible?this._updatePosition():void 0}),this.on(r.rootNode(),t.FULLSCREEN_EXITED,function(){return this._fullscreen=!1,this._visible?this._updatePosition():void 0})}),n.mixin(this,[s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(4),r=i(42).component,t=i(7),e=i(55),o=i(11).get("Quality"),a=i(285),u=i(188),s=function(){return this.attributes({id:"quality",menuItemSelector:".dmp_Menu-list-item",autoItemSelector:".dmp_quality-auto"}),this.buildMenuItem=function(t,e,i){return"<li class='dmp_Menu-list-item dmp_is-focusable dmp_quality-"+t+" dmp_u-cf' data-quality='"+t+"' role='menuitemradio' tabindex='0' aria-checked='false'>\n  <span class='dmp_Menu-list-item-text'>"+e+"</span>\n  <span class='dmp_Menu-list-item-tag'>"+i+"</span>\n</li>"},this.buildMenu=function(t){var i,n,r,o,s,a;if(null!=t){for(this.autoItem=null,o=e.__("quality:::Change quality"),r="<div class='dmp_Menu-title' id='dmp_QualityMenuContent-title'>"+o+"</div> <ul class='dmp_Menu-list'>",t.adaptiveSupported&&(r+=this.buildMenuItem("auto","Auto","")),a=t.qualities,i=0,n=a.length;n>i;i++)s=a[i],r+=this.buildMenuItem(s.name,s.label,s.tag);return r+="</ul>",this.$node.html(r),this.$node.attr("aria-labelledby","dmp_QualityMenuContent-title")}},this.updateCurrentMenuItem=function(t,i){var n;return null==i&&(i=!1),this.highlightCurrentMenuItem(".dmp_quality-"+(t.adaptive?"auto":t.qualityName||t.quality.name),i),null==this.autoItem&&(this.autoItem=this.select("autoItemSelector")),t.adaptive&&null!=(null!=(n=t.quality)?n.label:void 0)?this.autoItem.text(e.__("quality:::Auto (%quality%)",{quality:t.quality.label})):this.autoItem.text(e.__("quality:::Auto"))},this.after("initialize",function(){return this.autoItem=null,this.on(n.rootNode(),t.QUALITIES_AVAILABLE,function(t,e){return this.buildMenu(e)}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){var n;return n=""+$(i.el).data("quality"),i="auto"===n?{adaptive:!0}:{adaptive:!1,qualityName:n},this.trigger(t.QUALITY_CHANGE_REQUESTED,i),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.QUALITY_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e,!0)}),this.on(n.rootNode(),t.QUALITY_CHANGED,function(t,e){return this.updateCurrentMenuItem(e)})})},r(s,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(4),t=i(7),e=i(42).compose,o=i(188),r=function(){return this.highlightCurrentMenuItem=function(t,e){return this.select("menuItemSelector").removeClass("dmp_is-active dmp_is-pending dmp_highlight-contrast").attr("aria-checked",!1),e?$(t).addClass("dmp_is-pending").attr("aria-checked",!0):$(t).addClass("dmp_is-active dmp_highlight-contrast").attr("aria-checked",!0)},this._focusFirstMenuItem=function(){return this.focusedItem=this.select("menuItemSelector").first(),this.focusedItem.focus()},this._focusNextMenuItem=function(){return this.focusedItem?(this.focusedItem=this.focusedItem.next().length?this.focusedItem.next():this.select("menuItemSelector").first(),this.focusedItem.focus()):this._focusFirstMenuItem()},this._focusPrevMenuItem=function(){return this.focusedItem?(this.focusedItem=this.focusedItem.prev().length?this.focusedItem.prev():this.select("menuItemSelector").last(),this.focusedItem.focus()):this._focusFirstMenuItem()},this.after("initialize",function(){return this.on(n.rootNode(),t.SHOW_MENU_CONTENT_REQUESTED,function(t,e){return e.menuContentId===this.attr.id?this.showNode():this.hideNode()}),this.on(n.rootNode(),t.FOCUS_FIRST_MENUITEM_REQUESTED,function(t,e){return e.menuContentId===this.attr.id?(this.lastFocus=document.activeElement,this._focusFirstMenuItem()):void 0}),this.on(t.PRESSED_DOWN,function(t){return t.stopPropagation(),this._focusNextMenuItem()}),this.on(t.PRESSED_UP,function(t){return t.stopPropagation(),this._focusPrevMenuItem()}),this.on(t.PRESSED_SPACE,function(t){return t.stopPropagation()}),this.on([t.PRESSED_ESC,t.HIDE_MENU_REQUESTED].join(" "),function(t){return null!=this.lastFocus?this.lastFocus.focus():void 0}),this.on("keydown",function(e){return 9===e.which?(e.stopPropagation(),this.trigger(t.HIDE_MENU_REQUESTED)):void 0})}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(285),a=i(188),o=function(){return this.attributes({id:"subtitles",menuItemSelector:".dmp_Menu-list-item"}),this.buildMenu=function(t){var i,n,r,o,s;if(null!=t){t[-1]={label:e.__("subtitles:::None")},n=0,s=e.__("subtitles:::Set subtitles"),o="<div class='dmp_Menu-title' id='dmp_SubtitlesMenuContent-title'>"+s+"</div> <ul class='dmp_Menu-list'>";for(i in t)r=t[i],o+="<li class='dmp_Menu-list-item dmp_is-focusable dmp_subtitle-"+i+"' role='menuitemradio' data-subtitle='"+i+"' tabindex='0' aria-checked='false'>"+r.label+"</li>",n++;return o+="</ul>",this.$node.html(o),this.$node.attr("aria-labelledby","dmp_SubtitlesMenuContent-title"),this.updateCurrentMenuItem("-1")}},this.updateCurrentMenuItem=function(t){return this.highlightCurrentMenuItem(".dmp_subtitle-"+t)},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.buildMenu(n.metadata("subtitles.data"))}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){var r;return r=$(i.el).data("subtitle"),this.trigger(n.rootNode(),t.SUBTITLE_CHANGE_REQUESTED,{code:r}),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.SUBTITLE_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e.code)})})},r(o,a,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(285),a=i(188),o=function(){return this.attributes({id:"speed",menuItemSelector:".dmp_Menu-list-item"}),this.buildMenu=function(t){var i,n,r,o,s,a;if(null!=t){for(o=e.__("speed:::Playback speed"),r="<div class='dmp_Menu-title' id='dmp_SpeedMenuContent-title'>"+o+"</div> <ul class='dmp_Menu-list'>",i=0,n=t.length;n>i;i++)s=t[i],a=1===s?e.__("speed:::Normal"):s+"x",r+="<li class='dmp_Menu-list-item dmp_is-focusable dmp_speed-"+100*s+" dmp_u-cf' role='menuitemradio' data-speed='"+s+"' aria-checked='false' tabindex='-1'>\n  <span class='dmp_Menu-list-item-text'>"+a+"</span>\n</li>";return r+="</ul>",this.$node.html(r),this.$node.attr("aria-labelledby","dmp_SpeedMenuContent-title")}},this.updateCurrentMenuItem=function(t){return this.highlightCurrentMenuItem(".dmp_speed-"+100*t)},this.after("initialize",function(){return this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.buildMenu([2,1.5,1.25,1,.75,.5]),this.updateCurrentMenuItem(1)}),this.on("click "+t.PRESSED_SPACE+" "+t.PRESSED_ENTER,{menuItemSelector:function(e,i){return this.trigger(t.SPEED_CHANGE_REQUESTED,{speed:$(i.el).data("speed")}),this.trigger(t.HIDE_MENU_REQUESTED)}}),this.on(n.rootNode(),t.SPEED_CHANGE_CONFIRMED,function(t,e){return this.updateCurrentMenuItem(e.speed)})})},r(o,a,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(42).component,e=function(){return this.after("initialize",function(){return this.node.controls=!0})},t(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(42).component,n=i(4),t=i(7),e=i(55),s=i(188),o=function(){return this.attributes({headingSelector:".dmp_PasswordPane-heading",labelSelector:".dmp_PasswordPane-label",textFieldSelector:".dmp_PasswordPane-textfield",buttonSelector:".dmp_PasswordPane-button",headingText:e.__("private:::Private video"),labelText:e.__("private:::You need a password to watch this video."),errorText:e.__("private:::Sorry wrong password, try again."),placeholderText:e.__("private:::Password..."),buttonText:e.__("private:::Watch video")}),this.openPane=function(){return this.closed?(this.showNode(),this.closed=!1):void 0},this.closePane=function(){return this.closed?void 0:(this.hideNode(),this.$textField.val(""),this.closed=!0)},this.setContent=function(){return this.$node.removeClass("dmp_PasswordPane--error"),this.$heading.text(this.attr.headingText),this.$label.text(this.attr.labelText),this.$textField.attr("placeholder",this.attr.placeholderText).val(""),this.$button.attr("value",this.attr.buttonText)},this.handleFirstShow=function(){return this.setContent(),this.openPane(),this.firstAttempt=!1},this.handleWrongPassword=function(){return this.$label.text(this.attr.errorText),this.$node.removeClass("dmp_PasswordPane--error"),this.node.offsetWidth=this.node.offsetWidth,this.$node.addClass("dmp_PasswordPane--error"),this.openPane()},this.handleHide=function(){return this.firstAttempt?void 0:(this.closePane(),this.firstAttempt=!0)},this.submitPassword=function(e){return e.preventDefault(),this.trigger(t.PASSWORD_SUBMITTED,{password:this.$textField.val()})},this.after("initialize",function(){return this.closed=!0,this.firstAttempt=!0,this.$heading=this.select("headingSelector"),this.$label=this.select("labelSelector"),this.$textField=this.select("textFieldSelector"),this.$button=this.select("buttonSelector"),this.on(n.rootNode(),t.PASSWORD_REQUIRED,function(t,e){return null!=this.id&&this.id===e.id||(this.id=e.id,this.firstAttempt=!0),this.firstAttempt?this.handleFirstShow():this.handleWrongPassword()}),this.on("submit",this.submitPassword),this.on(n.rootNode(),t.VIDEO_SELECTED,function(){return this.handleHide()})})},r(o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return o=i(42).component,r=i(4),t=i(7),s=i(6),e=i(291),n=i(292),a=function(){return this.generatePID=function(i){var o,a,u,h,l,d,c;try{l=n.randomString(10),c=r.metadata("id"),d=parseInt(c.substring(1,c.length),36),a=n.encodeBase64url(n.encodePackL(d)),o=n.encodeBase64url(e(i+d+l,null,!0))}catch(h){u=h,this.trigger(t.ERROR_PLAYER,{error:s.PLAYER_ERR_UNEXPECTED})}return"p"+o+l+a},this.after("initialize",function(){return this.on(r.rootNode(),t.PASSWORD_SUBMITTED,function(e,i){return this.pid=this.generatePID(i.password),this.trigger(r.rootNode(),t.LOAD_VIDEO,{xid:this.pid})})})},o(a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;!function(r){"use strict";function o(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function s(t,e){return t<<e|t>>>32-e}function a(t,e,i,n,r,a){return o(s(o(o(e,t),o(n,a)),r),i)}function u(t,e,i,n,r,o,s){return a(e&i|~e&n,t,e,r,o,s)}function h(t,e,i,n,r,o,s){return a(e&n|i&~n,t,e,r,o,s)}function l(t,e,i,n,r,o,s){return a(e^i^n,t,e,r,o,s)}function d(t,e,i,n,r,o,s){return a(i^(e|~n),t,e,r,o,s)}function c(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var i,n,r,s,a,c=1732584193,f=-271733879,p=-1732584194,E=271733878;for(i=0;i<t.length;i+=16)n=c,r=f,s=p,a=E,c=u(c,f,p,E,t[i],7,-680876936),E=u(E,c,f,p,t[i+1],12,-389564586),p=u(p,E,c,f,t[i+2],17,606105819),f=u(f,p,E,c,t[i+3],22,-1044525330),c=u(c,f,p,E,t[i+4],7,-176418897),E=u(E,c,f,p,t[i+5],12,1200080426),p=u(p,E,c,f,t[i+6],17,-1473231341),f=u(f,p,E,c,t[i+7],22,-45705983),c=u(c,f,p,E,t[i+8],7,1770035416),E=u(E,c,f,p,t[i+9],12,-1958414417),p=u(p,E,c,f,t[i+10],17,-42063),f=u(f,p,E,c,t[i+11],22,-1990404162),c=u(c,f,p,E,t[i+12],7,1804603682),E=u(E,c,f,p,t[i+13],12,-40341101),p=u(p,E,c,f,t[i+14],17,-1502002290),f=u(f,p,E,c,t[i+15],22,1236535329),c=h(c,f,p,E,t[i+1],5,-165796510),E=h(E,c,f,p,t[i+6],9,-1069501632),p=h(p,E,c,f,t[i+11],14,643717713),f=h(f,p,E,c,t[i],20,-373897302),c=h(c,f,p,E,t[i+5],5,-701558691),E=h(E,c,f,p,t[i+10],9,38016083),p=h(p,E,c,f,t[i+15],14,-660478335),f=h(f,p,E,c,t[i+4],20,-405537848),c=h(c,f,p,E,t[i+9],5,568446438),E=h(E,c,f,p,t[i+14],9,-1019803690),p=h(p,E,c,f,t[i+3],14,-187363961),f=h(f,p,E,c,t[i+8],20,1163531501),c=h(c,f,p,E,t[i+13],5,-1444681467),E=h(E,c,f,p,t[i+2],9,-51403784),p=h(p,E,c,f,t[i+7],14,1735328473),f=h(f,p,E,c,t[i+12],20,-1926607734),c=l(c,f,p,E,t[i+5],4,-378558),E=l(E,c,f,p,t[i+8],11,-2022574463),p=l(p,E,c,f,t[i+11],16,1839030562),f=l(f,p,E,c,t[i+14],23,-35309556),c=l(c,f,p,E,t[i+1],4,-1530992060),E=l(E,c,f,p,t[i+4],11,1272893353),p=l(p,E,c,f,t[i+7],16,-155497632),f=l(f,p,E,c,t[i+10],23,-1094730640),c=l(c,f,p,E,t[i+13],4,681279174),E=l(E,c,f,p,t[i],11,-358537222),p=l(p,E,c,f,t[i+3],16,-722521979),f=l(f,p,E,c,t[i+6],23,76029189),c=l(c,f,p,E,t[i+9],4,-640364487),E=l(E,c,f,p,t[i+12],11,-421815835),p=l(p,E,c,f,t[i+15],16,530742520),f=l(f,p,E,c,t[i+2],23,-995338651),c=d(c,f,p,E,t[i],6,-198630844),E=d(E,c,f,p,t[i+7],10,1126891415),p=d(p,E,c,f,t[i+14],15,-1416354905),f=d(f,p,E,c,t[i+5],21,-57434055),c=d(c,f,p,E,t[i+12],6,1700485571),E=d(E,c,f,p,t[i+3],10,-1894986606),p=d(p,E,c,f,t[i+10],15,-1051523),f=d(f,p,E,c,t[i+1],21,-2054922799),c=d(c,f,p,E,t[i+8],6,1873313359),E=d(E,c,f,p,t[i+15],10,-30611744),p=d(p,E,c,f,t[i+6],15,-1560198380),f=d(f,p,E,c,t[i+13],21,1309151649),c=d(c,f,p,E,t[i+4],6,-145523070),E=d(E,c,f,p,t[i+11],10,-1120210379),p=d(p,E,c,f,t[i+2],15,718787259),f=d(f,p,E,c,t[i+9],21,-343485551),c=o(c,n),f=o(f,r),p=o(p,s),E=o(E,a);return[c,f,p,E]}function f(t){var e,i="";for(e=0;e<32*t.length;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function p(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function E(t){return f(c(p(t),8*t.length))}function m(t,e){var i,n,r=p(t),o=[],s=[];for(o[15]=s[15]=void 0,r.length>16&&(r=c(r,8*t.length)),i=0;16>i;i+=1)o[i]=909522486^r[i],s[i]=1549556828^r[i];return n=c(o.concat(p(e)),512+8*e.length),f(c(s.concat(n),640))}function _(t){var e,i,n="0123456789abcdef",r="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function v(t){return unescape(encodeURIComponent(t))}function g(t){return E(v(t))}function S(t){return _(g(t))}function T(t,e){return m(v(t),v(e))}function A(t,e){return _(T(t,e))}function D(t,e,i){return e?i?T(e,t):A(e,t):i?g(t):S(t)}n=function(){return D}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(293),o=i(295),r=function(t,e){var i;return void 0===e&&(e=!0),i=[],o(t,function(){var t;return t=e===!0?n(0,61):n(0,9),t+=10>t?48:t>10&&36>t?55:61,i.push(t)}),String.fromCharCode.apply(this,i)},t=function(t){return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"").trim()},e=function(t){var e,i,n,r,o,s,a,u,h;for(n="L",r=0,i=0,h="",e="",o=0,u=[];r<n.length;){for(s=n.charAt(r),a="",r++;r<n.length&&null!==n.charAt(r).match(/[\d\*]/);)a+=n.charAt(r),r++;if(""===a&&(a=1),"*"===a&&(a=arguments.length-i),a>arguments.length-i)throw new Error("Warning: pack() Type "+s+"too few arguments");for(o=0;a>o;)h+=String.fromCharCode(255&arguments[i]),h+=String.fromCharCode(arguments[i]>>8&255),h+=String.fromCharCode(arguments[i]>>16&255),h+=String.fromCharCode(arguments[i]>>24&255),i++,o++}return h},{randomString:function(t,e){return r(t,e)},encodeBase64url:function(e){return t(e)},encodePackL:function(t){return e(t)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){function n(t,e,i){i&&o(t,e,i)&&(e=i=void 0);var n=null==t,u=null==e;if(null==i&&(u&&"boolean"==typeof t?(i=t,t=1):"boolean"==typeof e&&(i=e,u=!0)),n&&u&&(e=1,u=!1),t=+t||0,u?(e=t,t=0):e=+e||0,i||t%1||e%1){var h=a();return s(t+h*(e-t+parseFloat("1e-"+((h+"").length-1))),e)}return r(t,e)}var r=i(294),o=i(158),s=Math.min,a=Math.random;t.exports=n},function(t,e){function i(t,e){return t+n(r()*(e-t+1))}var n=Math.floor,r=Math.random;t.exports=i},function(t,e,i){(function(e){function n(t,e,i){if(t=o(t),1>t||!s(t))return[];var n=-1,h=Array(a(t,u));for(e=r(e,i,1);++n<t;)u>n?h[n]=e(n):e(n);return h}var r=i(110),o=Math.floor,s=e.isFinite,a=Math.min,u=4294967295;t.exports=n}).call(e,function(){return this}())},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c;return s=i(42).component,h=i(42).utils,n=i(28),o=i(4),t=i(7),r=i(44),a=i(16),e=i(297),l=i(298),c=i(299),d=i(300),u=function(){return this.attributes({"native":null}),this.size=function(){return{width:this.$node.width(),height:this.$node.height()}},this.triggerFirstResizeEvent=function(){return this.currentSize=this.size(),this.trigger(t.PLAYER_SIZE_CHANGED,this.currentSize)},this.notifyPlayerResize=function(){var e;return e=this.size(),this.currentSize!==e?(this.currentSize=e,this.trigger(t.PLAYER_SIZE_CHANGED,this.currentSize)):void 0},this.removeKeyboardFocusStyles=function(){return $(o.rootNode()).removeClass("dmp_Player-keyboard-focus").addClass("dmp_Player-no-keyboard-focus")},this.addKeyboardFocusStyles=function(t){return $(o.rootNode()).removeClass("dmp_Player-no-keyboard-focus").addClass("dmp_Player-keyboard-focus")},this.hideCursor=function(){return this.$node.addClass("dmp_hide-cursor")},this.showCursor=function(){return this.$node.removeClass("dmp_hide-cursor")},this.bindControlListeners=function(){return this.controlListenersBound?void 0:(this.on(o.rootNode(),t.CONTROL_BAR_WILL_SHOW,this.showCursor),this.on(o.rootNode(),t.CONTROL_BAR_WILL_HIDE,this.hideCursor),this.controlListenersBound=!0)},this.unbindControlListeners=function(){return this.off(o.rootNode(),t.CONTROL_BAR_WILL_SHOW,this.showCursor),this.off(o.rootNode(),t.CONTROL_BAR_WILL_HIDE,this.hideCursor),this.controlListenersBound=!1,this.showCursor()},this.enableFatMode=function(t){return this.$node.toggleClass("dmp_fat",t)},this.after("initialize",function(){return this.enableFatMode(n.touchevents),e.attach(this.node),this.on(o.rootNode(),t.COMPONENTS_READY,function(){return this.triggerFirstResizeEvent(),this.attr["native"]?this.hideFullscreenButtonForLive():void 0}),$(o.window()).load(function(t){return function(){return t.triggerFirstResizeEvent()}}(this)),this.isEmbed=r.isEmbed(),this.isEmbed?this.on(window,"resize",this.notifyPlayerResize):(i(301),$(o.rootNode()).resize(function(t){return function(){return t.notifyPlayerResize()}}(this))),this.on(t.FULLSCREEN_ENTERED,function(){return n.touchevents||this.enableFatMode(!0),this.isEmbed?void 0:this.on(window,"resize",this.notifyPlayerResize)}),this.on(t.FULLSCREEN_EXITED,function(){return n.touchevents||this.isBig||this.enableFatMode(!1),this.isEmbed?void 0:this.off(window,"resize",this.notifyPlayerResize)}),this.on(t.BREAKPOINT_CHANGED,function(t,e){var i,r;return o.isGKEnabled("PV5_FAT_UI")&&!n.touchevents?(this.isBig="xl"===(null!=(i=e.horizontalBreakpoint)?i.name:void 0)&&"xl"===(null!=(r=e.verticalBreakpoint)?r.name:void 0),this.enableFatMode(this.isBig)):void 0}),this.on(o.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,this.toggleFullscreen),this.on("mouseenter",function(){return this.trigger(t.MOUSE_ENTERED_PLAYER)}),this.on("mouseleave",function(){return this.trigger(t.MOUSE_LEFT_PLAYER)}),this.on("mousemove",h.throttle(function(){return this.trigger(t.MOUSE_MOVED_OVER_PLAYER)},30)),this.on(o.rootNode(),"mousedown",function(){return this.removeKeyboardFocusStyles()}),this.on(o.rootNode(),"keyup",function(t){return 27!==t.which?this.addKeyboardFocusStyles():void 0}),this.on(o.rootNode(),t.PRESSED_ESC,function(t,e){return $(t.target).blur()}),$(o.rootNode()).find("button").on("mouseup",function(t){return a.isIE()?void 0:$(this).blur()}),this.bindControlListeners(),this.on(o.rootNode(),t.MODAL_WILL_OPEN,this.unbindControlListeners),this.on(o.rootNode(),t.MODAL_WILL_CLOSE,this.bindControlListeners)})},s(u,l,c,d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;!function(){"use strict";/**
		 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
		 *
		 * @codingstandard ftlabs-jsv2
		 * @copyright The Financial Times Limited [All Rights Reserved]
		 * @license MIT License (see LICENSE.txt)
		 */
function r(t,e){function i(t,e){return function(){return t.apply(e,arguments)}}var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!r.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,u=0,h=o.length;h>u;u++)a[o[u]]=i(a[o[u]],a);s&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,i.hijacked||i,n):r.call(t,e,i,n)},t.addEventListener=function(e,i,n){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(t,e,i,n)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,s=navigator.userAgent.indexOf("Android")>0&&!o,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,u=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),h=a&&/OS [6-7]_\d/.test(navigator.userAgent),l=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},r.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!s;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},r.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},r.prototype.determineEventType=function(t){return s&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},r.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},r.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],a){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},r.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},r.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},r.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(t){var e,i,n,r,o,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,h&&(o=t.changedTouches[0],l=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=l.tagName.toLowerCase(),"label"===n){if(e=this.findControl(l)){if(this.focus(l),s)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-i>100||a&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),a&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return a&&!u&&(r=l.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},r.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},r.prototype.destroy=function(){var t=this.layer;s&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(t){var e,i,n,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!s)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction)},r.attach=function(t,e){return new r(t,e)},n=function(){return r}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}()},function(t,e,i){var n;n=function(){var t,e,n,r,o;return e=i(4),t=i(7),n=i(16),r=i(11).get("Error"),o=function(){return this.fullscreenApi={supported:!1,type:null},this._fullscreenApiSupported=function(){return this.fullscreenApi.supported},this._setupNativeFullscreenApi=function(i,n){return this._fullscreenApiSupported()||"nonlinear"===n.type?void 0:null==n.videoTagSelector?void r.error("A videoTagSelector is required to setup the native fullscreen API"):(this.video=$(e.rootNode()).find(n.videoTagSelector)[0],this.video.webkitSupportsFullscreen?(this.fullscreenApi.enter="webkitEnterFullscreen",this.fullscreenApi.exit="webkitExitFullscreen",this.fullscreenApi.enabled="webkitSupportsFullscreen",this.fullscreenApi.displaying="webkitDisplayingFullscreen",this.fullscreenApi.supported=!0,this.fullscreenApi.type="native",this.trigger(t.FULLSCREEN_SUPPORTED,this.fullscreenApi),this.on(this.video,"webkitbeginfullscreen",function(){return this.trigger(t.FULLSCREEN_ENTERED)}),this.on(this.video,"webkitendfullscreen",function(){return this.trigger(t.FULLSCREEN_EXITED)})):void 0)},this._setupHtml5FullscreenApi=function(){var t,e,i,r,o,s,a,u,h,l;if(!n.isChromiumWebview()){for(r=["enter","exit","element","enabled","changeEvent","errorEvent"],a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=[],t=0,o=a.length;o>t;t++){if(h=a[t],h[1]in document){for(e=i=0,s=h.length;s>i;e=++i)u=h[e],this.fullscreenApi[r[e]]=u;this.fullscreenApi.supported=!0,this.fullscreenApi.type="html5";break}l.push(void 0)}return l}},this._isFullscreen=function(){return"html5"===this.fullscreenApi.type?null!=document[this.fullscreenApi.element]:this.video[this.fullscreenApi.displaying]},this._isFullscreenEnabled=function(){return"html5"===this.fullscreenApi.type?document[this.fullscreenApi.enabled]:!0},this._enterFullscreen=function(){return"html5"===this.fullscreenApi.type?this.node[this.fullscreenApi.enter]():this.video[this.fullscreenApi.enter]()},this._exitFullscreen=function(){return"html5"===this.fullscreenApi.type?document[this.fullscreenApi.exit]():this.video[this.fullscreenApi.exit]()},this.toggleFullscreen=function(){if(this.fullscreenApi.supported){if(this._isFullscreenEnabled())return this._isFullscreen()?this._exitFullscreen():this._enterFullscreen();throw new Error("Can't toggle fullscreen, probably missing allowfullscreen attribute on <iframe>")}throw new Error("Browser doesn't support any fullscreen API")},this.after("initialize",function(){return this._setupHtml5FullscreenApi(),this.on(e.rootNode(),[t.VIDEO_LOADED_METADATA,t.AD_STARTED].join(" "),this._setupNativeFullscreenApi),this.on(e.rootNode(),t.COMPONENTS_READY,function(){return this.fullscreenApi.supported?this.trigger(t.FULLSCREEN_SUPPORTED,this.fullscreenApi):void 0}),this.on(e.rootNode(),[t.EXPAND_PLAYER_SIZE_REQUESTED,t.REDUCE_PLAYER_SIZE_REQUESTED].join(" "),function(){return this._isFullscreen()?this._exitFullscreen():void 0}),this.on(e.rootNode(),t.SEQUENCE_ENDED,function(){return this._isFullscreen()&&n.isMobile()?this._exitFullscreen():void 0}),this.on(document,this.fullscreenApi.changeEvent,function(){return this.notifyPlayerResize(),this._isFullscreen()?this.trigger(t.FULLSCREEN_ENTERED):this.trigger(t.FULLSCREEN_EXITED)})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return e=i(4),t=i(7),n=i(16),r=i(11).get("Error"),o=function(){return this._supportsPresentationMode=function(){return this.video.webkitSupportsPresentationMode&&"function"==typeof this.video.webkitSetPresentationMode},this._supportsPictureInPictureMode=function(){return this.video.webkitSupportsPresentationMode("picture-in-picture")},this._setupPresentationMode=function(i,n){return this.video=$(e.rootNode()).find(n.videoTagSelector)[0],this._supportsPresentationMode()?(this._supportsPictureInPictureMode()&&this.trigger(t.PIP_SUPPORTED),this._bindEventListeners()):void 0},this._bindEventListeners=function(){return this.on(this.video,"webkitpresentationmodechanged",function(){return this._notifyModeChange(),this.video.controls="picture-in-picture"===this.video.webkitPresentationMode})},this._unbindEventListeners=function(){return this.off(this.video,"webkitpresentationmodechanged",this._notifyModeChange)},this._notifyModeChange=function(){return this.trigger(t.PRESENTATION_MODE_CHANGED,{mode:this.video.webkitPresentationMode})},this._togglePipMode=function(){var t;return t="picture-in-picture"===this.video.webkitPresentationMode?"inline":"picture-in-picture",this.video.webkitSetPresentationMode(t)},this.after("initialize",function(){return this.on(e.rootNode(),t.VIDEO_LOADED_METADATA,this._setupPresentationMode),this.on(e.rootNode(),t.PRESENTATION_MODE_TOGGLE_REQUESTED,function(t,e){return"picture-in-picture"===e.mode?this._togglePipMode():void 0})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(42).component,n=i(4),t=i(7),e=i(44),o=function(){return this.isLive=!1,this.hideFullscreenButtonForLive=function(){return this.$node.toggleClass("dmp_hide-native-fullscreen",this.isLive)},this.after("initialize",function(){return e.fullscreenCrashesLiveVideos()?this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.isLive="live"===n.metadata("stream_type")}):void 0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){!function(t){function e(t){var e=t.__resizeTriggers__,i=e.firstElementChild,n=e.lastElementChild,r=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight}function i(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height}function n(t){var n=this;e(this),this.__resizeRAF__&&h(this.__resizeRAF__),this.__resizeRAF__=u(function(){i(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(e){e.call(n,t)}))})}function r(){if(!s){var t=(S?S:"")+".resize-triggers { "+(T?T:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i),s=!0}}var o=document.attachEvent,s=!1,a=t.fn.resize;if(t.fn.resize=function(t){return this.each(function(){this==window?a.call(jQuery(this),t):addResizeListener(this,t)})},t.fn.removeResize=function(t){return this.each(function(){removeResizeListener(this,t)})},!o){var u=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),h=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}(),l=!1,d="animation",c="",f="animationstart",p="Webkit Moz O ms".split(" "),E="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="",_=document.createElement("fakeelement");if(void 0!==_.style.animationName&&(l=!0),l===!1)for(var v=0;v<p.length;v++)if(void 0!==_.style[p[v]+"AnimationName"]){m=p[v],d=m+"Animation",c="-"+m.toLowerCase()+"-",f=E[v],l=!0;break}var g="resizeanim",S="@"+c+"keyframes "+g+" { from { opacity: 0; } to { opacity: 0; } } ",T=c+"animation: 1ms "+g+"; "}window.addResizeListener=function(t,i){o?t.attachEvent("onresize",i):(t.__resizeTriggers__||("static"==getComputedStyle(t).position&&(t.style.position="relative"),r(),t.__resizeLast__={},t.__resizeListeners__=[],(t.__resizeTriggers__=document.createElement("div")).className="resize-triggers",t.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(t.__resizeTriggers__),e(t),t.addEventListener("scroll",n,!0),f&&t.__resizeTriggers__.addEventListener(f,function(i){i.animationName==g&&e(t)})),t.__resizeListeners__.push(i))},window.removeResizeListener=function(t,e){o?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",n),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(jQuery)},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(42).component,e=i(4),t=i(7),o=i(223),s=i(188),r=function(){return this.setPoster=function(e){return this.currentPoster=e,this.preloadImage(e),this.on(t.IMAGE_PRELOADED,function(t,e){return this.$node.css({"background-image":"url("+e.src+")"})})},this.showPoster=function(t,e){var i,n;return null==e&&(e={}),e.posterSrc?this.setPoster(e.posterSrc):this.currentPoster!==this.defaultPoster&&this.setPoster(this.defaultPoster),t=t.replace(/_WILL_OPEN|_ENDED/,""),this.displays.indexOf(t)>=0||this.displays.push(t),i=[],n=[],(e.blur?i:n).push("dmp_is-blurred"),(e.darken?i:n).push("dmp_is-darkened"),this.$node.addClass(i.join(" ")),this.$node.removeClass(n.join(" ")),this.showNode()},this.hidePoster=function(t){var e;return t=t.replace(/_WILL_CLOSE|_STARTED/,""),(e=this.displays.indexOf(t))>=0&&this.displays.splice(e,1),0===this.displays.length?this.hideNode():void 0},this.handleHide=function(t){return this.hidePoster(t.type)},this.handleShowWithoutFilters=function(t){return this.showPoster(t.type,{blur:!1,darken:!1})},this.after("initialize",function(){return this.displays=[],this.on(e.rootNode(),t.VIDEO_SELECTED,function(i,n){return this.defaultPoster=e.metadata("poster_url"),this.setPoster(this.defaultPoster),this.displays=[],this.off(e.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.handleHide),this.off(e.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.handleShowWithoutFilters),"audio"===e.metadata("media_type")?(this.on(e.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.handleHide),this.on(e.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.handleShowWithoutFilters)):void 0}),this.on(e.rootNode(),t.START_VIEW_WILL_OPEN,function(t,e){return null==e&&(e={}),this.showPoster(t.type,e)}),this.on(e.rootNode(),t.END_SCREEN_WILL_OPEN,function(t,e){return"next_video"===e.name?this.showPoster(t.type,{blur:!1,darken:!0,posterSrc:e.posterSrc}):this.showPoster(t.type,{blur:!0,darken:!0})}),this.on(e.rootNode(),t.SCHEDULED_CONTENT_PANE_WILL_OPEN,function(t,i){return this.defaultPoster=e.metadata("poster_url"),this.setPoster(this.defaultPoster),this.showPoster(t.type,{blur:!1,darken:!1})}),this.on(e.rootNode(),[t.CHROMECAST_STATUS_PANE_WILL_OPEN,t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN].join(" "),function(t,e){return this.showPoster(t.type,{blur:!0,darken:!0})}),this.on(e.rootNode(),[t.END_SCREEN_WILL_CLOSE,t.START_VIEW_WILL_CLOSE,t.SCHEDULED_CONTENT_PANE_WILL_CLOSE,t.CHROMECAST_STATUS_PANE_WILL_CLOSE,t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE].join(" "),function(t){return this.hidePoster(t.type)})})},n(r,o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return u=i(42).component,s=i(149),h=i(63),a=i(4),t=i(7),n=i(39),o=i(44),r=i(61),e=i(304),l=i(11).get("Quality"),d=function(){return this.attributes({videoTagSelector:null}),this.handleSequenceStarted=function(){return this.receivedSequenceStartedEvent=!0},this.after("initialize",function(){return this.size={player:{width:0,height:0}},this.receivedSequenceStartedEvent=!1,this.on(t.PLAYER_SIZE_CHANGED,function(t,e){return this.size.player.width=e.width,this.size.player.height=e.height}),this.on(t.SEQUENCE_STARTED,this.handleSequenceStarted),this.on(t.VIDEO_SELECTED,function(i,u){var d,c;return c=s(a.metadata("qualities"),!0),d=h(c.auto,{type:n.HLS}),d&&o.supportsMSE()?r.loadDynamicQualitySwitcher(function(e){return function(i){return l.log("Enabling DynamicQualitySwitcher (MSE-HLS)"),e.off(t.SEQUENCE_STARTED,e.handleSequenceStarted),i.attachTo(a.rootNode(),{videoTagSelector:e.attr.videoTagSelector,qualities:c,playerSize:e.size.player,resource:d,autoplay:u.videoSettings.autoplay||e.receivedSequenceStartedEvent}),e.receivedSequenceStartedEvent=!1}}(this)):(l.log("Enabling StaticQualitySwitcher (progressive or native HLS)"),e.attachTo(a.rootNode(),{videoTagSelector:this.attr.videoTagSelector,qualities:c,playerSize:this.size.player}))})})},u(d)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return o=i(42).component,r=i(4),t=i(7),s=i(6),e=i(305),h=i(175),l=i(306),n=i(39),a=i(11).get("StaticQuality"),u=function(){return this.hasFallbackedToProgressive=!1,this.waitForQualityList=function(){var i,n;return i=$.Deferred(),n=e.createFromConfig(this.attr.qualities),this.trigger(t.CAN_PLAY_ONE_SOURCE,{ok:n.hasOnePlayableQuality()}),i.resolve(this.setQualityList(n)),i.promise()},this.getStats=function(){return this.trigger(t.QUALITY_STATS_RESPONDED)},this.sanitizeQualityState=function(t,e){return null==e&&(e=null),t.adaptive&&this.qualityList.adaptiveSupported()&&(t.quality=this.qualityList.getAutoQuality(e)),t},this.changeQuality=function(e,i,n){var r,o,s;return null==n&&(n=!1),this.notifyQualityChangeConfirmed(e,i),o=e.quality.resource,r=!this.videoTag.paused,s=this.videoTag.currentTime,this.speedBeforeQualitySwitch=this.videoTag.playbackRate,this._setVideoTag(o.url,o.type).then(function(e){return function(){return(r||n)&&e.videoTag.play(),s?e.trigger(t.SEEK_REQUESTED,{time:s}):void 0}}(this))},this.getVideoSrc=function(t,e){var i;return i=$.Deferred(),i.resolve(t),i.promise()},this._setVideoTag=function(t,e){return this.getVideoSrc(t,e).then(function(t){return function(i){var r;return t.videoTag.src=i,r=function(){switch(e){case n.HLS:return"application/vnd.apple.mpegurl";case n.MP4:return"video/mp4";default:return!1}}(),r?t.videoTag.setAttribute("type",r):void 0}}(this))},this.checkStaticQualityChanged=function(){var t,i;return i=this.getNextQualityState(),"source"!==i.quality.name&&"audio"!==i.quality.name&&(t=e.getNumericQualityNameFromVideoSize(this.videoTag.videoWidth,this.videoTag.videoHeight),i.quality=this.qualityList.getQualityForName(t),i=this.sanitizeQualityState(i,t)),this.notifyQualityChanged(i)},this.handleInitialQualitySet=function(){},this.handleLoadedmetadataEvent=function(){return this.checkStaticQualityChanged(),this.trigger(t.VIDEO_LOADED_METADATA,{videoTagSelector:this.attr.videoTagSelector}),1!==this.speedBeforeQualitySwitch?this.trigger(t.SPEED_CHANGE_REQUESTED,{speed:this.speedBeforeQualitySwitch}):void 0},this.handleCanplayEvent=function(){},this.handleLoadeddataDataEvent=function(){},this.handlePlaying=function(){return this.lastTriggeredError=null},this.handleErrorEvent=function(t){var e,i;return e=t.target.error,a.error("Got video error:",e.code),i=function(){switch(!1){case e.code!==e.MEDIA_ERR_ABORTED:return s.MEDIA_ERR_ABORTED;case e.code!==e.MEDIA_ERR_NETWORK:return s.MEDIA_ERR_NETWORK;case e.code!==e.MEDIA_ERR_DECODE:return s.MEDIA_ERR_DECODE;case e.code!==e.MEDIA_ERR_SRC_NOT_SUPPORTED:return s.MEDIA_ERR_SRC_NOT_SUPPORTED;default:return s.PLAYER_ERR_UNKNOWN}}(),i===s.MEDIA_ERR_SRC_NOT_SUPPORTED&&!this.hasFallbackedToProgressive&&this.getNextQualityState().adaptive&&"live"!==r.metadata("stream_type")?(a.warn("Adaptative failed. Fallback to progressive stream"),this.fallbackToProgressive()):this.lastTriggeredError!==i?(this.lastTriggeredError=i,this.triggerPlayerError(i)):void 0},this.fallbackToProgressive=function(){return this.hasFallbackedToProgressive=!0,this.qualityList.setStaticAdaptive(null),this.setInitialQualityState(),this.trigger(t.QUALITY_CHANGE_REQUESTED,{startPlayback:!0})},this.streamCell=function(){return null},this.streamTech=function(){return"native"},this.after("bindMediaEvents",function(){return this.on(this.videoTag,"canplay",this.handleCanplayEvent),this.on(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.on(this.videoTag,"playing",this.handlePlaying)}),this.after("unbindMediaEvents",function(){return this.off(this.videoTag,"canplay",this.handleCanplayEvent),this.off(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.off(this.videoTag,"playing",this.handlePlaying)}),this.after("initialize",function(){return a.log("Initialized"),this.on(t.LOAD_VIDEO,function(){return this.teardown()}),this.setup()}),this.after("teardown",function(){return a.log("Torn down"),this.unbindMediaEvents()})},o(h,u,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e,n;return n=i(44),e=i(148),t=function(t){function i(){i.__super__.constructor.apply(this,arguments),this._isStaticAdaptive=!1}return r(i,t),i.createFromConfig=function(t){var r,o,s,a,u,h,l,d;a=new i,o=0;for(u in t)for(d=t[u],r=0,s=d.length;s>r;r++)if(l=d[r],n.canPlayType(l.type)){if("auto"===u&&a.setStaticAdaptive(l),h=e.normalizeQuality(u),!h)continue;a.addQuality(h.name,h.label,h.tag,l,o++)}return a},i.prototype.hasOnePlayableQuality=function(){return null!=this.getFirstAvailable()||this.adaptiveSupported()},i.prototype.setStaticAdaptive=function(t){return this._isStaticAdaptive=null!=t,this._staticAdaptiveResource=t},i.prototype.getAutoQuality=function(t){var i,n;return null==t&&(t=null),n=e.normalizeQuality(t),i=n||{},i.resource=this._staticAdaptiveResource,i},i.prototype.adaptiveSupported=function(){return this._isStaticAdaptive},i}(e)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(42).compose,t=i(39),e=i(44),r=i(16),o=i(37),u=i(307),a=i(308),h=i(309),s=function(){var i;return i=[],e.canPlayType(t.HLS)&&i.push(u),r.isAndroid()&&o.isLesserOrEqualThan(r.getOsVersion(),"4.4")&&i.push(h),(r.isAndroidStockBrowser()||r.isOperaTv())&&i.push(a),n.mixin(this,i)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(4),t=i(7),e=i(39),r=i(11).get("Video"),o=function(){return this.attributes({hlsSpecializationEnabled:!1}),this._startMonitoringVideoSizeChange=function(t){return null==t&&(t=1e3),clearInterval(this._sizePoller),this._sizePoller=setInterval(function(t){return function(){return t.checkStaticQualityChanged()}}(this),t)},this._stopMonitoringVideoSizeChange=function(){return clearInterval(this._sizePoller)},this.after("handleLoadeddataDataEvent",function(){return this.attr.hlsSpecializationEnabled?this.checkStaticQualityChanged():void 0}),this.after("initialize",function(){return this.on(t.QUALITY_CHANGE_CONFIRMED,function(t,i){var n;return n=i.quality.resource,n.type===e.HLS?(r.log("Enabling HLS video specialization"),this.attr.hlsSpecializationEnabled=!0):(r.log("Disabling HLS video specialization"),this.attr.hlsSpecializationEnabled=!1,this._stopMonitoringVideoSizeChange())}),this.on(t.VIDEO_PLAY,function(){return this.attr.hlsSpecializationEnabled&&"audio"!==n.metadata("media_type")?this._startMonitoringVideoSizeChange():void 0}),this.on(t.VIDEO_PAUSE,function(t,e){return this._stopMonitoringVideoSizeChange()})}),this.before("teardown",function(){return clearInterval(this._sizePoller)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(39),t=i(118).Location,n=i(11).get("android stock mixins"),r=function(){return this.around("getVideoSrc",function(i,r,o){return i(r,o).then(function(i){var r,s,a,u;return a=t.parse(i),u=a.pathname.split("/"),r=u[u.length-1],s=-1!==r.lastIndexOf("."),s?""===a.search&&(r=null):r=function(){switch(o){case e.HLS:return"v.m3u8";case e.MP4:return"v.mp4";default:return null}}(),r?(i=i.split("#")[0],i=t.appendQueryStringParameter(i,"f="+r),n.log("Adding 'f="+r+"' qs parameter : ",i)):n.log(r+"' extension not valid : ",i),i})})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(6),t=i(7),n=i(119).resolveStreamUrl,r=function(){return this.getVideoSrc=function(i,r){return n(i,r).fail(function(i){return function(){return i.trigger(t.ERROR_PLAYER,{error:e.PLAYER_ERR_CDN_RESOLVER_FAILED})}}(this))}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(257),o=function(){return this.attributes({type:"related",baseTabindex:null,containerSelector:".dmp_RelatedEndScreen-container",gridSelector:".dmp_RelatedEndScreen-grid",thumbSelector:".dmp_RelatedEndScreen-item",titleSelector:".dmp_RelatedEndScreen-title",titleContent:e.__("endscreen:::Related videos"),thumbWidth:160,thumbHeight:90,smallThumbWidth:120,smallThumbHeight:68,thumbMargin:6,containerMarginHorizontal:30,containerMarginVertical:60}),this.getRelatedVideosSubset=function(t,e,i,n){var r,o,s,a;return null==n&&(n=1),a=e*i,r=t.length,r>=a?t.slice(0,a):(s=Math.floor(r/e),o=r-e*s,s>=1&&o>0&&n>=o?t.slice(0,-o):t.slice())},this.getThumbnailSize=function(){var t;return t=null!=this.horizontalBreakpoint&&("xs"===this.horizontalBreakpoint.name||"s"===this.horizontalBreakpoint.name)||null!=this.verticalBreakpoint&&("xs"===this.verticalBreakpoint.name||"s"===this.verticalBreakpoint.name)?{width:this.attr.smallThumbWidth,height:this.attr.smallThumbHeight}:{width:this.attr.thumbWidth,height:this.attr.thumbHeight}},this.updateGrid=function(){var t,e,i,n;return i=this.getThumbnailSize(),t=Math.floor((this.playerWidth-2*this.attr.containerMarginHorizontal)/(i.width+2*this.attr.thumbMargin)),e=Math.floor((this.playerHeight-this.bottomMargin-this.topMargin-this.$title.outerHeight(!0))/(i.height+2*this.attr.thumbMargin)),t=Math.min(Math.max(t,1),5),e=Math.min(Math.max(e,1),5),n=t*e,this.currentTotalSlots!==n&&(this.currentTotalSlots=n,this.setContent(this.getRelatedVideosSubset(this.data,t,e,2))),this.alignTitle(0>=n)},this.setContent=function(t){var i,r,o,s,a,u,h;for(i="",u=n.context("onsite")?"_parent":"_blank",o=r=0,a=t.length;a>r;o=++r)s=t[o],h=e.__("accessibility:::Watch %title%",{title:s.title}),i+='<a href="'+s.url+'" class="dmp_RelatedEndScreen-item dmp_u-cf" target="'+u+'" data-index="'+o+'" aria-label="'+h+'"> <div class="dmp_RelatedEndScreen-item-bg" role="presentation" style="background-image: url('+s.poster_url+')"></div> <div class="dmp_RelatedEndScreen-item-text"> <div class="dmp_RelatedEndScreen-item-title">'+s.title+'</div> <div class="dmp_RelatedEndScreen-item-author" role="presentation">'+s.owner+'</div> </div> <div class="dmp_RelatedEndScreen-item-duration" role="presentation">'+s.duration+"</div> </a>";return this.select("gridSelector").html(i)},this.alignTitle=function(t){var e,i;return i=this.fullscreen?0:$(n.rootNode()).offset().left,t?this.hideNode(this.$title):(e=this.select("thumbSelector").first().offset().left-i,this.$title.css({left:-(this.playerWidth/2-e-this.$title.outerWidth()/2)}),this.showNode(this.$title))},this.after("handleVideoSelectedEvent",function(){return this.currentTotalSlots=-1}),this.onEndScreenDataChanged=function(t){var e;return this.algo=null!=t?t.algo:void 0,(null!=(e=this.data)?e.length:void 0)>0?(this.$title.text(this.attr.titleContent),this.updateGrid()):void 0},this.getEndScreenWillOpenData=function(){return $.extend(this._getEndScreenEventBaseData(),{itemsCount:this.data.length})},this.getEndScreenVideoClickedData=function(t){return $.extend(this._getEndScreenEventBaseData(),{videoId:t.id})},this._getEndScreenEventBaseData=function(){return{name:this.attr.type,algo:this.algo}},this.after("initialize",function(){return this.$title=this.select("titleSelector"),
this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.endScreenVisible&&!this.fullscreenTransitioning?this.updateGrid():void 0}),this.on(n.rootNode(),t.BREAKPOINT_CHANGED,function(t,e){return this.horizontalBreakpoint=e.horizontalBreakpoint,this.verticalBreakpoint=e.verticalBreakpoint}),this.on("click",{thumbSelector:function(t,e){return this.handleEndScreenVideoClickedEvent(t,this.data[$(e.el).data("index")])}}),this.on(n.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,function(){return this.fullscreenTransitioning=!0}),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.fullscreen=!0,this.fullscreenTransitioning=!1,null!=this.data?this.updateGrid():void 0}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.fullscreen=!1,this.fullscreenTransitioning=!1,null!=this.data?this.updateGrid():void 0})})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return n=i(4),r=i(42).component,t=i(7),e=i(55),a=i(257),s=i(186),o=function(){return this.attributes({type:"next_video",ariaLabel:"",baseTabindex:null,containerSelector:".dmp_NextVideoEndScreen-container",linkSelector:".dmp_NextVideoEndScreen-link",headerSelector:".dmp_NextVideoEndScreen-header",titleSelector:".dmp_NextVideoEndScreen-title",ownerSelector:".dmp_NextVideoEndScreen-owner",headerContent:e.__("endscreen:::Next video:")}),this.setContent=function(){var t,i;return t=n.context("onsite")?"_parent":"_blank",i=e.__("accessibility:::Watch %title%",{title:this.data.title}),this.select("linkSelector").attr("href",this.data.url).attr("target",t),this.select("headerSelector").text(this.attr.headerContent),this.select("titleSelector").text(this.data.title),this.select("ownerSelector").text(e.__("endscreen:::by %owner%",{owner:this.data.owner})),this.setAccessibility(i,this.attr.baseTabindex,"linkSelector")},this.onEndScreenDataChanged=function(t){return this.setContent()},this.getEndScreenWillOpenData=function(){return this._getEndScreenEventBaseData()},this.getEndScreenVideoClickedData=function(t){return $.extend(this._getEndScreenEventBaseData(),{videoId:t.id})},this._getEndScreenEventBaseData=function(){return{name:this.attr.type}},this.after("initialize",function(){return this.on("click",{linkSelector:function(t,e){return this.handleEndScreenVideoClickedEvent(t,this.data)}})})},r(s,a,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(313),u=i(216),h=i(188),o=function(){return this.attributes({baseTabindex:null,ariaLabel:e.__("accessibility:::Share panel"),closeButtonAriaLabel:e.__("accessibility:::Close the share panel"),modalId:"sharePane",buttonContainerSelector:".dmp_SharePane-buttons",buttonSelector:".dmp_SharePane-button",closeButtonSelector:".dmp_SharePane-close",embedButtonSelector:".dmp_SharePane-embed",facebookButtonSelector:".dmp_SharePane-facebook",naszaklasaButtonSelector:".dmp_SharePane-naszaklasa",permalinkContainerSelector:".dmp_SharePane-permalink",permalinkSelector:".dmp_SharePane-permalink-text",twitterButtonSelector:".dmp_SharePane-twitter",vkButtonSelector:".dmp_SharePane-vk",zingmeButtonSelector:".dmp_SharePane-zingme",messageTitleSelector:".dmp_SharePane-message-title",messageTextSelector:".dmp_SharePane-message-text",icons:{twitter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 29"><path d="M34 3.4c-1.3.6-2.6 1-4 1.2 1.4-.9 2.5-2.3 3.1-4.1-1.3.8-2.8 1.4-4.4 1.8-1.3-1.4-3.2-2.3-5.2-2.3-3.9 0-7 3.3-7 7.3 0 .6.1 1.1.2 1.7-5.8-.3-10.9-3.2-14.3-7.7-.6 1.1-1 2.4-1 3.7 0 2.5 1.2 4.8 3.1 6.1-1.1 0-2.2-.4-3.2-.9v.1c0 3.5 2.4 6.5 5.6 7.2-.6.2-1.2.3-1.8.3-.4 0-.9 0-1.3-.1.9 2.9 3.5 5 6.5 5.1-2.4 2-5.4 3.1-8.7 3.1-.6 0-1.1 0-1.7-.1 3.2 2 6.9 3.2 10.8 3.2 12.8 0 19.8-11.2 19.8-20.8v-.9c1.4-1.1 2.6-2.4 3.5-3.9z"/></svg>',facebook:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 30"><path d="M9.3 30h-6.2v-15h-3.1v-5.2h3.1v-3.1c0-4.2 1.7-6.7 6.7-6.7h4.2v5.2h-2.6c-1.9 0-2.1.7-2.1 2.1v2.6h4.7l-.6 5.1h-4.1v15z"/></svg>',embed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 34 22"><path d="M23.2 22l-3.7-3.8 7.1-7.2-5.6-5.8-1.4-1.5 3.6-3.7 1.4 1.5 9.4 9.5-10.8 11zm-12.4 0l-10.8-11 10.8-11 3.7 3.8-7.1 7.2 7.1 7.3-3.7 3.7z"/></svg>',zingme:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="2.584 1 10.831 14"><path d="M12.057 12.285h-5.535l6.273-9.159.002-.003.131-.238.004-.016.039-.108.025-.096.01-.033.027-.27v-.004l-.002-.037-.008-.094-.008-.067-.01-.063-.02-.076-.014-.051-.025-.075-.02-.052-.026-.063-.027-.056-.029-.054-.039-.061-.029-.044-.049-.062-.033-.039-.055-.059-.047-.043-.051-.046-.076-.058-.027-.02-.002-.002-.238-.129-.021-.009-.1-.037-.109-.028-.021-.004-.271-.029h-7.733c-.751 0-1.359.607-1.359 1.358s.607 1.359 1.358 1.359h5.155l-6.241 9.111c-.171.227-.272.51-.272.813 0 .542.316 1.009.775 1.226h.001c.115.055.236.094.367.112l.038.006.175.015h8.118c.75 0 1.357-.608 1.357-1.359s-.608-1.356-1.358-1.356z"/></svg>',naszaklasa:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 342.4 612 454.7"><path d="M407.5 342.4h-69.9l-8.7 65.6h21.9l-35 389.1h83.1s26.2-284.1 35-397.8c4.2-43.8-17.6-56.9-26.4-56.9zm-135.5 153c-39.3-48.1-131.1 0-174.9 17.5 0-13.1-8.7-30.6-30.6-30.6h-61.2l-4.3 61.2h21.9l-21.9 253.5h78.7l17.5-209.8s26.2-17.5 48.1-26.2c17.5-4.4 74.3-39.3 65.6 26.2l-17.5 209.8h78.6s8.7-83.1 8.7-122.4c4.4-43.7 13.1-87.4 8.7-122.4.1-21.9-8.6-43.7-17.4-56.8zm341-13.1h-96.2l-100.5 157.3 83.1 157.4h87.4l-83.1-157.4 109.3-157.3z"/></svg>',vk:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 3.983 14 8.034"><path d="M14.356 11.995h-2.055c-.499-.002-.877-.219-1.29-.683-.235-.262-.907-1.218-1.334-1.149-.605.097-.305 1.132-.557 1.575-.204.357-1.074.292-1.672.229-1.893-.201-2.859-1.211-3.707-2.296-.903-1.161-1.857-2.829-2.513-4.16-.378-.771-.251-1.127.124-1.154h1.96s.423.003.674.445l.25.539c.345.737.663 1.267 1.082 1.87.182.26.46.753.787.689.316-.064.324-.84.337-1.341.015-.566.023-1.23-.111-1.481-.153-.286-.495-.411-.777-.436.134-.533.98-.658 1.354-.658h1.151c.481.002 1.144.251 1.126.849-.012.445 0 2.046 0 2.274.002.367.092.637.245.74.173.08.468-.225.676-.496.452-.592 1.022-1.542 1.195-2.009.372-1.017.734-.995.734-.995h2.485s.723-.035.392.787c-.314.782-1.185 1.749-1.657 2.374-.19.25-.582.65-.559 1.05.019.303.323.535.559.753.509.475.864.818 1.277 1.346.157.198.526.634.46.885-.111.424-.636.453-.636.453z"/></svg>'},popupHeight:420,popupWidth:550}),this.setContent=function(t){var i,n,r,o,s,a,u,h;for(n="",u=e.__("accessibility:::Video shortlink"),o=r=0,a=t.length;a>r;o=++r)s=t[o],"permalink"===s.service?h='<a href="'+s.url+'" class="dmp_SharePane-permalink-text" target="_blank" aria-label="'+u+'">'+s.url+"</a>":(i="embed"===s.service?e.__("accessibility:::Get embed code"):e.__("accessibility:::Share on %service%",{service:s.service}),n+='<a href="'+s.url+'" class="dmp_SharePane-button dmp_SharePane-'+s.service+'" target="_blank" aria-label="'+i+'"> <div class="dmp_SharePane-button-icon dmp_is-focusable"> '+this.attr.icons[s.service]+' </div> <div class="dmp_SharePane-button-text">'+s.service+"</div> </a>");return this.select("buttonContainerSelector").html(n),this.select("permalinkContainerSelector").html(h)},this.handleServiceAction=function(e,i){return this.handlePaneAction(e,function(){return this.requestService(i)}),this.trigger(t.SHARE_PANE_ACTION,{type:i})},this.handlePaneAction=function(e,i,n){return null==n&&(n=!1),e.preventDefault(),n&&this.isFullscreen?(this.requestFromFullscreen=i,this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)):i.call(this)},this.requestService=function(t){return this.openPopup(this.select(t+"ButtonSelector").attr("href"),t)},this.requestEmbed=function(){return this.trigger(t.EMBED_REQUESTED)},this.after("initialize",function(){return this.prepareJsTransition(),this.setAccessibility(this.attr.closeButtonAriaLabel,null,"closeButtonSelector"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,i){return null!=n.metadata("sharing")&&this.setContent(n.metadata("sharing")),null!=n.metadata("password")?(this.select("messageTitleSelector").text(e.__("sharing:::You made this video private.")),this.select("messageTextSelector").html(e.__("sharing:::You need to provide the password when you share it: %password%",{password:"<span class='dmp_highlight--color'>"+n.metadata("password")+"</span>"}))):void 0}),this.on(n.rootNode(),t.OPEN_SHARE_PANE_REQUESTED,function(){return this.openPane(this.select("buttonSelector").first())}),this.on(n.rootNode(),t.CLOSE_SHARE_PANE_REQUESTED,function(){return this.closePane()}),this.on(n.rootNode(),t.FULLSCREEN_ENTERED,function(){return this.isFullscreen=!0}),this.on(n.rootNode(),t.FULLSCREEN_EXITED,function(){return this.isFullscreen=!1,this.requestFromFullscreen?(this.requestFromFullscreen.call(this),this.requestFromFullscreen=null):void 0}),this.on("click",function(t){return t.target===t.currentTarget||t.target===this.$node.find(".dmp_SharePane-content")[0]?this.closePane():void 0}),this.on("click",{facebookButtonSelector:function(t){return this.handleServiceAction(t,"facebook")},naszaklasaButtonSelector:function(t){return this.handleServiceAction(t,"naszaklasa")},twitterButtonSelector:function(t){return this.handleServiceAction(t,"twitter")},vkButtonSelector:function(t){return this.handleServiceAction(t,"vk")},zingmeButtonSelector:function(t){return this.handleServiceAction(t,"zingme")},embedButtonSelector:function(e){return n.context("onsite")?(this.handlePaneAction(e,this.requestEmbed,!0),this.trigger(t.SHARE_PANE_ACTION,{type:"embed"})):void 0},closeButtonSelector:function(t){return t.preventDefault(),this.closePane()}})})},r(s,o,a,u,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(4),t=i(7),e=i(42).compose,r=i(314),s=i(188),o=function(){return this.openPane=function(e){return this.trigger(t.VIDEO_INTERRUPT_REQUESTED,{reason:"Modal dialog - "+this.attr.modalId}),this._show(),null!=e?e.focus():void 0},this.closePane=function(e){return null==e&&(e="fast"),this._hide(e),this.trigger(t.VIDEO_RESUME_REQUESTED,{reason:"Modal dialog - "+this.attr.modalId})},this._show=function(){return this.visible?void 0:(this.trigger(t.MODAL_WILL_OPEN,{id:this.attr.modalId}),this.jsFadeIn("fast"),this.trapFocus(),this.visible=!0)},this._hide=function(e){return null==e&&(e="fast"),this.visible?(this.trigger(t.MODAL_WILL_CLOSE,{id:this.attr.modalId}),this.jsFadeOut(e),this.releaseFocus(),this.visible=!1):void 0},this.after("initialize",function(){return this.on(n.rootNode(),t.MODAL_WILL_OPEN,function(t,e){return e.id!==this.attr.modalId?this._hide():void 0}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.closePane(0)})}),e.mixin(this,[r,s])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(4),e=function(){return this._handleFocus=function(t){return this._needsTrappedFocus&&!this.$node.find(t.target).length?(t.stopPropagation(),this.$node.focus()):void 0},this.trapFocus=function(){return this._lastFocus=document.activeElement,this._needsTrappedFocus=!0},this.releaseFocus=function(){return this._needsTrappedFocus=!1,this._lastFocus?this._lastFocus.focus():void 0},this.after("initialize",function(){return t.rootNode().addEventListener("focus",function(t){return function(e){return t._handleFocus(e)}}(this),!0)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(42).component,e=i(4),t=i(7),s=i(188),r=i(11).get("Player"),o=function(){return this.doShowSpinner=function(t){return this.airplayActive&&this.videoWaiting?void 0:(r.log("show spinner from",t.type),this.showNode())},this.doHideSpinner=function(t){return r.log("hide spinner from",t.type),this.hideNode()},this.after("initialize",function(){return this.on(e.rootNode(),[t.LOAD_VIDEO,t.SEQUENCE_STARTED,t.VIDEO_ENDED,t.AD_WILL_START].join(" "),this.doShowSpinner),this.on(e.rootNode(),t.VIDEO_PLAY,function(){return this.on(e.rootNode(),[t.VIDEO_REBUFFERING,t.VIDEO_BUFFERING].join(" "),this.doShowSpinner)}),this.on(e.rootNode(),t.VIDEO_PAUSE,function(i){return this.doHideSpinner(i),this.off(e.rootNode(),[t.VIDEO_REBUFFERING,t.VIDEO_BUFFERING].join(" "),this.doShowSpinner)}),this.on(e.rootNode(),[t.VIDEO_PLAYING,t.VIDEO_STEADYPLAY,t.START_VIEW_WILL_OPEN,t.SEQUENCE_ENDED,t.ERROR_DISPLAY_REQUESTED,t.AD_STARTED,t.CONTENT_OFFAIR].join(" "),this.doHideSpinner),this.on(e.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(t,e){return e.anotherVideo?this.hideNode():this.showNode()}),this.on(e.rootNode(),t.AIRPLAY_WIRELESS_STATE,function(t,e){return this.airplayActive=e.active}),this.on(e.rootNode(),t.VIDEO_WAITING,function(){return this.videoWaiting=!0}),this.on(e.rootNode(),t.VIDEO_PLAYING,function(){return this.videoWaiting=!1})})},n(o,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(223),u=i(188),o=function(){return this.attributes({"native":null,baseTabindex:null,ariaLabel:e.__("accessibility:::Play"),logoAriaLabel:e.__("accessibility:::Watch on Dailymotion.com"),playAriaLabel:e.__("accessibility:::Play"),logoSelector:".dmp_StartView-logo",playButtonSelector:".dmp_StartView-play-button",playSelector:".dmp_StartView-play",posterSelector:".dmp_StartView-poster"}),this.requestPlay=function(e,i){return this.trigger(t.PLAY_REQUESTED)},this.handleSequenceReady=function(e,i){return i.willStartImmediately||(this.trigger(t.START_VIEW_WILL_OPEN),this.showNode()),this.off(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady)},this.hideStartView=function(){return this.hideNode(),this.trigger(t.START_VIEW_WILL_CLOSE)},this.after("initialize",function(){return this.setAccessibility(this.attr.playAriaLabel,null,"playButtonSelector"),this.setAccessibility(this.attr.logoAriaLabel,null,"logoSelector"),this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){var i,r;return r=this.select("playButtonSelector"),i=this.select("logoSelector"),n.settings("chromeless")?(this.hideNode(r),this.hideNode(i)):(n.settings("ui.logo")!==!1&&n.metadata("ui.logo")!==!1||this.hideNode(i),i.attr("href",n.metadata("url")),this.on("click",{playSelector:this.requestPlay,playButtonSelector:this.requestPlay}))}),this.on(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady),this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideStartView()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.hideStartView(),this.on(n.rootNode(),t.SEQUENCE_READY,this.handleSequenceReady)})})},r(s,a,u,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return s=i(42).component,o=i(4),t=i(227),e=i(228),n=i(7),r=i(318),u=i(11).get("Subtitles"),l=i(180),a=function(t){return"dmp_subtitles_"+t},h=function(){return this.getSubtitles=function(t){var e,i,n;return-1===t?void this.setSubtitles(t,[]):(null!=(e=this.subtitlesData[t])&&null!=(i=e.urls)?i[0]:void 0)?(n=this.subtitlesData[t].urls[0],this.cache[n]?void this.setSubtitles(t,this.cache[n]):$.get(n).done(function(e){return function(i){return e.cache[n]=new r(i).parse(),e.setSubtitles(t,e.cache[n])}}(this)).fail(function(e){return function(){return e.unavailableSubtitle(t)}}(this))):void this.unavailableSubtitle(t)},this.setSubtitles=function(t,e){return this.registerCueZones(e),this.set(a(this.videoLanguage),t),this.trigger(n.SUBTITLE_CHANGE_CONFIRMED,{code:t})},this.unavailableSubtitle=function(t){return u.log("unavailable subtitles:",t),this.setSubtitles("-1",[])},this.getDefaultSubtitles=function(){return u.log("Setting default subtitles:",this.defaultSubtitlesCode),this.getSubtitles(this.defaultSubtitlesCode)},this.getLocalStorageSubtitles=function(){var t,e,i;return t=this.get(a(this.videoLanguage)),(null!=(e=this.subtitlesData[t])&&null!=(i=e.urls)?i[0]:void 0)?(u.log("Setting localStorage subtitles:",t),this.getSubtitles(t),!0):!1},this.registerCueZones=function(i){var r,o;return null==i&&(i=[]),this.trigger(n.CUE_ZONE_UNREGISTER_GROUP,{id:t.SUBTITLES}),0!==i.length?(r=function(){var t,n,r;for(r=[],t=0,n=i.length;n>t;t++)o=i[t],r.push({id:o.id,from:o.start,to:o.end,text:o.text,type:e.SUBTITLES});return r}(),this.trigger(n.CUE_ZONE_REGISTER_GROUP,{id:t.SUBTITLES,cuezones:r})):void 0},this.after("initialize",function(){return this.cache={},this.displayedCuezoneId=null,this.settingsSubtitlesCode=o.settings("subtitles.default"),this.on(o.rootNode(),n.VIDEO_SELECTED,function(t,e){var i,r;if(this.enabled=o.metadata("subtitles.enable"),this.subtitlesData=o.metadata("subtitles.data"),this.metadataSubtitlesCode=o.metadata("subtitles.default"),this.videoLanguage=o.metadata("language"),this.subtilesHaveBeenSetOnInit=!1,this.enabled&&this.subtitlesData){r=[];for(i in this.subtitlesData)r.push(i);return this.trigger(n.SUBTITLES_AVAILABLE,{subtitles:r.sort()})}}),this.on(n.LOAD_VIDEO,function(){return this.displayedCuezoneId=null,this.trigger(n.CUE_ZONE_UNREGISTER_GROUP,{id:t.SUBTITLES})}),this.on(n.SUBTITLE_CHANGE_REQUESTED,function(t,e){return this.getSubtitles(e.code)}),this.on(o.rootNode(),n.CUE_ZONE_ENTERED,function(e,i){return this.enabled&&i.group===t.SUBTITLES?(this.displayedCuezoneId=i.cuezone.id,this.trigger(n.SUBTITLE_TEXT_UPDATED,{lines:i.cuezone.text})):void 0}),this.on(o.rootNode(),n.CUE_ZONE_LEFT,function(e,i){return this.enabled&&i.group===t.SUBTITLES&&this.displayedCuezoneId===i.cuezone.id?(this.displayedCuezoneId=null,this.trigger(n.SUBTITLE_TEXT_UPDATED,{lines:[]})):void 0}),this.on(o.rootNode(),n.VIDEO_SLOT_STARTED,function(){return this.enabled?this.subtilesHaveBeenSetOnInit?void 0:(this.settingsSubtitlesCode?this.getSubtitles(this.settingsSubtitlesCode):!this.getLocalStorageSubtitles()&&this.metadataSubtitlesCode&&this.getSubtitles(this.metadataSubtitlesCode),this.subtilesHaveBeenSetOnInit=!0):void 0})})},s(h,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(t){this.data=t.replace(/^\s/g,"").replace(/(\r\n|\r)/g,"\n").replace(/\n{2,}/g,"\n\n")}var e,i;return i=function(t){var e,i,n,r,o;return e=3600*parseInt(t[0],10),n=60*parseInt(t[1],10),o=t[2].split(/[\.,]/),r=parseInt(o[0],10),i=.001*parseInt(o[1],10),e+n+r+i},e=function(t){var e;return e=t.split(" --> "),[i(e[0].split(":")),i(e[1].split(":"))]},t.prototype.parse=function(){var t,i,n,r,o,s,a,u,h,l;for(l=this.data.split("\n\n"),o=[],i=0,r=l.length;r>i;i++)if(h=l[i],a=h.split("\n"),a.length>=3){for(n=parseInt(a.shift(),10),s=e(a.shift()),u=s[0],t=s[1];a.length>0&&/^\s*$/.test(a[a.length-1]);)a.pop();a.length>0&&o.push({id:n,start:u,end:t,text:a})}return o},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return n=i(42).component,e=i(4),t=i(7),s=i(188),o=i(283),r=function(){return this.attributes({textSelector:".dmp_Tooltip-text",enabled:!1}),this.updateText=function(t){return this.select("textSelector").text(t)},this.enableTooltip=function(){return!this.attr.enabled&&(this.attr.enabled=!0,this.targetNeedsTooltip)?this.showPopover(this.lastPopoverTargetSelector(),this.lastPopoverAlign()):void 0},this.disableTooltip=function(){return this.attr.enabled?(this.attr.enabled=!1,this.hidePopover()):void 0},this.after("initialize",function(){return this.on(e.rootNode(),t.FULLSCREEN_TOGGLE_REQUESTED,function(){return this.wasEnabledBeforeFullscreen=this.attr.enabled,this.disableTooltip()}),this.on(e.rootNode(),[t.FULLSCREEN_ENTERED,t.FULLSCREEN_EXITED].join(" "),function(){return this.targetNeedsTooltip=!1,this.wasEnabledBeforeFullscreen?this.enableTooltip():void 0}),this.on(e.rootNode(),t.SHOW_TOOLTIP_REQUESTED,function(t,e){return this.targetNeedsTooltip=!0,this.updateText(e.text),this.showPopover(e.targetSelector,e.align)}),this.on(e.rootNode(),t.UPDATE_TOOLTIP_REQUESTED,function(t,e){return this.lastPopoverTargetSelector()===e.targetSelector&&this.targetNeedsTooltip?(this.updateText(e.text),this.showPopover(e.targetSelector,e.align)):void 0}),this.on(e.rootNode(),t.HIDE_TOOLTIP_REQUESTED,function(){return this.targetNeedsTooltip=!1,this.hidePopover()}),this.on(e.rootNode(),t.DISABLE_TOOLTIP_REQUESTED,function(){return this.targetNeedsTooltip=!1,this.disableTooltip()}),this.on(e.rootNode(),t.ENABLE_TOOLTIP_REQUESTED,function(){return this.enableTooltip()})})},n(o,r,s)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(42).component,n=i(4),t=i(7),e=i(55),s=i(186),a=i(187),u=i(188),o=function(){return this.attributes({durationLabelSelector:".dmp_VideoInfo-duration-text",ownerLabelSelector:".dmp_VideoInfo-owner-text",titleLabelSelector:".dmp_VideoInfo-title-text"}),this.after("initialize",function(){var i,r,o;return o=this.select("titleLabelSelector"),r=this.select("ownerLabelSelector"),i=this.select("durationLabelSelector"),this.infoDisabled=n.settings("chromeless")||n.settings("ui.start_screen_info")===!1||n.metadata("ui.start_screen_info")===!1,this.on(n.rootNode(),[t.SEQUENCE_STARTED,t.LOAD_VIDEO,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.hideNode()}),this.on(n.rootNode(),t.START_VIEW_WILL_OPEN,function(){return this.infoDisabled?void 0:this.showNode()}),this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,s){var a;return this.infoDisabled?void 0:(o.text(n.metadata("title")).attr("href",n.metadata("url")),this.setAccessibility(e.__("accessibility:::Video title: %title%",{title:n.metadata("title")}),null,"titleLabelSelector"),r.text(n.metadata("owner.screenname")).attr("href",n.metadata("owner.url")),this.setAccessibility(e.__("accessibility:::Video owner: %owner%",{owner:n.metadata("owner.screenname")}),null,"ownerLabelSelector"),a="live"===n.metadata("stream_type")?e.__("badge:::Live").toUpperCase():this.formatTime(n.metadata("duration")),i.text(a),this.setAccessibility(e.__("accessibility:::Video duration: %duration%",{duration:this.formatReadableTime(n.metadata("duration"))}),null,"durationLabelSelector"))})})},r(o,s,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(42).component,n=i(4),t=i(7),o=i(6),e=i(118).Location,s=i(11).get("Player"),u=i(322),a=function(){return this.initError=function(){return n.context("error")?{type:"context",error:n.context("error")}:n.metadata("error")?{type:"metadata",error:n.metadata("error")}:void 0},this.notifyVideoSelected=function(e){var i,r;return null==e&&(e=null),r=n.metadata(),(i=this.initError())?this.trigger(t.ERROR_PLAYER,i):$.isEmptyObject(r)?void 0:(s.groupCollapsed(t.VIDEO_SELECTED),this.trigger(t.VIDEO_SELECTED,{metadata:r,videoSettings:e}),s.groupEnd())},this.onMetadataLoaded=function(t,e){return null!=e.id&&"p"===e.id[0]||n.updateMetadata(e),this.notifyVideoSelected(t)},this.handlePlayerError=function(){return this.trigger(t.ERROR_PLAYER,{error:o.PLAYER_ERR_XHR_CALL_FAILED})},this.sanitizeSettings=function(t){return null==t&&(t={}),{autoplay:"boolean"==typeof t.autoplay?t.autoplay:!0,start:this.startAt||("number"==typeof t.start?t.start:0)}},this.after("initialize",function(){return this.on(t.COMPONENTS_READY,function(){return this.startAt=this.getSavedCurrentTime(),this.notifyVideoSelected({autoplay:n.settings("autoplay"),start:this.startAt||n.settings("start")})}),this.on(t.LOAD_VIDEO,function(t,e){var i,r,o,s,a;return(a=n.context("metadata_template_url"))?(s=a.replace(":videoId",e.xid),r=(null!=(i=e.settings)?i.pxltrk:void 0)?{pxltrk:e.settings.pxltrk}:void 0,o=this.sanitizeSettings(null!=e?e.settings:void 0),$.getJSON(s,r).done(this.onMetadataLoaded.bind(this,o)).fail(this.handlePlayerError.bind(this))):void 0})})},r(u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(42).component,n=i(4),t=i(7),e=i(42).compose,o=i(180),s=function(){return this.CURRENT_TIME_STORAGE_KEY="dmp_currenttime",this.saveCurrentTime=function(t){return this.set(this.CURRENT_TIME_STORAGE_KEY,t,30)},this.hasSavedCurrentTime=function(){return!$.isEmptyObject(this.savedCurrentTime)&&this.savedCurrentTime.xid===n.metadata("id")&&this.savedCurrentTime.currentTime>0},this.getSavedCurrentTime=function(){var t;return this.hasSavedCurrentTime()?(t=this.savedCurrentTime.currentTime,this.remove(this.CURRENT_TIME_STORAGE_KEY),this.savedCurrentTime={},t):0},this.after("initialize",function(){return this.savedCurrentTime=this.get(this.CURRENT_TIME_STORAGE_KEY)}),e.mixin(this,[o])}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p,E,m;return h=i(42).component,s=i(44),u=i(4),d=i(6),r=i(7),a=i(149),c=i(11).get("Player"),t=i(324),e=i(227),n=i(228),o=i(328),p=i(192),m=i(322),E=i(184),l=i(16),f=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.prepareSequence=function(t){return null==t&&(t=!1),this.on([r.PLAY_REQUESTED,r.TOGGLE_PLAYBACK_REQUESTED,r.SEEK_REQUESTED].join(" "),this.startSequence),this.on([r.CHROMECAST_PREPARE_FOR_REMOTE,r.CHROMECAST_REMOTE_ENABLED].join(" "),this.enableChromecastRemoteAndStartSequence),this.asyncTrigger(r.SEQUENCE_READY,{willStartImmediately:t}),t?this.asyncTrigger(r.PLAY_REQUESTED):void 0},this.startSequence=function(t,e){return this.isVideoStart=!0,this.off([r.PLAY_REQUESTED,r.TOGGLE_PLAYBACK_REQUESTED,r.SEEK_REQUESTED].join(" "),this.startSequence),this.off([r.CHROMECAST_PREPARE_FOR_REMOTE,r.CHROMECAST_REMOTE_ENABLED].join(" "),this.enableChromecastRemoteAndStartSequence),this.asyncTrigger(r.SEQUENCE_STARTED),this.waitForCanPlayOneSource().then(function(t){return function(){return t.adsDisabled||t.prerollDisabled?t.startVideoSlot({startAt:null!=e?e.time:void 0,chromecastRemoteEnabled:t.chromecastRemoteEnabled}):t.startAdLinearSlot({position:"preroll"})}}(this)).fail(function(t){return function(){return l.isDesktop()?t.trigger(r.ERROR_PLAYER,{error:d.PLAYER_ERR_NEED_FLASH}):t.trigger(r.ERROR_PLAYER,{error:d.MEDIA_ERR_SRC_NOT_SUPPORTED})}}(this))},this.waitForCanPlayOneSource=function(){return this.canPlayOneSourceDeferred.promise()},this.startAdLinearSlot=function(e){return c.log(">>> setting @timeBeforeMidroll to",e.currentTime||0),this.timeBeforeMidroll=e.currentTime||0,t.attachTo(u.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,position:e.position,podSlots:e.podSlots||null,size:a(this.size,!0)})},this.startVideoSlot=function(t){return o.attachTo(u.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,startAt:this.startTimeParameter||(null!=t?t.startAt:void 0)||0,isVideoStart:this.isVideoStart,replay:this.replay,chromecastRemoteEnabled:(null!=t?t.chromecastRemoteEnabled:void 0)||!1}),this.isVideoStart=!1,this.startTimeParameter=0},this.endSequence=function(){return this.trigger(r.CUE_ZONE_UNREGISTER_GROUP,{id:e.LINEAR_ADS}),this.asyncTrigger(r.SEQUENCE_ENDED),this.adsDisabled=!0,this.replay++,this.prepareSequence()},this.enableChromecastRemoteAndStartSequence=function(){return this.onChromecastRemoteEnabled(),this.startSequence()},this.onChromecastRemoteEnabled=function(){return this.adsDisabled=!0,this.chromecastRemoteEnabled=!0},this.onChromecastSessionStopped=function(){return this.chromecastRemoteEnabled=!1},this.registerAdsCueZones=function(){var t,i,o,a,h,l,d;if(!this.adsDisabled){if(a=[],i=u.metadata("duration"),l=300,h=10,d=10,s.supportsMidrolls())for(i>(h+1)*l&&(l=Math.floor(i/(h+1))),t=l,o=i-l;o>t;)a.push({id:n.MIDROLL+"_"+(t-d)+"-"+t,from:t-d,to:t,countdown:1,type:n.MIDROLL}),t+=l;return a.push({id:n.POSTROLL,from:i-d,countdown:1,type:n.POSTROLL}),c.log("registering "+e.LINEAR_ADS+" cue zones:",a.map(function(t){return t.to||i}).map(function(t){return{h:~~(t/3600),m:~~(t%3600/60),s:t%60}}).map(function(t){var e,i,n;return e=t.h,i=t.m,n=t.s,e+":"+i+":"+n})),this.trigger(r.CUE_ZONE_REGISTER_GROUP,{id:e.LINEAR_ADS,cuezones:a})}},this.resetDefaults=function(){return this.enabled=!1,this.adsDisabled=!u.settings("advertising.enable"),this.prerollDisabled=this.hasSavedCurrentTime(),this.isVideoStart=!1,this.canPlayOneSourceDeferred=$.Deferred()},this.after("initialize",function(){var t;return this.resetDefaults(),this.gotUserAction=!1,this.videoTag=this.select("videoTagSelector")[0],t=function(e,i){var n;if(e.type!==r.LOAD_VIDEO||(null!=i&&null!=(n=i.settings)?n.autoplay:void 0)!==!1)return this.off([r.LOAD_VIDEO,r.PLAY_REQUESTED,r.SEEK_REQUESTED].join(" "),t),this.gotUserAction=!0,this.videoTag.removeAttribute("src"),this.videoTag.play(),this.videoTag.pause()},this.on([r.LOAD_VIDEO,r.PLAY_REQUESTED,r.SEEK_REQUESTED].join(" "),t),this.on(r.CAN_PLAY_ONE_SOURCE,function(t,e){return e.ok?this.canPlayOneSourceDeferred.resolve():this.canPlayOneSourceDeferred.reject()}),this.on(r.VIDEO_SELECTED,function(t,i){var n,o,a;return a=(this.gotUserAction||s.canAutoplay())&&(null!=i&&null!=(n=i.videoSettings)?n.autoplay:void 0)||!1,this.startTimeParameter=(null!=i&&null!=(o=i.videoSettings)?o.start:void 0)||0,this.enabled=!0,this.replay=0,this.prepareSequence(a),this.trigger(r.CUE_ZONE_UNREGISTER_GROUP,{id:e.LINEAR_ADS}),"live"!==u.metadata("stream_type")?this.registerAdsCueZones():void 0}),this.on(r.AD_LINEAR_SLOT_ENDED,function(t,e){if(this.enabled)switch(e.position){case"preroll":return this.startVideoSlot(e);case"postroll":return this.endSequence()}}),this.on(u.rootNode(),r.AD_STOPPED,function(t,e){var i;if(this.enabled)return"midroll"===(i=e.position)||"adbreak"===i?this.setImmediate(function(t){return function(){return c.log(">>> reading @timeBeforeMidroll to",t.timeBeforeMidroll),t.startVideoSlot({startAt:t.timeBeforeMidroll-5,chromecastRemoteEnabled:t.chromecastRemoteEnabled})}}(this)):void 0}),this.on(r.VIDEO_ENDED,function(t,e){return this.enabled?this.adsDisabled?this.endSequence():this.startAdLinearSlot({position:"postroll"}):void 0}),this.on(r.QUALITY_CHANGED,function(t,e){return this.midrollsEnabled=e.adaptive}),this.on(r.CUE_ZONE_ENTERED,function(t,i){var o,s;return s=i.group,o=i.cuezone,!this.enabled||this.adsDisabled||s!==e.LINEAR_ADS||!this.midrollsEnabled&&o.type===n.MIDROLL?void 0:this.trigger(r.AD_FETCHER_PREFETCH,{position:o.type})}),this.on(r.CUE_ZONE_LEFT,function(t,i){var r,o,s;return s=i.group,o=i.cuezone,r=i.completed,this.enabled&&!this.adsDisabled&&s===e.LINEAR_ADS&&this.midrollsEnabled&&o.type===n.MIDROLL&&r?this.startAdLinearSlot({position:"midroll",currentTime:o.to}):void 0}),this.on(r.CHROMECAST_REMOTE_ENABLED,this.onChromecastRemoteEnabled),this.on(r.CHROMECAST_SESSION_STOPPED,this.onChromecastSessionStopped),this.on(r.LOAD_VIDEO,function(){return this.resetDefaults()})}),this.before("teardown",function(){return o.teardownAll(),t.teardownAll()})},h(m,f,p,E)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return a=i(42).component,s=i(4),n=i(7),u=i(6),o=i(49),e=i(51),t=i(325),h=i(11).get("AdLinearSlot"),l=i(192),r=function(){return this.type="linear",this.adServerCallDefered=null,this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,position:null,podSlots:null,size:null}),this.attachAdVideoComponent=function(){return this.trigger(n.AD_WILL_START,{type:this.type,position:this.attr.position}),t.attachTo(s.rootNode(),{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,position:this.attr.position,size:this.attr.size})},this.handleAdFetcherResponded=function(t,e){return e.position===this.attr.position?this.attachAdVideoComponent():void 0},this.handleAdError=function(t,i){return this.noDetectedAdBlocker(i).done(function(t){return function(){return i.type===e.VMAP_LOAD_NET_ERROR||i.type===e.VMAP_START_BLOCKED?t.trigger(n.ERROR_PLAYER,{error:u.PLAYER_ERR_BLOCKED}):t.stopLinearSlot()}}(this)).fail(function(t){return function(){return t.asyncTrigger(n.AD_FETCHER_REQUESTED,{spec:{type:o.SUPPORTED_TYPES.VMAP,"default":!0},position:t.attr.position,podSlots:t.attr.podSlots
})}}(this))},this.handleAdStarted=function(t,e){return this.adStartedSent?void 0:(this.trigger(n.AD_STARTED,e),this.adStartedSent=!0)},this.handleAdStopped=function(){return this.stopLinearSlot()},this.handleLoadVideo=function(){return this.teardown()},this.noDetectedAdBlocker=function(t){var i;if(i=$.Deferred(),s.isGKEnabled("PV5_ANTI_ADBLOCK")&&"NoAdsHelper"!==t.helper)if(t.type===e.VPAID_SDK_LOAD_ERROR)i.reject();else if(t.type===e.VPAID_INIT_ERROR&&1101===t.code)i.reject();else{if(t.type===e.VPAID_INIT_ERROR)return this.fakeAdServerCall();i.resolve()}else i.resolve();return i.promise()},this.fakeAdServerCall=function(){var t,e,i,n;return e=function(){var t,e,n,r,o,s,a,u;for(t=[],s=[],o=Math.floor(4*Math.random()+2),e=n=0,a=o;a>=0?a>=n:n>=a;e=a>=0?++n:--n)t.push(i(Math.floor(4*Math.random()+2)));for(o=Math.floor(3*Math.random()+1),e=r=0,u=o;u>=0?u>=r:r>=u;e=u>=0?++r:--r)s.push(i(Math.floor(4*Math.random()+4)));return["http://",t.join("."),Math.random()>.5?".com":".net","/",s.join("/")].join("")},i=function(t){var e,i,n,r,o;for(e="abcdefghijklmnopqrstuvwxyz",o="",i=n=0,r=t;r>=0?r>=n:n>=r;i=r>=0?++n:--n)o+=e.charAt(Math.floor(Math.random()*e.length));return o},null===this.adServerCallDefered&&(this.adServerCallDefered=$.Deferred(),n=document.location.protocol+"//c2s-openrtb.liverail.com",t={url:encodeURIComponent(e()),buy_type:Math.random()>.5?"rtb":"deal",network_id:Math.floor(6e4*Math.random()+2e4),partnerId:["tp",Math.floor(6e3*Math.random()+2e3)].join(""),ortb:window.btoa(i(800)),LR_DEBUG:0},$.get(n,t).done(function(t){return function(){return t.adServerCallDefered.resolve(!0)}}(this)).fail(function(t){return function(e){return 0===e.status?t.adServerCallDefered.reject(!1):t.adServerCallDefered.resolve(!0)}}(this))),this.adServerCallDefered.promise()},this.stopLinearSlot=function(){return this.adStartedSent&&this.trigger(n.AD_STOPPED,{type:this.type,position:this.attr.position}),this.trigger(n.AD_LINEAR_SLOT_ENDED,{position:this.attr.position,chromecastPreparingForRemote:this.chromecastPreparingForRemote}),this.teardown()},this.after("initialize",function(){return this.adStartedSent=!1,this.chromecastPreparingForRemote=!1,this.on(n.LOAD_VIDEO,this.handleLoadVideo),this.on(n.AD_FETCHER_RESPONDED,this.handleAdFetcherResponded),this.on(n.AD_ERROR,this.handleAdError),this.on(n.VPAID_AD_STARTED,this.handleAdStarted),this.on(n.VPAID_AD_STOPPED,this.handleAdStopped),this.on(n.CHROMECAST_PREPARE_FOR_REMOTE,function(){return this.chromecastPreparingForRemote=!0}),this.on(n.AD_SDK_READY,this.fakeAdServerCall),this.asyncTrigger(n.AD_LINEAR_SLOT_STARTED,{position:this.attr.position}),this.asyncTrigger(n.AD_FETCHER_REQUESTED,{position:this.attr.position,podSlots:this.attr.podSlots}),h.groupCollapsed("Initialized",this.attr.position)}),this.after("teardown",function(){return h.log("Torn down"),h.groupEnd()})},a(r,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p;return t=i(51),r=i(49),o=i(4),s=i(5),a=i(42).component,e=i(7),u=i(6),l=i(57).events,h=i(11).get("Advert"),f=i(326),d=i(192),c=i(184),p=i(327),n=function(){var i,n;return i="normal",n="fullscreen",this.attributes({position:"preroll",size:null}),this.bindMediaFileEvents=function(){this.mediaFile&&(this.mediaFile.subscribe(this.onAdClickThru,l.CLICK_THRU,this),this.mediaFile.subscribe(this.onAdDurationChange,l.DURATION_CHANGE,this),this.mediaFile.subscribe(this.onAdImpression,l.IMPRESSION,this),this.mediaFile.subscribe(this.onAdPaused,l.PAUSED,this),this.mediaFile.subscribe(this.onAdPlaying,l.PLAYING,this),this.mediaFile.subscribe(this.onAdSkippableRemainingTimeChange,l.SKIPPABLE_REMAINING_TIME_CHANGE,this),this.mediaFile.subscribe(this.onAdSkippableStateChange,l.SKIPPABLE_STATE_CHANGE,this),this.mediaFile.subscribe(this.onAdSkipped,l.SKIPPED,this),this.mediaFile.subscribe(this.onAdStarted,l.STARTED,this),this.mediaFile.subscribe(this.onAdVideoComplete,l.VIDEO_COMPLETE,this),this.mediaFile.subscribe(this.onAdVideoStart,l.VIDEO_START,this),this.mediaFile.subscribe(this.onAdVolumeChange,l.VOLUME_CHANGE,this))},this.unbindMediaFileEvents=function(){this.mediaFile&&(this.mediaFile.unsubscribe(this.onAdClickThru,l.CLICK_THRU),this.mediaFile.unsubscribe(this.onAdDurationChange,l.DURATION_CHANGE),this.mediaFile.unsubscribe(this.onAdError,l.ERROR),this.mediaFile.unsubscribe(this.onAdImpression,l.IMPRESSION),this.mediaFile.unsubscribe(this.onAdPaused,l.PAUSED),this.mediaFile.unsubscribe(this.onAdPlaying,l.PLAYING),this.mediaFile.unsubscribe(this.onAdRemainingTimeChange,l.REMAINING_TIME_CHANGE),this.mediaFile.unsubscribe(this.onAdSkippableRemainingTimeChange,l.SKIPPABLE_REMAINING_TIME_CHANGE),this.mediaFile.unsubscribe(this.onAdSkippableStateChange,l.SKIPPABLE_STATE_CHANGE),this.mediaFile.unsubscribe(this.onAdSkipped,l.SKIPPED),this.mediaFile.unsubscribe(this.onAdStarted,l.STARTED),this.mediaFile.unsubscribe(this.onAdStopped,l.STOPPED),this.mediaFile.unsubscribe(this.onAdVideoComplete,l.VIDEO_COMPLETE),this.mediaFile.unsubscribe(this.onAdVideoStart,l.VIDEO_START),this.mediaFile.unsubscribe(this.onAdVolumeChange,l.VOLUME_CHANGE))},this.buildACTokenCookie=function(){var t,e,i,n;return(t=o.metadata("advertising.ac_token"))?(e=o.context("cookie_root_domain"),n=864e5,i=new Date,i.setTime(i.getTime()+n),s.set("ac_token",t,{domain:e,expires:i.toUTCString()})):void 0},this.handlePlayRequestedEvent=function(){return this.resumeAd()},this.handlePauseRequestedEvent=function(){return this.pauseAd()},this.handleTimeUpdateEvent=function(){var t;return t=this.mediaFile.getAdDuration()-this.mediaFile.adRemainingTime,this.trigger(e.VIDEO_TIME_UPDATE,{time:t})},this.handleDurationChangeEvent=function(){return this.trigger(e.VIDEO_DURATION_CHANGE,{duration:this.mediaFile.getAdDuration()})},this.updateVolume=function(t,e){var i;return i=e?0:t,this.setAdVolume(i)},this.onAdStarted=function(){this.mediaFile.subscribe(this.onAdError,l.ERROR,this),this.mediaFile.subscribe(this.onAdStopped,l.STOPPED,this),this.trigger(e.VPAID_AD_STARTED,{type:this.type,position:this.attr.position,timeoutInfo:this.adsHelper.getTimeoutInfo()})},this.onAdRemainingTimeChange=function(){this.handleTimeUpdateEvent()},this.onAdImpression=function(){this.trigger(e.AD_IMPRESSION,{type:this.type,position:this.attr.position})},this.onAdPlaying=function(){this.handlePlayingEvent()},this.onAdPaused=function(){this.handlePauseEvent()},this.onAdVolumeChange=function(){return this.triggerVideoVolumeChangeEvent(this.mediaFile.getAdVolume(),!1)},this.onAdVideoComplete=function(){this.endedReason="completed",this.adVideoComplete()},this.onAdSkipped=function(){this.endedReason="skipped",this.adVideoComplete()},this.onAdStopped=function(){this.unbindMediaFileEvents(),this.trigger(e.VPAID_AD_STOPPED,{type:this.type,position:this.attr.position}),this.doTeardown()},this.onAdVideoStart=function(){return this.state="playing",this.trigger(e.AD_VIDEO_START,{type:this.type,position:this.attr.position,videoTagSelector:this.attr.videoTagSelector,timeoutInfo:this.adsHelper.getTimeoutInfo()}),this.mediaFile.subscribe(this.onAdRemainingTimeChange,l.REMAINING_TIME_CHANGE,this),this.handlePlayEvent(),this.handlePlayingEvent(),this.resizeAd()},this.onAdError=function(i){var n;n={type:"buffering"===this.state?t.VPAID_BUFFERING_ERROR:t.VPAID_PLAYING_ERROR,message:i},this.trigger(o.rootNode(),e.AD_ERROR,n),h.log("AD_ERROR:",n),this.stopAd()},this.onAdDurationChange=function(){this.handleDurationChangeEvent()},this.onAdClickThru=function(t,e,i){this.pauseAd(),i&&window.open(t)},this.onAdSkippableStateChange=function(){this.trigger(e.AD_VIDEO_SKIPPABLE_STATE,{adSkippable:this.mediaFile.adSkippableState})},this.onAdSkippableRemainingTimeChange=function(){this.trigger(e.AD_VIDEO_SKIPPABLE_REMAINING_TIME,this.mediaFile.adSkippableRemainingTime)},this.onPlayerSizeChanged=function(){return this.resizeAd()},this.onFullscreenEntered=function(){return this.viewMode!==n?(this.viewMode=n,this.resizeAd()):void 0},this.onFullscreenExited=function(){return this.viewMode!==i?(this.viewMode=i,this.resizeAd()):void 0},this.onSkipAdRequested=function(){return this.skipAd()},this.onLoadVideo=function(){return this.stopAd()},this.onChromecastPrepareForRemote=function(){return this.stopAd()},this.pauseAd=function(){return h.log("pause ad"),this.mediaFile.pauseAd()},this.resumeAd=function(){return h.log("resume ad"),this.handlePlayEvent(),this.mediaFile.resumeAd()},this.resizeAd=function(){return h.log("resize ad (",this.size.player.width,this.size.player.height,this.viewMode,")"),this.mediaFile.resizeAd(this.size.player.width,this.size.player.height,this.viewMode)},this.skipAd=function(){this.mediaFile.skipAd?this.mediaFile.skipAd():this.mediaFile.stopAd()},this.setAdVolume=function(t){return this.mediaFile.setAdVolume(t)},this.adVideoComplete=function(){return this.trigger(e.AD_VIDEO_COMPLETE,{type:this.type,position:this.attr.position,endreason:this.endedReason})},this.stopAd=function(){return h.log("stop ad"),h.groupEnd(),this.unbindMediaFileEvents(),this.adsHelper.callStopAd().always(function(t){return function(){return t.trigger(e.VPAID_AD_STOPPED,{type:t.type,position:t.attr.position}),t.doTeardown()}}(this))},this.doTeardown=function(){var t,e;try{return this.teardown()}catch(e){return t=e,h.warn("Looks like @teardown() has been called twice..."),h.error(t.stack)}},this.before("teardown",function(){return this.cleanUpVideoTag(),this.mediaFile=null}),this.after("initialize",function(){return this.viewMode=i,this.size=this.attr.size,this.state="buffering",this.type="linear",this.on(o.rootNode(),e.FULLSCREEN_ENTERED,this.onFullscreenEntered),this.on(o.rootNode(),e.FULLSCREEN_EXITED,this.onFullscreenExited),this.on(o.rootNode(),e.CHROMECAST_PREPARE_FOR_REMOTE,this.onChromecastPrepareForRemote),this.on(o.rootNode(),e.LOAD_VIDEO,this.onLoadVideo),this.on(o.rootNode(),e.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.adsHelper=r.getHelper(),this.mediaFile=this.adsHelper.mediaFile,this.bindMediaFileEvents(),this.adsHelper.callStartAd().then(function(t){return function(i){return t.on(o.rootNode(),e.SKIP_AD_REQUESTED,t.onSkipAdRequested),t.buildACTokenCookie()}}(this)).fail(function(t){return function(i){return h.warn("callStartAd failed:",i.message||i),t.trigger(o.rootNode(),e.AD_ERROR,i),t.unbindMediaFileEvents(),t.doTeardown()}}(this))})},a(f,p,c,d,n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(7),e=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null}),this.handlePlayEvent=function(){return this.videoTag.src?this.trigger(t.VIDEO_PLAY):void 0},this.handlePauseEvent=function(){return this.trigger(t.VIDEO_PAUSE,{interrupted:!1})},this.handleTogglePlaybackRequestedEvent=function(){return this.trigger(this._paused?t.PLAY_REQUESTED:t.PAUSE_REQUESTED)},this.handlePlayingEvent=function(){return this.trigger(t.VIDEO_PLAYING)},this.handleWaitingEvent=function(){return this.trigger(t.VIDEO_WAITING)},this.handleTimeUpdateEvent=function(){throw new Error("handleTimeUpdateEvent() method must be overridden")},this.handleDurationChangeEvent=function(){throw new Error("handleDurationChangeEvent() method must be overridden")},this.handlePlayRequestedEvent=function(){throw new Error("handlePlayRequestedEvent() method must be overridden")},this.handlePauseRequestedEvent=function(){throw new Error("handlePauseRequestedEvent() method must be overridden")},this.after("initialize",function(){return this.videoTag=this.select("videoTagSelector")[0],this.videoWrapperTag=this.select("videoWrapperTagSelector")[0],this.on(t.PLAY_REQUESTED,function(){return this.handlePlayRequestedEvent()}),this.on(t.PAUSE_REQUESTED,function(){return this.handlePauseRequestedEvent()}),this.on(t.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this._paused=!0,this.on([t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return this._paused=!1}),this.on(t.VIDEO_PAUSE,function(){return this._paused=!0})}),this.cleanUpVideoTag=function(){return this.videoTag.pause(),this.videoTag.removeAttribute("src"),this.videoTag.removeAttribute("type"),this.videoTag.load()}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e;return t=i(7),e=function(){return this.updateVolume=function(){throw new Error("updateVolume() method must be overridden")},this.handleVolumeChangeRequestedEvent=function(t,e){var i,n;return i=Math.max(0,Math.min(e.volume,1)),n=!!e.muted,this.volumeInternalSet=!!e.internal,this.updateVolume(i,n)},this.triggerVideoVolumeChangeEvent=function(e,i){return this.trigger(t.VIDEO_VOLUME_CHANGED,{volume:e,muted:i,internal:this.volumeInternalSet})}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(42).component,n=i(4),t=i(7),e=i(329),o=i(11).get("VideoSlot"),a=i(192),s=function(){return this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,isVideoStart:null,startAt:null,replay:null,chromecastRemoteEnabled:null}),this.getVideoParam=function(){return{videoTagSelector:this.attr.videoTagSelector,videoWrapperTagSelector:this.attr.videoWrapperTagSelector,isVideoStart:this.attr.isVideoStart,startAt:this.attr.startAt,replay:this.attr.replay}},this.doTeardown=function(){return this.teardown()},this.after("initialize",function(){return this.on([t.LOAD_VIDEO,t.VIDEO_ENDED,t.AD_STARTED].join(" "),this.doTeardown),this.on(t.CHROMECAST_SESSION_STOPPED,function(i,r){return this.attr.startAt=null!=r?r.currentTime:void 0,e.attachTo(n.rootNode(),this.getVideoParam()),(null!=r?r.volume:void 0)?this.trigger(t.VIDEO_VOLUME_CHANGED,r.volume):void 0}),o.groupCollapsed("Initialized"),this.asyncTrigger(t.VIDEO_SLOT_STARTED),this.attr.chromecastRemoteEnabled?void 0:e.attachTo(n.rootNode(),this.getVideoParam())}),this.after("teardown",function(){return o.log("Torn down"),o.groupEnd(),this.trigger(t.VIDEO_SLOT_ENDED,{duration:this.duration})})},r(s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d;return r=i(42).component,n=i(4),t=i(7),e=i(44),a=i(192),l=i(326),d=i(330),u=i(333),h=i(322),o=i(11).get("Video"),s=function(){return this.attributes({interruptions:[],playOnInit:!0,isVideoStart:!1,startAt:0,replay:0,width:0,height:0}),this.hasInterruptions=function(){return this.attr.interruptions.length>0},this.handleStartEvent=function(){return this.videoTag.src?(this.off(this.videoTag,"play",this.handleStartEvent),this.trigger(t.VIDEO_START,{replay:this.attr.replay})):void 0},this.handleLoadeddataDataEvent=function(){return this.trigger(t.VIDEO_LOADED_DATA,{time:(new Date).getTime()}),this.pendingSeekRequested?this.trigger(t.SEEK_REQUESTED,this.pendingSeekRequested):void 0},this.handlePauseEvent=function(){return!this.videoTag.src||null!=this.videoTag.currentTime&&this.videoTag.currentTime===this.videoTag.duration?void 0:(o.log("core video PAUSE","(seeking:",this.videoTag.seeking,")"),this.trigger(t.VIDEO_PAUSE,{interrupted:this.hasInterruptions()}))},this.handleTimeUpdateEvent=function(){var e,i,n,r,o,s,a,u,h,l,d,c,f,p,E,m;if("auto"===this.quality&&this.handleProgressEvent(),!this.pendingSeekRequested&&!this.pendingSeeking){if(n=this.videoTag.currentTime,this.data.time=n,n>this.lastCurrentTime&&(this.data.watched+=n-this.lastCurrentTime),d=this.videoTag.played.length,d>0){for(l=r=0,p=d-1;p>=0?p>=r:r>=p;l=p>=0?++r:--r)this.playedTimeRanges.push({start:this.videoTag.played.start(l),end:this.videoTag.played.end(l)});this.playedTimeRanges=this.mergeTimeRanges(this.playedTimeRanges)}for(this.data.played=0,E=this.playedTimeRanges,o=0,u=E.length;u>o;o++)c=E[o],this.data.played+=c.end-c.start;if(i=this.videoTag.buffered.length,e=0,i>0){for(f=[],l=s=0,m=i-1;m>=0?m>=s:s>=m;l=m>=0?++s:--s)f.push({start:this.videoTag.buffered.start(l),end:this.videoTag.buffered.end(l)});for(f.sort(function(t,e){return t.start-e.start}),a=0,h=f.length;h>a;a++)if(c=f[a],n>=c.start&&n<c.end){e=c.end-n;break}}return this.data.buffer=e,this.lastCurrentTime=n,this.trigger(t.VIDEO_TIME_UPDATE,this.data)}},this.mergeTimeRanges=function(t){var e,i,n,r,o;for(r=[],t.sort(function(t,e){var i;return i=t.start-e.start,i?i:e.end-t.end}),e=0,n=t.length;n>e;e++)o=t[e],("undefined"!=typeof i&&null!==i?i.end:void 0)>o.start?i.end<o.end&&(i.end=o.end):(i=o,r.push(o));return r},this.handleProgressEvent=function(){var e,i,n,r,o;for(e=this.videoTag.buffered.length-1,r=this.videoTag.currentTime,o=[];e>=0;)n=this.videoTag.buffered.start(e),i=this.videoTag.buffered.end(e),r>=n&&i>=r&&this.previousBufferEnd!==i&&(this.previousBufferEnd=i,this.trigger(t.VIDEO_BUFFER_UPDATE,{buffer:i})),o.push(e--);return o},this.handleDurationChangeEvent=function(){return"live"===n.metadata("stream_type")?(this.trigger(t.VIDEO_DURATION_CHANGE,{duration:0}),this.off(this.videoTag,"durationchange",this.handleDurationChangeEvent)):this.trigger(t.VIDEO_DURATION_CHANGE,{duration:this.videoTag.duration})},this.handleSeekedEvent=function(e,i){return this.pendingSeeking=!1,this.lastCurrentTime=this.videoTag.currentTime,this.trigger(t.VIDEO_SEEKED,{time:this.videoTag.currentTime})},this.handleEndedEvent=function(){return this.attr.interruptionDidPause=!1,this.trigger(t.VIDEO_ENDED),this.cleanUpAndTeardown()},this.handlePlayRequestedEvent=function(){return!this.hasInterruptions()&&this.videoTag.paused?this.videoTag.play():void 0},this.handlePauseRequestedEvent=function(){return this.attr.interruptionDidPause=!1,this.videoTag.paused?void 0:this.videoTag.pause()},this.handleVideoInterruptRequested=function(t,e){var i;if(null==e||null==e.reason)throw new Error("Interruption reason is required");return i=!this.hasInterruptions()&&!this.videoTag.paused,this.attr.interruptions.indexOf(e.reason)<=-1&&this.attr.interruptions.push(e.reason),i&&this.videoTag.pause(),this.attr.interruptionDidPause=i||this.attr.interruptionDidPause},this.handleVideoResumeRequested=function(t,e){var i;if(null==e||null==e.reason)throw new Error("Interruption reason is required");return i=this.attr.interruptions.indexOf(e.reason),i>-1&&this.attr.interruptions.splice(i,1),!this.hasInterruptions()&&this.attr.interruptionDidPause&&this.videoTag.paused&&this.videoTag.currentTime!==this.videoTag.duration?this.videoTag.play():void 0},this.handleSpeedChangeRequestedEvent=function(e,i){return this.videoTag.playbackRate=i.speed,this.trigger(t.SPEED_CHANGE_CONFIRMED,i)},this.handleWatchOnSite=function(){return this.saveCurrentTime({xid:n.metadata("id"),currentTime:this.videoTag.currentTime})},this.bindMediaEvents=function(){return this.attr.isVideoStart&&this.on(this.videoTag,"play",this.handleStartEvent),this.on(this.videoTag,"play",this.handlePlayEvent),this.on(this.videoTag,"pause",this.handlePauseEvent),this.on(this.videoTag,"playing",this.handlePlayingEvent),this.on(this.videoTag,"waiting",this.handleWaitingEvent),this.on(this.videoTag,"timeupdate",this.handleTimeUpdateEvent),this.on(this.videoTag,"durationchange",this.handleDurationChangeEvent),this.on(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.on(this.videoTag,"seeked",this.handleSeekedEvent),this.on(this.videoTag,"ended",this.handleEndedEvent),this.on(this.videoTag,"progress",this.handleProgressEvent)},this.unbindMediaEvents=function(){return this.off(this.videoTag,"play",this.handleStartEvent),this.off(this.videoTag,"play",this.handlePlayEvent),this.off(this.videoTag,"pause",this.handlePauseEvent),this.off(this.videoTag,"playing",this.handlePlayingEvent),this.off(this.videoTag,"waiting",this.handleWaitingEvent),this.off(this.videoTag,"timeupdate",this.handleTimeUpdateEvent),this.off(this.videoTag,"durationchange",this.handleDurationChangeEvent),this.off(this.videoTag,"loadeddata",this.handleLoadeddataDataEvent),this.off(this.videoTag,"seeked",this.handleSeekedEvent),this.off(this.videoTag,"ended",this.handleEndedEvent),this.off(this.videoTag,"progress",this.handleProgressEvent)},this.handleStartAt=function(){return this.trigger(t.SEEK_REQUESTED,{time:this.attr.startAt}),this.off(t.QUALITY_CHANGE_CONFIRMED,this.handleStartAt)},this.boundedStartAt=function(){return Math.min(Math.max(0,this.attr.startAt),n.metadata("duration",0))},this.prepareVideoTag=function(){return this.attr.startAt=this.boundedStartAt(),this.bindMediaEvents(),this.attr.startAt>0&&this.on(t.QUALITY_CHANGE_CONFIRMED,this.handleStartAt),this.asyncTrigger(t.QUALITY_CHANGE_REQUESTED,{startPlayback:this.attr.playOnInit})},this.cleanUpAndTeardown=function(){return this.cleanUpVideoTag(),this.teardown()},this.after("initialize",function(){return this.data={watched:0,played:0,time:0,buffer:0},this.lastCurrentTime=0,this.playedTimeRanges=[],this.on(t.SEEK_REQUESTED,function(e,i){var n,r,o;this.pendingSeekRequested=i,o=this.videoTag.duration,$.isNumeric(o)&&(r=null!=i.perc?i.perc/100*o:null!=i.time?i.time:void 0,r=Math.min(Math.max(0,r),o),n=this.videoTag.currentTime,n!==r&&(this.pendingSeeking=!0,this.trigger(t.VIDEO_SEEKING,{time:n}),this.videoTag.currentTime=r),this.pendingSeekRequested=!1)}),this.on(n.rootNode(),t.WATCH_ON_SITE_REQUESTED,this.handleWatchOnSite),this.on(t.VIDEO_INTERRUPT_REQUESTED,this.handleVideoInterruptRequested),this.on(t.VIDEO_RESUME_REQUESTED,this.handleVideoResumeRequested),this.on(t.SPEED_CHANGE_REQUESTED,this.handleSpeedChangeRequestedEvent),this.on([t.LOAD_VIDEO,t.CHROMECAST_REMOTE_ENABLED].join(" "),function(){return this.cleanUpAndTeardown()}),this.on(t.AD_WILL_START,function(t,e){var i,n;return n=e.type,i=e.position,"linear"===n&&"midroll"===i?this.teardown():void 0}),this.prepareVideoTag(),o.log("Initialized")}),this.before("teardown",function(){return this.unbindMediaEvents()}),this.after("teardown",function(){return o.log("Torn down")})},r(h,l,s,d,u,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return e=i(42).compose,t=i(44),n=i(16),r=i(331),s=i(332),o=function(){var i;return i=[],t.mayNotSendPlayingEventOnSeek()&&i.push(r),n.isFirefox()||i.push(s),e.mixin(this,i)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=i(7),e=i(11).get("Video"),n=function(){return this.handlePlayingEvent=function(){return 0},this.after("handleTimeUpdateEvent",function(){var i,n;return n=this.videoTag.currentTime,i=!this._lastTimeUpdate||n>this._lastTimeUpdate,this.waitingForPlayingEvent&&i&&(this.waitingForPlayingEvent=!1,e.log("custom video PLAYING"),this.trigger(t.VIDEO_PLAYING)),this._lastTimeUpdate=n}),this.after("handlePlayEvent",function(){return this.waitingForPlayingEvent=!0}),this.after("handleSeekedEvent",function(){return this.videoTag.paused||this.videoTag.seeking?void 0:this.waitingForPlayingEvent=!0}),this.after("handleWaitingEvent",function(){return this.waitingForPlayingEvent=!0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=i(7),e=i(11).get("Video"),n=function(){var t,e;return e=null,t=!1,this.attributes({videoTagSelector:null,videoWrapperTagSelector:null,delayBeforeWaiting:1e3}),this._stopWatchingForWait=function(){return clearInterval(e),e=null},this._startWatchingForWait=function(){var i;return i=this.select("videoTagSelector")[0],i.currentTime===this.lastTime||e||i.paused?void 0:(!i.paused&&t&&(t=!1,$(i).triggerHandler("playing")),this.lastTime=i.currentTime,e=setInterval(function(e){return function(){return i.currentTime===e.lastTime?(t=!0,$(i).triggerHandler("waiting"),e._stopWatchingForWait()):e.lastTime=i.currentTime}}(this),this.attr.delayBeforeWaiting))},this._doStartWatchingForWait=function(){return this._startWatchingForWait()},this._doStopWatchingForWait=function(){return this._stopWatchingForWait()},this.after("bindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),this.on(t,"timeupdate",this._doStartWatchingForWait),this.on(t,["pause","ended"].join(" "),this._doStopWatchingForWait)}),this.before("unbindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),this.off(t,"timeupdate",this._doStartWatchingForWait),this.off(t,["pause","ended"].join(" "),this._doStopWatchingForWait),this._stopWatchingForWait()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(334),t=i(7),n=function(){return this.attributes({videoTagSelector:null}),this._bufferingOnSteadyPlay=function(){return this.trigger(t.VIDEO_STEADYPLAY)},this._bufferingOnBuffering=function(){return this.trigger(t.VIDEO_BUFFERING)},this._bufferingOnRebuffering=function(){return this.trigger(t.VIDEO_REBUFFERING)},this.after("bindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),e.on("steadyplay",function(t){return function(){return t._bufferingOnSteadyPlay()}}(this)),e.on("buffering",function(t){return function(){return t._bufferingOnBuffering()}}(this)),e.on("rebuffering",function(t){return function(){return t._bufferingOnRebuffering()}}(this)),this.on(t,"timeupdate",e.onTimeUpdate),this.on(t,"play",e.startWatching),this.on(t,"waiting",e.onWaiting),this.on(t,"playing",e.onPlaying),this.on(t,"seeking",e.onSeek),this.on(t,["pause","ended","error"].join(" "),e.stopWatching)}),this.before("unbindMediaEvents",function(){var t;return t=this.select("videoTagSelector"),e.off("steadyplay",function(t){return function(){return t._bufferingOnSteadyPlay()}}(this)),e.off("buffering",function(t){return function(){return t._bufferingOnBuffering()}}(this)),e.off("rebuffering",function(t){return function(){return t._bufferingOnRebuffering()}}(this)),this.off(t,"timeupdate",e.onTimeUpdate),this.off(t,"play",e.startWatching),this.off(t,"waiting",e.onWaiting),this.off(t,"playing",e.onPlaying),this.off(t,"seeking",e.onSeek),this.off(t,["pause","ended","error"].join(" "),e.stopWatching),e.reset()})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=[].slice;n=function(){var t,e,n,o,s,a,u,h,l,d,c,f,p,E,m,_,v,g,S,T,A,D;return c=i(4),_=i(11).get("Buffering"),T=i(58),e=T.Events,f=T.extend,t={watcherInterval:200,steadyPlayTime:2e3,startBufferTime:2e3,minBufferTime:500},g=f({},t),S=null,d=null,D=!1,A=!1,p=null,E=null,m=null,v=new e,l=function(){var t;if(u(),p){if(!D)return E-Math.max(m,p)<g.steadyPlayTime?void _.log("Steady Play not reached yet: ignoring"):(_.log("Reached steady play : Start Tracking!"),v.trigger("steadyplay"),void(D=!0));m||(m=p),t=n(),m+g.watcherInterval>E&&t>m+g.minBufferTime&&(_.log("Got rebuffering!!"),v.trigger("rebuffering"),h(),A=!0)}},a=function(){null===S&&(_.log("Starting rebuffering watcher"),S=c.window().setInterval(l.bind(this),g.watcherInterval),A=!1)},h=function(){return null!==S?(_.log("Stoping rebuffering watcher"),c.window().clearInterval(S),S=null,D=!1,p=null,m=null,E=null):void 0},s=function(){return _.log("Starting buffering watcher"),d=c.window().setTimeout(function(){return _.log("Got buffering!!"),v.trigger("buffering"),u()},g.startBufferTime)},u=function(){return null!==d?(_.log("Stoping buffering watcher"),c.window().clearTimeout(d),d=null):void 0},o=function(){return null===S&&null===d?s():void 0},n=function(){return+c.window().Date.now()},{init:function(e){g=f({},t,e)},on:function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],v.on.apply(v,t)},off:function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],v.off.apply(v,t)},startWatching:function(){return A=!0},stopWatching:function(){return A=!1,h()},onTimeUpdate:function(){var t;return A&&a(),null!==S?(t=n(),p||(p=t),E=t):void 0},onPlaying:function(){return u()},onWaiting:function(){return m=n(),o()},onSeek:function(){return A=!0,h()},reset:function(){return this.stopWatching(),S=null,d=null,D=!1,A=!1,p=null,E=null,m=null}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t){var e,n,r,o,s,a,u,h,l,d;return u=i(42).component,a=i(4),e=i(7),o=i(18),h=i(11).get("ChromecastVideo"),l=i(180),d=i(327),n=i(118).Location,r=i(39),s=function(){return this.handleMediaStatusUpdates=function(t,i){switch(h.log("MediaStatusUpdate",i),this.mediaState=i,i){case o.PlayerState.PAUSED:return this.trigger(e.VIDEO_PAUSE,{interrupted:!1});case o.PlayerState.PLAYING:return this.trigger(e.VIDEO_PLAYING);case o.PlayerState.BUFFERING:return this.trigger(e.VIDEO_WAITING);case o.PlayerState.IDLE:if(this.pendingQualityChange)return;return this.pendingReplay=!0,this.trigger(e.VIDEO_PAUSE,{interrupted:!1}),this.trigger(e.VIDEO_ENDED)}},this.handlePlayRequestedEvent=function(){return this.pendingReplay?(this.mediaInfo.currentTime=0,this.mediaInfo.autoplay=!0,this.loadMedia()):(this.trigger(e.VIDEO_PLAY),o.mediaPlay())},this.handlePauseRequestedEvent=function(){return o.mediaPause()},this.handleTogglePlaybackRequestedEvent=function(){return this.trigger(this.mediaState!==o.PlayerState.PLAYING?e.PLAY_REQUESTED:e.PAUSE_REQUESTED)},this.handleSeekRequested=function(t,e){return o.mediaSeek(e.time)},this.updateVolume=function(t,e){var i;return i=o.muted&&t!==o.volume,o.setVolume(t,i?!1:e)},this.bindChromecastEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?void 0:this.on(e.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent)},this.bindChromecastMediaEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?void 0:(this.dontBindThatListenersAgainItsAlreadyDone=!0,this.on(e.PLAY_REQUESTED,this.handlePlayRequestedEvent),this.on(e.PAUSE_REQUESTED,this.handlePauseRequestedEvent),this.on(e.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this.on(e.SEEK_REQUESTED,this.handleSeekRequested),this.on(e.CHROMECAST_MEDIA_STATUS_UPDATE,this.handleMediaStatusUpdates))},this.unbindChromecastEvents=function(){return this.dontBindThatListenersAgainItsAlreadyDone?(this.dontBindThatListenersAgainItsAlreadyDone=!1,this.off(e.PLAY_REQUESTED,this.handlePlayRequestedEvent),this.off(e.PAUSE_REQUESTED,this.handlePauseRequestedEvent),this.off(e.TOGGLE_PLAYBACK_REQUESTED,this.handleTogglePlaybackRequestedEvent),this.off(e.SEEK_REQUESTED,this.handleSeekRequested),this.off(e.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.off(e.CHROMECAST_MEDIA_STATUS_UPDATE,this.handleMediaStatusUpdates)):void 0},this.handleExistingSession=function(){return this.off([e.SEQUENCE_STARTED,e.VIDEO_SLOT_STARTED].join(" "),this.handleExistingSession),a.window().setTimeout(function(t){return function(){return t.trigger(e.CHROMECAST_REMOTE_ENABLED,{anotherVideo:t.anotherVideo}),t.anotherVideo?void 0:(t.bindChromecastMediaEvents(),o.watchMediaUpdates())}}(this),0)},this.loadMedia=function(t,e){return this.mediaInfo.src?o.loadMedia(this.mediaInfo):void 0},this.after("initialize",function(){return this.mediaInfo={},this.ended=!1,this.videoStarted=!1,this.endScreen=!1,this.pendingReplay=!1,this.pendingQualityChange=!1,this.pendingChromecastLaunch=!1,this.dontBindThatListenersAgainItsAlreadyDone=!1,this.mediaState=null,this.on(e.VIDEO_SELECTED,function(t,e){var i,o,s,u,l,d,c;for(this.mediaInfo={customData:{xid:a.metadata("id")},title:a.metadata("title"),posterUrl:a.metadata("poster_url"),autoplay:!1},i=a.metadata("qualities.auto",[]),l=[],o=0,s=i.length;s>o;o++){if(u=i[o],d=u.type,c=u.url,d===r.HLS){this.mediaInfo.src=n.appendQueryStringParameter(c,"max=1080").replace(/^https?:/,"https:"),h.log("Found HLS:",this.mediaInfo.src),this.mediaInfo.customData.hls=!0,this.mediaInfo.contentType=r.HLS;break}l.push(void 0)}return l}),this.on(e.VIDEO_DURATION_CHANGE,function(t,e){return this.mediaInfo.duration=e.duration}),this.on(e.QUALITY_CHANGE_CONFIRMED,function(t,e){var i;return i=e.quality.resource,this.mediaInfo.customData.hls||this.mediaInfo.src===i.url?void 0:(this.mediaInfo.src=i.url,this.mediaInfo.contentType=i.type,this.mediaInfo.customData.quality=e.quality,this.session?(this.pendingQualityChange=!0,this.loadMedia()):void 0)}),this.on(e.VIDEO_TIME_UPDATE,function(t,e){return this.mediaInfo.currentTime=e.time}),this.on(e.VIDEO_VOLUME_CHANGED,function(t,e){var i;return this.session&&e.origin===(null!=(i=this.session)?i.receiver.friendlyName:void 0)?void 0:this.mediaInfo.volume=e}),this.on(e.VIDEO_PLAY,function(t,e){
return this.mediaInfo.autoplay=!0}),this.on(e.VIDEO_PAUSE,function(t,e){return e.interrupted?void 0:this.mediaInfo.autoplay=!1}),this.on(e.VIDEO_SLOT_STARTED,function(t,e){return this.videoStarted=!0}),this.on(e.SEQUENCE_ENDED,function(t,e){return this.endScreen=!0}),this.on(e.CHROMECAST_READY,function(){return this.get("dmp_chromecast_launch_requested")&&this.trigger(e.CHROMECAST_LAUNCH_REQUESTED),this.remove("dmp_chromecast_launch_requested")}),this.on(e.CHROMECAST_LAUNCH_REQUESTED,function(){var t,i;return this.set("dmp_html5_preferred",!0),this.pendingChromecastLaunch=!0,this.session&&this.session.media.length>0?(this.anotherVideo=this.mediaInfo.customData.xid!==(null!=(t=this.session.media[0].media)&&null!=(i=t.customData)?i.xid:void 0),this.anotherVideo?(this.mediaInfo.autoplay=!0,this.loadMedia(),this.trigger(e.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo})):o.requestSession(this.mediaInfo)):(this.endScreen&&(this.mediaInfo.currentTime=0,this.mediaInfo.autoplay=!0),o.requestSession(this.mediaInfo)),h.log("end of CHROMECAST_LAUNCH_REQUESTED")}),this.on(e.CHROMECAST_SESSION_AVAILABLE,function(t,i){return this.session=i,this.pendingChromecastLaunch?(this.anotherVideo=!1,this.trigger(e.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo}),this.loadMedia()):this.session.media.length||(this.anotherVideo=!1,this.pendingChromecastLaunch=!0,this.mediaInfo.autoplay=!0,this.endScreen?(this.mediaInfo.currentTime=0,this.trigger(e.CHROMECAST_PREPARE_FOR_REMOTE,{anotherVideo:this.anotherVideo})):this.trigger(e.CHROMECAST_REMOTE_ENABLED,{anotherVideo:this.anotherVideo}),this.loadMedia()),this.bindChromecastEvents()}),this.on(e.CHROMECAST_MEDIA_DISCOVERED,function(t,i){return h.log("Media discovered:",i),this.anotherVideo=this.mediaInfo.customData.xid!==i.info.customData.xid,this.endScreen=!1,this.pendingChromecastLaunch?(this.handleExistingSession(),this.pendingChromecastLaunch=!1):this.pendingReplay?(o.watchMediaUpdates(),this.pendingReplay=!1):this.pendingQualityChange?(o.watchMediaUpdates(),this.trigger(e.QUALITY_CHANGED,{quality:this.mediaInfo.customData.quality}),this.pendingQualityChange=!1):this.videoStarted?this.handleExistingSession():(this.on([e.SEQUENCE_STARTED,e.VIDEO_SLOT_STARTED].join(" "),this.handleExistingSession),this.trigger(e.CHROMECAST_PREPARE_FOR_REMOTE,{anotherVideo:this.anotherVideo}))}),this.on(e.CHROMECAST_SESSION_STOPPED,function(t,e){return this.session=null,this.unbindChromecastEvents()})})},u(d,s,l)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(4),o=i(42).component,t=i(7),e=i(55),s=i(186),a=i(188),n=function(){return this.deviceName=null,this.attributes({activeIconSelector:".dmp_ChromecastStatusPane-icon--active",ariaLabel:e.__("accessibility:::Chromecast remote status"),contentSelector:".dmp_ChromecastStatusPane-content",defaultIconSelector:".dmp_ChromecastStatusPane-icon--default",deviceNameClass:"dmp_ChromecastStatusPane-device",statusClass:"dmp_ChromecastStatusPane-status",textSelector:".dmp_ChromecastStatusPane-text"}),this.handlePlayRequested=function(){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Playing on %device%",{device:this.deviceName})),this.off(r.rootNode(),t.PLAY_REQUESTED,this.handlePlayRequested)},this.updateText=function(t){var e;return e="",null!=t&&(t=t.replace(this.deviceName,"<div class='"+this.attr.deviceNameClass+"'>"+this.deviceName+"</div>"),e="<div class='"+this.attr.statusClass+"'>"+t+"</div>"),this.select("textSelector").html(e)},this.after("initialize",function(){return this.setAccessibility(this.attr.ariaLabel),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.trigger(t.CHROMECAST_STATUS_PANE_WILL_CLOSE),this.updateText(null),this.hideNode()}),this.on(r.rootNode(),t.CHROMECAST_SESSION_AVAILABLE,function(t,i){return this.deviceName=i.receiver.friendlyName,this.updateText(e.__("chromecast:::Connecting to %device%",{device:this.deviceName})),this.hideNode("activeIconSelector"),this.showNode("defaultIconSelector")}),this.on(r.rootNode(),t.CHROMECAST_MEDIA_DISCOVERED,function(){return this.updateText(this.playing?e.__("chromecast:::Playing on %device%",{device:this.deviceName}):e.__("chromecast:::Paused on %device%",{device:this.deviceName})),this.showNode("activeIconSelector"),this.hideNode("defaultIconSelector")}),this.on(r.rootNode(),[t.VIDEO_PLAY,t.VIDEO_PLAYING].join(" "),function(){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Playing on %device%",{device:this.deviceName})),this.playing=!0}),this.on(r.rootNode(),t.VIDEO_PAUSE,function(t,i){return i.interrupted?void 0:(null!=this.deviceName&&this.updateText(e.__("chromecast:::Paused on %device%",{device:this.deviceName})),this.playing=!1)}),this.on(r.rootNode(),t.VIDEO_ENDED,function(i,n){return null!=this.deviceName&&this.updateText(e.__("chromecast:::Replay ? %device%",{device:this.deviceName})),this.playing=!1,this.on(r.rootNode(),t.PLAY_REQUESTED,this.handlePlayRequested)}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(e,i){return i.anotherVideo?this.hideNode():(this.trigger(t.CHROMECAST_STATUS_PANE_WILL_OPEN),this.showNode())})})},o(s,a,n)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(4),o=i(42).component,t=i(7),e=i(55),s=i(186),a=i(188),n=function(){return this.attributes({interruptReason:"Chromecast override panel",messageSelector:".dmp_ChromecastOverridePane-msg",playButtonSelector:".dmp_ChromecastOverridePane-button--play",playButtonTextSelector:".dmp_ChromecastOverridePane-play-text"}),this.updateMessageText=function(t){return null!=t&&(t=t.replace(this.deviceName,"<span class='dmp_ChromecastOverridePane-device'>"+this.deviceName+"</span>")),this.select("messageSelector").html(t)},this.open=function(){return this.trigger(t.CHROMECAST_OVERRIDE_PANE_WILL_OPEN),this.trigger(t.VIDEO_INTERRUPT_REQUESTED,{reason:this.attr.interruptReason}),this.jsFadeIn("fast"),this.isOpen=!0},this.close=function(){return this.trigger(t.CHROMECAST_OVERRIDE_PANE_WILL_CLOSE),this.trigger(t.VIDEO_RESUME_REQUESTED,{reason:this.attr.interruptReason}),this.jsFadeOut("fast"),this.isOpen=!1},this.after("initialize",function(){return this.prepareJsTransition(),this.setAccessibility(this.attr.ariaLabel),this.isOpen=!1,this.$playButton=this.select("playButtonSelector"),this.$playButtonText=this.select("playButtonTextSelector"),this.on(r.rootNode(),t.VIDEO_SELECTED,function(t,e){return this.videoTitle=r.metadata("title"),this.select("playButtonSelector").css("background-image","url("+r.get("poster_url")+")")}),this.on(r.rootNode(),t.CHROMECAST_SESSION_AVAILABLE,function(t,i){return this.deviceName=i.receiver.friendlyName,this.updateMessageText(e.__("chromecast:::Another video is playing on %device%",{device:this.deviceName})),this.$playButton.attr("aria-label",e.__("accessibility:::Play %title% on %device%",{title:this.videoTitle,device:this.deviceName})),this.$playButtonText.text(e.__("chromecast:::Play now")).attr("title",e.__("accessibility:::Play %title% on %device%",{title:this.videoTitle,device:this.deviceName}))}),this.on(r.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(t,e){return e.anotherVideo?this.open():this.isOpen?this.close():void 0}),this.on(r.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(t,e){return this.updateMessageText(null),this.close()}),this.on("click",{playButtonSelector:function(e,i){return this.trigger(t.CHROMECAST_LAUNCH_REQUESTED)}})})},o(s,n,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c;return a=i(42).component,e=i(28),s=i(4),t=i(7),o=i(44),u=i(16),l=i(339),d=i(219),c=i(188),r=i(340),n=i(341),h=function(){return this.attributes({baseTabindex:null,aspectRatio:16/9,zoom:!1,autoZoomThreshold:.04,"native":!1,clickDelay:150,contentNodeSelector:".dmp_VideoView-content",overlayNodeSelector:".dmp_VideoView-overlay",tapZoneNodeSelector:".dmp_VideoView-tapZone",subComponents:{Watermark:{constructor:r,selector:".dmp_Watermark"},SubtitlesView:{constructor:n,selector:".dmp_SubtitleView"}}}),this.updateContentZoomed=function(){return this.contentIsMaximized||(this.scaleToFillParentWithStretch(this.$contentNode),this.contentIsMaximized=!0),this.scaleToFillParent(this.$videoTag,this.attr.aspectRatio),this.videoIsMaximized=!1,this.contentHeight=this.playerHeight},this.updateContentNotZoomed=function(){return this.videoIsMaximized||(this.scaleToFillParentWithStretch(this.$videoTag),this.videoIsMaximized=!0),this.contentHeight=this.scaleToFitParent(this.$contentNode,this.attr.aspectRatio).height,this.contentIsMaximized=!1},this.updateContent=function(){var t,e,i,n;return this.adRunning?(this.scaleToFillParentWithStretch(this.$contentNode),this.scaleToFillParentWithStretch(this.$videoTag)):(e=this.attr.zoom,e||(n=this.attr.aspectRatio,i=this.playerWidth/this.playerHeight,t=Math.abs(n-i)/i,t>0&&t<this.attr.autoZoomThreshold&&(e=!0)),e===!0?this.updateContentZoomed():this.updateContentNotZoomed(),this.updateOverlay())},this.updateOverlay=function(){var e,i,n,r;return e=(this.playerHeight-this.contentHeight)/2,this.controlBarHidden||!this.controlBarAutoHideEnabled||e>this.controlBarHeight?this.resetBottom||(this.resetBottom=!0,this.$overlayNode.css("bottom",0)):(this.resetBottom=!1,this.$overlayNode.css("bottom",this.controlBarHeight-e)),r=Math.floor(this.contentHeight*this.attr.aspectRatio),n=Math.floor(e),i=Math.floor((this.playerWidth-r)/2),this.trigger(t.VIDEO_OVERLAY_SIZE_CHANGED,{width:r,height:this.contentHeight,top:n,left:i,controlBar:this.controlBarHeight})},this.scaleToFillParentWithStretch=function(t){var e;return e={width:"100%",height:"100%",top:0,left:0},t.css(e)},this.toggleZoom=function(){return this.attr.zoom=!this.attr.zoom,this.updateContent()},this.onClickVideoView=function(){return e.touchevents?(this.trigger(t.VIDEO_TAPPED),this.adRunning&&this.catchAdTaps?this.hideNode("tapZoneNodeSelector"):void 0):(this.simpleClick=!0,setTimeout(function(e){return function(){return e.simpleClick?e.trigger(t.TOGGLE_PLAYBACK_REQUESTED):void 0}}(this),this.attr.clickDelay))},this.triggerVideoTap=function(){},this.removeTransparency=function(){return this.$node.css({opacity:1})},this.setTransparency=function(){return this.$node.css({opacity:0})},this.after("initialize",function(){return this.adRunning=!1,this.$contentNode=this.select("contentNodeSelector"),this.$overlayNode=this.select("overlayNodeSelector"),this.$videoTag=this.$contentNode.find("video"),this.prepareCssTransition(),this.attr["native"]?(this.scaleToFillParentWithStretch(this.$contentNode),this.scaleToFillParentWithStretch(this.$videoTag)):(this.attachSubComponents({contentNodeSelector:this.attr.contentNodeSelector,tabindex:this.attr.baseTabindex+10}),this.on(s.rootNode(),t.QUALITY_CHANGED,function(t,e){var i;return i=e.videoWidth/e.videoHeight,i>0&&(this.attr.aspectRatio=i),this.updateContent(),u.isIphone()?void 0:this.showNode(this.$overlayNode)}),this.on(s.rootNode(),t.CONTROL_BAR_UPDATED,function(t,e){return this.controlBarAutoHideEnabled=e.autoHide,this.controlBarHeight=e.height,this.updateContent()}),this.on(s.rootNode(),t.CONTROL_BAR_WILL_SHOW,function(){return this.controlBarHidden=!1,this.modalVisible?void 0:this.updateOverlay()}),this.on(s.rootNode(),t.CONTROL_BAR_WILL_HIDE,function(){return this.controlBarHidden=!0,this.updateOverlay(),this.adRunning&&this.catchAdTaps?this.showNode("tapZoneNodeSelector"):void 0}),this.on(s.rootNode(),t.DEBUG_VIDEO_ZOOM_TOGGLE_REQUESTED,function(){return this.toggleZoom()}),this.on(s.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.playerWidth=e.width,this.playerHeight=e.height,this.updateContent()}),this.on(s.rootNode(),t.MODAL_WILL_OPEN,function(){return this.modalVisible=!0}),this.on(s.rootNode(),t.MODAL_WILL_CLOSE,function(){return this.modalVisible=!1})),this.on(s.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode(this.$contentNode)}),this.on(s.rootNode(),t.VIDEO_SELECTED,function(e,i){return this.off(s.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.removeTransparency),this.off(s.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.setTransparency),"audio"===s.metadata("media_type")?(this.on(s.rootNode(),t.AD_LINEAR_SLOT_STARTED,this.removeTransparency),this.on(s.rootNode(),t.AD_LINEAR_SLOT_ENDED,this.setTransparency)):void 0}),this.on(s.rootNode(),t.SEQUENCE_STARTED,function(){return this.showNode(this.$contentNode),this.cssFadeIn()}),this.on(s.rootNode(),t.AD_STARTED,function(t,i){return"linear"===i.type?(this.adRunning=!0,this.hideNode(this.$overlayNode),this.attr["native"]||(this.showNode(this.$contentNode),this.updateContent()),this.catchAdTaps=e.touchevents&&!this.attr["native"]&&!u.isIphone(),this.catchAdTaps?this.on("click",this.onClickVideoView):void 0):void 0}),this.on(s.rootNode(),t.VIDEO_SLOT_STARTED,function(){return this.adRunning=!1,this.attr["native"]||u.isIphone()?void 0:(this.showNode(this.$overlayNode),this.on("click",this.onClickVideoView),this.updateContent())}),this.on(s.rootNode(),[t.AD_STOPPED,t.VIDEO_SLOT_ENDED].join(" "),function(){return this.off("click",this.onClickVideoView)}),this.on(s.rootNode(),t.FULLSCREEN_SUPPORTED,function(e){return function(){return e.on("pinch",function(e,i){return this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)}),e.on("dblclick",function(){return this.simpleClick=!1,this.trigger(t.FULLSCREEN_TOGGLE_REQUESTED)})}}(this)),this.on(s.rootNode(),[t.FULLSCREEN_ENTERED,t.FULLSCREEN_EXITED].join(" "),function(){return this.updateOverlay()}),this.attr["native"]||(this.on(s.rootNode(),t.MENU_DID_SHOW,function(){return this.off("click",this.onClickVideoView)}),this.on(s.rootNode(),t.MENU_DID_HIDE,function(){return this.on("click",this.onClickVideoView)})),this.on(s.rootNode(),t.SEQUENCE_ENDED,function(){return this.attr["native"]?this.hideNode():this.cssFadeOut()}),this.on(s.rootNode(),t.CHROMECAST_REMOTE_ENABLED,function(){return this.hideNode()}),this.on(s.rootNode(),t.CHROMECAST_SESSION_STOPPED,function(){return this.showNode()})})},a(h,l,d,c)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){return this._scaleChildToFitParentWidth=function(t,e){var i,n,r,o;return o=t.width,i=o/e,r=parseInt((t.height-i)/2,10),n=0,{width:o,height:i,top:r,left:n}},this._scaleChildToFitParentHeight=function(t,e){var i,n,r,o;return i=t.height,o=i*e,r=0,n=parseInt((t.width-o)/2,10),{width:o,height:i,top:r,left:n}},this.getParentSize=function(t){var e;return t.hasClass("dmp_is-hidden")?(this.setInvisibility(t),e={height:t.height(),width:t.width()},this.unsetInvisibility(t)):e={height:t.height(),width:t.width()},e},this.scaleToFitParent=function(t,e){var i,n,r;return r=this.getParentSize(t.parent()),n=r.width/r.height,i=e>n?this._scaleChildToFitParentWidth(r,e):this._scaleChildToFitParentHeight(r,e),t.css(i),{width:i.width,height:i.height}},this.scaleToFillParent=function(t,e){var i,n,r;return r=this.getParentSize(t.parent()),n=r.width/r.height,i=e>n?this._scaleChildToFitParentHeight(r,e):this._scaleChildToFitParentWidth(r,e),t.css(i),{width:i.width,height:i.height}}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return n=i(4),r=i(42).component,t=i(7),e=i(55),s=i(186),a=i(223),u=i(188),o=function(){return this.attributes({tabindex:null,altText:e.__("watermark:::Dailymotion partner watermark"),ariaLabel:e.__("accessibility:::Dailymotion partner watermark"),imgSelector:".dmp_Watermark-img",linkSelector:".dmp_Watermark-link",margin:12,maxArea:3e3}),this.insertImage=function(t){var e;return e=this.attr.altText,this.$node.append("<img class='dmp_Watermark-img' src='"+t+"' alt='"+e+"' />"),this.setAccessibility(this.attr.ariaLabel,-1)},this.setImageSize=function(t,e){var i,n,r,o;return n=Math.floor(t/2),r=Math.floor(e/2),o=r/n,i=r*n,i>this.attr.maxArea&&(r=Math.sqrt(this.attr.maxArea*o),n=r/o),e>=t?this.select("imgSelector").attr("height",n):this.select("imgSelector").attr("width",r)},this.alignLogo=function(t){return null==t&&(t="right"),"left"===t?this.$node.css("left",this.attr.margin):this.$node.css("right",this.attr.margin)},this.setLinkSrc=function(t){return this.select("imgSelector").wrap("<a href='"+t+"' class='dmp_Watermark-link' target='_blank'></a>")},this.after("initialize",function(){return this.watermark=null,this.on(n.rootNode(),t.VIDEO_SELECTED,function(t,e){var i,r;return this.watermark={},(r=n.settings("ui.watermark_url")||n.metadata("ui.watermark_url"))&&(this.watermark.url=r),(i=n.settings("ui.watermark_link_url")||n.metadata("ui.watermark_link_url"))&&(this.watermark.link_url=i),null!=this.watermark.url?this.preloadImage(this.watermark.url):void 0}),this.on(n.rootNode(),t.VIDEO_SLOT_ENDED,function(){return this.hideNode()}),this.on(n.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode(),this.$node.empty()}),this.on(n.rootNode(),t.VIDEO_SLOT_STARTED,function(){return null!=this.watermark.url?this.showNode():void 0}),this.on(t.IMAGE_PRELOADED,function(t,e){return this.insertImage(e.src),this.setImageSize(e.height,e.width),this.alignLogo(),null!=this.watermark.link_url?this.setLinkSrc(this.watermark.link_url):void 0})})},r(o,s,a,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(42).component,e=i(4),t=i(7),o=i(188),r=function(){return this.attributes({contentNodeSelector:null,textSelector:".dmp_SubtitleView-text"}),this.setFontStyles=function(t){var e,i,n,r;return n=11,i=26,r=3,e=t/100*r,e>i?e=i:n>e&&(e=n),this.$node.css({"font-size":e+"px"})},this.renderContent=function(){return null!=this.content?(this.select("textSelector").html(this.content),this.showNode()):this.hideNode()},this.after("initialize",function(){return this.content=null,this.on(e.rootNode(),t.LOAD_VIDEO,function(){return this.hideNode()}),this.on(e.rootNode(),t.PLAYER_SIZE_CHANGED,function(t,e){return this.setFontStyles(e.width)}),this.on(e.rootNode(),t.SUBTITLE_TEXT_UPDATED,function(t,e){var i;return this.content=(null!=e&&null!=(i=e.lines)?i.length:void 0)?e.lines.join("<br />"):null,this.renderContent()}),this.on(e.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.hideNode():void 0}),this.on(e.rootNode(),t.AD_STOPPED,function(t,e){return"linear"===e.type?this.renderContent():void 0})})},n(r,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(42).component,e=i(44),n=i(4),t=i(7),a=i(180),u=i(327),o=function(t){var e;return e=t?"-"+t:"","dmp_volume"+e},s=function(){return this.attributes({videoTagSelector:null,volume:1,muted:!1}),this.onVideoTagReadyForVolumeUpdates=function(e,i){return this.readyForVolumeUpdates=!0,this.off(t.VOLUME_CHANGE_REQUESTED,this.saveEarlyVolumeChangeRequestedEvent),this.off(n.rootNode(),[t.AD_STARTED,t.VIDEO_LOADED_METADATA].join(" "),this.onVideoTagReadyForVolumeUpdates),this.initialVolume=null!=this.initialVolume?this.forceVolumeUpdate(!1):this.forceVolumeUpdate(!0),this.set(o(),{volume:this.initialVolume.volume,muted:this.initialVolume.muted}),this.savedEarlyVolumeChangeRequest?(this.trigger(t.VOLUME_CHANGE_REQUESTED,this.savedEarlyVolumeChangeRequest),this.savedEarlyVolumeChangeRequest=null):void 0},this.forceVolumeUpdate=function(e){var i,r,s;return null==e&&(e=!1),this.readyForVolumeUpdates?(i={volume:this.attr.volume,muted:this.attr.muted,internal:!0},s=e?{muted:n.settings("mute")}:{},r=$.extend(i,this.get(o(this.deviceName)),s),this.trigger(t.VOLUME_CHANGE_REQUESTED,r),r):null},this.saveEarlyVolumeChangeRequestedEvent=function(t,e){this.savedEarlyVolumeChangeRequest=e},this.updateVolume=function(t,e){var i;return i=this.videoTag.muted&&t!==this.videoTag.volume,this.videoTag.volume=t,this.videoTag.muted=i?!1:e},this.handleVideoVolumeChangedEvent=function(t,e){return this.attr.volume=e.volume,this.attr.muted=e.muted,this.set(o(e.origin),{volume:this.attr.volume,muted:this.attr.muted})},this.handleVolumeChangeEvent=function(){return this.triggerVideoVolumeChangeEvent(this.videoTag.volume,this.videoTag.muted)},this.enableVolumeControl=function(){return this.on(t.VIDEO_LOADED_METADATA,this.onVideoTagReadyForVolumeUpdates),this.on(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.on(this.videoTag,"volumechange",this.handleVolumeChangeEvent),this.forceVolumeUpdate()},this.disableVolumeControl=function(){return this.off(t.VOLUME_CHANGE_REQUESTED,this.handleVolumeChangeRequestedEvent),this.off(this.videoTag,"volumechange",this.handleVolumeChangeEvent),this.forceVolumeUpdate()},this.after("initialize",function(){return e.canChangeVolume()?(this.videoTag=this.select("videoTagSelector")[0],this.readyForVolumeUpdates=!1,this.savedEarlyVolumeChangeRequest=null,this.on(t.VOLUME_CHANGE_REQUESTED,this.saveEarlyVolumeChangeRequestedEvent),this.on(t.AD_STARTED,this.onVideoTagReadyForVolumeUpdates),this.on(t.VIDEO_VOLUME_CHANGED,this.handleVideoVolumeChangedEvent),this.on(t.AD_STARTED,this.disableVolumeControl),this.on(t.VIDEO_SLOT_STARTED,this.enableVolumeControl),this.on(t.CHROMECAST_SESSION_AVAILABLE,function(t,e){return this.deviceName=e.receiver.friendlyName}),this.on(t.CHROMECAST_REMOTE_ENABLED,this.disableVolumeControl),this.on(t.CHROMECAST_SESSION_STOPPED,function(){var t;return this.deviceName=null,t=this.get(o()),this.enableVolumeControl(),this.triggerVideoVolumeChangeEvent(t.volume,t.muted)})):void this.teardown()})},r(u,s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h;return o=i(4),s=i(42).component,e=i(7),n=i(55),a=i(187),u=i(219),h=i(188),t=i(344),r=function(){return this.attributes({messageSelector:".dmp_AdSkipUnit-message",buttonSelector:".dmp_AdSkipButton",subComponents:{AdSkipButton:{constructor:t,selector:".dmp_AdSkipButton"}}}),this.after("initialize",function(){return this.attachSubComponents({nodeSelector:this.attr.buttonSelector,containerSelector:this.attr.buttonSelector},"rootNode"),this.$messageNode=this.select("messageSelector"),this.hideNode(),this.on(o.rootNode(),e.AD_VIDEO_SKIPPABLE_REMAINING_TIME,function(t,e){var i;return i="",e>0?(this.showNode(),i=n.__("ads:::Skip in %time%",{time:this.formatRemainingTime(e)})):this.hideNode(this.$messageNode),this.$messageNode.text(i)}),this.on(o.rootNode(),e.AD_VIDEO_SKIPPABLE_STATE,function(t,e){return e.adSkippable?this.hideNode(this.$messageNode):void 0}),this.on(o.rootNode(),[e.AD_STOPPED,e.LOAD_VIDEO].join(" "),function(t,e){return this.hideNode()})})},s(r,a,h,u)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u;return r=i(4),o=i(42).component,t=i(7),e=i(55),s=i(186),a=i(188),u=i(202),n=function(){return this.attributes({ariaLabel:e.__("accessibility:::Skip to video"),nodeSelector:null,tooltipText:e.__("ads:::Skip to video"),tooltipAlign:"bottom"}),this.after("initialize",function(){return this.on(r.rootNode(),t.COMPONENTS_READY,function(){return this.hideNode()}),this.on(r.rootNode(),t.AD_VIDEO_SKIPPABLE_STATE,function(t,e){return e.adSkippable?this.showNode():this.hideNode()}),this.on("click",function(){return this.trigger(t.SKIP_AD_REQUESTED)}),this.on(r.rootNode(),[t.AD_STOPPED,t.LOAD_VIDEO].join(" "),function(){return this.hideNode(),this._mouseOverButton?this.requestTooltipHide():void 0})})},o(s,u,n,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(42).component,e=i(4),t=i(7),r=i(11).get("Tracking"),o=function(){return this._pingURL=function(t){return null!=t?(new Image).src=t:void 0},this.logEndScreenDisplayed=function(){return this._pingURL(this.displayLogURL),this.displayLogURL=null},this.after("initialize",function(){return this.on(e.rootNode(),t.END_SCREEN_DATA_CHANGED,function(t,e){return null!=e.display_log_url?this.displayLogURL=e.display_log_url:void 0}),this.on(e.rootNode(),t.END_SCREEN_WILL_OPEN,this.logEndScreenDisplayed)})},n(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return n=i(42).component,e=i(4),t=i(7),r=i(11).get("Tracking"),o=function(){return this.parse=function(){var t,e,i,n,r,o,s;this.partnerFn={},this.singlePings={},this.periodicPings=[],i=this.trackingUrls,r=[];for(t in i)s=i[t],n=t.split("@"),e=n[0],o=n[1],this.checkRuleAndUrl(t,o,s)?(this.createPartnerPingFunction(t,e,o,s),r.push(this.parsePartnerRule(t,o))):r.push(void 0);return r},this.checkRuleAndUrl=function(t,e,i){return void 0===i?(r.warn(t,": url is empty"),!1):i.match(/%session%/)?(r.warn(t,": %session% placeholder is not valid in player HTML5"),!1):"live"===this.mode&&null!=e&&e.indexOf("%")>-1?(r.warn(t,":",e,"is not valid for live mode"),!1):null==e||e.match(/^([0-9%ms,|]+)?(\/[0-9]+[%ms]?)?$/)?null!=e&&e.indexOf(",")>-1&&e.indexOf("|")>-1?(r.warn(t,":",e,"'is not a valid format (can't contain both ',' and '|')"),!1):!0:(r.warn(t,":",e,"is not a valid format"),!1)},this.createPartnerPingFunction=function(t,e,i,n){return this.partnerFn[t]=function(t){return function(o){var s;return s=n.replace("%time%",o).replace("%position%",Math.min(1,Math.floor(t.currentTime/t.duration*1e3)/1e3)),r.log("Call",e,"("+i+") at "+o+"s"),t.pingUrl(s)}}(this)},this.pingUrl=function(t){return(new Image).src=t},this.parsePartnerRule=function(t,e){var i;return void 0===e?this.setupSinglePing(t,0):(i=e.match(/^([0-9%ms,|]*)\/?([0-9]*[%ms]?)?$/),this.parseSinglePingRule(t,i[1]),null!=i[2]&&""!==i[2]?this.parsePeriodicPingRule(t,i[1],i[2]):void 0)},this.parseSinglePingRule=function(t,e){var i,n,r,o,s;if(""===e)return this.setupSinglePing(t,0);if(e.indexOf(",")>-1){for(r=e.split(","),o=[],i=0,n=r.length;n>i;i++)s=r[i],o.push(this.setupSinglePing(t,this.getTimeInSec(s)));return o}return e.indexOf("|")>-1?this.setupSinglePing(t,this.getFirstPingTime(e)):this.setupSinglePing(t,this.getTimeInSec(e))},this.setupSinglePing=function(t,e){return null==this.singlePings[e]&&(this.singlePings[e]=[]),this.singlePings[e].push(t)},this.parsePeriodicPingRule=function(t,e,i){var n,r;return n=""===e?0:e.indexOf(",")>-1?this.getLastPingTime(e):e.indexOf("|")>-1?this.getFirstPingTime(e):this.getTimeInSec(e),r=this.getTimeInSec(i,!1),this.setupPeriodicPing(t,r,n)},this.setupPeriodicPing=function(t,e,i){return this.periodicPings.push({key:t,interval:e,base:i,called:1})},this.getTimeInSec=function(t,e){var i,n;return null==e&&(e=!0),i=t.match(/^([0-9]+)([%ms]?)$/),n=function(){switch(i[2]){case"%":return this.duration/100;case"m":return 60;default:return 1}}.call(this),t=parseInt(i[1])*n,e?Math.floor(t):Math.floor(10*t)/10},this.getFirstPingTime=function(t){var e,i;return i=function(){var i,n,r,o;for(r=t.split("|"),o=[],i=0,n=r.length;n>i;i++)e=r[i],o.push(this.getTimeInSec(e));return o}.call(this),Math.min.apply(null,i)},this.getLastPingTime=function(t){var e,i;return i=function(){var i,n,r,o;for(r=t.split(","),o=[],i=0,n=r.length;n>i;i++)e=r[i],o.push(this.getTimeInSec(e));return o}.call(this),Math.max.apply(null,i)},this.updatePlayedTime=function(t){var e,i,n;for(i=t-this.playedTime,n=[];i>=0;)this.playedTime=i>1?this.playedTime+1:t,e=Math.floor(this.playedTime),e>this.previousRoundSec&&this.doPings(e),n.push(i-=1);return n},this.doPings=function(t){var e,i,n,r,o,s,a,u;if(null!=this.singlePings[t]){for(a=this.singlePings[t],i=0,r=a.length;r>i;i++)e=a[i],this.partnerFn[e](t);delete this.singlePings[t]}for(u=this.periodicPings,n=0,o=u.length;o>n;n++)s=u[n],t>=s.base&&(t-s.base)/s.interval>=s.called&&(this.partnerFn[s.key](t),s.called++);return this.previousRoundSec=t},this.onVideoStart=function(){return this.currentTime=0,this.updatePlayedTime(0)},this.onVideoTimeUpdate=function(t,e){return this.currentTime=e.time,this.updatePlayedTime(e.played)},this.onVideoEnded=function(){return this.currentTime=this.duration,this.updatePlayedTime(this.playedTime+1)},this.bindListerners=function(){return this.on(e.rootNode(),t.VIDEO_START,this.onVideoStart),this.on(e.rootNode(),t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.on(e.rootNode(),t.VIDEO_ENDED,this.onVideoEnded)},this.unbindListerners=function(){return this.off(e.rootNode(),t.VIDEO_START,this.onVideoStart),this.off(e.rootNode(),t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.off(e.rootNode(),t.VIDEO_ENDED,this.onVideoEnded)},this.after("initialize",function(){return this.bindListerners(),this.on(e.rootNode(),t.SEQUENCE_STARTED,function(t,i){return this.trackingUrls=e.metadata("reporting.tracking"),this.duration=e.metadata("duration"),this.mode=e.metadata("stream_type"),this.previousRoundSec=-1,this.currentTime=0,this.playedTime=0,null!=this.trackingUrls?this.parse():void 0}),this.on(e.rootNode(),t.AD_STARTED,function(t,e){return"linear"===e.type?this.unbindListerners():void 0}),this.on(e.rootNode(),t.AD_STOPPED,function(t,e){return"linear"===e.type?this.bindListerners():void 0}),this.on(e.rootNode(),t.LOAD_VIDEO,function(){return this.unbindListerners(),this.bindListerners()})})},n(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l,d,c,f,p;return d=i(42).component,l=i(4),n=i(7),f=i(11).get("Stats"),c=i(73),t=i(348),e=i(349),r=i(358),s=i(362),a=i(364),o=i(365),u=i(366),h=i(368),p=function(){return this.attributes({videoTagSelector:null}),this.after("initialize",function(){var i,d,p,E,m,_,v;f.log("initializing statsManager!"),d={CONTROLS_PLAY:n.VIDEO_PLAY,CONTROLS_PAUSE:n.VIDEO_PAUSE,CONTROLS_FULLSCREEN:n.FULLSCREEN_ENTERED,CONTROLS_VOLUME:n.VIDEO_VOLUME_CHANGED,CONTROLS_SEEK:n.SEEK_REQUESTED,CONTROLS_QUALITY:n.QUALITY_CHANGE_CONFIRMED,VIDEO_LOAD:n.LOAD_VIDEO,VIDEO_INFOS:n.STAT_INFO_READY,VIDEO_RESOLVED_CDN:n.VIDEO_RESOLVED_CDN,VIDEO_STEADYPLAY:n.VIDEO_STEADYPLAY,VIDEO_REBUFFERING:n.VIDEO_REBUFFERING,VIDEO_START:n.VIDEO_START,VIDEO_PLAYING:n.VIDEO_PLAYING,VIDEO_TIME_UPDATE:n.VIDEO_TIME_UPDATE,VIDEO_PROGRESS:n.VIDEO_BUFFER_UPDATE,VIDEO_WAITING:n.VIDEO_WAITING,VIDEO_END:n.VIDEO_ENDED,VIDEO_COMPLETED:n.VIDEO_ENDED,AD_LOAD_START:n.AD_LOAD_DID_BEGIN,AD_LOAD_END:n.AD_LOAD_DID_END,AD_LOAD_TIMEOUT:n.AD_LOAD_DID_TIMEOUT,AD_INIT_START:n.AD_INIT_DID_BEGIN,AD_INIT_END:n.AD_INIT_DID_END,AD_INIT_TIMEOUT:n.AD_INIT_DID_TIMEOUT,AD_START_START:n.AD_START_DID_BEGIN,AD_START_END:n.AD_START_DID_END,AD_START_TIMEOUT:n.AD_START_DID_TIMEOUT},i=new t(c(d)),i.defineInclusiveFilter("adsonly",["AD_LOAD_START","AD_LOAD_END","AD_LOAD_TIMEOUT","AD_INIT_START","AD_INIT_END","AD_INIT_TIMEOUT","AD_START_START","AD_START_END","AD_START_TIMEOUT"]),this._data={},this.currentTime=0,this.volume=null,this.quality=null,E=l.rootNode(),v=function(t){return function(e,n){var r;switch(r=!0,t){case"CONTROLS_PLAY":case"CONTROLS_PAUSE":case"VIDEO_WAITING":case"VIDEO_END":n={currentTime:this.currentTime};break;case"CONTROLS_VOLUME":r=null!==this.volume,this.volume=n.volume,n=this.volume;break;case"CONTROLS_QUALITY":r=null!==this.quality,this.quality=n.adaptive?"auto":n.quality.name,n=this.quality;break;case"CONTROLS_SEEK":n={lastTime:this.currentTime,currentTime:n.time};break;case"VIDEO_TIME_UPDATE":this.currentTime=n.time,n={currentTime:this.currentTime}}return r?i.trigger(t,n):void 0}},m=function(t){return function(e,i){return $.extend(t._data,i),e.type===n.PLAYER_SIZE_CHANGED&&t.off(E,n.PLAYER_SIZE_CHANGED,m),null!=t._data.width&&null!=t._data.id?t.trigger(E,n.STAT_INFO_READY,t._data):void 0}}(this),this.on(E,n.VIDEO_SELECTED,function(t,e){return this.currentTime=0,this.volume=null,this.quality=null,this.adPlaying=!1,m(t,l.metadata())}),this.on(E,n.PLAYER_SIZE_CHANGED,m),this.on(E,n.AD_STARTED,function(t,e){return"linear"===e.type?(this.adPlaying=!0,i.disable()):void 0}),this.on(E,n.VIDEO_PLAY,function(){return this.adPlaying?i.filter("adsonly"):void 0}),this.on(E,n.AD_STOPPED,function(t,e){return"linear"===e.type?(this.adPlaying=!1,i.enable()):void 0});for(_ in d)p=d[_],this.on(E,p,v(_));this.on(n.STAT_PLUGIN_READY,function(t,e){return i.register(e)}),l.isFeatureEnabled("EVENT_BUS",!0)&&(r.attachTo(l.rootNode()),s.attachTo(l.rootNode()),o.attachTo(l.rootNode())),l.isGKEnabled("PV5_EVENT_BUS_STREAMING_HTML5")&&a.attachTo(l.rootNode()),l.settings("reporting.pinba.enable")&&u.attachTo(l.rootNode()),
l.settings("reporting.estat.enable")&&e.attachTo(l.rootNode(),{videoTagSelector:this.attr.videoTagSelector}),l.settings("reporting.xiti.enable")&&h.attachTo(l.rootNode(),{videoTagSelector:this.attr.videoTagSelector})})},d(p)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(e){t.setEvents(["SESSION_START","SESSION_END","EXIT"]),t.setEvents(e),this.managers=[],this.filters={},this.inited=!1}return t.setEvents=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this[e]=e},t.getInstance=function(){return{trigger:function(){}}},t.prototype.register=function(t){this.managers.push(t)},t.prototype.reset=function(){this.map(function(t){t.reset()})},t.prototype.defineInclusiveFilter=function(t,e){return this.filters[t]={inclusive:!0,events:e}},t.prototype.defineExclusiveFilter=function(t,e){return this.filters[t]={inclusive:!1,events:e}},t.prototype.trigger=function(t,e){this.activeFilter&&this.activeFilter.inclusive!==(-1!==this.activeFilter.events.indexOf(t))||this.map(function(i){i.trigger(t,e)})},t.prototype.enable=function(){this.filter(null),this.map(function(t){t.enabled=!0})},t.prototype.disable=function(t){this.filter(null),this.map(function(t){t.enabled=!1})},t.prototype.filter=function(t){this.activeFilter=this.filters[t]||null,this.map(function(e){"function"==typeof e.filter&&e.filter(t)})},t.prototype.map=function(t){var e,i,n,r;for(r=this.managers,e=0,i=r.length;i>e;e++)n=r[e],t(n)},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(42).component,n=i(4),a=i(350),t=i(348),e=i(351),s=i(11).get("eStat"),o=function(){return this.attributes({videoTagSelector:null}),this.enabled=function(){return null!=n.metadata("reporting.estat")},this.setup=function(){var r,o,a,u,h;return s.log("Setting up!"),u={dom:n.settings("app"),logger:s},r=new e(u),h=this.select("videoTagSelector")[0],o=!0,a=!0,r.on(t.VIDEO_INFOS,function(t,e){var n,r,u;return r=null!=(u=e.reporting)?u.estat:void 0,o=!0,this.stopTracking(),r?(n={serial:r,title:e.title,tags:e.tags,channel:e.channel,duration:e.duration,url:e.url},s.log("eStat tracking enabled :",n),null==window.eStat_PJS&&(window.eStat_PJS=function(t){return function(){return t.setVideoInfo(n,h)}}(this)),i.e(6,function(t){return function(e){return i(355),a?a=!1:t.setVideoInfo(n,h)}}(this))):(s.log("Not any eStat data -> disabling"),void this.setVideoInfo({serial:null}))}),r.on(t.VIDEO_TIME_UPDATE,function(t,e){return o?(o=!1,this.track({state:"play",pos:this.lastTime})):void 0}),r.on([t.CONTROLS_PAUSE,t.CONTROLS_SEEK,t.VIDEO_WAITING],function(t,e){return o?void 0:(o=!0,this.track({state:"pause",pos:(null!=e?e.lastTime:void 0)?e.lastTime:e.currentTime}))}),r.on(t.VIDEO_END,function(t,e){return o=!0,this.track({state:"stop",pos:e.currentTime}),this.stopTracking()}),r}},r(a,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return e=i(4),t=i(7),n=function(){return this.enabled=function(){return!0},this.setup=function(){return console.warn("Implement me!")},this.after("initialize",function(){var e;return this.enabled()&&(e=this.setup())?this.trigger(t.STAT_PLUGIN_READY,e):void 0})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(352),e=function(t){function e(t){var i;this.options=t,e.__super__.constructor.call(this,this.options),this.queue=[],this.liveMode=!1,this.player=null,this.info=null,this.dom=(null!=(i=this.options)?i.dom:void 0)?this.options.dom:null}var i;return r(e,t),window._PJS=0,window._cmsJS=0,window._eStatDS=1,e.prototype.setVideoInfo=function(t,e){var i,n,r,o,s,a;return this.info=t,this.player=e,(null!=(o=this.info)?o.serial:void 0)?((null!=(s=this.info)?s.tags:void 0)||null!=(a=this.info)&&(a.tags=[]),"undefined"==typeof eStat_id?void(window.eStat_PJS=function(t){return function(){return t.logger.log("eStat_PJS"),null!=t.info&&null!=t.player?t.setVideoInfo(t.info,t.player):void 0}}(this)):(window.eStat_PJS=function(){return this.logger.log("eStat_PJS (empty)")},eStat_id.serial(this.info.serial),this.liveMode="live"===this.info.mode&&this.info.onair,this.firstPlay=!0,this.ended=!1,this.logger.log("Got video info (serial:",this.info.serial," ,live:",this.liveMode,")"),r=function(t){return function(){return t.logger.log("initializaton"),t.dom&&"undefined"!=typeof eStat_ev&&null!==eStat_ev&&"function"==typeof eStat_ev.domaine&&eStat_ev.domaine(t.dom),eStat_ms.referenceUI(t.player,"DS",t.info.title,3<t.info.tags.length?t.info.tags[3]:"",2<t.info.tags.length?t.info.tags[2]:"",1<t.info.tags.length?t.info.tags[1]:"",4<t.info.tags.length?t.info.tags[4]:"",5<t.info.tags.length?t.info.tags[5]:"",0<t.info.tags.length?t.info.tags[0]:"","",function(){return t.player.currentTime}),eStat_ms.TagDS(t.player).setUrl(t.info.url),eStat_ms.TagDS(t.player).setPlayerNameVersion("DailymotionPlayer"),eStat_ms.TagDS(t.player).setDuration(t.info.duration),t.flushQueue()}}(this),window._cmsJS&&window.DS?r():(n=0,i=setInterval(function(t){return function(){return window._cmsJS&&window.DS?(r(),clearInterval(i)):n>50?(t.logger.log("Cancel eStat load."),clearInterval(i)):(t.logger.log("Can't init eStat yet..."),n+=1)}}(this),50)))):(this.info=null,void(this.player=null))},e.prototype.track=function(t){var e;if(null!=(e=this.info)?e.serial:void 0)return this.queue===!1?i.call(this,t):this.queue.push(t),this},e.prototype.flushQueue=function(){var t,e,n,r;if(this.queue===!1)return this;for(this.logger.log("Flushing queue, queue status :",this.queue),r=this.queue,t=0,e=r.length;e>t;t++)n=r[t],i.call(this,n);return this.queue=!1,this},e.prototype.stopTracking=function(){var t;if(null!=(t=this.info)?t.serial:void 0)return"undefined"!=typeof eStat_ms&&null!==eStat_ms?eStat_ms.StopMeasurement(this.player):void 0},i=function(t){var e;switch(e=null,t.state){case"play":this.firstPlay?this.firstPlay=!1:(this.liveMode||this.ended)&&(this.logger.log((this.liveMode?"Live Mode":"Video ended")+" : creating new eStat session"),eStat_ms.newStreamUI(this.player,this.info.title,0<this.info.tags.length?this.info.tags[0]:"",1<this.info.tags.length?this.info.tags[1]:"",2<this.info.tags.length?this.info.tags[2]:"",3<this.info.tags.length?this.info.tags[3]:"",4<this.info.tags.length?this.info.tags[4]:"",this.liveMode?"Live":this.info.channel),this.ended=!1),e=eStatPlayState.Play;break;case"pause":e=this.liveMode?eStatPlayState.Stop:eStatPlayState.Pause;break;case"stop":this.ended=!0,e=eStatPlayState.Stop}return t.pos||(t.pos=this.player.currentTime),this.logger.log("Track :",function(){switch(e){case eStatPlayState.Stop:return"stop";case eStatPlayState.Pause:return"pause";case eStatPlayState.Play:return"play"}}(),t.pos),eStat_ms.TagDS(this.player).sendEvent(e,t.pos)},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n;return t=i(348),n=i(353),e=function(){function e(t){var e,i,r,o;this.options=t,this._eventReceiver=document.createElement("a"),this._measureTimeCounter=0,this._waitCounter=0,this._history=[],this._lock=[],this.session=new n,this.enabled=!0,null!=(null!=(e=this.options)?e.sampling:void 0)&&this.setSampling(this.options.sampling),(null!=(i=this.options)&&null!=(r=i.logger)?r.log:void 0)?this.logger=this.options.logger:(null!=(o=this.options)?o.logger:void 0)&&console?this.logger=console:this.logger={error:function(){},log:function(){},warn:function(){}}}return e.prototype.init=function(){return this.trigger(t.SESSION_START),this.on(t.EXIT,function(){this.trigger(t.SESSION_END)}),this},e.prototype.reset=function(){var e,i,n,r;for(this.session&&this.trigger(t.SESSION_END),this._eventReceiver=document.createElement("a"),r=this._history,e=0,i=r.length;i>e;e++)n=r[e],n.once?this.one(n.events,n.callback):this.on(n.events,n.callback);return this._history=[],this.init(),this},e.prototype.setSampling=function(t){return t()!==!0?this.enabled=!1:void 0},e.prototype.on=function(t,e,i){var n,r,o,s;return"function"==typeof e&&(i=e,e=null),i?(s=$.isArray(t)?t:[t],o=function(t){return function(){$(t._eventReceiver).on(s.join(" "),$.proxy(i,t))}}(this),null===e?o():(n=!0,"sampling"in e&&!e.sampling()&&(n=!1),r="waitFor"in e,r&&n&&$(this._eventReceiver).one(e.waitFor,function(){o()}),n&&o()),this._history.push({events:s,callback:i}),this):void 0},e.prototype.one=function(t,e,i){var n;return n=$.isArray(t)?t:[t],$(this._eventReceiver).one(n.join(" "),$.proxy(i,this)),this._history.push({events:n,callback:i,once:!0}),this},e.prototype.off=function(t,e){var i,n,r,o,s;for($(this._eventReceiver).off(t,e),s=this._history,i=n=0,r=s.length;r>n;i=++n)if(o=s[i],o.events===t&&o.callback===e){this._history.splice(i,1);break}return this},e.prototype.lock=function(t){this._lock.push(t)},e.prototype.unlock=function(t){var e;e=this._lock.indexOf(t),~e&&this._lock.splice(e,1)},e.prototype.trigger=function(t,e){var i,n;if(n=~this._lock.indexOf(t),this.enabled&&!n)try{$(this._eventReceiver).triggerHandler(t,e)}catch(i){t=i,this.logger.error(t.name+": "+t.message)}return this.session&&this.session.log(t,e),this},e.prototype.onLoad=function(e){return this.on(t.SESSION_START,e),this},e.prototype.onUnload=function(e){return this.on(t.SESSION_END,e),this},e.prototype.measureTime=function(t,e,i,n){var r,o,s,a,u,h,l,d,c;return null==n&&(n=!1),d=c=null,s=a=null,h=null,u="mt_"+this._measureTimeCounter++,r=function(t){return($.isArray(t)?t:[t]).map(function(t){return t+"."+u})},l=r(t),o=r(e),this.on(l,function(t,e){c||(d=+new Date,c=!0,h=e)}),this.on(o,function(t){return function(e,r){var o;a||(s=+new Date,o=s-d,i.call(t,o,[h,r]),n||t.off("."+u),a=!0)}}(this)),this},e.prototype.wait=function(t,e){var i,n;n="wait_"+this._waitCounter++,t=t.map(function(t){return t+"."+n}),i=t.length,this.on(t,function(t){return function(){0===--i&&(e.call(t),t.off("."+n))}}(this))},e.prototype.loadPlugin=function(t,e){var i,n,r,o;n=!1,o=this,i=document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,setTimeout(function(){return"function"==typeof e&&e(),o.init()},50),i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i))},i.onerror=function(){o.enabled=!1},r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(i,r)},e._is_https="https:"===document.location.protocol,e}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(){function t(){this.history=[],this.data={}}return t.prototype.log=function(){this.history.push(JSON.stringify(arguments))},t.prototype.hasLog=function(t){var e,i,n,r;for(r=this.history,e=0,i=r.length;i>e;e++)if(n=r[e],~n.indexOf('"'+t+'"'))return!0;return!1},t.prototype.save=function(t,e){this.data[t]=e},t.prototype.get=function(t){return t in this.data?this.data[t]:!1},t.prototype.has=function(t){return t in this.data},t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,,function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(42).component,n=i(4),t=i(7),e=i(49),s=i(359),o=function(){return this.topicName="advertising",this.getTopicAttributes=function(){var t;return t={ad_type:this.adPosition,ad_provider:"LIVERAIL"},null!=this.adFallback&&(t.ad_fallback=this.adFallback),t},this.onAdFetcherRequested=function(t,i){var n;return(null!=(n=i.spec)?n.type:void 0)===e.SUPPORTED_TYPES.VMAP?this.adFallback="ad-block":void 0},this.onAdError=function(t,e){return this.sendEventToEventBus(t,e)},this.onAdSdkReady=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.loadAd,this.sendEventToEventBus(t,e)},this.onAdLoaded=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.initAd,this.sendEventToEventBus(t,e)},this.onAdStarted=function(t,e){return this.adStartedTime=t.timeStamp,this.adCumulativeTime+=e.timeoutInfo.startAd,this.sendEventToEventBus(t,e)},this.onAdImpression=function(t,e){return this.impressionStartedTime=t.timeStamp,this.sendEventToEventBus(t)},this.onAdVideoStart=function(t,e){return this.adCumulativeTime+=e.timeoutInfo.bufferAd,this.videoStartedTime=t.timeStamp,this.sendEventToEventBus(t,e)},this.onVideoPaused=function(){return this.adPaused=!0},this.onAdVideoComplete=function(t,e){return this.sendEventToEventBus(t,{timeStamp:t.timeStamp,endedReason:e.endedReason})},this.bindEvents=function(e,i){return this.adEndedReason="unknown",this.adPaused=!1,this.adNonSkippableDuration=0,this.adCumulativeTime=0,this.adPosition=i.position,this.on(t.AD_FETCHER_REQUESTED,this.onAdFetcherRequested),this.on(t.AD_ERROR,this.onAdError),this.on(t.AD_SDK_READY,this.onAdSdkReady),this.on(t.AD_LOADED,this.onAdLoaded),this.on(t.AD_STARTED,this.onAdStarted),this.on(t.AD_IMPRESSION,this.onAdImpression),this.on(t.AD_VIDEO_START,this.onAdVideoStart),this.on(t.AD_VIDEO_COMPLETE,this.onAdVideoComplete),this.on(t.VIDEO_PAUSE,this.onVideoPaused),this.on(t.LOAD_VIDEO,this.unbindEvents)},this.unbindEvents=function(){return this.off(t.AD_FETCHER_REQUESTED,this.onAdFetcherRequested),this.off(t.AD_ERROR,this.onAdError),this.off(t.AD_SDK_READY,this.onAdSdkReady),this.off(t.AD_LOADED,this.onAdLoaded),this.off(t.AD_STARTED,this.onAdStarted),this.off(t.AD_IMPRESSION,this.onAdImpression),this.off(t.AD_VIDEO_START,this.onAdVideoStart),this.off(t.AD_VIDEO_COMPLETE,this.onAdVideoComplete),this.off(t.VIDEO_PAUSE,this.onVideoPaused),this.off(t.LOAD_VIDEO,this.unbindEvents)},this.after("initialize",function(){return this.registerEventDefinition(t.AD_ERROR,{name:"adError",data:function(t){var e;return e={error_type:t.type,message:t.message},t.code&&(e.code=t.code),e}}),this.registerEventDefinition(t.AD_SDK_READY,{name:"adSdkReady",data:function(t){return{ad_sdk_ready_time:t.timeoutInfo.loadAd,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_LOADED,{name:"adLoaded",data:function(t){return{ad_loaded_time:t.timeoutInfo.initAd,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_STARTED,{name:"adStarted",data:function(t){return{ad_started_time:t.timeoutInfo.startAd,ad_cumulative_time:this.adCumulativeTime,ad_global_timeout_time:t.timeoutInfo.globalAdTimeout}}}),this.registerEventDefinition(t.AD_IMPRESSION,{name:"adImpression",data:function(){return{ad_impression_time:this.impressionStartedTime-this.adStartedTime}}}),this.registerEventDefinition(t.AD_VIDEO_START,{name:"adVideoStarted",data:function(t){return{ad_video_started_time:t.timeoutInfo.bufferAd,ad_cumulative_time:this.adCumulativeTime}}}),this.registerEventDefinition(t.AD_VIDEO_COMPLETE,{name:"adEnded",data:function(t){return{ad_paused:this.adPaused,ad_displayed_time:t.timeStamp-this.videoStartedTime,ad_ended_reason:t.endedReason,ad_imp_vstart_interval:this.impressionStartedTime-this.videoStartedTime}}}),this.on(t.AD_LINEAR_SLOT_STARTED,this.bindEvents),this.on(t.AD_LINEAR_SLOT_ENDED,this.unbindEvents)})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return n=i(4),t=i(7),e=i(360),r=function(){return this.attributes({eventsDefinitions:{}}),this.after("initialize",function(){return this.eventBusEmitter=e.getInstance({url:n.context("ed_endpoint"),v1st:n.context("v1st")}),this.on(t.QUALITY_CHANGED,function(t,e){return this.cell=e.streamCell,this.streamTech=e.streamTech,this.mimeType=e.quality.resource.type}),this.on(t.VIDEO_SELECTED,function(){return this.eventBusEmitter.viewId=n.metadata("view_id"),this.streamTech=this.mimeType=this.cell=null}),this.on(t.API_SET_PROP,function(t,e){var i,n;return i=e.prop,n=e.value,"ga_client_id"===i&&null!=n?this.eventBusEmitter.gaClientId=n:void 0})}),this.registerEventDefinition=function(t,e){return this.initializeEventsDefinitionsForEvent(t),null!=e.name&&(this.attr.eventsDefinitions[t].name=e.name),null!=e.priority&&(this.attr.eventsDefinitions[t].priority=e.priority),null!=e.data?this.attr.eventsDefinitions[t].data.push(e.data):void 0},this.initializeEventsDefinitionsForEvent=function(t){return null==this.attr.eventsDefinitions[t]?this.attr.eventsDefinitions[t]={priority:"low",data:[]}:void 0},this.sendEventToEventBus=function(t,e){var i;return null==e&&(e={}),null!=(null!=(i=this.attr.eventsDefinitions[t.type])?i.name:void 0)?this.eventBusEmitter.send(this.getEventPayload(t.type,e),this.getEventPriority(t.type)):void 0},this.getEventPriority=function(t){return null!=this.attr.eventsDefinitions[t].priority?this.attr.eventsDefinitions[t].priority:"low"},this.getEventPayload=function(t,e){var i,n,r,o,s;if(null==e&&(e=null),i=$.extend(this.getCleanContext(),this.getCleanMetadata(),this.getTopicAttributes()),null!=this.attr.eventsDefinitions[t].data)for(s=this.attr.eventsDefinitions[t].data,r=0,o=s.length;o>r;r++)n=s[r],i=$.extend(i,n.bind(this)(e));return{name:[this.topicName,this.attr.eventsDefinitions[t].name].join("."),data:i}},this.getCleanContext=function(){return{context:{as_number:n.context("as_number"),client_type:n.context("client_type",""),country:n.context("country"),device:n.context("device"),embedder:n.context("embedder"),env:n.context("env"),integration:n.context("integration"),locale:n.context("locale"),onsite:n.context("onsite"),player_type:"html5",player_version:n.context("player_version"),referer:n.context("referer"),screen:[n.window().screen.availWidth,n.window().screen.availHeight].join("x"),secure:n.context("secure"),version:n.context("version"),visitor_group:n.context("visitor_group")}}},this.getCleanMetadata=function(){var t;return t={metadata:{duration:n.metadata("duration",""),id:n.metadata("id",""),stream_type:n.metadata("stream_type","")}},this.streamTech&&(t.metadata.stream_tech=this.streamTech),this.mimeType&&(t.metadata.mime_type=this.mimeType),this.cell&&(t.metadata.cell=this.cell),t},this.getTopicAttributes=function(){return null}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){return function(){return t.apply(e,arguments)}};n=function(){var t,e,n,o,s;return n=i(4),o=i(361),s=i(11).get("Emitter"),e=i(58).Events,t=function(){function t(){}var i,n,a,u;return n=null,u=new e,a=!1,t.getInstance=function(t){return null!=n?n:n=new i(t)},i=function(){function t(t){var e;return null==t&&(t={}),this._reset=r(this._reset,this),this._send=r(this._send,this),this._parameters=t,this._initPrerequisites(),this._extractOptions(),this._resetEmissionState(!0),e={send:this._send,reset:this._reset,on:u.on.bind(u),off:u.off.bind(u)},o.defineProperties(e,{viewId:{get:function(t){return function(){return t._viewId}}(this),set:function(t){return function(e){return t._viewId=e,a=!1}}(this)},gaClientId:{get:function(t){return function(){return t._gaClientId}}(this),set:function(t){return function(e){t._gaClientId=e}}(this)}}),e}return t.prototype._priorityScale={critical:1,high:.7,medium:.5,low:.3,trivial:.1},t.prototype._maxEmissionWeight=1,t.prototype._maxTries=2,t.prototype._call=function(t){return $.ajax({url:this._edEndpoint,type:"POST",contentType:"text/plain",noAjaxExtraParameters:!0,timeout:1e3,data:t}).done(function(t){return"ok"===t.status?s.log("Response: "+t.status):s.log("Something is wrong with your payload, fix it and resend events")}).fail(function(e){return function(i,n){var r;if(r=i.status,s.log("something went wrong server side (",r,") ",e._tries+"/"+e._maxTries),!r||r>=400||"timeout"===n){if(e._tries<e._maxTries)return e._tries++,e._call(t);if(0===r&&!a)return a=!0,u.trigger("err_blocked")}}}(this))},t.prototype._emitter=function(t,e){return s.log("Send",e.events.length,"events",e),this._tries=1,this._call(t)},t.prototype._sendEvents=function(){var t;if(null!=(t=this._eventsQueue)?t.length:void 0)return clearTimeout(this._immediateTimeout),this._immediateTimeout=setTimeout(function(t){return function(){return t._emitEvents()}}(this),0)},t.prototype._emitEvents=function(){var t,e;return t=(new Date).getTime(),e=this._buildPayload(t),this._emitter(JSON.stringify(e),e),this._resetEmissionState()},t.prototype._buildPayload=function(t){return{channel:"player",sent_ts:t,v1st:this._v1st,events:this._eventsQueue}},t.prototype._resetEmissionState=function(t){return null==t&&(t=!1),t||(this._lastEmissionTime=(new Date).getTime()),this._eventsQueue=[],this._emissionWeight=0,clearTimeout(this._emissionTimer)},t.prototype._scheduleNextEmission=function(t){return t>0?(clearTimeout(this._emissionTimer),this._emissionTimer=setTimeout(function(t){return function(){return t._sendEvents()}}(this),t)):this._sendEvents()},t.prototype._queueEvent=function(t){return this._eventsQueue.push(t)},t.prototype._send=function(t,e){return this._now=(new Date).getTime(),t.created_ts=this._now,t.data.view_id=this._viewId,null!=this._gaClientId&&(t.data.ga_client_id=this._gaClientId),this._queueEvent(t),this._scheduleNextEmission(this._getNextEmissionDelay(t,e))},t.prototype._getNextEmissionDelay=function(t,e){var i,n,r;return n=0,i=null!=this._lastEmissionTime?this._now-this._lastEmissionTime:-1,null!=this._priorityScale[e]?r=this._priorityScale[e]:(s.log("You might want to set an explicit priority level for ",t.type,', we set it to "trivial" for now'),r=this._priorityScale.trivial),this._emissionWeight+=r,this._emissionWeight>=this._maxEmissionWeight?i>0&&i<this._emissionMinDelay&&(n=this._emissionMinDelay-i):0>i?this._emissionTimer||(n=this._emissionMaxDelay):i<this._emissionMaxDelay&&(n=this._emissionMaxDelay-i),n},t.prototype._reset=function(){return this._lastEmissionTime=null,this._resetEmissionState(!0)},t.prototype._initPrerequisites=function(){var t;if(t=[],this._edEndpoint=null!=this._parameters.url?this._parameters.url:t.push("url"),this._v1st=this._parameters.v1st,t.length)throw new Error("Missing parameter(s) "+t.join(", ")+" in EventBusEmitter.getInstance")},t.prototype._extractOptions=function(){var t,e;if(t=(null!=(e=this._parameters)?e.options:void 0)||{},!t.emissionMinDelay&&t.emissionMaxDelay||!t.emissionMaxDelay&&t.emissionMinDelay)throw new Error("You must provide both emissionMinDelay and emissionMaxDelay in EventBus options or none at all (default will be emissionMinDelay = 500ms and emissionMaxDelay = 2000ms).");if(this._emissionMinDelay=t.emissionMinDelay||2e3,this._emissionMaxDelay=t.emissionMaxDelay||1e4,t.emissionMinDelay>=t.emissionMaxDelay)throw new Error("emissionMinDelay must be < emissionMaxDelay in EventBus options.")},t}(),t}()}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(42).component,e=i(44),n=i(4),t=i(7),s=i(359),a=i(363),o=function(){var e,i;return this.topicName="life_cycle",e="TIMEUPDATE_FIRST",i="TIMEUPDATE_SECOND",this.onVideoStart=function(e){return this.videoStartTime=(new Date).getTime(),this.nbTimeUpdate=0,this.previousTime=0,this.sendEventToEventBus(e),this.off(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.on(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.off(t.VIDEO_PLAYING,this.onVideoPlaying),this.on(t.VIDEO_PLAYING,this.onVideoPlaying),this.off(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.on(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate)},this.onVideoLoadedData=function(t){return this.sendEventToEventBus(t),this.off(t.type,this.onVideoLoadedData)},this.onVideoPlaying=function(t){return this.sendEventToEventBus(t),this.off(t.type,this.onVideoPlaying)},this.onVideoTimeUpdate=function(t,n){var r;return r=0===this.nbTimeUpdate?e:this.nbTimeUpdate>0&&n.time>this.previousTime?(this.off(t.type,this.onVideoTimeUpdate),i):void 0,null!=r&&this.sendEventToEventBus({type:r},{time:n.time}),this.previousTime=n.time,this.nbTimeUpdate++},this.onAdStarted=function(t,e){return this.adStartedTime=(new Date).getTime(),this.sendEventToEventBus(t,e)},this.onAnnotationChangeConfirmed=function(t,e){return e.enabled?this.sendEventToEventBus(t):void 0},this.getStartTimeData=function(){var t;return t=(new Date).getTime()-this.videoStartTime,t>0&&6e4>t?{start_time:t}:{}},this.after("initialize",function(){return this.registerEventDefinition(t.COMPONENTS_READY,{name:"initEnd",data:function(t){var e;return e=t.time-n.context("init_start_time"),{init_time:e>0&&6e4>e?e:6e4}}}),this.registerEventDefinition(t.AD_BLOCKER_DETECTED,{name:"adBlockerDetected"}),this.registerEventDefinition(t.VIDEO_START,{name:"videoStart"}),this.registerEventDefinition(t.VIDEO_LOADED_DATA,{name:"videoLoadedData",data:function(){return this.getStartTimeData()}}),this.registerEventDefinition(t.VIDEO_PLAYING,{name:"videoPlaying",data:function(){return this.getStartTimeData()}}),this.registerEventDefinition(e,{name:"videoTimeupdate1st",data:function(t){return $.extend(this.getStartTimeData(),t)}}),this.registerEventDefinition(i,{name:"videoTimeupdate2nd",data:function(t){return $.extend(this.getStartTimeData(),t)}}),this.registerEventDefinition(t.VIDEO_ENDED,{name:"videoEnd"}),this.registerEventDefinition(t.AD_STARTED,{name:"adDisplayed",data:function(t){return{ad_type:t.position,ad_duration:t.duration,ad_provider:"LIVERAIL"}}}),this.registerEventDefinition(t.AD_IMPRESSION,{name:"adImpression",priority:"critical",data:function(t){return{ad_type:t.position,ad_impression_time:(new Date).getTime()-this.adStartedTime,ad_provider:"LIVERAIL"}}}),this.registerEventDefinition(t.CHROMECAST_READY,{name:"chromecastAvailable"}),this.registerEventDefinition(t.CHROMECAST_REMOTE_ENABLED,{name:"remoteScreenDisplayed"}),this.registerEventDefinition(t.CHROMECAST_OVERIDE_PANE_WILL_OPEN,{name:"remoteSessionOverrideScreenDisplayed"}),this.registerEventDefinition(t.ANNOTATIONS_CHANGE_CONFIRMED,{name:"annotationsDisplayed",priority:"low"}),this.registerEventDefinition(t.END_SCREEN_WILL_OPEN,{name:"endScreenDisplayed",data:function(t){var e;return e={endscreen_type:t.name},"related"===t.name&&(e.endscreen_items_count=t.itemsCount,e.related_algo=t.algo),e}}),this.registerEventDefinition(t.ERROR_DISPLAY_REQUESTED,{name:"errorScreenDisplayed",data:function(t){return{errorscreen_type:t.type,errorscreen_code:t.code}}}),this.registerEventDefinition(t.LOAD_VIDEO,{name:"loadVideo"}),this.on(t.COMPONENTS_READY,this.sendEventToEventBus),this.on(t.AD_BLOCKER_DETECTED,this.sendEventToEventBus),this.on(t.VIDEO_START,this.onVideoStart),this.on(t.VIDEO_ENDED,this.sendEventToEventBus),this.on(t.AD_STARTED,this.onAdStarted),this.on(t.AD_IMPRESSION,this.sendEventToEventBus),this.on(t.CHROMECAST_READY,this.sendEventToEventBus),this.on(t.CHROMECAST_REMOTE_ENABLED,this.sendEventToEventBus),this.on(t.CHROMECAST_OVERIDE_PANE_WILL_OPEN,this.sendEventToEventBus),this.on(t.ANNOTATIONS_CHANGE_CONFIRMED,this.onAnnotationChangeConfirmed),this.on(t.END_SCREEN_WILL_OPEN,this.sendEventToEventBus),this.on(t.END_SCREEN_VIDEO_CLICKED,this.sendEventToEventBus),this.on(t.ERROR_DISPLAY_REQUESTED,this.sendEventToEventBus),this.on(t.LOAD_VIDEO,this.sendEventToEventBus)})},r(s,o,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(44),n=i(4),t=i(7),r=function(){return this.onVideoSelected=function(){return this.advertising=n.metadata("advertising")},this.onPlayerSizeChanged=function(t,e){return this.width=e.width},this.additionalEventData=function(t){return{autoplay:e.canAutoplay()&&n.settings("autoplay"),channel:n.metadata("channel",""),explicit:n.metadata("explicit",!1),owner_username:n.metadata("owner.username",""),partner:n.metadata("partner",!1),player_width:this.width,repost:n.metadata("repost",!1),verified:n.metadata("verified",!1)}},this.after("initialize",function(){return this.registerEventDefinition(t.VIDEO_LOADED_DATA,{data:this.additionalEventData}),this.registerEventDefinition(t.VIDEO_ENDED,{data:this.additionalEventData}),this.registerEventDefinition(t.END_SCREEN_VIDEO_CLICKED,{name:"endScreenVideoClicked",data:function(t){var e;return e={endscreen_type:t.name,video_id:t.videoId},"related"===t.name&&(e.related_algo=t.algo),e}}),this.on(t.VIDEO_SELECTED,this.onVideoSelected),this.width=0,this.on(n.rootNode(),t.PLAYER_SIZE_CHANGED,this.onPlayerSizeChanged)})}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(42).component,n=i(4),t=i(7),e=i(149),s=i(359),o=function(){var i;return this.topicName="streaming",i="PLAYBACK_STATE",this.onComponentsReady=function(t){var e;return this.componentsReadyTime=t.timeStamp,e=this.componentsReadyTime-n.context("init_start_time"),this.resetData(e,this.levelMin,this.levelMax,this.levelNb),this.sendPlaybackState("componentsReady")},this.onAdLinearSlotStarted=function(t,e){return this.videoSlot=!1,"preroll"===e.position?(this.prerollRequestTime=t.timeStamp,this.prerollStartTime=0,this.bindAdLinearListeners(),this.sendPlaybackState("AdLinearStarted")):void 0},this.onVideoSlotStarted=function(t){return this.videoSlot=!0,this.videoSlotStartedTime=t.timeStamp},this.bindAdLinearListeners=function(){return this.on(t.AD_IMPRESSION,this.onAdImpression),this.on(t.AD_LINEAR_SLOT_ENDED,this.onAdLinearSlotEnded)},this.unbindAdLinearListeners=function(){return this.off(t.AD_IMPRESSION,this.onAdImpression),this.off(t.AD_LINEAR_SLOT_ENDED,this.onAdLinearSlotEnded)},this.onAdImpression=function(e){return this.videoSlot=!1,this.prerollStartTime=e.timeStamp,this.prerollStartTime>this.prerollRequestTime&&(this.data.duration.preroll.linearAdInit=this.prerollStartTime-this.prerollRequestTime),this.off(t.AD_IMPRESSION,this.onAdImpression),this.sendPlaybackState("AdImpression")},this.onAdLinearSlotEnded=function(t,e){var i;return i=t.timeStamp,this.unbindAdLinearListeners(),0===this.data.duration.preroll.linearAdInit?i>this.prerollRequestTime&&(this.data.duration.preroll.linearAdInit=i-this.prerollRequestTime):i>this.prerollStartTime&&(this.data.duration.preroll.linearAdDisplay=i-this.prerollStartTime),this.sendPlaybackState("AdLinearEnded")},this.onQualitiesAvailable=function(t,e){var i,n,r;return r=e.qualities,(n=r.length)?(this.levelMin=parseInt(r[n-1].name),this.levelMax=parseInt(r[0].name),this.levelNb=n,i=this.data.level,i?(i.min=this.levelMin,i.max=this.levelMax,i.nb=n):void 0):void 0},this.onVideoStart=function(t){return this.videoSlot=!0,this.data.state="start"},this.onVideoLoadedData=function(t){return this.data.state="loadedData",0===this.data.duration.loading?(this.loadedDataTime=t.timeStamp,this.videoSlotStartedTime>=0&&this.loadedDataTime>this.videoSlotStartedTime?this.data.duration.loading=this.loadedDataTime-this.videoSlotStartedTime:this.loadedDataTime>this.componentsReadyTime&&(this.data.duration.loading=this.loadedDataTime-this.componentsReadyTime),this.seekingTime=0,this.sendPlaybackState("videoLoadedData")):void 0},this.onVideoEnded=function(){return this.data.state="ended",this.videoSlot=!1,clearInterval(this.updateInterval),this.updateInterval=null,this.loadedDataTime=this.seekingTime=this.seekedTime=this.pausedStartTime=this.bufferingStartTime=0,this.sendPlaybackState("videoEnded")},this.onVideoRebuffering=function(){return this.data.rebufferingNb++},this.onVideoTimeUpdate=function(t,e){var i,r,o,s;if(this.videoSlot)return this.data.bufferHealth=Math.floor(1e3*e.buffer),this.data.position=Math.floor(1e3*e.time),this.data.duration.watched=Math.floor(1e3*e.watched),this.data.duration.played=Math.floor(1e3*e.played),s=this.data.duration.watched,s&&(i=this.data.level.last,i&&(this.sumWatchedLevel+=(s-this.lastWatched)*i,this.sumWatchedLevelIdx+=(s-this.lastWatched)*(this.currentLevelIdx+1),this.data.level.avg=Math.floor(this.sumWatchedLevel/s),this.data.level.avgIdx=Math.floor(100*this.sumWatchedLevelIdx/s)/100,this.lastWatched=s)),this.updateInterval?void 0:(r=n.metadata("duration"),r?(o=r/10*1e3,o=Math.max(1e4,o),o=Math.min(3e4,o)):o=1e4,this.updateInterval=n.window().setInterval(this.onVideoInterval.bind(this),o))},this.onQualityChanged=function(t,e){var i,n;if(n=parseInt(e.quality.name),i=e.adaptive,this.currentLevelIdx=e.quality.index,this.data.level.last=n,this.data.level.lastAuto=i,this.data.level.start||(this.data.level.start=n,
this.data.level.startAuto=i),i){if(!this.data.level.autoMin)return this.data.level.autoMin=this.data.level.autoMax=this.data.level.autoLast=n,this.data.level.autoChange=0;if(this.data.level.autoLast!==n)return this.data.level.autoChange++,this.data.level.autoLast=n,this.data.level.autoMin=Math.min(this.data.level.autoMin,n),this.data.level.autoMax=Math.max(this.data.level.autoMax,n)}else{if(!this.data.level.manualMin)return this.data.level.manualMin=this.data.level.manualMax=this.data.level.manualLast=n,this.data.level.manualChange=0;if(this.data.level.manualLast!==n)return this.data.level.manualChange++,this.data.level.manualLast=n,this.data.level.manualMin=Math.min(this.data.level.manualMin,n),this.data.level.manualMax=Math.max(this.data.level.manualMax,n)}},this.onVideoPause=function(e){return this.videoSlot?(this.data.state="paused",this.pausedDuration=this.data.duration.paused,this.pausedStartTime=e.timeStamp,this.on(t.VIDEO_PLAY,this.onVideoPlay),this.off(t.VIDEO_PAUSE,this.onVideoPause),this.off(t.VIDEO_WAITING,this.onVideoWaiting)):void 0},this.onVideoPlay=function(e){return this.videoSlot?(this.pausedStartTime&&e.timeStamp>this.pausedStartTime&&(this.data.duration.paused=this.pausedDuration+e.timeStamp-this.pausedStartTime),this.loadedDataTime=this.seekedTime=this.pausedStartTime=0,this.off(t.VIDEO_PLAY,this.onVideoPlay),this.on(t.VIDEO_PAUSE,this.onVideoPause)):void 0},this.onVideoSeeking=function(e){return this.videoSlot?(this.data.duration.loading&&(this.data.state="seeking",this.checkPendingBuffering(e.timeStamp),this.seekingTime=e.timeStamp,this.seekingDuration=this.data.duration.seeking,this.data.seekNb++),this.off(t.VIDEO_WAITING,this.onVideoWaiting)):void 0},this.onVideoSeeked=function(t){return this.videoSlot&&this.seekingTime>0?(this.data.state="seeked",this.seekedTime=t.timeStamp,this.seekedTime&&this.seekedTime>this.seekingTime&&(this.data.duration.seeking=this.seekingDuration+this.seekedTime-this.seekingTime),this.seekingTime=0):void 0},this.onVideoWaiting=function(t){return this.videoSlot&&"waiting"!==this.data.state?(this.data.state="waiting",this.data.waitingNb++,this.bufferingStartTime=t.timeStamp,this.bufferingDuration=this.data.duration.buffering):void 0},this.onVideoPlaying=function(e){return this.videoSlot?(this.data.state="playing",this.checkPendingBuffering(e.timeStamp),this.on(t.VIDEO_WAITING,this.onVideoWaiting)):void 0},this.checkPendingBuffering=function(t){if(t>0){if(this.loadedDataTime>0&&0===this.pausedStartTime)return t>this.loadedDataTime&&(this.data.duration.loadedWaiting=t-this.loadedDataTime),this.loadedDataTime=0;if(this.seekedTime>0&&0===this.pausedStartTime)return t>this.seekedTime&&(this.data.duration.seekedWaiting+=t-this.seekedTime),this.seekedTime=0;if(this.seekingTime>0)return t>this.seekingTime&&(this.data.duration.seeking=this.seekingDuration+t-this.seekingTime),this.seekingTime=0;if(this.bufferingStartTime>0)return t>this.bufferingStartTime&&(this.data.duration.buffering=this.bufferingDuration+t-this.bufferingStartTime),this.bufferingStartTime=0}},this.onVideoInterval=function(){return this.trigger(t.QUALITY_STATS_REQUESTED)},this.onQualityStatsResponded=function(t,e){return this.updateDurations(t.timeStamp),this.sendPlaybackState("videoTimeUpdate",e)},this.updateDurations=function(t){switch(this.data.state){case"waiting":return t>this.bufferingStartTime?this.data.duration.buffering=this.bufferingDuration+t-this.bufferingStartTime:this.data.duration.buffering=this.bufferingDuration;case"seeking":return t>this.seekingTime?this.data.duration.seeking=this.seekingDuration+t-this.seekingTime:this.data.duration.seeking=this.seekingDuration;case"paused":return t>this.pausedStartTime?this.data.duration.paused=this.pausedDuration+t-this.pausedStartTime:this.data.duration.paused=this.pausedDuration}},this.sendPlaybackState=function(t,n){return null==n&&(n=null),this.data.type=t,null!=n&&(this.data.delivery=n),this.sendEventToEventBus({type:i},e(this.data,!0))},this.onVideoSelected=function(){return this.resetData(this.data.duration.init,this.levelMin,this.levelMax,this.levelNb),this.videoSlot=!0},this.onErrorPlayer=function(t,e){return this.updateDurations(t.timeStamp),null!=e.error.code?this.data.state=e.error.code:this.data.state=e.error,clearInterval(this.updateInterval),this.updateInterval=null,this.videoSlot=!1,this.sendPlaybackState("error")},this.resetData=function(t,e,i,n){return this.loadedDataTime=this.seekingTime=this.seekingDuration=this.seekedTime=this.pausedStartTime=this.bufferingStartTime=this.bufferingDuration=this.sumWatchedLevel=this.sumWatchedLevelIdx=this.lastWatched=this.currentLevelIdx=0,this.data={duration:{init:t,preroll:{linearAdInit:0,linearAdDisplay:0},midroll:[],loading:0,loadedWaiting:0,buffering:0,paused:0,played:0,seeking:0,seekedWaiting:0,watched:0},seekNb:0,waitingNb:0,rebufferingNb:0,position:0,bufferHealth:0,level:{}},e&&(this.data.level.min=e),i&&(this.data.level.max=i),n?this.data.level.nb=n:void 0},this.after("initialize",function(){return this.data={duration:{init:0}},this.registerEventDefinition(i,{name:"playbackState",priority:"trivial",data:function(t){return t}}),this.on(t.COMPONENTS_READY,this.onComponentsReady),this.on(t.QUALITIES_AVAILABLE,this.onQualitiesAvailable),this.on(t.QUALITY_CHANGED,this.onQualityChanged),this.on(t.VIDEO_START,this.onVideoStart),this.on(t.VIDEO_LOADED_DATA,this.onVideoLoadedData),this.on(t.VIDEO_PLAYING,this.onVideoPlaying),this.on(t.VIDEO_PAUSE,this.onVideoPause),this.on(t.VIDEO_TIME_UPDATE,this.onVideoTimeUpdate),this.on(t.VIDEO_SEEKING,this.onVideoSeeking),this.on(t.VIDEO_SEEKED,this.onVideoSeeked),this.on(t.VIDEO_ENDED,this.onVideoEnded),this.on(t.VIDEO_REBUFFERING,this.onVideoRebuffering),this.on(t.ERROR_PLAYER,this.onErrorPlayer),this.on(t.VIDEO_SELECTED,this.onVideoSelected),this.on(t.VIDEO_SLOT_STARTED,this.onVideoSlotStarted),this.on(t.AD_LINEAR_SLOT_STARTED,this.onAdLinearSlotStarted),this.on(t.QUALITY_STATS_RESPONDED,this.onQualityStatsResponded)})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s;return r=i(42).component,n=i(4),t=i(7),s=i(359),e=i(6).PLAYER_ERR_EB_BLOCKED,o=function(){return this.onErrBlocked=function(i,n){return this.trigger(t.ERROR_PLAYER,{error:e})},this.after("initialize",function(){return this.boundOnErrBlocked=this.onErrBlocked.bind(this),this.eventBusEmitter.on("err_blocked",this.boundOnErrBlocked)}),this.before("teardown",function(){return this.eventBusEmitter.off("err_blocked",this.boundOnErrBlocked),this.boundOnErrBlocked=null})},r(s,o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a,u,h,l;return o=i(42).component,r=i(4),n=i(118).Location,l=i(350),t=i(348),e=i(367),u=i(11).get("Pinba"),s=function(t){var e,i;return e=n.parse(t),i=n.parseQueryString(e.hash,!0),i.proxy=e.hostname,i},a=function(t){switch(t){case AD_STEPS.LOAD_AD_UNIT:return"loadAd";case AD_STEPS.INIT_AD:return"initAd";case AD_STEPS.START_AD:return"startAd";default:return null}},h=function(){return this.enabled=function(){return r.metadata("reporting.pinba.enable")},this.setup=function(){var i,n,o;return u.log("Setting up!"),o=r.metadata("reporting.pinba.url","http://www.dailymotion.com/track/"),n={baseURL:o,cc:r.get("country"),as:r.get("as_number"),logger:u},i=new e(n),i.on(t.VIDEO_INFOS,function(t,e){return"recorded"===e.stream_type&&(e.stream_type="vod"),this.setVideoInfo({xid:e.id,mode:e.stream_type})}),i.on(t.VIDEO_RESOLVED_CDN,function(t,e){return n=s(e),this.setVideoInfo(n)}),i.on(t.VIDEO_REBUFFERING,function(t,e){return this.track("stream.rebuffering")}),i.measureTime(t.CONTROLS_PLAY,t.VIDEO_RESOLVED_CDN,function(t){return this.trackTiming("stream.resolve",t)}),i.on(t.AD_LOAD_START,function(t,e){return this.track("loadAd.init")}),i.on(t.AD_LOAD_TIMEOUT,function(t,e){return this.track("loadAd.timeout")}),i.measureTime(t.AD_LOAD_START,t.AD_LOAD_END,function(t,e){return this.trackTiming("loadAd.time",t)}),i.on(t.AD_INIT_START,function(t,e){return this.track("initAd.init")}),i.on(t.AD_INIT_TIMEOUT,function(t,e){return this.track("initAd.timeout")}),i.measureTime(t.AD_INIT_START,t.AD_INIT_END,function(t,e){return this.trackTiming("initAd.time",t)}),i.on(t.AD_START_START,function(t,e){return this.track("startAd.init")}),i.on(t.AD_START_TIMEOUT,function(t,e){return this.track("startAd.timeout")}),i.measureTime(t.AD_START_START,t.AD_START_END,function(t,e){return this.trackTiming("startAd.time",t)}),i.measureTime(t.VIDEO_START,t.VIDEO_PLAYING,function(t,e){var i;return(null!=e&&null!=(i=e[1])?i.resolvedCDN:void 0)===!0?this.trackTiming("stream.play",t):this.trackTiming("stream.resolveandplay",t)}),i}},o(l,h)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(352),e=function(t){function e(t){var i,n;this.options=t,e.__super__.constructor.call(this,this.options),this.baseURL=this.options.baseURL,n=this.options.cc,i=this.options.as,this.queue=[],this.params={xid:"undefined",country:n,as:i,cell:"undefined",proxy:"undefined",comment:"undefined"}}var i;return r(e,t),e.prototype.setVideoInfo=function(t){this.logger.log("Got video info (xid:",t.xid,")"),t.mode&&(this.mode=t.mode),t.xid&&(this.params.xid=t.xid),t.cell&&(this.params.cell=t.cell),t.proxy&&(this.params.proxy=t.proxy),t.comment&&(this.params.comment=t.comment),this.params.xid&&this.mode&&this.flushQueue()},e.prototype.track=function(t){return this.logger.log("Track :",t,"(queue is "+(this.queue?"on":"off")+")"),$.isArray(t)||(t=[t]),this.queue===!1?i.call(this,t):this.queue.push(t),this},e.prototype.flushQueue=function(){var t,e,n,r;if(this.queue&&this.queue.length)return this;for(this.logger.log("Flushing queue, queue status :",this.queue),r=this.queue,t=0,e=r.length;e>t;t++)n=r[t],i.call(this,n);return this.queue=!1,this},e.prototype.trackTiming=function(t,e){return e>0&&36e5>e&&this.track([t,e/1e3]),this},i=function(t){var e,i,n,r,o;e=t[0],r=t.length>1?t[1]:void 0,n="live"===this.mode?"live.html":"vod.html",o=""+this.baseURL+n+"."+e,i=r?$.extend({},this.params,{t:r}):this.params,$.extend(i,{_n:Math.round(1e8*Math.random())}),$.get(o,i).fail(function(t){return function(){return t.logger.warn("Error",arguments)}}(this))},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o,s,a;return r=i(42).component,n=i(4),o=i(11).get("Xiti"),s=i(350),t=i(348),e=i(369),a=function(){return this.attributes({videoTagSelector:null}),this.enabled=function(){return null!=n.metadata("reporting.xiti")},this.setup=function(){var r,s,a;return o.log("Setting up!"),s={logger:o},r=new e(s),a=this.select("videoTagSelector")[0],r.on(t.VIDEO_INFOS,function(t,e){var r,s,u;return u=null!=(s=e.reporting)?s.xiti:void 0,null==u?(o.log("Not any xiti data -> disabling"),void this.setVideoInfo(null)):(o.log("xiti tracking enabled :",u),r=n.settings("id"),r||(r="undefined"),void i.e(7,function(t){return function(n){var o,s,h,l;i(371),l={xtsite:u.website_id,xtsd:null!=(o=u.subdomain)?o.replace(/https?:\/\//,""):void 0,xtn2:u.second_level_id,xtinternaldom:null!=(s=u.internal_domain)?s.split("|"):void 0,refresh:10},h={xttype:"video",xtplayer:r,xtrichname:e.id+"_"+e.title,xtduration:e.duration,xtmode:"live"===e.stream_type?"live":"clip",xtquality:"",xtstream:"",xtextension:"9"},t.setVideoInfo(l,h,a)}}(this)))}),r}},r(s,a)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=function(t,e){function i(){this.constructor=t}for(var n in e)o.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=function(){var t,e;return t=i(352),e=function(t){function e(t){this.options=t,e.__super__.constructor.call(this,this.options),this.queue=[],this.config=null,this.mediaControl=null,this.videoElement=null}return r(e,t),e.prototype.fire=function(){var t;return t=this,function(e){return t.enabled!==!1?(t.logger.log("Fire event ",e.type),t.mediaControl.fire.call(this,e)):void 0}},e.prototype.seek=function(){var t;return t=this,function(e){return t.enabled!==!1?(t.logger.log("Seek event ",e.type),t.mediaControl.seek.call(this,e)):void 0}},e.prototype.filter=function(t){"adsonly"===t?(this.logger.log("Filter 'adsonly' => disabling Xiti"),this.enabled=!1):null===t?this.logger.log("Filter disabled"):this.logger.warn("Unknow filterName: "+t+" => Not sure if we log everything correctly...")},e.prototype.setVideoInfo=function(t,e,i){var n,r;return"undefined"!=typeof ATMedia&&null!==ATMedia&&ATMedia.init?(e&&this.logger.log("Got video info (richName:",e.xtrichname,")"),window.ATMediaReady=void 0,this._fire||(this._fire=this.fire()),this._seek||(this._seek=this.seek()),n=function(t){return function(){var e,i,n,r;for(e=["playing","pause","ended"],n=0,r=e.length;r>n;n++)i=e[n],t.videoElement.addEventListener(i,t._fire,!1);return t.videoElement.addEventListener("seeked",t._seek,!1)}}(this),r=function(t){return function(){var e,i,n,r;for(e=["playing","pause","ended"],n=0,r=e.length;r>n;n++)i=e[n],t.videoElement.removeEventListener(i,t._fire,!1);return t.videoElement.removeEventListener("seeked",t._seek,!1)}}(this),this.config=t,this.config&&ATMedia.init(this.config),null!==this.mediaControl&&null!==this.videoElement&&(r(),ATMedia.removeMediaControl(this.mediaControl)),void(null!=e&&null!=i&&(this.videoElement=i,this.mediaControl=ATMedia.addMediaControl(this.videoElement,e),n()))):void(null==window.ATMediaReady&&(window.ATMediaReady=function(n){return function(){n.logger.log("ATMediaReady! Calling setVideoInfo again"),n.setVideoInfo(t,e,i)}}(this)))},e}(t)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},,,,function(t,e,i){var n;n=function(){var t,e,n,r;return e=i(4),n=i(42).component,t=i(7),r=function(){return this.after("initialize",function(){return this.on(t.WATCH_ON_SITE_REQUESTED,function(){return e.window().open(e.metadata("url"))})})},n(r)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t,e,n,r,o;return r=i(42).component,n=i(4),e=i(55),t=i(375),o=function(){return this.attributes({highlights:{dark:n.isGKEnabled("PV5_BRAND_COLORS")?"#3389ff":"#ffcc33",light:"#0066DC"},adHighlights:{dark:n.isGKEnabled("PV5_BRAND_COLORS")?"#ffc800":"#3389ff",light:"#D25320"},themes:{dark:"#151515",light:"#ffffff"},colors:{white:"#ffffff",black:"#000000"}}),this.getLuminance=function(e){var i,n;n=t.toRGB(e);for(i in n)n[i]=n[i]/255,n[i]<=.03928?n[i]=n[i]/12.92:n[i]=Math.pow((n[i]+.055)/1.055,2.4);return.2126*n.red+.7152*n.green+.0722*n.blue},this.getContrast=function(t,e){var i;return t+=.05,e+=.05,i=t/e,e>t?i=1/i:i},this.selectHighlight=function(){return null!=n.metadata("ui.highlight")?n.metadata("ui.highlight"):null!=n.settings("ui.highlight")?n.settings("ui.highlight"):this.attr.highlights[this.selectTheme()]},this.selectTheme=function(){return null!=n.metadata("ui.theme")&&n.metadata("ui.theme")in this.attr.themes?this.metadataTheme=n.metadata("ui.theme"):null!=n.settings("ui.theme")&&n.settings("ui.theme")in this.attr.themes?this.settingsTheme=n.settings("ui.theme"):"dark"},this.selectAccessibleTheme=function(t){return this.highlightLuminance=this.getLuminance(t),this.darkThemeContrast=this.getContrast(this.highlightLuminance,this.getLuminance(this.attr.themes.dark)),this.lightThemeContrast=this.getContrast(this.highlightLuminance,this.getLuminance(this.attr.themes.light)),this.selectTheme(),n.metadata("owner.verified")&&null!=this.metadataTheme?(this.getContrast(this.highlightLuminance,this.getLuminance(this.attr.themes[this.metadataTheme]))<4&&"undefined"!=typeof console&&null!==console&&"function"==typeof console.warn&&console.warn(e.__("accessibility:::The current highlight/theme colour combination on the video player might create accessibility problems.\nSee: http://leaverou.github.io/contrast-ratio/%highlight%-on-%background%",{highlight:t,theme:this.attr.themes[this.metadataTheme]})),this.metadataTheme):null!=this.settingsTheme&&Math.abs(this.darkThemeContrast-this.lightThemeContrast)<.6?this.settingsTheme:this.darkThemeContrast>this.lightThemeContrast?"dark":"light"},this.selectHighlightContrastColor=function(){return this.darkThemeContrast>this.lightThemeContrast?this.attr.colors.black:this.attr.colors.white},this.setStyles=function(t,e){var i,r,o,s;if($(n.rootNode()).addClass("dmp_theme--"+e),o=this.selectHighlightContrastColor(),s=".dmp_highlight--fill,.no-touchevents .dmp_StartView-play:hover ~ .dmp_StartView-play-button svg,.no-touchevents .dmp_StartView-play-button:focus ~ .dmp_StartView-play-button svg,.no-touchevents .dmp_DefaultEndScreen-button:hover>svg,.no-touchevents .dmp_DefaultEndScreen-button:focus>svg,.no-touchevents .dmp_NextVideoEndScreen-link:hover .dmp_NextVideoEndScreen-play-icon,.dmp_Player-keyboard-focus .dmp_NextVideoEndScreen-link:focus .dmp_NextVideoEndScreen-play-icon,.no-touchevents .dmp_SharePane-button:hover svg,.no-touchevents .dmp_Player-keyboard-focus .dmp_SharePane-button:focus svg{fill:"+t+"}.dmp_highlight--color,.dmp_ScheduledContentPane a,.dmp_ScheduledContentPane a:visited,.dmp_Menu-list-item-tag{color:"+t+"}.dmp_highlight--background,.dmp_SeekBar--content .dmp_SeekBar-time,.dmp_SeekBar-playhead,.dmp_LiveInfo-badge,.dmp_PasswordPane-button,.no-touchevents .dmp_SharePane-permalink-text:before,.dmp_Menu-list-item.dmp_is-active{background-color:"+t+"}.dmp_highlight--selection::-moz-selection,.dmp_SharePane-permalink-text::-moz-selection{background:"+t+"}.dmp_highlight--selection::selection,.dmp_SharePane-permalink-text::selection{background:"+t+"}.no-touchevents .dmp_StartView :focus,.no-touchevents .dmp_DefaultEndScreen-button:focus,.dmp_Player-keyboard-focus .dmp_NextVideoEndScreen-link:focus .dmp_NextVideoEndScreen-play-icon,.no-touchevents .dmp_RelatedEndScreen-item:focus,.no-touchevents .dmp_Player-keyboard-focus .dmp_ControlBarButton:focus,.no-touchevents .dmp_DockButton:focus,.no-touchevents .dmp_AdSkipButton:focus,.no-touchevents .dmp_SharePane-button:focus .dmp_SharePane-button-icon{outline-color:"+t+"}\n\n.dmp_highlight-contrast { color: "+o+" !important; }\n.dmp_SeekBar--ad .dmp_SeekBar-time, .dmp_SeekBar-marker { background-color: "+this.attr.adHighlights[e]+"; }",r=$("#dmp-styles"),i=$("#dmp-highlight"),i.length)return i.text(s);if(r.length)return r.after("<style id='dmp-highlight' type='text/css'>"+s+"</style>");throw new Error("Can't find the <link id='dmp-styles'> element.")},this.after("initialize",function(){var t;return t=this.selectHighlight(),o=this.selectAccessibleTheme(t),this.setStyles(t,o)})},r(o)}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(){var t;return t=function(t){return t=t.replace("#",""),{red:parseInt(t.substr(0,2),16),green:parseInt(t.substr(2,2),16),blue:parseInt(t.substr(4,2),16)}},{toRGB:function(e){return t(e)}}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}]));