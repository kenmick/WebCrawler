/*!CK:633621014!*//*1448015473,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["x1Wuy"]); }

__d('DeferredCookie',['Cookie','Map'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=new i(),k={shouldAddDefaultListener:true,defaultHandler:null,autoFlushCookies:false,addToQueue:function(l,m,n,o,p,q,r){if(this.autoFlushCookies){if(q){h.setIfFirstPartyContext(l,m,n,o,p);}else h.set(l,m,n,o,p);return;}if(j.has(l))return;j.set(l,{name:l,value:m,nMilliSecs:n,path:o,secure:p,firstPartyOnly:q});if(r)this.addDefaultInteractionListener();},flushAllCookies:function(){j.forEach(function(l,m){if(l.firstPartyOnly){h.setIfFirstPartyContext(l.name,l.value,l.nMilliSecs,l.path,l.secure);}else h.set(l.name,l.value,l.nMilliSecs,l.path,l.secure);});this.autoFlushCookies=true;j=new i();this.removeDefaultInteractionListener();},removeDefaultInteractionListener:function(){if(this.defaultHandler){if(window.removeEventListener){window.removeEventListener('click',this.defaultHandler,true);}else if(document.detachEvent)document.detachEvent('onclick',this.defaultHandler);this.defaultHandler=null;}},addDefaultInteractionListener:function(){if(this.shouldAddDefaultListener){this.shouldAddDefaultListener=false;this.defaultHandler=this.baseInteractionHandler.bind(this);if(window.addEventListener){window.addEventListener('click',this.defaultHandler,true);}else if(document.attachEvent)document.attachEvent('onclick',this.defaultHandler);}},baseInteractionHandler:function(){this.flushAllCookies();}};f.exports=k;},null);
__d('WebCookieUseBannerController',['DOM','DOMQuery','DeferredCookie','Parent'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l={init:function(m,n){this.banner=m;this.closeButton=n;this.addPageInteractionListeners();if(n){var o=function(){h.remove(m);};if(n.addEventListener){n.addEventListener('click',o);}else if(n.attachEvent)n.attachEvent('onclick',o);}},addPageInteractionListeners:function(){var m=(function(n){if(this.isWhitelistedTarget(n.getTarget()))return;j.flushAllCookies();if(window.removeEventListener){window.removeEventListener('click',m,true);}else if(document.detachEvent)document.detachEvent('onclick',m);}).bind(this);if(window.addEventListener){window.addEventListener('click',m,true);}else if(document.attachEvent)document.attachEvent('onclick',m);j.removeDefaultInteractionListener();},isWhitelistedTarget:function(m){if((!this.closeButton||m!==this.closeButton)&&i.contains(this.banner,m))return true;if(m.tagName.toLowerCase()!=='a')m=k.byTag(m,'a');if(m&&m.href&&m.href.indexOf('/help/cookies/')>-1)return true;return false;}};f.exports=l;},null);