YUI.add("metro_dali",function(b){var a=b.ModulePlatform;a.subscribe("init",function(){var f=a.getService("transport"),e=0,d="cfg.maple_dali.handler.add",c="cfg.maple_dali.handler.refresh";f.setResponseFormatter(function(g){if(g.mod){g.data=g.mod.data;}if(g.data){delete g.data.maple;}return g;});f.setRequestFormatter("arcade",function(h,i){var g=b.mix({},h),j=h._id;delete g.type;if(!j){j=i;}if(h._type){j=h._type;}return{handler:c,data:{maple:{module:j,ba:b.merge(g,{_txnid:e++,_mode:"json",_id:j,_container:0,chrome:"false"})}}};});f.setRequestFormatter("loadview",function(k,j){var g=b.mix({},k),i=a.queryModules(function(p){var o=a.getModuleApi(p);return o&&o.getProperty("type")=="pa";})[0],m,n=k.moduleId,h=n,l=a.getModuleApi(n);switch(g.view){case"pa":g={handler:c,data:{maple:{module:i,ba:{_action:"show",_subAction:"single",modId:n,chrome:(g.chrome?"true":"false"),_txnid:e++,_mode:"json",_id:i,_container:(g.chrome?1:0),data:(g.data?g.data:null),cpos:l.getProperty("cpos")||undefined,pointer:(l.isViewOpen("default")||l.isViewOpen("edit"))?1:undefined}}},batchable:true};break;case"default":if(g.chrome){if(i){m=a.queryModules(function(q){var p=a.getModuleApi(q),o=p&&p.getProperty("type");return o=="pacontainer";})[0];h=m;}g={handler:d,data:{maple:{module:h,ba:{_action:"show",chrome:(g.chrome?"true":"false"),_txnid:e++,_mode:"json",_id:h,modId:n,_container:(g.chrome?1:0),view:"default"}}}};break;}default:g={handler:c,data:{maple:{module:n,ba:{_action:"show",_subAction:g.view=="default"?undefined:g.view,view:g.view,_txnid:e++,_mode:"json",_id:n,_container:(g.chrome?1:0),chrome:(g.chrome?"true":"false")}}}};break;}delete g.moduleId;delete g.type;return g;});f.setRequestFormatter("module",function(g,h){var i=g.moduleId;if(!i){i=h;}return{handler:c,data:{maple:{module:i,ba:b.merge({_txnid:e++,_mode:"json",_id:i,_container:0},g.args)}}};});});},"1.0",{requires:["transport"]});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("module_api",function(a){a.ModuleApi=function(d,i){var h=i.props,f=a.Lang.isUndefined,b=h.id,j=i.prefs||{},g=null,c=["broadcast","listen","unlisten","closeView","getViewNode","getViewDirection","isViewOpen","navigate","openView","refreshView","setView"],e={getContextData:function(k){var m=i.data,l;if(m){l=(k?m[k]:m);}return(f(l)?g:l);},getId:function(){return b;},getProperty:function(k){var l=h[k];return f(l)?g:l;},getString:function(k){return d.getString(h.type,k);},getPref:function(k){var l=j[k];return f(l)?g:l;},setPref:function(k,l){var m=d.getService("transport");j[k]=l;if(m){m.makeRequest({type:"setpref",prefName:k,prefValue:l,moduleId:b},g,b);return true;}else{return false;}},getService:function(k){return d.getService(k,b);},error:function(k,l){d.error("module",k,a.merge((l?l:{}),{moduleId:b}));},abortRequest:function(k){var l=d.getService("transport");return !!(l&&l.abortRequest(k,b));},isRequestPending:function(k){var l=d.getService("transport");return !!(l&&l.isRequestPending(k,b));},makeRequest:function(k,m){var l=d.getService("transport");return(l?l.makeRequest(k,m,b):-1);}};a.Array.each(c,function(k){e[k]=function(){var l=a.Array(arguments,0,true);l.unshift(b);return d[k].apply(d,l);};});return e;};},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("yui_service",function(d){var b=d.ModulePlatform,a="MPServices",c="YUIProvider";if(d.Plugin&&d.Plugin.NodeFX){d.Node.plug(d.Plugin.NodeFX);}d.namespace(a);d[a][c]={name:"yui",getService:function(e,f){return d;}};if(b){b.registerService(d[a][c]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("metro_viewtype",function(d){var c=null,b=false,a=true;d.namespace("Metro");d.Metro.createViewType=function(l,f){function k(p,o){return f.signal(p,o,[l]);}function j(o){return(o=="fp"||o=="toolbar")?d.one("body"):d.one("#"+l+"-"+o+"-bd");}function e(p){var o=j(p);return o?o.getStyle("direction"):c;}function i(q,p){var o=q.targetId,r=p?p.callback:c;this.setView(o,q.html);if(d.Lang.isFunction(r)){r(o,l);}}function n(o){return j(o)!=c;}function m(p,o,s,q){p=d.Array(p);var r=[];d.Array.each(p,function(t){r.push({type:"loadview",view:l,moduleId:t,chrome:o,data:q});});return f.getService("transport").makeRequest(r,s);}function h(p,r){var q=[],o=a;p=d.Array(p);if(p.length){d.Array.each(p,function(s){if(n(s)){var t=k(s,"viewrefresh");if(t){q.push(s);}}else{o=o&&b;}});if(o){this.loadView(q,false,{success:d.bind(i,this)},r);}}else{o=b;}return o;}function g(p,o){if(n(p)){k(p,"viewunload");j(p).set("innerHTML",o);this._afterSetView(p,o);k(p,"viewload");return a;}else{return b;}}return d.merge(d.ModulePlatform.BaseViewType,{_afterSetView:function(){},getViewDirection:e,getViewNode:j,isViewOpen:n,loadView:m,refreshView:h,setView:g});};},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("default_viewtype",function(c){var m=c.ModulePlatform,h=null,j=false,g=true,k=c.Lang,o=c.DOM,b=j,i={},l={},d={},e,n="default",a="MPViewTypes",f="DefaultViewTypeProvider";c.on("unload",function(){b=g;},window);c.namespace(a);c[a][f]={name:n,create:function(r){function u(B,C,E){var G=r.getModuleApi(B),A=G.getProperty("detailUrl"),F,K,z,D,I,H=j,J=r.queryModules(function(N){var M=r.getModuleApi(N),L=M&&M.getProperty("type");return L=="pacontainer";})[0];switch(C){case"badcrumb":E=r.getProperty("crumbErrorHtml");H=g;break;case"nocookies":E=r.getProperty("cookieErrorHtml");break;default:if(!E){E=c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:G.getProperty("title"),img:G.getProperty("icon"),title:G.getProperty("title"),url:G.getProperty("detailUrl")});}}F=E.indexOf('id="default-'+B+'"')>-1?E:c.Lang.substitute(r.getProperty("modChromeHtml"),{html:E,type_name:G.getProperty("type"),view_name:"error"});K=E.indexOf('id="default-'+J+'"')>-1?F:c.Lang.substitute(r.getString("pa","pacontainerHtml"),{html:F,title:G.getProperty("title")});z=o.create(K);if(!A){o.addClass(z,"no-link");}if(H){D=o.create('<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+r.getString("pa","STR.OK")+"</a></p>");}else{if(e!=B){D=o.create('<p class="oops"><button class="cta-btn pa-mod-err-retry">'+r.getString("pa","STR.TRY_AGAIN")+"</button></p>");}}if(D){I=c.Selector.query(".oops-msg",z,g);if(I){I.appendChild(D);}}e=B;return z;}function v(A,z){if(k.isFunction(A)){A(z,n);}}function p(A){var z=r.getService("pa");return !!(z&&z.isPAModule(A));}function x(A,z){return r.signal(A,z,[n]);}function t(B){if(p(B)){var z=r.getModuleApi(B),C=z.getProperty("type"),A=r.getString("pa","STR.PA.DISCLAIMER"),D;if(A&&!z.getProperty("trusted")&&C!="yap"){D=c.one("#default-"+B+"-ft");if(D){D.set("innerHTML",A);}}}}function q(D,A){var C=r.getService("pa"),E=C.getPacontainerId(),B=r.getService("metrics"),z;if(B){B.start("rv",{moduleId:D});}z=o.create(A);if(z&&!z.length){if(!r.isStarted(E)){r.start(E);}C.setChild(z,D);t(D);C.setModuleLoading(j);x(E,"viewload");i[D]=z;}else{r.error("loadview","Invalid HTML received",{moduleId:D});}if(B){B.stop("rv");}}function w(B,C,z){var A=r.getService("pa"),D=A.getPacontainerId();if(!r.isStarted(D)){r.start(D);}A.setChild(u(B,C,z),B,C);A.setModuleLoading(j);x(D,"viewload");}function y(E,B){var C=E.targetId,A=l[C],H=B?B.callback:h,G=r.getService("metrics"),D=r.getService("transport"),F=E.html,z;if(G){z=D.getMetrics(A);if(z){if("rt" in z){G.set("rt",z.rt);}if("pr" in z){G.set("pr",z.pr);}if("dt" in z){G.set("js",z.dt);}}D.clearMetrics();G.stop("ov");}q(C,F);delete l[C];delete d[C];v(H,C);}function s(C,B){if(!b){var A=C.targetId,D=B?B.callback:h,z;d[A]=1;delete l[A];if(C.result!="abort"){z=r.getService("metrics");if(z){z.clear("ov");}r.error("loadview","Server error while loading default view.",{moduleId:A,html:(C?C.html:""),viewName:n});w(A,C.resultDetail,C.html);v(D,A);}}}return c.merge(c.Metro.createViewType(n,r),{closeView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z=(A&&p(B))?C:B;if(this.isViewOpen(B)&&x(z,"viewclose")){x(z,"viewunload");if(z==C){delete i[B];A.clearChild(B);}v(D,B);return g;}else{if(k.isNumber(l[B])){r.getService("transport").abortRequest(l[B]);delete l[B];}}return j;},hideView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","none");return g;}return j;},openView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z;if(A&&p(B)&&!this.isViewOpen(B)&&x(C,"viewopen")){z=r.getService("metrics");if(z){z.start("ov",{moduleId:B});}l[B]=this.loadView(B,g,{success:y,failure:s,argument:{moduleId:B,callback:D}});return l[B]!=-1;}else{return j;}},showView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","");return g;}return j;},_afterSetView:function(A,z){t(A);}});}};if(m){m.registerViewType(c[a][f]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("edit_viewtype",function(c){var o=null,l=false,h=true,j=c.ModulePlatform,r=o,f=l,q,d=o,e={},g="viewload",n="edit",i="MPViewTypes",a="EditViewTypeProvider";function m(t,s){return r.signal(t,s,[n]);}function b(u,t){var s=u.targetId,v=t?t.callback:o;delete e[s];f=l;d=c.DOM.create(u.html);if(d&&!d.length){r.hideView(s,"default");r.getViewNode(s,"default").get("parentNode").insert(d,"after");m(s,g);if(c.Lang.isFunction(v)){v(s,n);}}else{r.error("loadview","Invalid HTML received",{moduleId:s});}}function p(t){var s=r.getModuleApi(t);return c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:s.getProperty("title"),img:s.getProperty("icon"),title:s.getProperty("title"),url:s.getProperty("detailUrl")});}function k(v,u){var t=v.targetId,w=u?u.callback:o,s=p(t);r.getViewNode(t,"default").set("innerHTML",s);r.error("loadview","Server error while loading edit view.",{moduleId:t,html:(v?v.html:""),viewName:n});delete e[t];if(c.Lang.isFunction(w)){w(t,n);}}q={closeView:function(s,u){if(this.isViewOpen(s)){var t=c.one("#edit-"+s).getDOMNode();t.parentNode.removeChild(t);r.showView(s,"default");if(c.Lang.isFunction(u)){u(s,n);}return h;}else{if(c.Lang.isValue(e[s])){r.getService("transport").abortRequest(e[s]);delete e[s];}else{return l;}}},getViewNode:function(s){return c.Node.one("#edit-"+s+"-bd");},isViewOpen:function(s){return this.getViewNode(s)!=o;},loadView:function(s,t){f=h;return r.getService("transport").makeRequest({type:"loadview",view:"edit",moduleId:s,chrome:true},t);},openView:function(s,t){if(!this.isViewOpen(s)&&!f){e[s]=this.loadView(s,{success:b,failure:k,argument:{moduleId:s,callback:t}});return e[s]!=-1;}else{return l;}},refreshView:function(s){return l;},setView:function(t,s){if(this.isViewOpen(t)){m(t,"viewunload");this.getViewNode(t).set("innerHTML",s);m(t,g);return h;}else{return l;}},showView:function(s){return l;}};c.namespace(i);c[i][a]={name:n,create:function(s){r=s;return q;}};if(j){j.registerViewType(c[i][a]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
if(typeof YAHOO=="undefined"){YAHOO={};}if(!YAHOO.ULT){YAHOO.ULT={};}if(!YAHOO.ULT.BEACON){YAHOO.ULT.BEACON="http://geo.yahoo.com/t";}if(!YAHOO.ULT.IMG){YAHOO.ULT.IMG=new Image();}YAHOO.ULT.SRC_SPACEID_KEY="_S";YAHOO.ULT.DEST_SPACEID_KEY="_s";YAHOO.ULT.YLC_LIBSRC=2;YAHOO.ULT.CTRL_C="\x03";YAHOO.ULT.CTRL_D="\x04";YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-";(function(){YAHOO.ULT.track_click=function(c,g){if(!c||!g){return c;}g._r=YAHOO.ULT.YLC_LIBSRC;var h=[];var d=0;for(var b in g){var a=g[b];if(typeof(a)=="undefined"){a=g[b]="";}if(b.length<1){return c;}if(b.length>8){return c;}if(b.indexOf(" ")!=-1){return c;}if(YAHOO.ULT.has_ctrl_char(b)||YAHOO.ULT.has_ctrl_char(a)){return c;}h[d++]=b;}h=h.sort();var e=[];for(d=0;d<h.length;d++){e[d]=h[d]+YAHOO.ULT.CTRL_C+g[h[d]];}e=e.join(YAHOO.ULT.CTRL_D);if(e.length<1||e.length>1024){return c;}e=";_ylc="+YAHOO.ULT.encode64(e);d=c.indexOf("/*");if(d==-1){d=c.indexOf("/?");}if(d==-1){d=c.indexOf("?");}if(d==-1){return c+e;}else{return c.substr(0,d)+e+c.substr(d);}};YAHOO.ULT.beacon_click=function(c,b){if(!b){b=YAHOO.ULT.IMG;}if(c){var a=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,c);a+="?t="+Math.random();b.src=a;}return true;};YAHOO.ULT.has_ctrl_char=function(b){for(var a=0;a<b.length;a++){if(b.charCodeAt(a)<32){return true;}}return false;};YAHOO.ULT.encode64=function(c){var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+YAHOO.ULT.BASE64_STR.charAt(j)+YAHOO.ULT.BASE64_STR.charAt(g)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(d);k=h=f="";j=g=e=d="";}while(b<c.length);return a;};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("instrumentation",function(d){var L=null,Z=false,K=true,b=d.ModulePlatform,a=L,aa=L,ab=L,t=L,H=L,I=Z,r=L,Q=L,o=Z,f=Z,W=Z,G=K,k=Z,l=Z,J=L,e={},s,U,u=L,h="getProperty",C="data-b",S="aria-disabled",X="data-ylk",i="data-action",B="data-action-outcome",M="MPServices",V="InstrumentationProvider";function p(ae){var Y=new Image();Y.id=d.guid();e[Y.id]=Y;Y.onload=Y.onerror=function(){delete e[this.id];};if(ae){Y.src=ae;}return Y;}function A(ag){var ae=ag.hasAttribute(C)?ag:ag.ancestor(function(ah){return ah.hasAttribute(C);}),Y=ag.getAttribute(S)=="true",af=ae?ae.getAttribute(S)=="true":Z;if(ae&&!ag.hasClass("nobeacon")&&!Y&&!af){return ae.getAttribute(C);}else{return L;}}function w(Y){var ae,af=a[h]("ywa.rapid.enabled.modules")||{};if(Q&&d.Lang.isFunction(u.refreshModule)){ae=d.one(Y);if(ae){if(af[Y.get("id")]||W===K){u.refreshModule(ae.generateID());}}}}function v(Y){var ae;if(Q){if(o&&d.Lang.isFunction(u.refreshModuleAsRichView)){ae=d.one(Y);if(ae){u.refreshModuleAsRichView(ae.generateID());}}else{w(Y);}}}function c(Y){if(Q){u.addModules(Y);}}function n(af,ae,Y){if(u&&u.beaconLinkViews){u.beaconLinkViews(af,ae,Y);}}function x(Y){if(u&&u.beaconPerformanceData){u.beaconPerformanceData(Y);}}function ac(Y,af){if(Q&&d.Lang.isFunction(u.addModules)){var ag=d.one(Y),ah,ae={};if(ag){ah=ag.generateID();ae[ah]=af;u.addModules(ae);}}}function N(Y){if(Q){if(o&&d.Lang.isFunction(u.addModulesAsRichView)){u.addModulesAsRichView(Y);}else{c(Y);}}}function F(Y){if(Q&&d.Lang.isFunction(u.isModuleTracked)){var ae=d.one(Y);if(ae){return u.isModuleTracked(ae.generateID());}}}function E(Y){if(Q&&d.Lang.isFunction(u.removeModule)){var ae=d.one(Y);if(ae){return u.removeModule(ae.generateID());}}}function z(ae){if(!ae||!ae.hasAttribute(X)){return L;}var af={},ag=ae.getAttribute(X),Y;if(ag){Y=ag.split(";");d.Array.each(Y,function(ah){var ai=ah.split(":");if(ai[0]&&ai[1]){af[ai[0]]=ai[1];}});if(ae.hasAttribute(i)){af.action=ae.getAttribute(i);}if(ae.hasAttribute(B)){af.outcm=ae.getAttribute(B);}}return af;}function m(af,Y){var ae=p(),ag;if(!G&&!f){return;}if(af instanceof d.Node){af=A(af);}if(!af){return;}if(d.Lang.isObject(af)){ag=d.merge({_S:aa,test:ab},af);delete ag.action;delete ag.outcome;if(Y){YAHOO.ULT.BEACON=YAHOO.ULT.BEACON+";"+Y;}YAHOO.ULT.beacon_click(ag,ae);if(Y){YAHOO.ULT.BEACON=H;}}else{if(Y){af+=";"+Y;}ae.src=(t||YAHOO.ULT.BEACON)+";"+af+"?t="+(new Date()).getTime();}}function P(Y){if(!Q){return;}if(!u){return;}var ae;if(Y instanceof d.Node){ae=z(Y);}else{if(d.Lang.isObject(Y)){ae=Y;}}if(!d.Lang.isObject(ae)||!ae.action){return;}if(ae.action==="click"){u.beaconClick(ae.sec,ae.slk||"",ae.pos||0,ae,ae.outcome||ae.outcm||L);}else{u.beaconEvent(ae.action,ae,ae.outcome||ae.outcm||L);}}function D(ae,Y){m(ae,Y);P(ae);}function T(){var ae=window.location,Y;if(!d.Lang.isUndefined(window._comscore)){Y=p();Y.src=(ae.protocol==="https:"?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2&c2=7241469&c4="+encodeURIComponent(ae.protocol+"//"+ae.host)+"&c5="+aa+"&ns_c=UTF-8&ns__t="+(new Date().getTime());}else{if(YAHOO.i13n&&d.Lang.isFunction(YAHOO.i13n.sendComscoreEvent)){YAHOO.i13n.sendComscoreEvent({c7:ae.href});}}}function y(af){if(I){return;}var ae=a.getProperty("ylp"),Y=p();if(!ae){return;}if(!af){return;}Y.src=(t||YAHOO.ULT.BEACON)+";"+ae+"?t="+(new Date()).getTime()+"&"+af;I=true;}function O(){var aj,ah=d.Object.getValue(window,["performance","timing"]),af=a[h]("tsrc"),ae=a[h]("err404"),Y=a[h]("errurl"),ai=a[h]("rapid.custom.perf.beacon"),ag={pt:1,mrkt:a[h]("intl"),authfb:a[h]("fbauthstate"),f:a[h]("hps"),rid:a[h]("requestId"),colo:a[h]("colo")};if(ae){ag.err=ae;}if(Y){ag.err_url=Y;}if(af){ag.tsrc=af;}if(ai&&ah){aj=ah.requestStart;ag.prfm1=ah.responseStart-aj;ag.prfm2=ah.responseEnd-aj;ag.prfm3=ah.domContentLoadedEventEnd-aj;ag.prfm4=+(new Date())-aj;}return ag;}function j(ae){if(r){return;}var Y=A(ae);if(Y){r=Y;}else{}}function q(){r=L;}function R(){return(r!==L);}function ad(){if(r){D(r);r=L;}}function g(){var Y=a[h]("addthis.beacon");if(Y){p(Y);}}s={fireBeacon:D,fireUltBeacon:m,fireYwaBeacon:P,getBeaconImage:p};U={collectData:j,fireBeacon:D,fireUltBeacon:m,fireYwaBeacon:P,getBeaconImage:p,fireComscoreBeacon:T,firePageParameterBeacon:y,clearPendingBeacons:q,firePendingBeacons:ad,hasPendingBeacons:R,getBeaconKeys:z,addModules:c,addModule:ac,beaconLinkViews:n,beaconPerformanceData:x,removeModule:E,isModuleTracked:F,addModulesAsRichView:N,refreshModule:w,refreshModuleAsRichView:v};d.namespace(M);d[M][V]={name:"instrumentation",getService:function(ai,ah){if(!a){var ag,ae,af,Y;a=ai;aa=a[h]("ultSpaceId");ab=a[h]("ywa.rapid.bucket.id");t=a[h]("ultBeaconHost");Q=!!a[h]("ywa.rapid.enabled");o=!!a[h]("ywa.rapid.richview.enabled");f=!!a[h]("ywa.rapid.ult.enabled");l=!!a[h]("rapid.init.beacon");k=!!a[h]("ywa.pageview.on.init");J=a[h]("custom.beacon.endpoint");if(YAHOO&&YAHOO.i13n&&J){YAHOO.i13n.beacon_server=J;}if(Q){if(typeof YMedia!=="undefined"&&typeof YMedia.rapid!=="undefined"){u=YMedia.rapid;G=Z;W=K;}else{YAHOO.i13n.YWA_CF_MAP={authfb:11,mrkt:12,pt:13,sec:18,slk:19,cpos:21,pkgt:22,ct:23,bpos:24,cat:25,dcl:26,rescode:27,sort:28,ilc:39,f:40,prfm1:41,prfm2:43,prfm3:44,prfm4:45,ft:51,v:52,sca:53,camp:54,code:55,elm:56,elmt:57,ad:58,tsrc:69,err:72,rspns:107,dir:108,grpt:109,mpos:110,itc:111,sp:115,tar:113,t1:121,t2:122,t3:123,t4:124,t5:125};YAHOO.i13n.YWA_ACTION_MAP={click:12,scrollup:15,hover:17,secview:18,hswipe:19,share:23,reauthfb:24,insert:28,flw:52,unflw:53,rpl:54,rt:55,fav:56,error:99,swp:103,drag:105,hvr:115,secvw:116};YAHOO.i13n.YWA_OUTCOME_MAP={share:23,navigate:25,top:26,hpset:27,open:29,fetch:30,end:31,rmct:32,login:33,close:34,filter:35,connect:36,itemdecl:37,setlayout:38,sort:39,entitydecl:40,undo:41,cueswipeview:42,cueauthview:43,cueloadview:44,cueinfoview:45,cueconnectview:46,msgview:47,authview:48,loadview:49,cuehpset:50,cuedcl:61,dclent:101,dclitm:102,svct:109,unsvct:110,rmsvct:117,slct:121,lgn:125,lgo:126,cnct:127,flagitm:129,unflagitm:130,flagcat:131,unflagcat:132,slctfltr:133,srch:134};G=!f;ag={client_only:!!a[h]("rapid.clientonly"),use_rapid:f,use_sampling:!!a[h]("ywa.rapid.sampling.enabled"),debug:!!a[h]("ywa.rapid.debug"),sampling_affects_ywa:!!a[h]("ywa.rapid.sampling.enabled"),sampling_range:a[h]("ywa.rapid.sampling.range"),spaceid:a[h]("ywa.rapid.space.id"),test_id:ab,pageview_on_init:k,track_right_click:!!a[h]("rapid.right.click"),apv:!!a[h]("rapid.add.pageview"),yql_host:a[h]("ywa.rapid.yql.host"),perf_navigationtime:a[h]("rapid.perf.navigationtime"),yql_path:a[h]("rapid.yql.path"),tracked_mods:a[h]("ywa.rapid.enabled.modules"),ywa:{project_id:a[h]("ywa.rapid.project.id"),host:a[h]("ywa.rapid.host")},keys:O(),nofollow_class:["rapidnofollow","video-inline"],webworker_file:a[h]("ywa.rapid.worker.path")};if(typeof YAHOO.i13n.Rapid!=="undefined"){if(l){Y=d.one("body");ae="//geo.yahoo.com/p?s="+a[h]("ywa.rapid.space.id")+"&test=scooby_qa_d&btype=rapidb&t="+Math.random();af=d.Node.create('<img class="D-n" src='+ae+"/>");Y.append(af);}u=new YAHOO.i13n.Rapid(ag);}else{u=new YAHOO.i13n.Track(ag);u.init();}}}if(t){YAHOO.ULT.BEACON=t;}H=YAHOO.ULT.BEACON;g();}return(!ah||a.getModuleApi(ah)[h]("trusted")?U:s);}};if(b){b.registerService(d[M][V]);}});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("metrologger",function(b){var j=b.ModulePlatform,c,k,g="/perf.gif",h,i={},f,d="MPServices",a="MetroLoggerProvider";function e(o,n){var m=new Image(),l="",p=b.merge(o,{rid:c.getProperty("requestId"),bid:c.getProperty("ywa.rapid.bucket.id")||""});m.id=b.guid();i[m.id]=m;m.onload=m.onerror=function(){delete i[this.id];};b.Object.each(p,function(r,q){l+=encodeURIComponent(q)+"="+encodeURIComponent(r)+"&";});m.src=n+"?"+l;return l;}f={logError:function(m,l){e({moduleId:m,msg:l},k);},logPAPerf:function(l){e(l,g);},logAd:function(l){var m=e(l,h);}};b.namespace(d);b[d][a]={name:"metrologger",getService:function(m,l){if(!c){c=m;}if(!k){k=m.getProperty("jsErrorUrl");h=k;}return(!l||m.getModuleApi(l).getProperty("trusted")?f:null);}};if(j){j.registerService(b[d][a]);}});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("autohide_service",function(h){var f=h.ModulePlatform,b={},e=-1,a,c="MPServices",g="AutoHideProvider";a={register:function(i){b[++e]=i;if(!i.triggers){i.triggers=["click"];}return e;},unregister:function(i){delete b[i];}};function d(i){h.Object.each(b,function(n){if(h.Array.indexOf(n.triggers,i.type)>-1){var o=i.target,k=n.targets,l=true,m=0,j=k.length;if(!o.inDoc(document)){l=false;}else{for(;m<j&&l;m++){if(o.compareTo(k[m])||(k[m]&&k[m].contains(o))){l=false;}}}if(l){n.hide();}}});}h.on("click",d,document);h.on("keydown",d,document);h.on("unload",function(){h.detach("click",d,document);h.detach("keydown",d,document);},window);h.namespace(c);h[c][g]={name:"autohide",getService:function(){return a;}};if(f){f.registerService(h[c][g]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("sethomepage_service",function(a){var C=null,w=false,h=true,n=a.ModulePlatform,D,q,j=a.Cookie,p=a.UA,g="MPServices",s="SetHomepageProvider",b="m.",e="click",f="HP",i="ilc",c="keydown",o=27,k="mousedown",y="y-hpset-show",l,B;function t(E){j.set(i,E,{domain:q});}function r(){return j.get(i);}function v(F,E){j.set(f,E,{domain:".yahoo.com"});if(F){t(F);}}function m(){return j.get(f);}function u(E){E=!a.Lang.isUndefined(E)?E:r();var F=window.location.host;if(F.indexOf(b)===0){F=F.substring(2);}return"http://"+F+"/"+(E?"?ilc="+E:"");}function A(){if(l){return true;}return false;}function d(F){var E,H=w;if(l){E=u(F);try{l.setHomePage(E);}catch(G){}H=l.isHomePage(E);if(H){v(F,"1");}}return H;}function z(E){var F=w;if(j.get(f)==1){F=h;}else{if(p.ie){if(window.location.host.indexOf(b)===0){F=window.history.length==1;}else{F=window.history.length==((p.ie<10)?0:1);}}else{if((p.gecko||p.webkit)&&window.history.length==1){F=h;}else{if(p.opera&&window.history.length===0){F=h;}}}}return F;}function x(G,F){var E;G=a.one(G);F=F||{};G.on(e,this._handleClick,this);G.on(c,this._handleKeydown,this);G.on(k,this._handleMousedown,this);E=F.autohideTargets||[];E.push(G);this.autohide=D.getService("autohide");this.autohideId=this.autohide.register({targets:E,hide:a.bind(this.hide,this)});this.instrumentation=D.getService("instrumentation");this.overlay=G;this.options=F;}x.prototype={autohide:C,autohideId:C,instrumentation:C,options:C,overlay:C,_handleClick:function(F){var E=F.target;if(E.hasClass("hs-close")){this.hide();}else{if(E.hasClass("hs-drag-icon")){F.preventDefault();}}},_handleMousedown:function(E){if(E.target.hasClass("hs-drag-icon")){v(this.options.ilc,"1");this.instrumentation.fireBeacon(this.options.dragBeacon);}},_handleKeydown:function(E){if(E.keyCode==o){this.hide();}},getRootNode:function(){return this.overlay;},hide:function(){this.overlay.removeClass(y);},show:function(){var E=this.overlay,F=E.one("h3");E.addClass(y);F.setAttribute("tabIndex","-1").focus();},toggle:function(){if(this.overlay.hasClass(y)){this.hide();}else{this.show();}},destroy:function(){var E=this.overlay;this.hide();E.detach(e,this._handleClick);E.detach(c,this._handleKeydown);E.detach(k,this._handleMousedown);this.autohide.unregister(this.autohideId);this.overlay=C;}};B={createOverlay:function(F,E){return new x(F,E);},isHomepageSet:z,getHpCookie:m,setHpCookie:v,getIlcCookie:r,setIlcCookie:t,setIEHomepage:d,testIESetHomepage:A};a.namespace(g);a[g][s]={name:"sethomepage",getService:function(F,E){if(!D){D=F;q=D.getProperty("cookieDomain");}if(a.UA.ie&&!l){l=document.createElement("DIV");l.id="y-ieshp";l.style.behavior="url(#default#homepage)";document.body.appendChild(l);}return B;}};if(n){n.registerService(a[g][s]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("lazy_image",function(f){var c=f.ModulePlatform,g="lzbg",a="MPServices",e="LazyImageProvider",b;function d(i){var h;if(i.test("img")){h=i.getStyle("backgroundImage");if(/url\(['"](.*?)['"]\)/.test(h)){}else{/url\(["']?(.*?)["']?\)/.test(h);}h=RegExp.$1;if(h&&h.length>0){i.set("src",h);i.setStyle("backgroundImage","");}}i.removeClass(g);}f.later(0,this,function(){var h=f.DOM.viewportRegion(),i=h.bottom+250;f.all("."+g).each(function(j){if((j.getY()<=i)&&(j.get("offsetHeight")>0&&j.get("offsetWidth")>0)){d(j);}});f.onceAfter("scroll",function(j){f.all("."+g).each(function(k){f.later(0,this,d,k);});});});b={LAZY_IMAGE_CLASS:g,loadImage:d};f.namespace(a);f[a][e]={name:"lazyimage",getService:function(i,h){return b;}};if(c){c.registerService(f[a][e]);}},"0.0.1",{requires:["dom","node"]});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("sticky_position_service",function(h){var f=h.ModulePlatform,b,e,c="MPServices",g="StickyPositionProvider",d=h.Lang,a=[];e=function(j){if(!d.isObject(j)||d.isArray(j)||d.isFunction(j)){throw new Error("sticky service requires an object");}h.Object.each(j,function i(m,l){var n=h.one(l),k;if(!n){return;}if(m.onSticky&&!d.isFunction(m.onSticky)||m.onLoose&&!d.isFunction(m.onLoose)){return;}k=h.Node.create('<div class="sticky-pholder"></div>');n.insert(k,"before");a.push({node:n,top:m.top||0,onSticky:m.onSticky,onLoose:m.onLoose,threshold:k.getY()+n.get("offsetHeight"),pHolderWidth:k.get("offsetWidth"),pHolder:k});});return this;};e.prototype={trigger:function(i,k,j,l){h.Array.each(a,function m(t){var o=t.threshold,p=t.node,s=t.top,q=t.nodeHeight||p.get("offsetHeight"),n=t.stickyToTop,r;if(j==="resize"){t.pHolderWidth=t.pHolder.get("offsetWidth");t.stickyToTop=i.height-t.top>q;n=t.stickyToTop;}if(n){r=o-k-s<=0;}else{r=o-(k+i.height)<=0;}if(r&&!t.disabled&&k!==0&&(h.Lang.isFunction(l)&&l())){if(j==="resize"||!p.hasClass("sticky")){p.addClass("sticky");p.setStyle("width",t.pHolderWidth);t.pHolder.setStyle("height",q);if(n){t.onSticky(p,"top");}else{t.onSticky(p,"bottom");}}}else{p.removeClass("sticky");t.pHolder.setStyle("height","");t.onLoose(p);}});},recalculateThresholds:function(i,j){var k=h.DOM.docHeight();h.Array.each(a,function l(n){var p=n.node,q=p.get("offsetHeight"),o=n.pHolder.getY(),m;if(j){n.top=j;}m=i.height-n.top>q;if(m){n.threshold=o;}else{n.threshold=o+q;}n.stickyToTop=m;n.nodeHeight=q;n.disabled=(k===n.threshold);});}};h.namespace(c);h[c][g]={name:"sticky_position",getService:function(k,j){var i=h.one("html").hasClass("dev-desktop");if(!b){b=k;}if(h.UA.ie!==0&&h.UA.ie<7||i&&(h.UA.os==="android"||h.UA.os==="ios")){return false;}return e;}};if(f){f.registerService(h[c][g]);}},"0.0.1");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("userinfo_service",function(g){var d=null,c=g.ModulePlatform,a=d,f,b="MPServices",e="UserInfoProvider";f={getDisplayName:function(){return a.getProperty("user");},isLoggedIn:function(){return !!a.getProperty("user");},isRecognized:function(){return !!a.getProperty("userRecognized");},getLocation:function(){var i={},l=a.getProperty("userLocation"),j=["zip","city","state","country","woeid","lat","lon"],h=j.length,k;if(l){while((k=j[--h])){i[k]=l[k]||null;}}return i;}};g.namespace(b);g[b][e]={name:"userinfo",getService:function(i,h){if(!a){a=i;}return f;}};if(c){c.registerService(g[b][e]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("statemgr_service",function(b){var k=b.ModulePlatform,g="MPServices",m="StateMgrProvider",j="MSC",i="fpps",e="fpms",p="_page",l,h,c,d,r,o;function f(){var t=new Date();t.setFullYear(t.getFullYear()+1);return t;}function s(x,v,u){var w=h.getSub(x,v),t=null;if(w){t=c.parse(w)[u];}return t;}function a(z,w,t){var y=h.getSub(z,w),x,v,u;if(y){x=c.parse(y);delete x[t];v=c.stringify(x);u={expires:f(),domain:l,path:"/"};if(v=="{}"){h.removeSub(z,w,u);}else{h.setSub(z,w,v,u);}}}function q(y,u,t,w){var x=h.getSub(y,u),v=x?b.JSON.parse(x):{};v[t]=w;h.setSub(y,u,c.stringify(v),{expires:f(),domain:l,path:"/"});}function n(t){if(!d[t]){d[t]=r.getModuleApi(t).getProperty("trusted")?b.Object(o):{};b.mix(d[t],{getUserModuleState:function(u){return s(e,t,u);},removeUserModuleState:function(u){a(e,t,u);},setUserModuleState:function(u,v){q(e,t,u,v);},saveUserSetting:function(w,x,u){var v=k.getService("userinfo");if(v.isLoggedIn()){u.makeRequest({type:"module",moduleId:u.getId(),args:{_action:"save",_subAction:"userPrefSave",key:w,value:x,noups:1}},{});}else{this.setUserModuleState(w,x);this.update();}}});}return d[t];}o={isUpdated:function(){return !!h.get(j);},update:function(){h.setSub(j,"mod","1",{domain:l,path:"/"});},getUserPageState:function(t){return s(i,p,t);},removeUserPageState:function(t){a(i,p,t);},setUserPageState:function(t,u){q(i,p,t,u);}};b.namespace(g);b[g][m]={name:"statemgr",getService:function(u,t){r=u;h=b.Cookie;c=b.JSON;l=u.getProperty("cookieDomain")||b.config.win.location.hostname;if(!d){d={};}return !t?o:n(t);},destroy:function(){d=null;}};if(k){k.registerService(b[g][m]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("modal_service",function(b){var l=b.ModulePlatform,u,n,g="MPServices",m="ModalProvider",c=(function(){
/*! IS_POSITION_FIXED_SUPPORTED - https://gist.github.com/bobslaede/1221602/ */
var A=document.createElement("div"),z=A.cloneNode(false),w=false,v=document.body||(function(){w=true;return document.documentElement.appendChild(document.createElement("body"));}()),y,x;y=v.style.cssText;v.style.cssText="padding:0;margin:0";A.style.cssText="position:fixed;top:42px";v.appendChild(A);v.appendChild(z);x=A.offsetTop!==z.offsetTop;v.removeChild(A);v.removeChild(z);v.style.cssText=y;if(w){document.documentElement.removeChild(v);}return x;}()),k="modal",r="y-modal",f="y-modal-mask",i="px",s="100%",p="display",j="none",q="0",t=null,d=50,e=100,h=true,o=false;function a(x){var v=b.Node.create("<div></div>"),y=x.width||e,B=b.one(x.srcNode),w=b.one("body").get("dir")==="rtl",A={},z=-Math.floor(y/2);this.modalMask=a._getMask(x);this.modalBody=v;v.addClass(r+" "+x.className);A={width:y,display:j};if(w===true){A.marginRight=z;}else{A.marginLeft=z;}v.setStyles(A);v.append(B);this.modalMask.append(this.modalBody);if(!c){this.listener=b.on("scroll",this._resyncMask,this);}}a._getMask=function(x){var w=b.one("."+f)||t,y,v,z;if(w){return w;}else{v=b.one(document.body);z=b.Object.getValue(x,["zIndex"])||d;w=b.Node.create('<div><div class="y-modal-mask-bg"></div></div>');w.addClass(f);if(c){w.setStyles({position:"fixed",width:s,height:s,top:q,left:q,display:j,zIndex:z});}else{y=b.config.win;w.setStyles({position:"absolute",width:y.get("winWidth")+i,height:y.get("winHeight")+i,top:q,left:q,display:j,zIndex:z});}v.append(w);return w;}};a.prototype={visible:o,setContent:function(v){this.modalBody.setContent(v);},show:function(){this.modalMask.all("."+r).setStyle(p,j);this.modalBody.setStyle(p,"");this.modalMask.setStyle(p,"");this.visible=h;if(!c){this._resyncMask(b.config.win);}this.modalMask.on("click",this.handleClick,this);this.modalBody.on("click",this.handleClick,this);},hide:function(){this.modalMask.setStyle(p,j);this.modalMask.all("."+r).setStyle(p,j);this.visible=o;},handleClick:function(x){var w=x.target,v=false;if(w.hasClass("y-modal-mask-bg")||w.hasClass("modal-close")){v=true;}if(v){this.hide();}},isVisible:function(){return this.visible;},destroy:function(){var v=this.modalMask.all("."+r);this.modalBody.remove();this.modalBody=t;if(v&&v.size()<2){if(this.listener){this.listener.detach();}this.modalMask.remove(true);this.modalMask=t;}},_resyncMask:function(A){if(!this.isVisible()){return;}var B=A.currentTarget||A,v=B.get("docScrollX"),C=B.get("docScrollY"),y=B.get("innerWidth")||B.get("winWidth"),z=B.get("innerHeight")||B.get("winHeight"),x=a._getMask();x.setStyles({top:C+i,left:v+i,width:y+i,height:z+i});}};n={create:function(v){return new a(v);}};b.namespace(g);b[g][m]={name:k,getService:function(w,v){if(!u){u=w;}return n;}};if(l){l.registerService(b[g][m]);}},"0.0.1");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("aria_service",function(d){var i=d.ModulePlatform,g="MPServices",a="AriaProvider",c,f,h="aria-",e={hidden:["hide","show","isHidden"],disabled:["disable","enable","isDisabled"],selected:["select","unselect","isSelected"]},b=(d.UA.ie>=8||d.UA.gecko>=1.9||d.UA.webkit>=530);f={isSupported:function(){return b;},setRole:function(j,k){return j.setAttribute("role",k);},alert:function(m,j){var n=document,l,k;j=d.Node.getDOMNode(j)||n.body;if(b&&m){k=j.firstChild;while(k){if(d.DOM.hasClass(k,"aria-alert")){l=k;break;}k=k.nextSibling;}if(!l){l=n.createElement("div");l.role="alert";l.setAttribute(h+"live","assertive");l.className="hide-offscreen aria-alert";j.appendChild(l);}l.innerHTML="<p>"+m+"</p>";}this.update();},update:function(){if(!c){c=document.createElement("input");c.type="hidden";c.value=1;document.body.appendChild(c);}c.value=(c.value==1?0:1);},clearState:function(j,k){return j.removeAttribute(h+k);},hasState:function(k,l){var j=h+l;return k.hasAttribute?k.hasAttribute(j):k.getAttribute(j)!==null;},setState:function(j,k){j.setAttribute(h+k,true);},focusable:function(k,j){k.tabIndex=j?0:-1;}};d.Object.each(e,function(j,k){f[j[0]]=function(l){return f.setState(l,k);};f[j[1]]=function(l){return f.clearState(l,k);};f[j[2]]=function(l){return f.hasState(l,k);};});d.namespace(g);d[g][a]={name:"aria",getService:function(k,j){return f;}};if(i){i.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("iframeshim_service",function(c){var k=c.ModulePlatform,j=c.Node,p=c.Lang.isNumber,e,f="MPServices",a="IFrameShimProvider",o='<iframe class="y-iframe-shim" tabindex="-1" role="presentation" title="For presentation purposes. Please ignore." src="javascript:false"></iframe>',m="auto",g="display",i="parentNode",h="px",n="zIndex",l,b;function d(){var q=j.create(o);q.setStyle("frameBorder","0");q.setStyle("opacity",0);return q;}l=function(q){this.target=null;this.iframe=d();this.retarget(q);};l.prototype={show:function(){this._positionIFrame();this.iframe.setStyle(g,"block");},hide:function(){this.iframe.setStyle(g,"none");},retarget:function(q){this.hide();this.target=c.one(q);this._attachIFrame();},destroy:function(){this.iframe.get(i).removeChild(this.iframe);this.iframe=this.target=null;},_attachIFrame:function(){var r=this.iframe,q=r.get(i),s=this.target;if(s){s.get(i).insertBefore(r,s);}else{if(q){q.removeChild(r);}}},_positionIFrame:function(){if(!this.target){return;}var r=this.iframe,t=this.target,q=parseInt(t.getStyle("top"),10),v=parseInt(t.getStyle("left"),10),u=t.get(n),s=t.get("region");r.setStyles({top:p(q)?q+h:m,left:p(v)?v+h:m,width:s.width+h,height:s.height+h});if(p(u)){r.setStyle(n,u-1);}}};b={create:function(q){return new l(q);},isShimNeeded:function(){return c.UA.ie>5&&c.UA.ie<7;}};c.namespace(f);c[f][a]={name:"iframeshim",getService:function(r,q){if(!e){e=r;}return b;}};if(k){k.registerService(c[f][a]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("menu_service",function(b){var v=false,j=true,z=null,l=b.ModulePlatform,r="data-pos",e="selected",k="px",s="LI",i="visibility",t=38,d=40,n=27,g=13,c,u,a,q=v,m=[],o=b.Lang.isNumber,y=b.DOM,w,h="MPServices",p="MenuProvider";function x(){b.Array.each(m,function(A){A.hide();});}function f(B,A){this.node=b.one(B);this.options=A||{};this._items=[];this._selectedIndex=-1;this._visible=v;this._id=-1;this._shim=z;this._autohideId=-1;this._autohideTimer=z;this._compactFilter=this.options.compactFilter||false;this._init();}f.prototype={_init:function(){if(!c){c=l.getService("aria");q=c.isSupported();}var E=this.node,C=b.Node.getDOMNode(E),B=C.firstChild,F=0,A,D;while(B){if(B.nodeType==3){A=B.nextSibling;C.removeChild(B);B=A;}else{D=b.one(B.getElementsByTagName("a")[0]);if(D){this._items.push({element:B,linkElement:D,url:D.get("href")});if(q){c.setRole(B,"presentation");c.setRole(D,"menuitem");c.focusable(D,v);D.removeAttribute("href");}}else{this._items.push({});}if(!B.id){B.id=b.guid();}B.setAttribute(r,F);B=B.nextSibling;F++;}}if(u.isShimNeeded()){this._shim=u.create(E);}if(q){c.setRole(E,"menu");c.hide(E);}E.on("keydown",this._handleKeyDown,this);E.on("click",this._handleMouseEvents,this);E.on("mouseover",this._handleMouseEvents,this);this._id=m.length;m.push(this);},hide:function(B){if(this._visible){var E=this._shim,C=this.node,D=this.options.focusNode,A=null;C.setStyle(i,"hidden");c.hide(C);this._visible=v;if(E){E.hide();}this._clearAutohide();if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: none !important";}else{b.one(".troll-pointer").setStyle("display","none");}b.one(".more-tab").removeClass("more-tab-pressed");}this.fire({type:"hide",target:this});if(B&&D){b.one(D).focus();}}},isVisible:function(){return this._visible;},show:function(B,G,E){if(!this._visible){x();var F=B.left,D=B.right,C=this.node,H=this._shim,A=null;E=E||k;if(o(F)){C.setStyle("left",F+E);}else{if(o(D)){C.setStyle("right",D+E);}}C.setStyle("top",B.top+E).setStyle(i,"visible");if(G){this.options.focusNode=G;}if(q){c.show(C);}this.select(0);if(H){H.show();}this._visible=j;if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: block !important";}else{b.one(".troll-pointer").setStyle("display","block");}b.one(".more-tab").addClass("more-tab-pressed");}this.fire({type:"show",target:this});this._clearAutohide();this._autohideTimer=b.later(50,this,function(){this._autohideTimer=z;this._autohideId=a.register({targets:[this.node],hide:b.bind(function(){this.hide();},this)});});}},_clearAutohide:function(){var A=this._autohideTimer;a.unregister(this._autohideId);if(A){A.cancel();this._autohideTimer=z;}},_handleMouseEvents:function(C){var D=C.target,B=(D.get("tagName")==s)?D:D.ancestor(s),A=-1;if(B&&B.hasAttribute(r)){C.preventDefault();A=Number(B.getAttribute(r));switch(C.type){case"click":this.execute(A);break;case"mouseover":this.select(A);break;default:}}},_handleKeyDown:function(C){var D=C.target,B=(D.get("tagName")==s)?D:null,A=v;switch(C.keyCode){case d:this.selectNext(j);A=j;break;case t:this.selectPrevious(j);A=j;break;case n:this.hide(j);break;case g:if(B){this.execute(Number(B.getAttribute(r)));}break;default:}if(A){C.preventDefault();}},destroy:function(){var A=this.node,B=this._shim;if(q){A.detach("keydown",this._handleKeyDown);}A.detach("click",this._handleMouseEvents);A.detach("mouseover",this._handleMouseEvents);this._clearAutohide();if(B){B.destroy();}b.Object.each(this,function(C,E,D){delete D[E];});m[this._id]=null;},getSelectedIndex:function(){return this._selectedIndex;},getItemNode:function(A){return this.getItemNodes().item(A);},getItemNodes:function(){return this.node.all("> li");},getItemUrl:function(A){return this._items[A].url;},execute:function(A){var C=null,B=null;if(A>=0&&A<this._items.length){this.hide(j);if(this._compactFilter){C=b.one(".more-search");C=C.get("children").item(A);B=b.one(".more-menu-selected");if(B!==null){B.removeClass("more-menu-selected");}C.addClass("more-menu-selected");}this.fire({type:"execute",target:this,relatedTarget:this.getItemNode(A),index:A,url:this._items[A].url});}},selectNext:function(A){if(this._selectedIndex<this._items.length-1){this.select(this._selectedIndex+1);}else{if(A){this.select(0);}}},selectPrevious:function(A){if(this._selectedIndex>0){this.select(this._selectedIndex-1);}else{if(A){this.select(this._items.length-1);}}},select:function(B){if(B!=this._selectedIndex){var D=this._selectedIndex,C=this._items[D],A=this._items[B];if(C){y.removeClass(C.element,e);}if(A&&A.hasOwnProperty("element")){y.addClass(A.element,e);if(q){if(C){c.focusable(C.linkElement,v);}c.focusable(A.linkElement,j);}A.linkElement.focus();this._selectedIndex=B;this.fire({type:"select",target:this,toIndex:B,fromIndex:D});}}}};b.augment(f,b.Event.Target);w={create:function(B,A){return new f(B,A);}};b.namespace(h);b[h][p]={name:"menu",getService:function(B,A){if(!c){c=l.getService("aria");u=l.getService("iframeshim");a=l.getService("autohide");}return w;}};if(l){l.registerService(b[h][p]);}});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("arcade_transport",function(f){var M=null,ag=false,H=true,S,d=f.ModulePlatform,c=M,ah,i=encodeURIComponent,n=f.Lang,l=f.Object,w=f.Array,N,G,D,e,ab=ag,P={},ad={},ai=[],x,g=ag,u,o,X=0,aj=1,s=2,v=3,C=2048,af=131072,p="_status",Z="_txnid",U="POST",B="GET",h="getProperty",R="MPServices",ac="TransportProvider";function K(L,A){c.error("transport",L,A);}function W(O){var L=M,A;switch(O.type){case"moduleload":L={_action:"show",_create:1,_suid:O.contentId};break;case"setpref":L={_action:"save",_subAction:S,_type:"pref",modid:O.moduleId,_create:1};break;case"loadview":if(O.view=="pa"){A=c.queryModules(function(ak){var Y=c.getModuleApi(ak);return Y&&Y.getProperty("type")=="pa";})[0];L={_action:"show",_subAction:"single",modId:O.moduleId,_container:0,_id:A};}else{L={_action:"show",_subAction:O.view=="default"?S:O.view,_id:O.moduleId,_container:O.chrome?1:0};}break;case"arcade":case"module":L=O.args;L._container=O.chrome?1:0;L._id=O.moduleId;break;default:K("Request doesn't have a type.");break;}O=L?f.merge(L,O):f.mix({},O);delete O.type;delete O.moduleId;delete O.args;return O;}function J(L){var A=L.match(/^((?:\w+:\/\/)?[^#?]+)/);return(A&&n.isArray(A))?A[1]:"";}function aa(L){if(!L){return"";}var A=[];l.each(L,function(Y,O){if(n.isValue(Y)){if(!n.isString(Y)){Y=f.JSON.stringify(Y);}A.push(O+"="+i(Y));}});return A.join("&");}function E(O,am,al){if(!al){K("Proxy request: No module id given, unable to look up proxy signature.");}var ak=J(O.url),Y=c.getModuleState(al).proxy[ak],L,A;if(!Y){K("Proxy request: '"+O.url+"' has not been registered for proxying.");}L=G+"?url="+i(O.url)+"&.sig="+Y+"&.crumb="+N;A={method:O.method,data:O.bodyData,on:am,headers:O.headers};return f.io(L,A);}function b(al,aq,L){if(al.type=="xhr"){return E(al,aq,L).id;}D=D?D:"/jsal";var A=D,an={method:B,on:x},ak={_crumb:N,_mode:"json"},am=c[h]("passthru"),ap,ao,Y,O;if(n.isArray(al)){an.method=U;}else{al=[al];}if(e){ak.pgmode=e;ak.reqSource=e;}ak[Z]=new Date().getTime();w.each(al,function(at,ar){al[ar]=W(at);al[ar][Z]=ak[Z];});if(an.method==B){ap=f.merge(al[0],ak);ao=aa(ap);if(ao.length>2000){an.method=U;}else{A=D+"?"+ao;}}if(am){A+=(A.indexOf("?")>-1?"&":"?")+am;}if(an.method==U){an.data=aa(ak)+"&_json="+i(f.JSON.stringify(al));}Y=f.io(A,an);O=Y.id;P[O]={args:arguments,moduleId:L,conn:Y};if(aq){P[O].callback=aq;}return O;}function m(){if(n.isArray(o)){while(o.length>0){var A=o.shift();b.apply(this,A);}u.detach();u=o=M;}g=ag;}function j(A){g=H;if(A){o=[];u=f.on("unload",f.bind(m,this,H),window);}}function z(ak,Y,O){var L=Y.responseText,A;if(L){A=L.indexOf("<!--");if(A>0){L=L.substring(0,A);}}N=L;m();ab=ag;}function T(O,L,A){K("Unable to update crumb.");}function F(){if(ab){return ag;}ab=H;j(H);var A={success:z,failure:T,scope:this};f.io("/?_mode=html&_action=show&_type=pref&_create=1&_subAction=_cFetch",{method:B,on:A});}function r(O,Y,L){if(g){if(n.isArray(o)){var A=f.Array(arguments);o.push(A);return M;}return ag;}return b(O,Y,L);}function a(L){var A=(P[L]&&P[L].conn&&P[L].conn.isInProgress());return A;}function V(A){if(a(A)){P[A].conn.abort();}else{return false;}}function t(A){if(A&&P[A]&&P[A].args){r.apply(M,P[A].args);delete P[A];delete ad[A];return H;}return ag;}function k(ak,O,A){if(n.isUndefined(O)){O=H;}if(n.isFunction(ak)){ak(ak.argument,A);}else{var L=ak.scope||ak,Y=O?ak.success:ak.failure;if(Y){Y.call(L,A,ak.argument);}}}function y(Y,A,L){var O=P[Y].callback;if(O){k(O,L,A);}if(!n.isUndefined(ad[Y])){if(ad[Y]>1){ad[Y]-=1;}else{delete ad[Y];}}if(n.isUndefined(ad[Y])){delete P[Y];}}function Q(al,A){var L=A._errorCode,Y=A._error,ak=P[al].callback,O={message:Y,moduleId:P[al].moduleId};if(A[p]==aj){if(L==af){if(!ab){F();}t(al);}else{K(Y,O);if(O.moduleId){return;}}}if(ak){k(ak,ag,O);}}function ae(){var A=ai.shift(),O,L;if(A){O=A[Z];if(A[p]!=X){Q(O,A);}else{L=c.getService("resourcemgr");if(A.props&&A.props.id){c.registerModule(A);}if(A.res){L.load(A.res,f.bind(y,M,O,A));}else{y(O,A);}}if(ai.length){n.later(1,this,ae);}}}function I(O,L,A){setTimeout(function(){y(O,L,ag);},0);}function q(ak,Y,A){var O;try{O=f.JSON.parse(Y.responseText);}catch(L){}finally{if(!n.isArray(O)){I(ak,Y,A);return;}}w.each(O,function(am){if(am[p]!=X){Q(ak,am);return;}var al;if(am.response){al=am.response;}else{al=[am];}if(!ad[ak]){ad[ak]=0;}ad[ak]+=al.length;w.each(al,function(an,ao){an._partId=ao;an[Z]=ak;if(!an.data){an.data={};}an.data=f.merge(am.data,an.data);});ai=ai.concat(al);});if(ai.length){n.later(1,this,ae);}}ah={E_OK:X,E_FATAL:aj,E_GLOBAL:s,E_MODULE:v,EC_CRUMB_ERR:C,EC_CRUMB_STALE:af,disable:j,enable:m,isEnabled:function(){return !g;},makeRequest:r,abortRequest:V,isRequestPending:a,_reset:function(){ab=ag;P={};ad={};ai=[];o=M;m();}};x={success:q,failure:I,scope:this};f.namespace(R);f[R][ac]={name:"arcade_transport",getService:function(L,A){if(!c){c=L;N=c[h]("crumb");if(n.isUndefined(N)){N=c[h]("dali").crumb;}G=c[h]("proxyUrl");D=c[h]("requestUrlLite");e=c[h]("pgmode");}return A?M:ah;}};if(d){d.registerService(f[R][ac]);}},"1.0",{requires:["event","io"]});/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("tablite_service",function(d){var m=d.ModulePlatform,f,n,c=".tab",j=".panel",l="selected",e="on",b="fw-b",h="show-panel",o="tabs",k="menu",i,g="MPServices",a="TabliteProvider";i=function(p){this.body=p.body;this.tabWidget=p.tabWidget;this.navMode=p.navMode||o;this.moduleApi=p.moduleApi;this.tabs=this.body.all(c);this.panels=this.body.all(j);this.selectedTabNodes={tabNode:this.body.one("."+l),panelNode:this.body.one("."+h)};this.listeners=[];};i.prototype={body:undefined,tabWidget:undefined,moduleApi:undefined,tabs:[],panels:[],listeners:null,navMode:null,selectedTabNodes:{tabNode:undefined,panelNode:undefined},autoHideService:null,autoHideId:null,stateMgr:null,setup:function(){var q=0,p,r=this;this.tabs.each(function(s){if(q!==0){p.insert(s,"after");}s.addClass("loaded");p=s;q++;},this);if(this.tabWidget){this.tabWidget.addClass("tab-"+this.navMode+"-loaded");}if(this.navMode===k){this.autoHideService=m.getService("autohide");this.autohideId=this.autoHideService.register({targets:[this.tabWidget],triggers:["click"],hide:function(){r.tabWidget.removeClass("tab-menu-open");r.tabWidget.one(".wrapper").removeClass("popover");}});}this.body.on("click",this._handleClickEvent,this);if(this.moduleApi){this.stateMgr=this.moduleApi.getService("statemgr");}return;},teardown:function(){this.body.detach("click",this._handleClickEvent);if(this.autoHideService){this.autoHideService.unregister(this.autohideId);}return;},switchTab:function(r){var q={tabNode:this.tabs.item(r),panelNode:this.panels.item(r)},p;if(q.tabNode&&q.panelNode){this.selectedTabNodes.tabNode.removeClass(l);this.selectedTabNodes.tabNode.removeClass(e);q.tabNode.addClass(l);q.tabNode.addClass(e);if(this.navMode===o){this.selectedTabNodes.tabNode.removeClass(b);q.tabNode.addClass(b);}this.selectedTabNodes.panelNode.removeClass(h);q.panelNode.addClass(h);this.selectedTabNodes=q;p=this.selectedTabNodes.tabNode.getAttribute("data-tabid");this.stateMgr.saveUserSetting("st",p,this.moduleApi);}return;},_handleClickEvent:function(q){var p=q.target.ancestor(".tab",true);if(this.navMode===k){if(p){if(this.tabWidget.hasClass("tab-menu-open")){this.handleTabClick(p);this.toggleDropdown("close");return;}}if(!this.tabWidget.hasClass("tab-menu-open")){this.toggleDropdown("open");}}else{if(p&&!p.hasClass("tab-disabled")){this.handleTabClick(p);}}return;},handleTabClick:function(p){var q=this._getTabPos(p);this.switchTab(q);},toggleDropdown:function(p){if(p==="close"){this.tabWidget.removeClass("tab-menu-open");this.tabWidget.one(".wrapper").removeClass("popover");}else{this.tabWidget.addClass("tab-menu-open");this.tabWidget.one(".wrapper").addClass("popover");}this.toggleInactiveBeacons();},toggleInactiveBeacons:function(){this.tabWidget.all(".tab").each(function(p){if(p.hasAttribute("data-b-inactive")){p.setAttribute("data-b",p.getAttribute("data-b-inactive"));p.removeAttribute("data-b-inactive");}else{if(p.hasAttribute("data-b")){p.setAttribute("data-b-inactive",p.getAttribute("data-b"));p.removeAttribute("data-b");}}});},_getTabPos:function(q){var r=null,p=0;if(q){this.tabs.each(function(s){if(s===q){r=p;}p++;},this);}return r;}};d.namespace(g);d[g][a]={name:"tablite",getService:function(q,p){if(!f){f=q;}n=q.getService("login",p);return i;}};if(m){m.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("tablist_service",function(a){var v=null,i=true,r=false,l=a.ModulePlatform,q="tab",c="tabpanel",x="data-pos",g="selected",o="href",w="click",f="keydown",e="aria-labelledby",d="tab",m="collapsed",t="vertical",y=37,j=39,u=a.DOM,s=a.Selector,b,p=r,h="MPServices",n="TabListProvider";function k(B,z,A){z=z||{};this.node=a.one(B);this._tabQuery="li.tab";this.options=z;this._panels=z.panels;this._panel=z.panel;this._tabs=null;this._selectedIndex=-1;this._links=[];this._id=a.guid();this._moduleId=A;this._stickyKey=z.stickyKey||d;this._autoHide=v;this._autoHideId=v;this._init();}k.prototype={_init:function(){if(!this.node){l.error("TabList","Invalid node passed into TabList.");return;}if(!b){b=l.getService("aria");p=b.isSupported();}b.setRole(this.node,"tablist");var B=this.node,C=a.Node.getDOMNode(B),I=s.query(this._tabQuery,C),G=this._panels?a.NodeList.getDOMNodes(this._panels):v,E,D=0,F,A,H,z,J;if(!I.length){I=s.query("li",C);this._tabQuery="li";}this._tabs=I;for(F=I.length;D<F;D++){A=I[D];A.setAttribute(x,D);if(A.id===""){A.id=a.guid();}H=A.getElementsByTagName("a")[0];this._links.push(H.getAttribute(o,2));if(p){b.setRole(A,"presentation");b.setRole(H,q);b.focusable(H,r);H.removeAttribute(o);if(G){z=G[D];b.setRole(z,c);b.focusable(z,r);z.setAttribute(e,A.id);if(!u.hasClass(A,g)){b.hide(z);}else{b.focusable(z,i);}}}if(u.hasClass(A,g)){this._selectedIndex=D;b.focusable(H,i);}}if(this._panel&&this._selectedIndex>-1){z=this._panel;b.focusable(z,i);b.setRole(z,c);z.setAttribute(e,I[this._selectedIndex].id);}if(p){B.on(f,this._handleKeyDown,this);}B.on(w,this._handleMouseEvent,this);E=this.options.tabchange||l.getProperty("ui.tabchange");if(E&&E!=w){B.on(E,this._handleMouseEvent,this);}if(this.options.vertical){J=l.getService("autohide");this._autoHideId=J.register({targets:[B],hide:a.bind(this._collapseTabList,this)});this._autoHide=J;B.addClass(m);B.addClass(t);}},_handleMouseEvent:function(B){var C=B.target,A=(C.get("tagName")=="LI")?C:C.ancestor("LI"),z;if(A&&A.hasAttribute(x)){z=Number(A.getAttribute(x));B.preventDefault();if(B.type==w&&this.options.enableSelectedTabLink&&z==this._selectedIndex){B.stopPropagation();location.href=this._links[z];}this.switchTo(z);}},_handleKeyDown:function(z){switch(z.keyCode){case j:this.next();break;case y:this.previous();break;}},_collapseTabList:function(){var z=this.node;z.addClass(m);},destroy:function(){var z=this.node;if(p){z.detach(f,this.handleKeyDown);}z.detach(w,this.handleClick);this.unsubscribeAll();a.Object.each(this,function(B,A){delete this[A];},this);},getSelectedIndex:function(){return this._selectedIndex;},getTabNode:function(z){return a.one(this._tabs[z]);},getTabNodes:function(){return this.node.all(this._tabQuery);},getTabPanelNode:function(z){return this._panels.item(z);},getTabUrl:function(z){return this._links[z];},next:function(z){if(this._selectedIndex<this._tabs.length-1){this.switchTo(this._selectedIndex+1);}else{if(z){this.switchTo(0);}}},previous:function(z){if(this._selectedIndex>0){this.switchTo(this._selectedIndex-1);}else{if(z){this.switchTo(this._tabs.length-1);}}},switchTo:function(M){var P=this.options,E=this.node,K=this._tabs,L=this._selectedIndex,C=K[L],B=K[M],I=K.length,J=this._panels,z=this._panel,G=0,O,N,F,D,H,A;if(M!=this._selectedIndex){this.fire({type:"beforetabchange",toIndex:M,fromIndex:L});u.removeClass(C,g);if(p){while(G<I){F=K[G].getElementsByTagName("a")[0];if(K[G]!==B){b.focusable(F,r);b.unselect(F);}else{b.focusable(F,i);b.select(F);F.focus();}G++;}}u.addClass(B,g);if(J&&J.size()>1){O=J.item(L);N=J.item(M);O.toggleClass(g);N.toggleClass(g);if(p){b.hide(O);b.focusable(O,r);b.show(N);b.focusable(N,i);}}else{if(z){z.setAttribute(e,B.id);}}this._selectedIndex=M;if(this.options.sticky){D=l.getModuleApi(this._moduleId);if(D){H=D.getService("statemgr");if(H){H.setUserModuleState(this._stickyKey,M);A=B.getAttribute("data-tabid");H.saveUserSetting(this._stickyKey,A,D);}}}this.fire({type:"tabchange",toIndex:M,fromIndex:L});}if(P.vertical){E.toggleClass(m);}}};a.augment(k,a.Event.Target);a.namespace(h);a[h][n]={name:"tablist",getService:function(A,z){return{create:function(C,B){return new k(C,B,z);}};}};if(l){l.registerService(a[h][n]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("tooltip_service",function(b){var m=b.ModulePlatform,n,d,e="MPServices",a="ToolTipProvider",i="hide",l="bottom",f="top",h=null,c="left",j="right",g="px";function k(p){var o;this.options=b.merge({position:{box:"b",arrow:"c"},msg:"<!-- empty -->",className:"y-tooltip-default",pointerClass:"y-glbl-universal",borderClass:"",parentNode:document.body,autohide:false,role:"alert",scrollIntoView:false},p);this.options.parentNode=b.one(this.options.parentNode);if(b.Lang.isArray(this.options.borderClass)){this.options.borderClass=this.options.borderClass.join(" ");}if(b.Lang.isArray(this.options.className)){this.options.className=this.options.className.join(" ");}if(b.Lang.isArray(this.options.pointerClass)){this.options.pointerClass=this.options.pointerClass.join(" ");}o="<div class='y-tooltip "+this.options.className+"'><div class='tooltip hide' role='"+this.options.role+"'><div class='content "+this.options.borderClass+"'></div><span class='"+this.options.pointerClass+" pointer'></span><div class='crnr-rt'></div><div class='crnr-rb'></div></div></div>";this.toolTipBody=b.Node.create(o);this.pointAtMe=h;this.toolTip=this.toolTipBody.one(".tooltip");this.content=this.toolTipBody.one(".content");this.pointer=this.toolTipBody.one(".pointer");this.autohideId=h;this.options.parentNode.insertBefore(this.toolTipBody,this.options.parentNode.get("firstChild"));if(this.options.autohide){this.autohideId=d.getService("autohide").register({targets:[this.toolTip],hide:b.bind(this.hide,this)});}}k.prototype={getNode:function(){return this.toolTipBody;},setContent:function(o){if(typeof(o)==="string"){this.content.set("innerHTML",o);}else{this.content.set("innerHTML","");this.content.appendChild(b.one(o));}return this.content;},positionToolTip:function(s,D){var u,A,z,w,t=D.msg,y=D.position.box,B=D.position.arrow,r=D.position.alignNode,q=this.toolTip,p=this.pointer,v,C,x=D.parentNode.getStyle("direction"),o=D.noMsgUpdate||false;if(x==="rtl"){if(y==="r"){y="l";}else{if(y==="l"){y="r";}}if(B==="l"){B="r";}else{if(B==="r"){B="l";}}}w=this.pointAtMe=b.one(s);if(r){r=b.one(r);}if(!o&&t){this.setContent(t);}u=b.DOM.region(b.Node.getDOMNode(w));A=u.left+(u.width/2);z=u.top+(u.height/2);v=this.toolTip.get("parentNode").get("region");C=this.toolTip.get("region");if(u){switch(y){case"b":q.replaceClass(f,l);break;case"t":q.replaceClass(l,f);break;case"l":q.replaceClass(j,c);break;case"r":q.replaceClass(c,j);break;}switch(B){case"l":p.replaceClass("rightpointer","leftpointer");p.setStyle(c,"");q.setStyle(c,(u.left-v.left)-(this.pointer.getX()-C.left+(this.pointer.get("offsetWidth")/2))+(u.width/2)+g);break;case"c":if(y=="b"||y=="t"){p.setStyle(c,(C.width/2)-(this.pointer.get("offsetHeight")/2)+g);q.setStyle(c,(u.left-(C.width/2)+(u.width/2))-v.left+g);}else{p.setStyle(f,((C.height/2)-(this.pointer.get("offsetHeight")/2))+g);}break;case"r":p.replaceClass("leftpointer","rightpointer");p.setStyle(c,"");q.setStyle(c,((u.right-C.width)-v.left)+g);break;case"t":p.replaceClass("pointerbottom","pointertop");break;case"b":p.replaceClass("pointertop","pointerbottom");break;}switch(y){case"b":q.setStyle(f,(u.top-v.top+u.height+this.pointer.get("offsetHeight"))+g);break;case"t":q.setStyle(f,(u.top-v.top-C.height-this.pointer.get("offsetHeight"))+g);break;case"l":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,(u.left-v.left-C.width-this.pointer.get("offsetWidth"))+g);break;case"r":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,u.right-v.left+this.pointer.get("offsetWidth")+g);break;}}},show:function(q,o){var p=b.merge(this.options,o);this.toolTip.removeClass(i);if(q){this.positionToolTip(q,p);}this.toolTip.setAttribute("role",p.role);if(p.scrollIntoView){this.content.scrollIntoView();}return this.content;},hide:function(){this.toolTip.addClass(i);},isVisible:function(){return !this.toolTip.hasClass(i);},destroy:function(){if(this.autohideId!==h){d.getService("autohide").unregister(this.autohideId);this.autohideId=h;}this.toolTipBody.get("parentNode").removeChild(this.toolTipBody);this.toolTipBody=this.pointAtMe=this.toolTip=this.content=this.pointer=h;}};n={create:function(o){return new k(o);}};b.namespace(e);b[e][a]={name:"tooltip",getService:function(p,o){if(!d){d=p;}return n;}};if(m){m.registerService(b[e][a]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("carousel_service",function(a){var f=a.ModulePlatform,c="MPServices",h="CarouselProvider",i="tabindex",n="A",g="offsetWidth",p="offsetHeight",l="right",r="mouseout",k="mouseover",b=300,e=true,j=false,o=null,q;function m(v,s,u){var w,t;w=this.node=a.one(v);if(w.hasClass("y-carousel-list")){this._carouselList=w;this.node=w.get("parentNode");}else{this._carouselList=w.query(".y-carousel-list");}this.options=s||{};this._mode=s.mode||"horz";this._loop=s.loop||j;this._autoscrollPlaying=j;this._autoscrollLazyPause=0;this._autoscrollInterval=s.autoscrollInterval||0;this._autoscrollIntervalFirst=s.autoscrollIntervalFirst||this._autoscrollInterval;this._autoscrollTimer=o;t=this._carouselItems=this._carouselList.get("children");this._maxItems=t.size();this._currentIndex=0;this._pixelToEmRatio=0;this._moduleapi=u;this._direction=s.direction||(u.getViewDirection("default")=="rtl")?l:"left";this._scrollActive=false;this._init();}m.prototype={_init:function(){var s=this.node;s.addClass(this._mode);if(this.options.direction){this._direction=this.options.direction;}if(this._autoscrollInterval>0){this.attachEngagingAreaMouseEvents();if(a.UA.ie<8){this.activeElement=document.activeElement;document.onfocusout=a.bind(this.handleIEBlur,this);document.onfocusin=a.bind(this.handleIEFocus,this);}else{a.on("blur",a.bind(this.handleBlur,this),window);a.on("focus",a.bind(this.handleFocus,this),window);}}},_getWrapAroundToPosition:function(C,t){var D,z,s,w,E,A=this._direction,v=this._maxItems,y=this._carouselItems,x=(this._direction==="top")?y.item(0).get(p):y.item(0).get(g),B=v*x,F=y.item(C),u=parseInt(F.getComputedStyle(A),10);u=isNaN(u)?0:u;D=t*x+u;z=u;if(C>t){this._firstWrap=false;D+=B;z+=B;}else{D-=B;z-=B;}F=y.item(t);E=this._carouselList;s=E.getComputedStyle(A);if(s){if(s.indexOf("em")>-1){w=parseInt(s,10);E.setStyle(A,this._convertToPixels(w)+"px");}else{if(s.indexOf("auto")>-1){E.setStyle(A,"0");}}}F.setStyle(A,z+"px");return -D;},_getToPosition:function(u,w){var v,s=this._direction,t=this._carouselItems;this.resetPositioning(u);v=t.item(u);v.setStyle(s,"");v=t.item(w);v.setStyle(s,"");return this._getOffsetByIndex(w);},_getOffsetByIndex:function(s){var t=this._carouselItems,u=(this._direction==="top")?t.item(0).get(p):t.item(0).get(g);return -(s*u);},destroy:function(){var s=this._fontResizeHandle;if(s){s.detach();}this.detachEngagingAreaMouseEvents();this._fontResizeHandle=this.node=this._carouselItems=this._carouselList=o;this.unsubscribeAll();},getItemNode:function(s){return this._carouselItems.item(s);},getCurrentIndex:function(){return this._currentIndex;},_doAutoscroll:function(){if(this._autoscrollPlaying){if(this._autoscrollLazyPause===0){this.next();if(this._autoscrollInterval>0){this._autoscrollTimer=a.later(this._autoscrollInterval*1000,this,this._doAutoscroll);}}else{this._autoscrollTimer=o;}}},play:function(s){if(this._autoscrollIntervalFirst===0){return j;}if(s){if(this._autoscrollLazyPause>0){this._autoscrollLazyPause-=1;}if(this._autoscrollPlaying===j){return;}}if(this._autoscrollLazyPause===0&&(this._autoscrollPlaying===j||this._autoscrollTimer===o)){this._autoscrollTimer=a.later((this._autoscrollIntervalFirst*1000),this,this._doAutoscroll);this._autoscrollPlaying=e;}},pause:function(s){if(s){this._autoscrollLazyPause+=1;}else{this._autoscrollPlaying=j;if(this._autoscrollTimer!==o){this._autoscrollTimer.cancel();this._autoscrollTimer=o;}}},next:function(t){var s=this._currentIndex;if(s==this.getItemCount()-1){if(this._loop||t){s=0;}}else{++s;}this.scrollTo(s);},previous:function(t){var s=this._currentIndex;if(s===0){if(this._loop||t){s=this.getItemCount()-1;}}else{--s;}this.scrollTo(s);},resetPositioning:function(s){if(typeof(s)==="undefined"){s=this._currentIndex;}var t=this._getOffsetByIndex(s);this._carouselList.setStyle(this._direction,t+"px");},scrollTo:function(v,y){var B,s,t=j,w=this._maxItems,A=this._currentIndex,C,z=this._direction,u,x={type:"scroll",fromIndex:A,toIndex:v};if(this.isScrolling()||v==A){return;}s=this.getItemNode(A);this._activateTabIndex(s,j);y=y===undefined||y===o?e:y;if(6==a.UA.ie&&l==z){y=j;}t=(A===0&&v==w-1)||(A==w-1&&v===0);this._currentIndex=v;if(y&&t&&w>2){B=this._getWrapAroundToPosition(A,v);}else{B=this._getToPosition(A,v);}this.fire({type:"beforescroll",fromIndex:A,toIndex:v});u=this.options.animate||f.getProperty("ui.carousel.animate");if(u){C={on:{start:a.bind(function(){this._scrollActive=true;},this)}};switch(z){case"top":C.top=B+"px";break;case"bottom":break;case"left":C.left=B+"px";break;case"right":C.right=B+"px";break;}C.duration=this.options.animDuration||0.5;C.easing=this.options.easing||"ease-in-out";this._carouselList.transition(C,a.bind(function(){this._handleScrollEnd(x);},this));}else{this._carouselList.setStyle(z,B+"px");this._handleScrollEnd(x);}},_handleScrollEnd:function(u){var s,t,x,v,w;this._scrollActive=false;if(a.UA.ie){s=this._direction;w=this._carouselList;x=parseInt(w.getComputedStyle(s),10);v=this._convertToEms(x);if(isFinite(v)){w.setStyle(s,v-0.068+"em");}}t=this.getItemNode(this._currentIndex);this._activateTabIndex(t,e);this.fire(u);},_convertToEms:function(s){return 1/this._calculateEm()*parseInt(s,10);},_convertToPixels:function(s){return this._calculateEm()*parseInt(s,10);},_calculateEm:function(){var s,u,t=this.node;s=t.create('<div style="width: 50em; height: 0; position: absolute;'+this._direction+': -999em;"></div>');t.appendChild(s);u=s.get(g)/50;t.removeChild(s);if(u===0&&this._pixelToEmRatio!==0){u=this._pixelToEmRatio;}else{if(u>0){this._pixelToEmRatio=u;}}return u;},_activateTabIndex:function(u,s){var t=u.queryAll(n);if(t){if(s){t.each(function(v){v.removeAttribute(i);});}else{t.each(function(v){v.setAttribute(i,"-1");});}}},getItemNodes:function(){return this._carouselItems;},getItemCount:function(){return this._maxItems;},isScrolling:function(){return this._scrollActive;},attachEngagingAreaMouseEvents:function(){this.node.on(k,this.handleEngagingAreaMouseover,this);this.node.on(r,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){this.node.detach(k,this.handleEngagingAreaMouseover);this.node.detach(r,this.handleEngagingAreaMouseout);},handleBlur:function(){this.pause(e);this.detachEngagingAreaMouseEvents();},handleFocus:function(){this.play(e);this.attachEngagingAreaMouseEvents();},handleIEBlur:function(){if(this.activeElement){}if(this.activeElement==document.activeElement){this.activeElement=o;this.handleBlur();}},handleIEFocus:function(){if(this.activeElement==o){this.handleFocus();}this.activeElement=document.activeElement;},handleEngagingAreaMouseover:function(s){a.later(b,this,this.pause,e);},handleEngagingAreaMouseout:function(s){a.later(b,this,this.play,e);}};a.augment(m,a.Event.Target);function d(s){this.moduleapi=s;}d.prototype={create:function(t,s){return new m(t,s,this.moduleapi);}};a.namespace(c);a[c][h]={name:"carousel",getService:function(t,s){if(!q){q=t;}return new d(q.getModuleApi(s));}};if(f){f.registerService(a[c][h]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var z,w,v,o,H,B,a,b,k,s,E,c,D,h,x,q=false,y=[],u="",e="pa:open",l="pa:close",t="stream:loadsuccess",p="stream:new_content",f="modal:open",i="modal:close",K="apps:resized",F="header:resized",A="fp:window:scroll",G="fp:window:resize",g="fp:today:offscreen",m="fp:today:onscreen",J="fp:moneyball:offscreen",n="fp:moneyball:onscreen",d="fp:trendingnow:offscreen",C="fp:trendingnow:onscreen",j="fixed-enabled",I=40,r=500;YModules.type_fp={viewevents:["click","contextmenu"],lastScroll:0,scrollSince:0,scrollTimer:null,safariSearchSetEnabled:false,init:function(L){var M;H=L;a=H.getService("moduleplatform");b=H.getService("yui");k=b.config.win;B=H.getId();z=H.getService("instrumentation");v=H.getService("modal");E=H.getService("sethomepage");s=H.getService("metrologger");w=H.getService("sticky_position");M=b.one("base");if(M){h=M.get("target");}},onviewload:function(S){this.listeners=[];if(S=="default"){var U=H.getContextData("ilc"),O,Q,R,L=H.getContextData("forceIpLocation"),N=H.getService("statemgr"),P,T,M;if(L&&N){N.setUserPageState("bypassUserLocPref",1);}this.body=H.getViewNode(S);this.fixCenterCol=a.getProperty("filters.bar.enable");this.mHeight=b.one("#masthead").get("offsetHeight");this.wrapper=b.one(".main-row-wrapper")||b.one(".main-col-wrapper");this.scrollY=0;if(w){R={top:this.mHeight,onSticky:b.bind(this.onStickyHandler,this),onLoose:b.bind(this.onLooseHandler,this)};w=new w({".sticky-rail-right-holder":R,".sticky-rail-left-holder":R,"#stream .type_fstream":R});H.listen(K);H.listen(F);H.listen(t);}y=a.queryModules(function(V){var W=a.getModuleState(V);return !!(W&&W.defer);});a.subscribe("error",this.handleError,this,true);a.subscribe("navigate",this.handleNavigate,this,true);a.subscribe("modulesignal",this.handleModuleSignal,this,true);a.subscribe("ready",this.handleReady,this,true);H.listen(l);H.listen(e);H.listen(f);H.listen(i);H.listen(p);this.watchScroll();this.watchResize();this.handleAction("resize");if(y.length>0){b.on("load",b.bind(this.loadDeferred,this),window);}if(H.getContextData("deferredRes")){Q=H.getContextData("deferredResDelay");if(Q>0){b.on("load",b.rbind(function(V){b.later(V,this,this.loadDeferredRes);},this,[Q]),window);}else{b.on("load",b.bind(this.loadDeferredRes,this),window);}}if(E&&E.getHpCookie()===null){O=E.isHomepageSet(U)?"1":"0";E.setHpCookie(U,O);b.on("load",b.bind(this.logHomepageSet,this,U,O),window);}if(b.UA.ie===9){if(window.external&&("msIsSiteModeFirstRun" in window.external)&&(1===window.external.msIsSiteModeFirstRun(true))){this.beaconIE9PinningAction();}}b.on("unload",function(){u="unload";},window);this.disableOffscreenAutoplay=a.getProperty("today.offscreen.autoplay.disabled");this.todayOffscreenAmount=a.getProperty("today.offscreen.amount");this.pauseMballAutoplay=a.getProperty("moneyball.offscreen.autoplay.disabled");this.pauseMballOffscreenAmount=a.getProperty("moneyball.offscreen.amount");this.enableTrendingnowOffscreen=a.getProperty("trendingnow.offscreen.enabled");if(this.enableTrendingnowOffscreen===1){if(this.body.one(".col-3 .type_trendingnow .app_trendingnow")!==null){P=this.body.one(".col-3 .type_trendingnow .app_trendingnow");}else{if(this.body.one(".col-3 .type_trendingnowcarousel .tn-topic-wrapper")!==null){P=this.body.one(".col-3 .type_trendingnowcarousel .tn-topic-wrapper");}}if(P!==null){T=P.get("offsetHeight");M=P.getY();this.trendingnowOffscreenAmount=M+T-(this.body.one("#masthead").get("offsetHeight"));}}this.safariSearchSetEnabled=H.getContextData("safariSearchSetEnabled");if(this.safariSearchSetEnabled){b.use("safari_search_set",b.bind(function(V){V.Search.safariSearchSet(H.getContextData("desktopCrumb"),V.Cookie.get("B"));},this));}}},isFixedEnabled:function(){return this.body.hasClass(j);},onStickyHandler:function(M,L){if(L==="top"){M.setStyles({top:this.mHeight,bottom:""});}else{M.setStyles({top:"",bottom:0});}},onLooseHandler:function(L){L.setStyles({top:"",bottom:"",width:""});},watchResize:function(){this.listeners.push(b.on("resize",function(L){this.handleAction("resize");},k,this));},watchScroll:function(){this.listeners.push(b.on("scroll",function(L){var M=+(new Date())-this.lastScroll;this.scrollSince=M;if(this.scrollTimer){this.scrollTimer.cancel();}if(M>=I){this.handleAction("scroll");}else{this.scrollTimer=b.later(I-M,this,this.handleAction,"scroll");}},k,this));},handleAction:function(N){var L=this.viewport,Q=b.DOM.docScrollY(),O=this.body,M,P=H.getContextData("fixedMastheadEnabled");this.lastScroll=+(new Date());this.scrollY=Q;if(N==="resize"){M=parseInt(this.wrapper.getStyle("min-width"),10)||980;L=this.viewport=b.DOM.viewportRegion();if(P){this.body.toggleClass(j,(L.width>=M));}}O.toggleClass("has-scrolled",Q>0);if(w){if(this.scrollSince>r||N==="resize"){w.recalculateThresholds(L);}if(P){w.trigger(L,Q,N,b.bind(this.isFixedEnabled,this));}}H.broadcast(N==="scroll"?A:G,{type:N,viewport:L});if(this.disableOffscreenAutoplay&&this.todayOffscreenAmount&&this.disableOffscreenAutoplay===1){if(N==="scroll"&&this.scrollY>=this.todayOffscreenAmount){H.broadcast(g);}else{if(N==="scroll"&&this.scrollY<this.todayOffscreenAmount){H.broadcast(m);}}}if(N==="scroll"&&this.pauseMballAutoplay&&this.pauseMballOffscreenAmount){if(this.scrollY>=this.pauseMballOffscreenAmount){H.broadcast(J);}else{if(this.scrollY<this.pauseMballOffscreenAmount){H.broadcast(n);}}}if(N==="scroll"&&this.enableTrendingnowOffscreen===1&&this.trendingnowOffscreenAmount){if(this.scrollY>=this.trendingnowOffscreenAmount){H.broadcast(d);}else{if(this.scrollY<this.trendingnowOffscreenAmount){H.broadcast(C);}}}},openModal:function(M,L){if(!o){o=v.create(M.config);}o.setContent(M.content);o.show();},closeModal:function(L){if(!o){return;}o.setContent("");o.hide();},onviewunload:function(L){if(L=="default"){if(D){D.cancel();}a.unsubscribe("error",this.handleError);a.unsubscribe("navigate",this.handleNavigate);a.unsubscribe("modulesignal",this.handleModuleSignal);a.unsubscribe("ready",this.handleReady);D=c=null;}},onviewevent:function(P,M){var N=M.target,O=N&&M.button===1&&N.ancestor(".back-to-top",true),L;if(M.type=="contextmenu"){N=N.get("tagName")=="A"?N:N.ancestor("A");if(N){L=N.getAttribute("href").replace(location.href,"");if(L.charAt(0)=="#"||/^javascript:/i.test(L)){M.preventDefault();}}}if(O){O.blur();k.scrollTo(0,0);z.fireYwaBeacon({slk:q?"top-msg":"top",sec:"btt",action:"click",elm:"btn",elmt:"cta",itc:1,rspns:"top",t1:"a0",t2:"btt",t3:"plcmt"});}},onmessage:function(S,O,Q){var R,N,P,L,M;switch(S){case F:if(w){M=b.one("#masthead").get("offsetHeight");this.mHeight=M;w.recalculateThresholds(this.viewport,M);w.trigger(this.viewport,this.scrollY,"resize",b.bind(this.isFixedEnabled,this));}return;case K:if(w){w.recalculateThresholds(this.viewport);w.trigger(this.viewport,this.scrollY,"resize",b.bind(this.isFixedEnabled,this));}return;case f:this.openModal(Q,false);return;case i:this.closeModal(false);return;case p:R=this.body.one(".back-to-top");N=R&&R.one(".new-stories-notif");if(N){P=b.Object.getValue(Q,["count"])||0;L=P&&b.Object.getValue(Q,["message"])||"";q=!!(L);N.setContent(L).toggleClass("show",q);if(q){z.fireYwaBeacon({action:"secview",sec:"td-strm-btn",outcome:"cuetop"});}}return;case t:w.recalculateThresholds(this.viewport);return;default:}},loadDeferred:function(){b.Array.each(y,function(L){a.refreshView(L,"default");});y=[];},loadDeferredRes:function(){var L=H.getContextData("deferredRes"),M;if(L){M=a.getService("resourcemgr");b.Array.each(L,function(N){M.load(N);});}},logHomepageSet:function(M,L){z.firePageParameterBeacon("hpset="+L+(M?"&ilc="+M:""));},handleReady:function(M){var L=OnloadCache;L.dispatch();L.reset();},handleError:function(Q){s.logError(Q.moduleId,Q.errorType+"(view="+Q.view+",pageMode= "+u+"):"+Q.error.message);if(u!="unload"){var L,P,M,O,S,R;if(!Q.moduleId){return;}if(Q.errorType=="onviewunload"&&(Q.viewName=="default"||(Q.args&&Q.args[0]=="default"))){return;}else{try{L=Q.html;P=Q.moduleId;M=a.getModuleApi(P);S=M.getProperty("type");O=H.getString("STR.MODULE.ERROR_FALLBACK_TEXT");R=a.getProperty("errorDetails");if(R||(S!="pa"&&S!="pacontainer"&&S!="masthead"&&S!="fptoday")){if(R){O="JavaScript error: "+Q.error.message;}if(!L){L=b.Lang.sub(a.getProperty("modErrorHtml"),{message:O,name:M.getProperty("title"),img:M.getProperty("icon"),title:M.getProperty("title"),url:M.getProperty("detailUrl")});}this.showModuleDefaultViewError(P,L);}}catch(N){}}}},handleModuleStart:function(O){var N=O.moduleId,L=a.getModuleApi(N),P=L.getProperty("type"),M=L.getContextData("mods");if(P!="fp"&&P!="pa"){if(b.Lang.isArray(M)){b.Array.each(M,function(Q){a.registerModule(Q);a.start(Q.props.id,true,true);});}}},handleNavigate:function(L){var M=L.target||h||"_top";if(z.hasPendingBeacons()){z.firePendingBeacons();}if(M==="_top"||M==="_self"){b.later(200,this,function(N){location.href=N;},L.url);}else{window.open(L.url,M);}},handleModuleSignal:function(N){if(N.signal=="viewevent"){var M=N.args[1],O=M.target,L=O.get("tagName");if((L=="SELECT"||L=="OPTION")){if(L=="SELECT"){b.detach("selectchange|change");O.on("selectchange|change",function(P){this.processInstrumentation(P.target,true);},this);}return;}this.processInstrumentation(O,(N.moduleId==B));}},processInstrumentation:function(M,L){z.collectData(M);if(L){z.firePendingBeacons();}},showModuleDefaultViewError:function(S,O){var Q=a.getModuleApi(S),N=Q.getProperty("detailUrl"),L=a.getViewNode(S,"default"),R=(L?L.ancestor(".mod"):null),M=b.Lang.sub(a.getProperty("modChromeHtml"),{html:O,type_name:Q.getProperty("type"),view_name:"error"}),P=b.Node.create(M);if(!N){P.addClass("no-link");}if(R){R.set("innerHTML","").appendChild(P);}},beaconIE9PinningAction:function(){var L=Math.random(),M="http://pclick.internal.yahoo.com/p/s=2145185763&t="+L;x=new Image();x.onload=x.onerror=function(){x=null;};x.src=M;}};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
var MORE_MENU_CLASS="uh-more-menu",MENU_EXPOSED_CLASS="menu-active",MOUSEOVER="mouseover",MOUSEOUT="mouseout";YModules.type_universalheader={body:null,editBody:null,id:"",moduleapi:null,viewevents:["click"],instrumentation:null,tooltipService:null,tooltip:null,autoHide:null,init:function(a){this.Y=a.getService("yui");this.id=a.getId();this.moduleapi=a;this.instrumentation=a.getService("instrumentation");this.listeners=[];this.moreClickEnabled=a.getContextData("moreClickEnabled");this.searchSetEnabled=a.getContextData("searchSetEnabled");},onviewload:function(b){var a=this.moduleapi;if(b==="default"){this.body=a.getViewNode(b);this.registerAutoHide();if(!this.moreClickEnabled){this.listeners.push(this.Y.one(".uh-more-menu").on(MOUSEOVER,this.mouseenterleave,this,this.clearSiteMenuHideTimer));this.Y.one(".uh-more-menu").on(MOUSEOUT,this.mouseenterleave,this,this.Y.bind(this.hideMoreMenuMouse,this,"more"));this.Y.one("#uh-more-link").on(MOUSEOUT,this.mouseenterleave,this,this.Y.bind(this.hideMoreMenuMouse,this,"more"));}if(this.searchSetEnabled){this.Y.one("BODY").addClass("searchset-enabled");}}},registerAutoHide:function(){var c=this.Y,a=this.moduleapi.getService("autohide"),b=this.body.one("."+MORE_MENU_CLASS),d=this.body.one("#uh-more-link");this.menu=b;this.moreLink=d;this.autoHideId=a.register({targets:[d,b],hide:c.bind(this.hideMoreMenu,this)});this.autoHide=a;},onviewunload:function(a){if(a==="default"){this.body=null;}else{if(a==="edit"){this.editBody=null;}}},onviewevent:function(i,g){var b,f=g.target.hasClass("dss-dismiss"),c=g.target.hasClass("dss-close"),k=g.target.hasClass("dss-yes"),j=g.target.getAttribute("href"),a=this.body.one(".search-prompt"),h=this.Y.one("BODY"),d=this;if(i==="default"){b=g.target.ancestor("#uh-more-link > a",true,".type_universalheader");if(b&&this.moreClickEnabled){if(!b.get("parentNode").hasClass(MENU_EXPOSED_CLASS)){this.exposeMoreMenu();}else{this.hideMoreMenu();}g.preventDefault();}if(f||c){g.preventDefault();this.body.addClass("hide-searchset");h.removeClass("searchset-enabled");this.setDSSCookie();setTimeout(function(){a.remove();d.moduleapi.broadcast("header:resized");},1010);}if(k){g.preventDefault();this.setDSSCookie();this.dssUrl=j;}}},exposeMoreMenu:function(){var a,b=this.body.one("ul").all("li")._nodes.length;this.moreLink.addClass(MENU_EXPOSED_CLASS);this.menu.removeClass("d-n");a={sec:"hd-nav",slk:"more",ltxt:this.moduleapi.getContextData("str.more"),cpos:b,itc:1};this.instrumentation.fireUltBeacon(a);},hideMoreMenu:function(){this.moreLink.removeClass(MENU_EXPOSED_CLASS);this.menu.addClass("d-n");},exposeMoreMenuMouse:function(){if(!this.siteMenuExposeMenuTimer){this.siteMenuExposeMenuTimer=setTimeout(this.Y.bind(function a(){this.exposeMoreMenu();this.siteMenuExposeMenuTimer=null;},this),300);}},hideMoreMenuMouse:function(){if(!this.siteMenuHideTimer){this.siteMenuHideTimer=setTimeout(this.Y.bind(function a(){this.hideMoreMenu();this.siteMenuHideTimer=null;},this),700);}},clearSiteMenuHideTimer:function(){if(this.siteMenuHideTimer){window.clearInterval(this.siteMenuHideTimer);this.siteMenuHideTimer=null;}},mouseenterleave:function(d,a){var c=d.currentTarget,b=d.relatedTarget;if(c!==b&&!c.contains(b)){a.call(this,d);}},setDSSCookie:function(){var a={type:"module",moduleId:this.id,args:{_action:"save",_subAction:"DSS"}},b={success:function(d,c){if(this.dssUrl){this.moduleapi.navigate(this.dssUrl);}},failure:function(d,c){if(this.dssUrl){this.moduleapi.navigate(this.dssUrl);}},scope:this};this.moduleapi.makeRequest(a,b);}};/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var b="mouseover",i="mouseout",g="tab_enter",h="tab_exit",d="innerHTML",e=null,c="saveforlater:newsaved",f="glow";function a(m,j){var l=m.currentTarget,k=m.relatedTarget;if(l!==k&&!l.contains(k)){j.call(this,m);}}YModules.type_tabbar={body:e,id:"",api:e,viewevents:["click"],events:e,tiles:e,ulm:e,locWidget:e,locaBadgeReq:e,instrumentation:e,init:function(j){this.Y=j.getService("yui");this.id=j.getId();this.api=j;this.events=[];this.instrumentation=j.getService("instrumentation");},onviewload:function(s){var p=this.api,x=p.getViewNode(s),l=this.handleEnterLeave,k=this.id,u,o,m,w,j,q,n,r,v,t;u=x.getById(k+"-tiles");t=this.tiles=u.all(".tab");this.body=x;this.locaBadgeReq=this.api.getContextData("localbadge");this.preventDropdown=this.api.getContextData("preventDropdown");if(this.preventDropdown){return;}this.Y.each(t,this.Y.bind(function(y){this.events.push(y.on(b,a,this,l),y.on(i,a,this,l));},this));n=x.one(".local-drop");if(n){o=p.getService("ulm");p.listen("ulm:defaultlocation");this.ulm=o.create(n.one(".y-ulm"),{setDefault:true});this.ulm.subscribe("locationselect",this.onLocationSelect,this);n.removeClass("hide");n.one(".y-ulm-dd").addClass("hide-textindent");}else{if(x.one("#mld-widget")){p.listen("ldw:defaultlocation");q=p.getService("locdrop_widget");r=p.getContextData("locale");v=p.getContextData("locdrop_crumb");m=p.getContextData("country_filter");w=p.getContextData("def_loc");j=p.getContextData("cur_loc");this.locWidget=q.create("#mld-widget",{crumb:v,locale:r,countryFilter:m,currentLoc:j,defaultLoc:w});this.locWidget.subscribe("locationselect",this.onLocWidgetSelect,this);}}u.destroy();this.Y.Global.on(c,this.animateSaveForLater,this);},onmessage:function(j,k,l){if((j==="ulm:defaultlocation"||j==="ldw:defaultlocation")&&k!="tabbar"){this.updateLocation(l.loc);}},updateLocation:function(k){var j={type:"module",moduleId:this.id,args:{_action:"show",_subAction:"ulmLocationSelect",ulmLocation:k}},l={success:this.onUpdateLocationSuccess,failure:this.onUpdateLocationFailure,argument:{},scope:this};this.api.makeRequest(j,l);},onUpdateLocationSuccess:function(j,k){if(j.html){this.body.one(".local-txt").set(d,j.html);}},onUpdateLocationFailure:function(j,k){},onLocationSelect:function(k){var j,l;if(k.response.html){j=this.body.one(".local-txt");j.set(d,k.response.html);l=(k.response.data._ULM_LOCATION)?k.response.data._ULM_LOCATION:k.location;if(this.locaBadgeReq&&l){if(NILE&&NILE.onLocationChange){NILE.onLocationChange(l);}}}},onLocWidgetSelect:function(j){this.updateLocation(j);},onviewunload:function(j){this.body.destroy();this.Y.Array.each(this.events,function(k){k.detach();});this.tiles.destroy();this.body=this.events=this.tiles=e;},onviewevent:function(s,n){var p,o=n.target,l,r,j,q,m,k,t,u=this.body.one(".y-menu");if(o.hasAttribute("aria-haspopup")){n.preventDefault();u.setStyle("visibility","visible");u.setAttribute("aria-hidden",false);m=this.Y.one("body").on("focus",function(v){if(!u.contains(v.target)){u.setStyle("visibility","hidden");u.setAttribute("aria-hidden",true);m.detach();}});}if(!o.hasClass("lw")&&!o.ancestor(".lw")&&!o.hasClass("y-ulm")&&!o.ancestor(".y-ulm")&&o.get("nodeName").toLowerCase()!="a"){l=o.hasClass("tab")?o:o.ancestor(".tab");if(l){q=l.one(".mod");p=o.get("className");if((!q||!q.contains(o)||/\btab-(?:label|caption)\b/.test(p))&&!o.hasClass("feature-cue")&&!o.ancestor(".feature-cue")){r=l.one(".tab-label");j=r.get("href");if(j){this.api.navigate(j);}r.destroy();}}}k=o&&o.ancestor(".tab-my",true,".tiles");if(k){t={t1:"a1",t2:"hd",t3:"tl-lst",sec:"hd",elm:"tl",elmt:"myyh",itc:0,rspns:"nav",action:"click",slk:"myyh",pos:0};this.instrumentation.fireYwaBeacon(t);}},handleEnterLeave:function(o){var q=o.type==b?g:h,l=o.currentTarget,n,m=l.one(".bd"),p,k,j;if(!m){return;}k=m.get("className");j=/type_(\w+)/.exec(k);if(j&&j[1]){p=j[1];n=o.target;if("mail"===p&&(n.hasClass("feature-cue")||n.ancestor(".feature-cue"))){return;}this.api.broadcast(q,{moduleType:p});}else{}},animateSaveForLater:function(l){var m=this.body.one(".tab-label .tab-icon"),k,j=this.body.one(".sfl-icon-animation");if(m&&!j){k=this.Y.Node.create('<i class="img-sprite sfl-icon-animation"></i>');m.ancestor(".tab-label").prepend(k);m.addClass("box-shadow-anim");k.transition({duration:0.5,opacity:1,on:{start:function(){m.addClass(f);},end:function(){m.removeClass(f);k.transition({duration:0.8,opacity:0.2},function(){k.transition({duration:0.5,opacity:1,on:{start:function(){m.addClass(f);},end:function(){m.removeClass(f);k.transition({duration:1,opacity:0},function(){k.remove();});}}});});}}});}}};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("transport_helper_service",function(f){var a="MPServices",e="TransportHelperServiceProvider",c="abort",d={},g=null;function b(h,i){this.arcadeTransport=h.getService("arcade_transport");this.moduleapi=h.getModuleApi(i);this.arcadeLiteEnabled=h.getProperty("arcadeLiteEnabled");}b.prototype={makeRequest:function(h,k){var j=f.clone(h||{},true),i=this.arcadeTransport;if(j.ups||j.udb||this.arcadeLiteEnabled==="0"){i=this.moduleapi;if(!j.ups){j.noups=1;}delete j.ups;delete j.udb;}j.args=f.merge(j.args,{prid:g});return{transport:i,id:i.makeRequest(j,k),abort:function(){return this.transport.abortRequest(this.id);}};},wasAborted:function(h){return(h&&(h.result===c||h.statusText===c));}};f[a][e]={name:"transport_helper",getService:function(h,i){if(!g){g=h.getProperty("requestId");}if(!d.hasOwnProperty(i)){d[i]=new b(h,i);}return d[i];}};if(f.ModulePlatform){f.ModulePlatform.registerService(f[a][e]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YUI.add("login",function(e){var x=null,k="MPServices",r="LoginProvider",q=e.ModulePlatform,l=e.config.win,n="p_30345826",z="ylogin",o="a."+z+",.login-tooltip",i="click",v="vertical",u=/http[s]?:\/\/[\S]*[&|?].done=(.*)/,p,A,B,g=x,f,d,c,j=x,m=[],s;function y(){c.one("#cookie-refresh").remove();if(j){j();}}function b(F){var E=l.location.protocol+"//"+e.config.win.location.host,C=encodeURIComponent(E+"/credstore_proxy/CredStoreEventsProxy.php?callback_function=cookie_refresh"),D='<iframe id="cookie-refresh" src="https://login.yahoo.com/config/refresh_cookie?.done='+C+'" height="0px" width="0px" class="vh"></iframe>';j=F;c.append(D);}function a(E,D,C){var F;if(B){F=B.makeRequest({type:"module",moduleId:n,args:e.merge({_action:"show",_subAction:"getButtons",noups:1},D)},{success:function(G){if(E&&G.html){E.setContent(G.html);}if(e.Lang.isFunction(C)){C();}},failure:function(G){},scope:this});}}function t(E){var C=E.doneParams||"",D=l.location.protocol+"//"+l.location.hostname+C;l.location.replace(D);}function h(F){var D=F.currentTarget,C,E=A.getProperty("ywa.rapid.enabled.modules");if(D){if(D.test("a."+z+'[target="_blank"]')){F.preventDefault();l.open(D.getAttribute("href"),"login","width=320,height=450,directories=0,titlebar=0,toolbar=0,location=0,status=0,menubar=0,scrollbars=no,resizable=no, top="+(F.pageY+100)+", left="+(F.pageX-200),true);}else{if(D.test("a."+z+'[target="_top"]')){C=D.getAttribute("href");if(e.Lang.isString(C)&&!u.test(C)){C+=(C.indexOf("?")?"&":"?")+".done="+encodeURIComponent(l.location.href);D.setAttribute("href",C);}}}if(D.test("a."+z)){if(typeof(E)=="object"&&E.hasOwnProperty("default-p_30345826")){p.fireBeacon(p.getBeaconKeys(D));}}if(D.test("a."+z)){e.Array.each(m,function(G){if(D.test(G.selector)&&e.Lang.isFunction(G.clickHandler)){G.clickHandler(D);}});}}}function w(){var G={parentNode:c,className:["y-tooltip-login"],pointerClass:"img-sprite",position:{box:"l",arrow:"r"},autohide:true},D={sec:"login-tooltip",cacheKey:"login-svc",layout:v,title:"Sign in to save your preference",narrow:1},H=[],E,F,C;C={init:function(){var I=this;F=f.create(G);e.on("scroll",function(){I.hide();});F.getNode().on("mouseout",function(){E=e.later(3000,this,function(){I.hide();});});F.getNode().on("mouseover",function(){E.cancel();});},_showTooltip:function(K,J){var I=this;if(E){E.cancel();}F.show(K,J);E=e.later(J.hideDelay||3000,this,function(){I.hide();});},show:function(N){var K=e.mix(N.buttonConfig||{},D),J=e.mix(N.tooltipCong||{},G),M=this,L,I;if(!N.pointAtMeNode){return;}if(!H[K.cacheKey]){L=e.Node.create("<div></div>");I=function(){H[K.cacheKey]=L;M._showTooltip(N.pointAtMeNode,e.mix({msg:L},J));};a(L,K,I);}else{e.later(250,this,function(){M._showTooltip(N.pointAtMeNode,e.mix({msg:H[K.cacheKey]},J));});}},hide:function(){if(F&&F.isVisible()){F.hide();}}};C.init();return C;}s={getTooltip:function(){if(!g){g=new w();}return g;},configClick:function(D){var E=D.clickHandler||x,C=D.selector||"";m.push({selector:C,clickHandler:E});return this;},getButtons:a,refreshCookie:b};e.namespace(k);e[k][r]={name:"login",getService:function(D,C){p=D.getService("instrumentation");A=D.getService("moduleplatform");f=D.getService("tooltip");B=D.getModuleApi(C);d={spid:A.getProperty("credstore.spid"),host:A.getProperty("yql.host"),path:A.getProperty("yql.path"),publicPath:A.getProperty("yql.public.path"),store:A.getProperty("yql.store"),crumb:A.getProperty("yql.crumb"),env:A.getProperty("yql.env")};if(!c){c=e.one("body");c.delegate(i,h,o,this);}return s;},onCookieRefresh:y,onYSignIn:t};if(q){q.registerService(e[k][r]);}},"1.0");/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var C=null,k=true,x=false,o=47,A="-tuc",f="-nickname-p2",b="default",s="browser",y="parentNode",d="offsetWidth",g="width",z="hidden",a="tuc-dropdown",h="tuc-nickname",i=".name",j="active",D="y-bg-3",B="y-hdr-link",v="y-txt-1",e="27",m="px",q="tab_enter",t="tab_exit",r=400,u="rtl",p="d-n",n=".notif-panel",E=".recog-panel",w="notseen",l="seen",c=5;YModules.type_tuc={id:"",body:C,viewevents:["click"],moduleapi:C,autoHideService:C,autohideTuc:C,tucDropdown:C,type:C,menu:C,notificationEnabled:x,notificationChecked:x,isShown:x,timer:C,tucContentReqId:null,arcadeTransport:null,isWave3:x,isWave3badge:x,socialLoginEnable:x,isLoggedIn:x,pageTitle:C,titleFlash:C,cometInited:x,cometInitRetryCount:0,init:function(F){this.Y=F.getService("yui");this.id=F.getId();this.moduleapi=F;this.platform=F.getService("moduleplatform");if(this.platform){this.arcadeTransport=this.platform.getService("arcade_transport");}else{this.arcadeTransport=F;}this.arcadeTransport=F;this.isWave3=F.getContextData("wave3");this.isWave3badge=F.getContextData("wave3badge");this.socialLoginEnable=F.getContextData("tuc.social.login");this.type=F.getProperty("type");this.browser=F.getContextData(s);this.accountSwitchEnabled=F.getContextData("account.switching.enabled");},onviewevent:function(I,G){var J=this.id,H=G.target,F=H.ancestor(".user-info,.acct-info-url,.add-account,.signout-all",k,".y-menu");if(I===b){switch(H.get("id")){case J+"-tuc-nickname":case J+"-nickname-p1":case J+"-nickname-p2":case J+"-tuc-nickname-arrow":G.preventDefault();this.toggleTuc();break;default:if(H.hasClass("theme")){G.preventDefault();if(H.get("id")&&!H.get(y).hasClass("selected")){this.selectTheme(H);}}break;}}if(F){this.onAcctSwitchUrlClick(F,G);}},onAcctSwitchUrlClick:function(G,H){var F;H.preventDefault();if(G.test(".user-info")){F=G.one("a").getAttribute("href");this.moduleapi.getService("instrumentation").fireBeacon({sec:"UH Switch Account",t1:"a1",t2:"hd",t3:"acct",itc:0,action:"click"});}else{if(G.test(".acct-info-url")){F=G.getAttribute("href");this.moduleapi.getService("instrumentation").fireBeacon({sec:"UH Account Info",t1:"a1",t2:"hd",t3:"acctinfo",itc:0,action:"click"});}else{if(G.test(".add-account,.signout-all")){F=G.getAttribute("href");}}}if(F){this.Y.later(800,this,function(){this.moduleapi.navigate(F,"");});}},onviewload:function(K){var J=this.moduleapi,L=this.id,I,H,G,F;this.isLoggedIn=(J.getService("userinfo").isLoggedIn()||J.getContextData("recognizedState"));if(K===b){this.body=J.getViewNode(b);this.autoHideService=J.getService("autohide");I=this.body;this.tucDropdown=I.getById(L+"-"+a);H=I.one(i);this.autohideTuc=this.attachEvents(H,{hide:this.tucHide,keyup:this.tucKeyUp});}if(this.isLoggedIn&&this.isWave3==k){J.listen(q);J.listen(t);if(J.getContextData("ucs_host")){this.notificationEnabled=true;this.countNode=this.body.one(".tab-badge");this.guid=J.getContextData("guid");this.pageTitle=document.title;this.body.delegate("click",this.onNotificationClicked,n+" .update a",this);this.body.delegate("click",this.onAllNotificationsClicked,n+" .updateurl a",this);this.body.delegate("click",this.onboardNotifications,n+" .onboard a",this);this.body.delegate("click",this.onRecognizedSignIn,E+" .verify",this);this.body.delegate("click",this.onManageLinkClicked,n+" .manage",this);this.body.delegate("click",function(M){M.preventDefault();this.showHide(!this.isShown);},".tab-icon",this);this.Y.later(3000,this,this.initComet);}}if(!this.isLoggedIn&&this.socialLoginEnable){J.listen(q);J.listen(t);}if(this.isLoggedIn&&this.accountSwitchEnabled){G=this.Y.one(".account-switch-wrap").getData("logincrumb");F=this.moduleapi.getContextData("account.switching.jsonapi");this.loginauthCrumb=G;this.Y.config.win.processDeviceUsers=this.Y.bind(this.insertAcctSwitchLinks,this);if(G&&F){this.Y.jsonp(this.Y.Lang.sub(F,{crumb:G}),function(){});}}},insertAcctSwitchLinks:function(H){if(!H||!H.users||!this.Y.Lang.isArray(H.users)||!H.users.length){return;}var F=this.body.one(".account-switch-wrap").ancestor("ul.y-menu"),G,I,L,N=this,J="",M=this.moduleapi.getString("account_info"),K="y-txt-4 y-ln2 main-acct ov-h";if(F){G=H.users[0];I=this.body.one(".tab-icon").getAttribute("src");if(G&&G.fn&&G.ln&&G.em){L='<li class="'+K+'">';L+=I?'<img class="main-acct-img fl-l" src="'+I+'" alt="" />':"";L+='<div class="fw-b acct-info title-tuc ell">'+G.fn+" "+G.ln+"</div>";L+='<div class="acct-info">'+G.em+"</div>";L+='<a class="pt-xxs acct-info acct-info-url D-b" href="//edit.yahoo.com/mc2.0/eval_profile">'+M+"</a>";L+="</li>";}this.Y.Array.each(H.users,function(O,P){if(P!==0&&P<3){var S=O.fn,T=O.ln,R=O.em,Q=O.alias;if(S&&T&&Q){J+='<li class="y-txt-4 y-ln2 user-info user-tab">';J+='<img class="main-acct-img fl-l" src="'+N.moduleapi.getString("SRC.DEFAULT.AVATAR")+'" alt="" />';J+='<a class="d-b no-link-color" href="//login.yahoo.com/d?as=1&.crumb='+N.loginauthCrumb+"&login="+Q+"&.done="+N.Y.config.win.location+'">';J+='<div class="mt-s fw-b ell title-tuc">'+S+" "+T+"</div>";J+="<div>"+(R||Q)+"</div>";J+="</a>";J+="</li>";}}});}J+='<li class="y-txt-4 y-ln2 user-info"> <span class="img-sprite plus-icon fl-l"></span>';if(H.users.length>1){J+='<a class="pt-xxs pt-xs pb-xs pl-s  D-b account-mangement-link" href="'+N.moduleapi.getString("URL.ADD.MANAGE.ACCOUNTS")+'">'+N.moduleapi.getString("STR.ADD.MANAGE.ACCOUNTS")+"</a>";}else{J+='<a class="pt-xxs pt-xs pb-xs pl-s D-b account-mangement-link" href="'+N.moduleapi.getString("URL.ADD.MANAGE.ACCOUNTS")+'">'+N.moduleapi.getString("STR.ADD.ACCOUNT")+"</a>";F.one("li:last-child a").setHTML(N.moduleapi.getString("STR.SIGN.OUT"));}J+="</li>";if(J){F.insert(J,F.one("> li:last-child"));}if(L){F.prepend(L);}},initComet:function(){var F;if(!this.cometInited){this.Y.use("af-pipe",this.Y.bind(function(H){if(!this.Y.Object.getValue(this.Y,["Af","Pipe"])){if(this.cometInitRetryCount<c){this.cometInitRetryCount++;this.Y.later(300,this,this.initComet);return;}else{var G=this.moduleapi.getService("metrologger");if(G){G.logError(this.id,"error(type=comet Af-Pipe not Loaded error,code=500)");}this.cometInitRetryCount=0;return;}}F=new this.Y.Af.Pipe({pipe:{channel:"/UNP/alerts/*"}});F.config({msg_maxidle:600000,msg_throttle:1000,seq_algo:"noseq"});F.on("message",this.Y.bind(this.onNotification,this));F.on("error",function(J){var I=this.moduleapi.getService("metrologger");if(I){I.logError(this.id,J._type+"(type=comet error,code=500)");}this.fireNotificationBeacon({action:"error",t4:"error",slk:"UH 3 Notification Error",elmt:"UH 3 Notification Error"});},this);F.open();this.cometInited=k;},this));}},onviewunload:function(H){var G=this.body,F=G.one(i);if(H===b&&this.isWave3!=k){this.detachEvents(F,{hide:this.tucHide,keyup:this.tucKeyUp});this.tucDropdown=C;this.autohideTuc=C;this.autoHideService=C;}else{this.clear();if(this.menu){this.menu.destroy();}this.menu=C;}},attachEvents:function(I,H){var F,G;if(I){for(G in H){if(H[G]){switch(G){case"hide":F=this.autoHideService.register({targets:[I],hide:this.Y.bind(H[G],this,x)});break;case"keyup":I.on(G,H[G],this,k);break;default:break;}}}}return F;},detachEvents:function(H,G){var I=this.autoHideService,F;if(H){for(F in G){if(G[F]){switch(F){case"hide":if(I){I.unregister(G[F]);}break;case"keyup":H.detach(F,G[F]);break;default:break;}}}}},tucShow:function(){var K=this.id,G=this.body,F=G.getById(K+A),J=this.tucDropdown,I=F.getById(K+"-"+h),H=F.getById(K+f);J.removeClass(z);F.addClass(j);I.addClass(D);H.replaceClass(B,v);this.positionUserCard();},tucHide:function(){var L=this.id,G=this.body,K=this.countNode,F=G.getById(L+A),J=this.tucDropdown,I=F.getById(L+"-"+h),H=F.getById(L+f);J.addClass(z);F.removeClass(j);I.removeClass(D);H.replaceClass(v,B);if(K&&!K.hasClass(p)){this.hideNotificationCount();}},onmessage:function(H,F,G){if(G.moduleType==this.type){this.showHideLater(H==q);}},onMenuExecute:function(I){var H=I.url,F=I.relatedTarget.hasClass("popup"),G=I.relatedTarget.one("a"),J=G?G.get("target"):"";if(H&&!F&&!G.ancestor(".account-switch-wrap",k)){this.moduleapi.navigate(H,J);}},selectTheme:function(I){var F,J,G=this.moduleapi,H=I.get("id").split("th-")[1];F={type:"module",moduleId:this.id,args:{_container:0,_action:"show",_subAction:"theme",_theme:H}};J={success:this.handleThemeSuccess,failure:this.handleThemeFailure,argument:I,scope:this};G.makeRequest(F,J);},handleThemeSuccess:function(F,K){var J=this.Y.DOM.byId("tmp-css"),I,G,M,L,H;if(!J){return;}if(this.browser=="IE"){G=J.cloneNode(false);document.body.appendChild(G);if(G.styleSheet!==C){G.styleSheet.cssText=F.html;}else{window.location.reload();}J.parentNode.replaceChild(G,J);}else{if(J.hasChildNodes()){J.removeChild(J.firstChild);}J.appendChild(document.createTextNode(F.html));}I=this.body.getById(this.id+"-color").one(".selected");I.removeClass("selected");I=I.one("a");M=I.getStyle("backgroundPosition").split(" ");M[1]="0";I.setStyle("backgroundPosition",M[0]+" "+M[1]);L=K.get(y);M=K.getStyle("backgroundPosition").split(" ");M[1]="-15px";K.setStyle("backgroundPosition",M[0]+" "+M[1]);L.addClass("selected");H=this.moduleapi.getService("statemgr");if(H){H.update();}},handleThemeFailure:function(){},makeTucRequest:function(){var H={_action:"show",_subAction:"tuc_preview"},F=this.arcadeTransport,G=null,I={success:this.processTucSuccess,failure:this.processTucFailure,scope:this};G={type:"module",moduleId:this.id,args:H};this.requestObject=G;this.callback=I;if(F.isRequestPending(this.tucContentReqId)){F.abortRequest(this.tucContentReqId);}this.tucContentReqId=F.makeRequest(G,I);},processTucSuccess:function(F,G){this.body.appendChild(F.html);this.showHideTUC(k);},processTucFailure:function(F,G){},showHideLater:function(F){if(F===k&&this.cometInited===x&&this.notificationEnabled){this.initComet();}this.clear();this.timer=this.Y.later(r,this,this.showHide,F);},showHide:function(F){var G=this.menu;if(this.isShown==F){return;}if(!G){if(this.isWave3badge==k&&!this.body.one("#"+this.id+"-menu")){this.makeTucRequest();}else{this.showHideTUC(F);}}else{this.showHideTUC(F);}},showHideTUC:function(F){var I=this.moduleapi,H,L=this.menu,K,G,J=this.countNode;if(!L){H=I.getService("menu");L=H.create("#"+this.id+"-menu");L.on("execute",this.onMenuExecute,this);this.menu=L;}G=this.Y.one(".login-menu-pointer");this.clear();if(F){if(this.moduleapi.getViewDirection("default")==="rtl"){L.show({right:-88,top:110},null,"%");}else{L.show({left:-88,top:110},null,"%");}if(G){G.setStyle("display","block");}this.checkNotification();K=I.getService("instrumentation");K.fireBeacon(I.getContextData("showBeacon"));}else{if(G){G.setStyle("display","none");}L.hide(false);if(J&&!J.hasClass(p)){this.hideNotificationCount();}}this.isShown=!!F;},clear:function(){if(this.timer){this.timer.cancel();}this.timer=C;},toggleTuc:function(){var F=this.body.getById(this.id+A);if(F&&F.hasClass(j)){this.tucHide();}else{this.tucShow();}},tucKeyUp:function(F){if(F.keyCode&&F.keyCode==e){this.tucHide();}},positionUserCard:function(){var I=this.Y.UA,H=this.body,K=this.moduleapi.getViewDirection("default"),G=H.getById(this.id+"-"+h),N=G.getX(),M=G.get(d),F=this.tucDropdown,J=F.get(d),L=M+o;if(L>J){F.setStyle(g,L+m);}L=F.get(d);if(I.ie&&I.ie<8){if(K==u){F.setX(N+M-L);}else{F.setX(N);}}},onNotification:function(G){var I=G.pipe.data||{},H=parseInt(I.count,10)||0,J=this.body.one(".midauth"),K,F=true;if(H===0){this.hideNotificationCount();if(J){J.removeClass("hascount");}}else{if(this.countNode){this.countNode.set("text",H);this.countNode.removeClass(p);this.notificationChecked=x;K=H===1?this.moduleapi.getString("alert"):this.moduleapi.getString("alerts").replace("{0}",H);if(J){J.addClass("hascount");}if(document.hasFocus()){document.title=K;}else{if(this.titleFlash){this.titleFlash.cancel();}this.titleFlash=this.Y.later(1500,this,function(){document.title=F?K:this.pageTitle;F=!F;},null,true);}this.fireNotificationBeacon({action:"secvw",slk:"UH 3 Notification Badge Display",elmt:"UH 3 Notification Badge Display"});}}},hideNotificationCount:function(){var F=this.countNode;if(F&&!F.hasClass(p)){this.Y.later(500,this,function(){F.addClass(p);document.title=this.pageTitle;if(this.titleFlash){this.titleFlash.cancel();}this.titleFlash=C;this.makeUcsYqlCall('select * from ucs.user_notif_status where guid="'+this.guid+'" and clear="true"');});}},onNotificationClicked:function(G){var H=G.currentTarget.ancestor(".update"),F="UH 3 Notification CTA",I=H.getData("id");H.replaceClass(w,l);G.preventDefault();this.makeUcsYqlCall('update social.uhnotifications set state="seen" where id="'+I+'"');this.fireNotificationBeacon({slk:F,elmt:F,elm:"itm",itc:0,cpos:H.getData("cpos"),g:I});this.Y.later(800,this,function(){this.moduleapi.navigate(G.currentTarget.getAttribute("href"),"");});},onAllNotificationsClicked:function(G){var F="UH 3 Notification ViewAll SignedIn CTA";G.preventDefault();this.fireNotificationBeacon({rspns:"nav",slk:F,elmt:F,elm:"btn",itc:0});this.Y.later(800,this,function(){this.moduleapi.navigate(G.currentTarget.getAttribute("href"),"");});},onboardNotifications:function(G){var F="UH 3 Notification Learn More CTA";G.preventDefault();this.fireNotificationBeacon({rspns:"nav",slk:F,elmt:F,elm:"btn",itc:0});this.Y.later(800,this,function(){this.moduleapi.navigate(G.currentTarget.getAttribute("href"),"");});},onRecognizedSignIn:function(I){var H=I.currentTarget,G=H.hasClass("newmsg"),F=G?"UH 3 Notification SignIn New MidAuth CTA":"UH 3 Notification SignIn NoNew MidAuth CTA";this.fireNotificationBeacon({slk:F,elmt:F,itc:0,elm:"btn"});I.preventDefault();this.Y.later(800,this,function(){this.moduleapi.navigate(H.getAttribute("href"),"");});},onManageLinkClicked:function(G){var F="UH 3 Notification Manage CTA";G.preventDefault();this.fireNotificationBeacon({slk:F,elmt:F,itc:0,elm:"btn"});this.Y.later(800,this,function(){this.moduleapi.navigate(G.currentTarget.getAttribute("href"),"");});},fireNotificationBeacon:function(F){this.moduleapi.getService("instrumentation").fireBeacon(this.Y.mix({sec:"UH Desktop Notifications",t1:"a1",t2:"hd",t3:"Notifications",itc:1,action:"click"},F,true));},toRelativeTime:function(F,H){F=F||new Date();H=H||new Date();var G=(H.getTime()-F.getTime())/1000;return G<60?"less than a minute ago":G<120?"a min ago":G<3600?Math.floor(G/60)+" mins ago":G<7200?"an hour ago":G<86400?Math.floor(G/3600)+" hours ago":G<172800?"1 day ago":Math.floor(G/86400)+" days ago";},makeUcsYqlCall:function(L,F){var K=this.moduleapi.getContextData("ucs_crumb"),J=this.moduleapi.getContextData("ucs_host"),I="//"+J+"/v1/console/yql?q={q}&format=json&callback={callback}&crumb={crumb}",M={q:encodeURIComponent(L),crumb:K},G=this,H={on:{success:F,failure:function(O){var N=G.moduleapi.getService("metrologger");if(N){N.logError(G.id,"error(type=notification yql error,code=500)");}G.body.one(n).hide();G.fireNotificationBeacon({action:"error",t4:"error",slk:"UH 3 Notification Error",elmt:"UH 3 Notification Error"});}}};this.Y.jsonp(this.Y.Lang.sub(I,M),H);},checkNotification:function(){var M,G,L,K,I,H=this,F,J;if(!this.guid){return;}if(this.notificationChecked){F="UH 3 Notification Panel Display Old";this.fireNotificationBeacon({action:"secvw",slk:F,elmt:F});return;}if(this.moduleapi.getContextData("recognizedState")){F=this.countNode.hasClass(p)?"UH 3 Notification Panel Display NoNew MidAuth":"UH 3 Notification Panel Display New MidAuth";this.fireNotificationBeacon({action:"secvw",slk:F,elmt:F});return;}M=this.moduleapi.getString("loading_image");G=this.body.one(n);L=G?G.get("innerHTML"):null;K='SELECT * FROM social.uhnotifications(0,4) WHERE date="epoch" and state="seen|notseen" and guid="'+this.guid+'"';I=this.Y.Cookie.getSub("ucs","nt");if(I){G.addClass("loading").setHTML(M);}this.makeUcsYqlCall(K,function(U){var T=U.query&&U.query.results?H.Y.Object.getValue(U,["query","results","notifications","notification"]):null,R,S,N="",Q="",P="",O;O=H.moduleapi.getContextData("notification.count");F=I?"UH 3 Notification Panel Display Empty":"UH 3 Notification Panel Hide";G.removeClass("loading");if(T&&!H.Y.Lang.isArray(T)){T=[T];}if(T&&T.length>0){if(O){O=parseInt(O,10);if(H.Y.Lang.isNumber(O)){T=T.slice(0,O);}}if(H.accountSwitchEnabled){Q=" ell notif-description ";N=" title-tuc ";P=" pr-s  pl-s ";}else{Q=" pr-xxs ";P=" pr-l  pl-l ";}F="UH 3 Notification Panel Display Old";R='<ul class="notif-menu mt-s">';R+='<li class="banner d-b '+P+' fz-xxs"><span>'+H.moduleapi.getString("notification_banner")+"</span>";R+=H.moduleapi.getString("notification_manage_url");R+="</li>";H.Y.Array.each(T,function(aa,W){var X,Z,V,Y=aa.state.toLowerCase();if(Y===w){F="UH 3 Notification Panel Display New";V=H.countNode?parseInt(H.countNode.get("text"),10):0;X=W<V?" fw-b ":"";}S=H.Y.JSON.parse(aa.meta.actionData)||{};Z=S.thumbnail||S.icon;R+='<li class="update pos-r d-b ov-h '+Y+'" data-id="'+aa.id+'" data-cpos="'+(W+1)+'">';R+='<a href="'+decodeURIComponent(aa.meta.pageUrl)+'" class="'+P+'">';if(aa.created&&H.accountSwitchEnabled){R+='<div class="d-b fz-xxs time fl-r">'+H.toRelativeTime(new Date(parseInt(aa.created+"000",10)))+"</div>";}if(Z&&!H.accountSwitchEnabled){R+='<img src="'+Z+'" class="fl-r" alt="">';}if(aa.meta.pageTitle){R+='<h4 class="fz-xs'+X+N+'ov-h pr-xxs title ell">'+aa.meta.pageTitle+"</h4>";}J=S.text;if(J){J=H.Y.Lang.sub(J,{UH_b_start:"<strong>",UH_b_end:"</strong>"});R+='<div class="ov-h summary '+Q+'">'+J+"</div>";}if(aa.created&&!H.accountSwitchEnabled){R+='<div class="d-b fz-xxs time">'+H.toRelativeTime(new Date(parseInt(aa.created+"000",10)))+"</div>";}R+="</a>";R+="</li>";});R+='<li class="updateurl d-b'+P+'">'+H.moduleapi.getString("notification_url")+"</li>";R+="</ul>";G.setHTML(R).removeClass("dn");if(H.accountSwitchEnabled){G.one(".updateurl a").removeClass("no-link-color");}if(!I){H.Y.Cookie.setSub("ucs","nt",+(new Date()),{expires:new Date("January 12, 2025"),path:"/",domain:"yahoo.com"});}}else{if(I){G.setHTML(L);}}H.notificationChecked=true;H.fireNotificationBeacon({action:"secvw",slk:F,elmt:F});});}};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var c=null,d=c,b="click",a="default";YModules.type_login={body:c,id:"",moduleapi:c,init:function(e){d=e.getService("yui");this.id=e.getId();this.moduleapi=e;},onviewload:function(e){if(e===a){this.body=this.moduleapi.getViewNode(e);}},onviewunload:function(e){if(e===a){this.body=c;}},onviewevent:function(g,f){if(g===a){if(f.type===b){this.onClick(f);}else{}}}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var g=null,k=false,e=true,l="pv-shown",j=".pv-ymail-preview",c="pv-loading",h="default",f="innerHTML",p="tab_enter",q="tab_exit",o="/user/ymail",i="mail_preview",b="get_mail_count",n=0,m=1,d=2,a=400;YModules.type_mail={id:"",body:g,api:g,viewevents:["click"],w3:k,type:g,isShown:k,timer:g,pv:g,loadState:g,shim:g,mailLoadReqId:g,arcadeTransport:g,refreshed:k,mailTranslations:g,isRecogStateMsgShown:k,isLoggedIn:k,init:function(r){this.Y=r.getService("yui");this.id=r.getId();this.api=r;this.platform=r.getService("moduleplatform");if(this.platform){this.arcadeTransport=this.platform.getService("arcade_transport");}else{this.arcadeTransport=r;}this.arcadeTransport=r;this.mailTranslations=r.getContextData("mailtranslations");this.type="mail";this.w3=e;},onviewload:function(w){var t=this.api,v=t.getService("userinfo").isLoggedIn(),s=t.getContextData("recognizedState"),r=parseInt(t.getContextData("logOutMsgDly"),10),u=t.getContextData("wssidToken");if(w===h){this.body=t.getViewNode(w);this.isLoggedIn=v;this.isRecogStateMsgShown=k;t.listen(p);t.listen(q);if(s||v){if(u){this.loadMailCount(u);}else{t.listen(o);}}else{if(r){this.showHide(e);this.showHideLater(k,r);}}}},onviewunload:function(r){if(r===h){this.body=g;}},onviewevent:function(w,v){var t=this.api,s=v.target,r,u;if(w===h){if(s.get("tagName")!=="A"){r=s.ancestor("TR");if(r){u=r.one(".subject A").getAttribute("href");t.navigate(u);}}else{if(s.hasClass("refresh-mail-account")){v.preventDefault();t.refreshView(h);t.refreshView("pa");}}}},onmessage:function(t,r,s){switch(t){case p:case q:if(s.moduleType==this.type){this.showHideLater(t==p);}break;case o:if(s){this.showVitalityCount(s);}break;default:}},showVitalityCount:function(w){var u,t,v,y,s,x,r;u=(w.data)?w.data:"";if(u){t=this.body.one(".tab-badge")||this.body.one(".mail-badge");if(t){t.set(f,u);t.removeClass("hidden");t.addClass("tab-badge-shown");t.setStyle("visibility","visible");}v=this.body.one(".mail-spr");if(v){v.addClass("tab-icon-unread");}y=this.body.one(".tab-badge-txt");if(y){if(u==1){x=this.mailTranslations.s;}else{x=this.mailTranslations.p;}x=x.replace("{0}",u);y.set(f,x);}if(this.api.getContextData("recognizedState")){r=this.api.getContextData("logOutMsgDly");s=this.body.one(".recog-email-msg");if(s&&x){if(this.isRecogStateMsgShown){this.Y.later(r,this,function(z){s.set(f,this.mailTranslations.r+" "+x);},e);}else{s.set(f,this.mailTranslations.r+" "+x);}}}}},clear:function(){if(this.timer){this.timer.cancel();}this.timer=g;},showHideLater:function(r,s){this.clear();this.timer=this.Y.later(s||a,this,this.showHide,r);},showHide:function(r){if(this.isShown==r){return;}this.clear();var t=this.api,v,u=this.pv,s;if(!u){u=this.body.getById(this.id+"-pv");if(!u){u=this.body.one(j);}this.pv=u;}if(!u){return;}s=this.Y.one(".mail-menu-pointer");if(r){this.loadMail();if(s){s.setStyle("display","block");}u.addClass(l);v=t.getService("instrumentation");v.fireBeacon(t.getContextData("showBeacon"));}else{if(s){s.setStyle("display","none");}u.removeClass(l);}this.isShown=!!r;},showHideRecogStateMsg:function(s){this.clear();var u=this.api,w,r,v=this.pv,t;if(!v){v=this.body.getById(this.id+"-pv");if(!v){v=this.body.one(j);}this.pv=v;}t=this.Y.one(".mail-menu-pointer");if(s){this.loadMail();if(t){t.setStyle("display","block");}v.addClass(l);w=u.getService("instrumentation");w.fireBeacon(u.getContextData("showBeacon"));}else{if(t){t.setStyle("display","block");}v.removeClass(l);r=this.body.one(".logmsg");r.remove(e);this.isRecogStateMsgShown=k;u.listen(p);u.listen(q);}},loadMail:function(){if(!this.isLoggedIn){return;}if(this.loadState){return;}var t=this.pv,r=this.arcadeTransport,s={type:"module",moduleId:this.id,args:{_action:"show",_subAction:i}};this.loadState=m;if(r.isRequestPending(this.mailLoadReqId)){r.abortRequest(this.mailLoadReqId);}this.mailLoadReqId=r.makeRequest(s,{success:this.loadMailSuccess,failure:this.loadMailFailure,scope:this});t.addClass(c);t.set(f,"");},loadMailSuccess:function(v,r){this.loadState=d;var t=this.pv,u,s;t.removeClass(c);t.set(f,v.html);if(this.api.getContextData("recognizedState")){s=this.body.one(".recog-email-msg");u=this.body.one(".tab-badge-txt");if(s&&u){s.set(f,this.mailTranslations.r+" "+u.get(f).toLowerCase()+".");}}},loadMailFailure:function(t,r){if(t.result=="abort"){return;}this.loadState=n;var s=this.pv;s.removeClass(c);s.set(f,this.api.getContextData("err"));},loadMailCount:function(s){var r={type:"module",moduleId:this.id,args:{_action:"show",_subAction:b,wssidToken:s}};this.arcadeTransport.makeRequest(r,{success:this.loadMailCountSuccess,failure:this.loadMailCountFailure,scope:this});},loadMailCountSuccess:function(u,r){var s=u.html,t=this.body.one(".tab-badge");if(t&&s!==undefined){t.set(f,s);t.removeClass("hidden");t.addClass("tab-badge-shown");t.setStyle("visibility","visible");}},loadMailCountFailure:function(s,r){}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var c="fp:trendingnow:offscreen",b="fp:trendingnow:onscreen",a;YModules.type_trendingnow={body:null,editBody:null,id:"",moduleapi:null,viewevents:["click"],tabliteService:null,tabs:null,tabCount:null,widget:null,items:null,listLengthHalf:0,animationDurationCount:0,tickerEnabled:false,listTopOffset:0,lineHeight:0,tickerBlockEnabled:false,init:function(d){this.Y=d.getService("yui");this.id=d.getId();this.moduleapi=d;this.tabCount=this.moduleapi.getContextData("tab.count");this.tickerEnabled=(Y.UA.ie===6||Y.UA.ie===7)?false:this.moduleapi.getContextData("ticker.enabled");this.tickerBlockEnabled=this.moduleapi.getContextData("ticker.block.feature");if(this.tabCount>1){this.tabliteService=this.moduleapi.getService("tablite");}if(this.tickerEnabled===true){this.tickerShown=0;}d.listen(c);d.listen(b);},onviewload:function(d){this.body=this.moduleapi.getViewNode(d);if(this.tickerEnabled===true){this.animationDurationCount=parseInt(this.moduleapi.getContextData("animation.duration.count"),10);this.widget=this.body.one(".trendingnow_trend-list");if(this.widget){this.items=this.widget.all("li");this.listLengthHalf=this.items.size()/2;this.lineHeight=this.items.item(0).get("offsetHeight");}if(this.tickerShown===0){if(Y.UA.ie===8){this.Y.later(1000,this,function(){this.body.setStyle("visibility","visible");},null,false);}this.body.hide(true);}}},infiniteFIFO:function(){var e=false,d=this;a=this.Y.later(this.animationDurationCount,null,function(){if(!d.tickerBlockEnabled){if(e===false){e=true;}else{e=false;}}d.widget.transition({duration:1,easing:"linear",opacity:1},function(){d.widget.transition({delay:8,easing:"linear",duration:1,opacity:0},function(){d.rotateTerms(e);});});},null,true);},rotateTerms:function(h){var f,e,d,g;if(!this.tickerBlockEnabled){e="dn";d="d-i";if(this.widget){for(f=0;f<this.listLengthHalf;f++){if(h===true){this.items.item(f).replaceClass(d,e);this.items.item(f+this.listLengthHalf).replaceClass(e,d);}else{this.items.item(f).replaceClass(e,d);this.items.item(f+this.listLengthHalf).replaceClass(d,e);}}}}else{g=this.lineHeight*2;if((this.listTopOffset+this.lineHeight)<g){this.listTopOffset+=this.lineHeight;}else{this.listTopOffset=0;}this.widget.setStyle("top","-"+this.listTopOffset+"px");}},onviewunload:function(d){if(d==="default"){this.body=null;}this.tabs.teardown();},onviewevent:function(e,d){if(e==="default"){if(d.type==="click"){}else{}}},onmessage:function(g,e,f){var h=this.body,d;if(this.tickerEnabled===true){switch(g){case c:if(this.tickerShown===0){this.infiniteFIFO();this.Y.use("transition",function(i){h.show(true);});this.tickerShown=1;if(this.tickerBlockEnabled&&this.widget){this.widget.setStyle("top","0");}}return;case b:if(this.tickerShown===1){this.Y.use("transition",function(i){h.hide(true);});this.tickerShown=0;a.cancel();d=this.Y.later(1000,this,function(){if(!this.tickerBlockEnabled){this.rotateTerms(false);}if(this.widget){this.widget.removeAttribute("style");}},null,false);}return;default:}}}};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var b=true,c=false,d=null,e="fetch_selective_ad",a=window.DARLA||d;YModules.type_ads={api:d,deferred:d,id:d,location:d,locationCtr:d,Y:d,selectiveAdEventFired:c,lastScrollCheck:0,scrollThrottle:40,isReflexiveAdsEnabled:c,timeInterval:3000,adsPayload:"",lastAdCallCheck:0,selectiveAdMeta:d,isBucketSA:false,init:function(f){var g=f.getService("yui");this.api=f;this.id=f.getId();this.Y=g;this.lastScrollCheck=+(new Date());},onviewload:function(m){var k,f,j=500,i=this.api,h=this.Y.Node.getDOMNode(i.getViewNode(m)),l=i.getContextData,n=l("adlocs"),o=this.Y.Selector.query("."+n,h,b),g=l("selectiveRendering");this.isBucketSA=l("bucketSA");this.selectiveAdMeta=l("darlaCtx");if(this.selectiveAdMeta&&this.selectiveAdMeta.is_reflexiveads_enabled){this.isReflexiveAdsEnabled=true;}if(this.selectiveAdMeta&&this.selectiveAdMeta.reflexiveads_time_interval){this.timeInterval=this.selectiveAdMeta.reflexiveads_time_interval;}this.body=i.getViewNode(m);this.isSelectiveRender=g;this.location=n;this.locationCtr=o;if(g&&a){f=function(){var p=a.prefetched();return p&&this.Y.Array.indexOf(p,"LREC")!==-1;};k=this.Y.bind(function(){if(this.body.inViewportRegion()){this.fetchDarlaAd();}else{i.listen("fp:window:scroll");}},this);if(f()){this.Y.later(j,this,function(){if(f()){this.reserveHeight(c);return;}k();});}else{k();}}else{this.reserveHeight(c);}},fetchDarlaAd:function(){var f=this.selectiveAdMeta,g=this.location,l,i,h,k=null,j=1;i=f.positionMeta;h=e+"_"+g;i.id=g.toUpperCase();if(window.location.protocol==="http:"){j=0;}l={ps:g.toUpperCase(),name:h,sp:f.spaceid,ssl:j,secure:1,ref:window.location.href,npv:1,ult:{pg:{property:"fp",test:f.bucket,intl:f.intl,rid:f.rid}}};if(f.sizeSiteAttr){k=g+'="'+f.sizeSiteAttr+'"';}if(this.isBucketSA){k+=" Y-BUCKET="+f.bucket;}if(k){l.sa=k;}a.add(l);a.addPos([i]);a.event(h);},onmessage:function(f,g,h){if((!this.selectiveAdEventFired||this.isReflexiveAdsEnabled)&&"fp:window:scroll"===f){this.afterScroll();}},afterScroll:function(){var f=+(new Date()),g=f-this.lastScrollCheck;if(this.scrollTimer){this.scrollTimer.cancel();}if(g>this.scrollThrottle&&this.isSelectiveRender&&this.body.inViewportRegion()){if(!this.selectiveAdEventFired){this.fetchDarlaAd();this.selectiveAdEventFired=true;if(!this.isReflexiveAdsEnabled){this.api.unlisten("fp:window:scroll");}}else{this.checkScrollForReflexiveAds();}}else{if(this.isSelectiveRender&&this.body.inViewportRegion()){this.scrollTimer=this.Y.later(this.scrollThrottle-g,this,this.checkScrollForReflexiveAds);}}this.lastScrollCheck=f;},onviewunload:function(f){if(this.deferred){this.deferred.unregister();}if(this.isReflexiveAdsEnabled){this.api.unlisten("fp:window:scroll");}this.body=this.deferred=d;},reserveHeight:function(f){var h=f?"add":"remove",g=this.Y.DOM[h+"Class"];g(this.locationCtr,this.location+"-reserve");},checkScrollForReflexiveAds:function(){var f=+(new Date()),g=f-this.lastAdCallCheck;if(this.isReflexiveAdsEnabled&&this.isSelectiveRender&&this.selectiveAdEventFired&&g>(this.timeInterval-this.scrollThrottle)&&this.body.inViewportRegion()){this.loadReflexiveAd();this.lastAdCallCheck=f;}},loadReflexiveAd:function(){var f=this.Y,p=this.location,m=f.all(".type_stream li.content"),k=this.selectiveAdMeta,h={},o="",g=[],j=[],q=[],i=null,n=e+"_"+p,l={ps:p.toUpperCase(),name:n,sp:k.reflexiveads_spaceid,ssl:window.location.protocol==="http:"?0:1,secure:1,ref:window.location.href,npv:1,sa:'Y-BUCKET="'+k.bucket+'"',ult:{pg:{property:"fp",test:k.bucket,intl:k.intl,rid:k.rid}}};if(k.sizeSiteAttr){i=p+'="'+k.sizeSiteAttr+'"';}if(this.isBucketSA){i+=" Y-BUCKET="+k.bucket;}if(m){m.each(function(s){var r=[],t=s.getAttribute("data-wikiids");if(t){r=t.split("|");f.Array.each(r,function(u){q.push(u);});}});q=this.Y.Array.dedupe(q);f.Array.each(q,function(r){var s=r.split(":");if("YCT"===s[0]){j.push(s[1]);}else{g.push(s[1]);}});o="yct="+j.join()+" wiki_topic="+g.join();if(!this.diffPayloadEnabled||this.adsPayload!==o){this.adsPayload=o;i+=" "+this.adsPayload;if(i){h.sa=i;}a.add(l);a.event(n,h);}}}};})();/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
var FP_SCROLL_EVENT="fp:window:scroll",FP_RESIZE_EVENT="fp:window:resize";YModules.type_navrail={body:null,id:"",moduleapi:null,viewevents:[],moreSitesMenuEnabled:false,instrumentation:null,siteMenuHideTimer:null,siteMenuExposeMenuTimer:null,platform:null,init:function(a){this.Y=a.getService("yui");this.id=a.getId();this.moduleapi=a;this.moreSitesMenuEnabled=!!parseInt(a.getContextData("use.more.sites.menu"),10);this.platform=a.getService("moduleplatform");this.instrumentation=a.getService("instrumentation");a.listen(FP_SCROLL_EVENT);a.listen(FP_RESIZE_EVENT);},onviewload:function(h){var d=this.moduleapi,g,c,a=this.platform,e=d.getContextData(),f,b;if(this.Y.one(".ad-rsch")){this.Y.one(".ad-rsch").setStyle("display","block");}if(h==="default"){this.body=d.getViewNode(h);if(this.moreSitesMenuEnabled){g=this.Y.one(".more-sites");if(g){this.Y.one(".navrail-more-menu-wrapper").appendTo(g);this.Y.one(".type_navrail .more-sites").on("click",this.Y.bind(function(i){b={sec:"pa-y",slk:"more",ltxt:this.Y.one(".more-sites .more-link").get("text"),itc:1};this.instrumentation.fireUltBeacon(b);this.exposeSiteMenu("more",i);},this));this.Y.one(".type_navrail .more-sites").on("mouseout",this.mouseenterleave,this,this.Y.bind(this.hideSiteMenu,this,"more"));this.Y.one(".navrail-more-menu").on("mouseover",this.mouseenterleave,this,this.clearSiteMenuHideTimer);this.Y.one(".navrail-more-menu").on("mouseout",this.mouseenterleave,this,this.Y.bind(this.hideSiteMenu,this,"more"));}}c=this.Y.one(".type_navrail .more-favs");if(c){c.on("click",this.Y.bind(this.exposeSiteMenu,this,"fav"),this);c.on("mouseout",this.mouseenterleave,this,this.Y.bind(this.hideSiteMenu,this,"fav"));this.Y.one(".navrail-fav-menu").on("mouseover",this.mouseenterleave,this,this.clearSiteMenuHideTimer);this.Y.one(".navrail-fav-menu").on("mouseout",this.mouseenterleave,this,this.Y.bind(this.hideSiteMenu,this,"fav"));}if(e&&e.adsfallbackData){f=e.adsfallbackData;a.registerModule(f);a.start(f.props.id,true,true);}else{}}},mouseenterleave:function(d,a){var c=d.currentTarget,b=d.relatedTarget;if(c!==b&&!c.contains(b)){a.call(this,d);}},onviewunload:function(a){if(a==="default"){this.body=null;}},onviewevent:function(b,a){},exposeSiteMenu:function(a,b){if(!this.siteMenuExposeMenuTimer){this.siteMenuExposeMenuTimer=setTimeout(this.Y.bind(function(){this.Y.one(".navrail-"+a+"-menu-wrapper").toggleClass("d-n");this.siteMenuExposeMenuTimer=null;},this),300);}if(b.target.ancestor(".more-link",true)){b.preventDefault();}},clearSiteMenuHideTimer:function(){if(this.siteMenuHideTimer){window.clearInterval(this.siteMenuHideTimer);this.siteMenuHideTimer=null;}},hideSiteMenu:function(a,b){if(!this.siteMenuHideTimer){this.siteMenuHideTimer=setTimeout(this.Y.bind(function(){this.Y.one(".navrail-"+a+"-menu-wrapper").addClass("d-n");this.siteMenuHideTimer=null;},this),700);}}};/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var b="modal:open",a="modal:close";YModules.type_adsfallback={body:null,editBody:null,id:"",moduleapi:null,viewevents:["click"],setHomepageService:null,instrumentation:null,autoHideService:null,overlayEnabled:true,showSetHPOnLoad:false,chromeExtEnable:false,chromeExtLink:"",chromeExtEventState:false,init:function(c){this.Y=c.getService("yui");this.id=c.getId();this.moduleapi=c;this.setHomepageService=c.getService("sethomepage");this.instrumentation=c.getService("instrumentation");this.browser=c.getContextData("browser");this.overlayEnabled=!!c.getContextData("overlayEnabled");this.autoHideService=c.getService("autohide");this.showSetHPOnLoad=!!c.getContextData("showSetHPOnLoad");this.showSetHPOnLoadId=c.getContextData("showSetHPOnLoadId");this.canSetIE=this.setHomepageService.testIESetHomepage();this.metroIE=c.getContextData("metroIE");this.chromeExtEnable=c.getContextData("chromeExtEnable");this.chromeExtLink=c.getContextData("chromeExtLink");},onviewload:function(f){var e=this.moduleapi,d,c;if(f==="default"){this.body=e.getViewNode(f);if(this.chromeExtEnable){c={sec:"dssPromo",ltxt:1,slk:"btn",itc:1,camp:"dss",code:"yahoo",aid:"dss_yset_purbtn_cpgnv1_chr_us",action:"click"};this.body.getDOMNode().addEventListener("click",this.Y.bind(this.installOnclick,this,c));}d={};d["default-"+this.id]="pa-pr";this.loadFallbackAd();this.instrumentation.addModules(d);if(this.showSetHPOnLoad){if(this.Y.UA.ie&&this.canSetIE){this.setIEOverlay();}else{this.setHomePage();}}}else{if(f==="edit"){this.editBody=e.getViewNode(f);}}},onviewunload:function(c){if(c==="default"){this.body=null;}else{if(c==="edit"){this.editBody=null;}}},onviewevent:function(h,g){if(!this.overlayEnabled){return;}var j=this.id,i="",f=g.target,d=g.type,c;if(d==="click"){c=f.ancestor(".modal-close",true,"fp-modal")||f.ancestor("a",true,".type_adsfallback");if(c){if(c.hasAttribute("data-ylk")){this.instrumentation.fireBeacon(this.instrumentation.getBeaconKeys(c));}if(c.hasClass("myy")){return;}else{if(c.hasClass("hp")||c.hasClass("modal-close")){i=c.get("id");}}}switch(i){case j+"-homepage":if(this.Y.Array.indexOf(["IE","FF","WK","OP","CH"],this.browser)>-1){g.preventDefault();}if(!this.chromeExtEnable||(this.Y.Array.indexOf(["IE","FF","WK","OP"],this.browser)>-1)){this.setHomePage();}break;case j+"-mobilizer":break;case"modal-close-overlay":g.preventDefault();this.hideOverlay();break;default:break;}}},loadFallbackAd:function(){var d=this.moduleapi,i=this.body,k,l,e,m,f,h,c,g=true,j;k=d.getContextData("forceSethp");l=d.getContextData("randomPromo");e=d.getContextData("sethpPromoShare");m=d.getContextData("showOnlySetHP");f=d.getContextData("showOnlySpecial");if(i){j=i.getById(this.id+"-promotion");if(j){h=!this.setHomepageService.isHomepageSet();if((k||(h&&(!l||Math.random()>e)))&&!f){c="hpCode";}else{if(m===1){g=false;}c="promoCode";}if(g){j.set("innerHTML",d.getContextData(c));this.Y.one(".type_adsfallback_default").setStyle("display","block");}}}},setIEOverlay:function(){var c=this.moduleapi,d=c.getContextData("hpOverlay");d=this.Y.Node.create(d);d.delegate("click",function(e){c.broadcast(a);this.setHomePage();e.preventDefault();},".set-hp-lnk",this);c.broadcast(b,{config:{width:652,zIndex:50,srcNode:"",className:"fp-modal"},content:d});},setMobilizer:function(){var d="100%",i=document.documentElement.clientHeight+"px",f=document.body.scrollTop||document.documentElement.scrollTop,g=document.createElement("iframe"),e="99999",c=this.moduleapi.getContextData("locale"),j=this.moduleapi.getContextData("mobilizerUrl");if(document.getElementById("ymobilizerouter")){document.body.removeChild(document.getElementById("ymobilizerouter"));}g.src=j+"&lang="+c;g.setAttribute("id","ymobilizerouter");g.setAttribute("name","ymobilizerouter");g.setAttribute("allowTransparency","allowTransparency");g.setAttribute("frameborder",0);g.setAttribute("scrolling","no");g.setAttribute("width",d);g.setAttribute("height",i);g.style.position="absolute";g.style.left="0px";g.style.top=f+"px";g.style.zoom="1";g.style.zIndex=e;g.style.overflow="hidden";g.setAttribute("style","z-index:"+e+";position:absolute;top:"+f+"px;left:0px;width:"+d+";height:"+i+";");document.body.appendChild(g);if(typeof window.addEventListener!="undefined"){window.addEventListener("message",this.closeMobilizer,false);}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onmessage",this.closeMobilizer);}}},closeMobilizer:function(c){if(c.data=="closeYMBZ"){if(document.getElementById("ymobilizerouter")){document.body.removeChild(document.getElementById("ymobilizerouter"));}}},parseCode:function(){var d="100",e=document.location.search.substring(1),c=e.split("&");this.Y.Array.forEach(c,function(g){var f=g.split("=");if(f[0]=="hps"&&(typeof(f[1])!=="undefined")){d=f[1];}});return d;},setHomePage:function(){var m,k=this.setHomepageService,g=this.moduleapi,t,u,n,i,q,l=this.body,o=this.id,r=g.getContextData("hpOverlay"),p=g.getContextData("ilc"),d=this.parseCode(),j=g.getContextData("showSetHPOnLoadId"),e,f,c,h="fp-modal";if((this.browser=="IE"&&this.canSetIE)||this.browser=="FF"){t={t1:"a0",t2:"cue-hpset",t3:"ct",sec:"cue-hpset",ilc:1,camp:"hpset",code:d,outcome:"cuehpset",action:"secview"};if(j){t.f=j;}this.instrumentation.fireBeacon(t);}if(this.browser=="IE"&&this.canSetIE){if(k.setIEHomepage(p)){q=g.getContextData("promoCode");if(q!==""&&q!==null){m=document.getElementById(this.id+"-promotion");m.innerHTML=q;}else{n=l.getById(o+"-promotion");n.get("parentNode").removeChild(n);}t={t1:"a0",t2:"cue-hpset",t3:"ct",sec:"cue-hpset",slk:"btn-yes",elm:"btn",elmt:"cnfrm",itc:1,ilc:1,camp:"hpset",code:d,outcome:"hpset",action:"click"};this.fireAkqaBeacon();}else{t={rspns:"cl",t1:"a0",t2:"cue-hpset",t3:"ct",sec:"cue-hpset",slk:"btn-no",elm:"btn",elmt:"cl",itc:1,ilc:1,camp:"hpset",code:d,action:"click"};}if(j){t.f=j;}this.instrumentation.fireBeacon(t);}else{if(this.Y.Array.indexOf(["IE","FF","WK","OP","CH"],this.browser)>-1){i=this.Y.bind(function s(v){if(v.type==="click"){this.yBangClick(v);}else{this.fireFFBeacon(v);this.fireAkqaBeacon();}},this);r=this.Y.Node.create(r);r.delegate("click",i,".drag-icon",this);r.delegate("mousedown",i,".drag-icon",this);if(this.metroIE){if(typeof(window.ActiveXObject)=="undefined"&&window.navigator.msMaxTouchPoints){e=r.one("OL");f=this.Y.Node.create(this.metroIE);e.insert(f,"after");h+=" ie-metro-overlay";}}g.broadcast(b,{config:{width:652,zIndex:50,srcNode:"",className:h},content:r});}else{k.setHpCookie(p,"1");}}u={};u[this.id+"-set-homepage-overlay"]="cue-hpset";this.instrumentation.addModules(u);if(this.chromeExtEnable){t={sec:"dssPopup",slk:1,camp:"dss",code:"yahoo",aid:"dss_yset_purbtn_cpgnv1_chr_us",action:"secview"};if(j){t.f=j;}this.instrumentation.fireBeacon(t);c=this.Y.one(".y-modal-chrome-extension");if(c){t={sec:"dssPopup",ltxt:"install",slk:"btn",itc:1,camp:"dss",code:"yahoo",aid:"dss_yset_purbtn_cpgnv1_chr_us",action:"click"};if(j){t.f=j;}c.getDOMNode().addEventListener("click",this.Y.bind(this.installOnclick,this,t));}}},hideOverlay:function(){this.moduleapi.broadcast(a);},fireFFBeacon:function(){var g=this.setHomepageService,e=this.moduleapi,c,d=this.parseCode(),f=e.getContextData("showSetHPOnLoadId");c={t1:"a0",t2:"cue-hpset",t3:"ct",sec:"cue-hpset",slk:"icon",elm:"icn",elmt:"yh",ilc:1,itc:1,camp:"hpset",code:d,outcome:"hpset",action:"drag"};if(f){c.f=f;}this.instrumentation.fireBeacon(c);g.setHpCookie(e.getContextData("ilc"),"1");},fireAkqaBeacon:function(){var d=this.moduleapi.getContextData("beaconAkqaUrl"),c;if(d){c=this.body.create('<img src="'+d+'">');this.body.append(c);}},installOnclick:function(c,d){d.preventDefault();this.instrumentation.fireBeacon(c);if(chrome&&chrome.webstore&&!this.chromeExtEventState){this.chromeExtEventState=true;chrome.webstore.install(this.chromeExtLink,this.Y.bind(this.onInstallSuccess,this),this.Y.bind(this.onInstallFail,this));}},onInstallFail:function(c){this.chromeExtEventState=false;},onInstallSuccess:function(){this.chromeExtEventState=false;setTimeout(function(){var f="",c=top.location,d=c.protocol+"//"+c.host+c.pathname,g=document.location.search.substring(1),e=g.split("&");this.Y.Array.forEach(e,function(i){var h=i.split("=");if(h[0]=="hps"&&(typeof(h[1])!=="undefined")){f=h[1];}});if(f){top.location.href=(d+"?extimp=dss_yset_mktg_chr_us&extsrc="+f);}else{top.location.href=(d+"?extimp=dss_yset_purbtn_cpgnv1_chr_sb_us&extsrc=fp");}},1000);}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YModules.type_trendingnowcarousel={body:null,editBody:null,id:"",moduleapi:null,viewevents:["click"],init:function(b){this.Y=b.getService("yui");this.id=b.getId();this.platform=b.getService("moduleplatform");this.moduleapi=b;this.arcadeTransport=this.platform?this.platform.getService("arcade_transport"):b;var a=this.moduleapi.getContextData();this.itemLists=a.itemLists;this.rotationDelay=a.rotationDelay;this.lazyLoad=a.lazyLoad;},onviewload:function(b){var a=this.moduleapi;this.body=a.getViewNode(b);this.listeners=[];if(this.lazyLoad){this.fetchTopics();}if((this.itemLists&&this.itemLists.length>1)||this.lazyLoad){this.listeners.push(this.body.delegate(["mouseover","focus"],this.stopTimer,".type_trendingnowcarousel",this));this.listeners.push(this.body.delegate(["mouseout","blur"],this.startTimer,".type_trendingnowcarousel",this));this.startTimer();}},onviewunload:function(a){this.body=null;this.Y.Array.each(this.listeners,function(b){b.detach();});this.listeners=[];},onviewevent:function(d,c){var b=c.target,a=b.ancestor(".nav-btn",true,".tn-wrapper");if(a){if(a.hasClass("right-btn")){this.rotateCards();}else{this.rotateCards(true);}this.startTimer();}},fetchTopics:function(){this.arcadeTransport.makeRequest({type:"module",moduleId:this.id,args:{_action:"show",_subAction:"fetchTopics",noups:"1"}},{success:this.onFetchTopicsSuccess,failure:this.onFetchTopicsFailure,scope:this});},onFetchTopicsSuccess:function(d){var e=this.body.one(".topics-wrapper"),b=this.body.one(".tn-counter"),c=this.body.one(".tn-total"),a=this.body.one(".tn-btns-wrapper");if(e){e.append(d.html);this.itemLists=this.itemLists.concat(d.data.itemLists);if(c){c.setContent(this.itemLists.length);}if(b){b.addClass("loaded");}if(a){a.addClass("loaded");}}},onFetchTopicsFailure:function(c){var b=this.body.one(".tn-counter"),a=this.body.one(".tn-btns-wrapper");if(this.itemLists&&this.itemLists.length<2){if(b){b.remove();}if(a){a.remove();}this.stopTimer();}},rotateCards:function(g){var j,d,f,e,h,a,b,c,i;j=this.body.one(".selected");a=this.body.one(".tn-num");i=this.body.one(".indicator");if(j){d=j.getAttribute("data-topic");f=this.Y.Array.indexOf(this.itemLists,d);if(g){e=((f-1)<0)?this.itemLists.length-1:f-1;}else{e=((f+1)<this.itemLists.length)?f+1:0;}h=this.body.one('[data-topic="'+this.itemLists[e]+'"]');if(h){j.addClass("dn").removeClass("selected");h.removeClass("dn").addClass("selected");if(a){a.setContent(e+1);}b=this.body.one(".highlighted");if(b){b.removeClass("highlighted").addClass("blur");c=this.body.one('[data-title="'+this.itemLists[e]+'"]');c.removeClass("blur").addClass("highlighted");}if(i){i.toggleClass("next");}}}},startTimer:function(){if(this.rotationDelay){this.stopTimer();this.rotateTimer=this.Y.later(this.rotationDelay,this,this.rotateCards,null,true);}},stopTimer:function(){if(this.rotateTimer){this.rotateTimer.cancel();this.rotateTimer=null;}}};/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
YModules.type_games={body:null,editBody:null,id:"games",moduleapi:null,isBusy:false,viewevents:["click"],LOADED_CLASS:"loaded",tablistService:null,tabListNode:null,init:function(a){this.Y=a.getService("yui");this.id=a.getId();this.moduleapi=a;this.tablistService=a.getService("tablist");},onviewload:function(b){var a=this.moduleapi;if(b==="default"){this.body=a.getViewNode(b);this.tabListNode=this.body.one(".y-tablist");if(this.tabListNode){this.tabList=this.tablistService.create(this.tabListNode,{moduleApi:a,panels:this.body.all(".tabpanel"),sticky:true,stickyKey:"st",vertical:true});this.tabList.on("tabchange",function(e){var d=this.tabList.getTabNode(this.tabList.getSelectedIndex()),c=[];if(d.getAttribute("data-games")==="recommended"&&!d.hasClass(this.LOADED_CLASS)){this.body.all(".y-tabpanels .my-games .game-item").each(function(f){if(f.getAttribute("data-game-id")){c.push(f.getAttribute("data-game-id"));}});this.loadTabContent(d,c);}},this);}}else{if(b==="edit"){this.editBody=a.getViewNode(b);}}},loadTabContent:function(b,a){var c={type:"module",moduleId:this.id,args:{_container:0,_id:this.id,_action:"show",_subAction:"getRecommended"}},d={success:this.handleGetGamesDataSuccess,failure:this.handleGetGamesDataFailure,scope:this,argument:{games_type:"recommended",newTabNode:b}};if(this.Y.Lang.isArray(a)&&a.length>0){c.args.exclude_ids=a.join(",");}if(this.isBusy){return;}this.isBusy=true;this.moduleapi.makeRequest(c,d);},handleGetGamesDataSuccess:function(b,d){var a=this.body,c;this.isBusy=false;c=a.one(".y-tabpanels .recommended");if(c){if(b.html&&b.html!=""){c.setHTML(b.html);d.newTabNode.addClass(this.LOADED_CLASS);}}},handleGetGamesDataFailure:function(a,b){this.isBusy=false;},onviewunload:function(a){if(a==="default"){this.body=null;}else{if(a==="edit"){this.editBody=null;}}if(this.tabListNode&&this.tabList){this.tabList.destroy();this.tabList=null;}},onviewevent:function(b,a){if(b==="default"){}else{if(b==="edit"){}}}};/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var a=null;YModules.type_dailyfantasy={body:a,id:"dailyfantasy",moduleapi:a,viewevents:["click"],startTime:a,clock:a,countdown:a,timer:a,init:function(b){this.Y=b.getService("yui");this.id=b.getId();this.moduleapi=b;},onviewload:function(c){var b=this.moduleapi;if(c==="default"){this.body=b.getViewNode(c);this.clock=this.body.one("#df_clock");this.countdown=this.body.one("#df_countdown");this.setStartTime();if(this.body&&this.startTime){this.timer=this.Y.later(1000,this,this.updateClock,a,true);}}},onviewunload:function(b){if(b==="default"){this.body=a;}},onviewevent:function(c,b){if(c==="default"){}},updateClock:function(){var k=Math.floor((this.startTime-new Date().getTime())/1000),e,d,l,j,g,f,c,b,i;k=(k>0)?k:0;if(k===0){this.countdown.hide();if(this.timer){this.timer.cancel();}}else{c=Math.floor(k/3600);k-=c*3600;b=Math.floor(k/60);k-=b*60;e=Math.floor(c/10);d=Math.floor(c%10);l=Math.floor(b/10);j=Math.floor(b%10);g=Math.floor(k/10);f=Math.floor(k%10);i=""+e+d+":"+l+j+":"+g+f;this.clock.set("innerHTML",i);}},setStartTime:function(){var b=this.body;if(b&&this.countdown&&this.clock){this.startTime=parseInt(this.clock.getAttribute("data-next-start"),10);}}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var m=true,u=false,w=null,d=null,j="apps:resized",b="app-drag-over",c="below",q="dragNode",k="show-draggable",f="app-shadow",l=".reset-apps",p=".app",r=".fpad",s=".app-heading",t="."+c,g=p+" .drag-over-indicator",i="> .mod",x=".mod",e=".cursor-region",a=x+" "+p,h=x+" "+r,o="dd:toggle-draggable-ui",v=2,n="13923486";YModules.type_appscontainer={moduleapi:w,instrumentation:w,currentBucket:w,body:w,isBusy:u,viewevents:["click"],moduleCookieName:"fpms",isLoggedIn:u,enableAppReordering:u,enableAppReorderingLoggedOut:u,cookieDomain:w,hasMovedToTop:u,hasCustomAppOrder:u,lazyImageService:w,streamClickReordingEnabled:u,listeners:[],nextResize:null,init:function(y){d=y.getService("yui");this.id=y.getId();this.moduleapi=y;this.counter=parseInt(y.getContextData("deletedApps"),10);this.isLoggedIn=(y.getContextData("recognizedState")||y.getService("userinfo").isLoggedIn());this.rapidEnabled=this.moduleapi.getContextData("rapid.enabled");this.completeReordering=this.moduleapi.getContextData("lockOrdering");this.adPos=this.moduleapi.getContextData("adPosition");this.compReorder=this.moduleapi.getContextData("lockOrdering");this.instrumentation=y.getService("instrumentation");this.currentBucket=y.getContextData("currentBucket");this.enableAppReordering=y.getContextData("enableAppReordering");this.enableAppReorderingLoggedOut=y.getContextData("enableAppReorderingLoggedOut");this.enableLoginTooltip=y.getContextData("enableLoginTooltip");this.zIndex=d.one("#nav-col").getStyle("z-index");if(!this.isLoggedIn&&this.enableAppReorderingLoggedOut){this.statemgr=this.moduleapi.getService("statemgr");}if(!this.isLoggedIn&&this.enableLoginTooltip){this.loginService=y.getService("login");}},onviewload:function(z){var y=".app";this.body=this.moduleapi.getViewNode(z);this.streamClickReordingEnabled=this.moduleapi.getContextData("streamClickReordingEnabled");this.listeners.push(this.body.delegate("mouseover",this.onShowToolbar,y,this));this.listeners.push(this.body.delegate("mouseout",this.onHideToolbar,y,this));if(this.streamClickReordingEnabled){this.hasCustomAppOrder=this.moduleapi.getContextData("hasCustomAppOrder");this.moduleapi.listen("stream:filter");this.appOrder=this.getAppOrder();}if(window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>0){this.enableAppReordering=false;this.enableAppReorderingLoggedOut=false;}if((this.isLoggedIn&&this.enableAppReordering===m)||(!this.isLoggedIn&&this.enableAppReorderingLoggedOut)){this.listeners.push(this.body.once("mouseover",this.initDD,this));this.listeners.push(this.body.delegate("mouseover",this.onShowDraggable,s,this));this.listeners.push(this.body.delegate("mouseout",this.onHideDraggable,s,this));this.moduleapi.listen(o);}},onHideDraggable:function(z){var y=z.target.ancestor(x);if(y){this.toggleDraggableUi(y,"off");}},onShowDraggable:function(z){var y=z.target.ancestor(x);if(y){this.toggleDraggableUi(y,"on");}},toggleDraggableUi:function(z,y){if(y==="on"){if(!this.body.one(".disable-dd")){z.one(s).setStyle("cursor","move");z.addClass(k);z.one(p).addClass(f);}}else{z.one(s).setStyle("cursor","auto");z.removeClass(k);z.one(p).removeClass(f);}},getAppOrder:function(){var A=this.body.all(a),z=this.body.all(h),y=[];A.each(function(C,B){if(C.ancestor(x).getStyle("display")!=="none"){y.push(C.getAttribute("data-moduleid"));}});z.each(function(C,B){y.splice(v,0,n);});return y;},initDD:function(){var y=this.body,z=this;y.all(a).each(function(B,A){B.append(d.Node.create('<div class="top-region pos-a h-50"></div>'));});d.use("dd-delegate","dd-proxy","dd-drop","dd-drop-plugin","dd-scroll",function(G){var E,A,B=new G.DD.Delegate({container:".type_appscontainer",nodes:x,target:m,handles:[s]});B.dd.plug(G.Plugin.DDProxy,{moveOnEnd:u,cloneNode:u});B.dd.plug(G.Plugin.DDWinScroll,{buffer:100,horizontal:u});function H(M){var K,J=A,I=y.all(x),L;if(J){K=M.one(p).getData("modulesec");J.removeClass(b);if(J.hasClass(c)){if(J.next()){I.insert(M,J.next());}else{I.insert(M,J);I.insert(J,J.previous());}}else{I.insert(M,J);}L={slk:" drop",action:"drop",sec:K,t1:"a4",t2:K,t3:"hd",elm:"itm",elmt:"ctnr"};z.sendBeacon(L);z.rearrangeApps();}}function D(J){var I=J.one(".app").getAttribute("data-moduleid"),K=y.all(a);return K.getAttribute("data-moduleid").indexOf(I);}function F(K,O,Q){var P,R=A,N=y.all(x),J=y.all(i),I=0,S=0,L=A,M,T;if(R){I=Q;S=O;P=K.one(p).getData("modulesec");R.removeClass(b);if(R.hasClass(c)){if(S>=v&&I<(v)){L=J.item(I+2);M=0;while(M<(v-I-1)){L=L.next();M++;}if(I<(v-1)){N.insert(L,J.item(I+2));if(S==v){N.insert(K,R.next().next());}else{N.insert(K,R.next());}}else{N.insert(K.next().next(),K);if(S==v){N.insert(K,J.item(S+2));}else{N.insert(K,R.next());}}}}else{if((S<(v))&&I>=v){if(S<(v-1)){N.insert(K,R);M=0;L=R;while(M<(v-1)){L=L.next();M++;}N.insert(L,L.next().next());}else{N.insert(J.item(I+1),J.item(S));N.insert(J.item(S),J.item(S+1).next());}}}T={slk:" drop",action:"drop",sec:P,t1:"a4",t2:P,t3:"hd",elm:"itm",elmt:"ctnr"};z.sendBeacon(T);z.rearrangeApps();}}function C(L){var K,J,M,I=u;K=L.target.get("node");J=L.target.get(q);M=K.one(p).getAttribute("data-moduleid");A=w;y.all(x).each(function(R,Q){var P,N=R,O=N.one(".top-region");if(!I&&O&&!N.hasClass("yui3-dd-dragging")&&J.one(e).inRegion(O)){N.addClass(b);I=m;A=N;A.modIndex=Q;if(Q==1){G.one("#nav-col").setStyle("z-index",parseInt(z.zIndex,10)+2);}else{G.one("#nav-col").setStyle("z-index",z.zIndex);}if(G.UA.ie&&G.UA.ie<8&&!N.one(g)){N.one(p).append(G.Node.create('<div class="drag-over-indicator pos-a w-100"></div>'));}}else{N.removeClass(b);if(G.UA.ie&&G.UA.ie<8){P=N.one(g);if(P){P.remove(m);}}}});}B.on("drag:mouseDown",function(I){if(y.one(".disable-dd")){I.halt();}});B.on("drag:start",function(O){O.preventDefault();B.dd.winscroll.start();var M,N,L=O.target,J=L.get("node").one(p),K=L.get(q),I=J.getData("modulesec");if(!K.one(e)){K.append(G.Node.create('<div class="cursor-region w-100 pos-r"></div>'));}y.all(p).each(function(Q,P){if(Q.getData("moduleid")===J.getData("moduleid")){E=P+1;}});N={slk:" drag",action:"drag",sec:I,t1:"a4",t2:I,t3:"hd",elm:"itm",elmt:"ctnr"};z.sendBeacon(N);K.setStyles({opacity:".3",borderColor:"#aaaaaa",backgroundColor:"#dbdbdb"});M=L.get("node").next();while(M){M.addClass(c);M=M.next();}});B.on("drag:drag",G.throttle(C,50));B.on("drag:end",function(K){var L=y.one(t),I=0,J=0;B.dd.winscroll.end();if(A&&K.target){I=D(A);J=D(K.target.get("node"));G.one("#nav-col").setStyle("z-index",z.zIndex);if(((I<v&&J>=v)||(I>=v&&J<v))&&(z.compReorder==1)){F(K.target.get("node"),I,J);}else{H(K.target.get("node"));}}while(L){L.removeClass(c);L=L.next();}A=w;if(G.UA.ie&&G.UA.ie<8){y.all(".drag-over-indicator").each(function(N,M){N.remove(m);});}});});},onShowToolbar:function(B){var A=B.target.ancestor(p,m),z=(A)?A.one(".app-ctas"):w,y=A.one(".app-remove-confirm");if(!y){this.show(z);}},onHideToolbar:function(A){var z=A.target.ancestor(p,m),y=(z)?z.one(".app-ctas"):w;this.hide(y);},show:function(y){if(y){y.removeClass("v-h");y.removeClass("d-n");}},hide:function(y){if(y){y.addClass("v-h");y.addClass("d-n");}},display:function(y){if(y){y.removeClass("d-n");}},onviewunload:function(y){this.body=w;d.Array.each(this.listeners,function(z){z.detach();});this.listeners=[];},onviewevent:function(A,y){if(this.isBusy){return;}var z=y.target;if(z.ancestor(".halt",true)||z.ancestor(".app-remove-confirm-body",true)){y.preventDefault();this.handleDefaultClick(z);}},onmessage:function(B,z,A){var y=z==="fstream"||z==="stream";if(y&&B==="stream:filter"&&A){this.onStreamFilter(A);}if(B===o&&A.el&&A.toggle){this.toggleDraggableUi(A.el,A.toggle);}},handleDefaultClick:function(E){var F,D,y,A,B,z=w,C;F=E.ancestor(p,true);if(F){D=F.getAttribute("data-moduleid");y=F.getAttribute("data-modulesec");}if(!this.isLoggedIn&&this.enableLoginTooltip&&E.hasClass("login-tooltip-app")){A=F.getData("login-tooltip-msg");B={sec:y+"-auth",cacheKey:E.hasClass("remove-cta")?"remove-"+y:y};if(d.Lang.isString(A)&&!E.hasClass("remove-cta")){B.title=A;}this.loginService.getTooltip().show({pointAtMeNode:E,buttonConfig:B});return;}else{if(E.hasClass("remove-app")||E.hasClass("remove-cta")){if(D){this.confirmRemoveApp(D);}}else{if(E.hasClass("app-remove-confirm-remove")){if(D){C={slk:"rm",action:"click",sec:y,t1:"a4",t2:y,t3:"rm",elm:"btn",elmt:"rm"};this.sendBeacon(C);this.removeApp(D);}}else{if(E.hasClass("app-close-button")||E.hasClass("app-remove-confirm-cancel")){if(D){z=E.ancestor(".app-remove-confirm");if(z&&z.getAttribute("data-context")==="signin-cta"){C={slk:"cl",action:"click",sec:y,t1:"a4",t2:y,t3:"ctrl",elm:"btn",elmt:"cl"};this.sendBeacon(C);}else{C={slk:"cl",action:"click",sec:y,t1:"a4",t2:y,t3:"rm",elm:"btn",elmt:"cl"};this.sendBeacon(C);}this.hideConfirmRemoveApp(D);}}else{if(E.hasClass("rearrange-apps")){this.rearrangeApps(w);}else{if(E.ancestor(".reset-apps",true,".reset-apps-container")){C=this.instrumentation.getBeaconKeys(E);this.sendBeacon(C);this.resetApps();}}}}}}},sendBeacon:function(A){if(this.rapidEnabled){var y={cpos:0,pos:0,itc:1,test:this.currentBucket},z;for(z in A){if(A.hasOwnProperty(z)){y[z]=A[z];}}this.instrumentation.fireBeacon(y);}},confirmRemoveApp:function(J){var D=d.one("#appMgmtDialog"),H=this.body,I=H.one("#default-p_"+J),y=I.one(".app-wrapper"),E=I.one(".show-panel"),F=this.moduleapi.getContextData("removeCta"),A=this.moduleapi.getContextData("removeCtaRemoveBtn"),B=this.moduleapi.getContextData("removeCtaCancelBtn"),C='<div class="app-remove-confirm ta-c"><div class="app-remove-confirm-body"><h3 class="fz-s mb-m app-remove-confirm-message">'+F+'</h3><div class="cf d-ib"><button class="fl-l btn secondary app-remove-confirm-cancel">'+B+'</button> <button class="fl-l btn dismissal app-remove-confirm-remove">'+A+"</button></div></div></div>",z=y.one(".app-remove-confirm"),G=I.one(".app-ctas");if(!this.isLoggedIn&&D){C='<div class="app-remove-confirm ta-c p-l pb-xl" data-context="signin-cta">'+D.get("innerHTML")+"</div>";}if(!z){y.insert(C,"after");z=I.one(".app-remove-confirm");this.hide(y);y.addClass("d-n");this.hide(G);if(E){E.addClass("v-h");}}},onStreamFilter:function(D){if(this.hasCustomAppOrder){return;}var A=D&&D.category,E={"YPROP:SPORTS":".type_sportacular","YPROP:FINANCE":".type_finance","YPROP:OMG":".type_topvideos","YPROP:LIFESTYLES":".type_horoscope"},F=d.Object.owns(E,[A]),I=this,y,H,C,z,B,G;if(F&&A&&this.body.one(E[A])){y=this.body.one(E[A]).ancestor(x);if(y){H=y.one(p);B=H.get("offsetHeight");H.setStyles({height:"0px",overflow:"hidden"});this.body.insert(y,1);H.transition({duration:0.25,easing:"ease-in",height:B+"px"},function(){var J=H.all(".lzbg");H.setStyles({height:"auto",overflow:"visible"});if(J.size()>0){J.each(function(L,K){if(!I.lazyImageService){I.lazyImageService=I.moduleapi.getService("lazyimage");}I.lazyImageService.loadImage(L);});}});this.hasMovedToTop=m;}}else{if(this.hasMovedToTop&&!F){z=this.body.all(a);C=[];z.each(function(K,J){C[K.getAttribute("data-moduleid")]=K.ancestor(x);});if(d.Lang.isArray(this.appOrder)&&this.appOrder.length>0){G=I.body.one(".reset-apps-container")||I.body.one(".app-remove-confirm");if(!G){return;}d.Array.each(this.appOrder,function(K,J){if(J===0){B=C[K].get("offsetHeight");C[K].setStyles({height:"0px",overflow:"hidden"});I.body.insert(C[K],G);C[K].transition({duration:0.25,easing:"ease-in",height:B+"px"},function(){C[K].setStyles({height:"auto",overflow:"visible"});});}else{I.body.insert(C[K],G);}});}this.hasMovedToTop=u;}}},removeApp:function(z){var y={type:"module",moduleId:this.id,args:{_container:0,_id:this.id,_action:"save",_subAction:"removeApp",appIdToRemove:z,is_pageload:u}},A={success:this.handleGetDataSuccess,failure:this.handleGetDataError,scope:this,argument:{appId:z,is_pageload:u,removeApp:m}};if(this.hasMovedToTop){y.args.appOrder=this.getAppOrder();}this.isBusy=m;this.moduleapi.makeRequest(y,A);},hideConfirmRemoveApp:function(C){var y=this.body,B=y.one("#default-p_"+C),z=B.one(".app-wrapper"),A=B.one(".app-remove-confirm"),D=B.one(".show-panel");if(A){A.remove(true);}this.show(z);if(D){D.removeClass("v-h");}},rearrangeApps:function(z){if(this.isLoggedIn){var y={type:"module",moduleId:this.id,args:{_container:0,_id:this.id,_action:"save",_subAction:"rearrangeApps",appOrder:z||this.getAppOrder(),is_pageload:u}},A={success:this.handleGetDataSuccess,failure:this.handleGetDataError,scope:this,argument:{is_pageload:u}};this.isBusy=m;this.moduleapi.makeRequest(y,A);}else{this.statemgr.setUserModuleState("appOrder",(z||this.getAppOrder()).join(","));this.statemgr.update();}},resetApps:function(){var y={type:"module",moduleId:this.id,args:{_container:0,_id:this.id,_action:"save",_subAction:"resetApps",is_pageload:u}},z={success:this.handleGetDataSuccess,failure:this.handleGetDataError,scope:this,argument:{reset:m,is_pageload:u}};this.isBusy=m;this.moduleapi.makeRequest(y,z);},refreshView:function(z){var y={type:"module",moduleId:this.id,args:{_container:0,_id:this.id,_action:"show",_subAction:"refreshApps",is_pageload:u}},A={success:this.handleGetDataSuccess,failure:this.handleGetDataError,scope:this,argument:{is_pageload:u}};this.isBusy=m;this.moduleapi.makeRequest(y,A);},handleGetDataSuccess:function(A,D){var y=this.body,F,E,C=y.one(".reset-apps-container"),z,B;F=D.appId;if(F){E=(F)?y.one("#default-p_"+F):undefined;this.hideConfirmRemoveApp(F);E.setStyle("display","none");B=this.moduleapi.getString("RESTORE.ONE");this.counter++;if(this.counter==1){y.one(l).setHTML(B);}else{z=this.moduleapi.getString("RESTORE.X");z=z.replace("{0}",this.counter);y.one(l).setHTML(z);}this.moduleapi.broadcast(j);this.hasCustomAppOrder=m;this.show(C);}if(D.reset===m){window.location.reload();}this.isBusy=u;this.appOrder=this.getAppOrder();},handleGetDataError:function(y,z){this.isBusy=u;}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
(function(){var a=true,b=null;YModules.type_topheadlines={body:b,id:"",moduleapi:b,viewevents:["click"],instrumentationService:b,tabliteService:b,tabs:b,tabNavigationMode:b,init:function(c){this.Y=c.getService("yui");this.id=c.getId();this.moduleapi=c;this.tabliteService=this.moduleapi.getService("tablite");this.tabNavigationMode=c.getContextData("tabNavigationMode");this.instrumentationService=this.moduleapi.getService("instrumentation");},onviewload:function(e){var d=this.moduleapi,c;if(e==="default"){this.body=d.getViewNode(e);}c=this.body.one(".tab-"+this.tabNavigationMode);this.tabs=new this.tabliteService({moduleApi:d,body:this.body,tabWidget:c,navMode:this.tabNavigationMode});this.tabs.setup();},onviewunload:function(c){if(c==="default"){this.body=null;}this.tabs.teardown();},onviewevent:function(d,c){if(d==="default"){if(c.type==="click"){this.handleClick(c);}}},handleClick:function(d){var c=d.target,f=c.ancestor(".tab-menu",a,".app-wrapper"),g=c.ancestor(".tab",a,"h3");if(g){this.fireYwaUltBeacon(g);return;}if(f){this.fireYwaUltBeacon(f);return;}},fireYwaUltBeacon:function(d){var c;if(d.hasAttribute("data-ylk")){c=this.instrumentationService.getBeaconKeys(d);this.instrumentationService.fireYwaBeacon(c);}if(d.hasAttribute("data-b-hdln")){this.instrumentationService.fireUltBeacon(d.getAttribute("data-b-hdln"));}}};}());/* Copyright (c) 2015, Yahoo! Inc.  All rights reserved. */
