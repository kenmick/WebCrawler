define("kg/component/6.2.2/extension/align",["util","node","ua"],function(t,e,i){function o(t){var e,i=t.ownerDocument,o=i.body,n=v(t).css("position"),h="fixed"===n||"absolute"===n;if(!h)return"html"===t.nodeName.toLowerCase()?null:t.parentNode;for(e=t.parentNode;e&&e!==o;e=e.parentNode)if(n=v(e).css("position"),"static"!==n)return e;return null}function n(t){var e,i,n,h,r={left:0,right:1/0,top:0,bottom:1/0},l=t.ownerDocument,f=v(l).getWindow(),a=l.body,s=l.documentElement;for(e=t;e=o(e);)if((!j.ie||0!==e.clientWidth)&&e!==a&&e!==s&&"visible"!==v(e).css("overflow")){var u=v(e).offset();u.left+=e.clientLeft,u.top+=e.clientTop,r.top=Math.max(r.top,u.top),r.right=Math.min(r.right,u.left+e.clientWidth),r.bottom=Math.min(r.bottom,u.top+e.clientHeight),r.left=Math.max(r.left,u.left)}return i=f.scrollLeft(),n=f.scrollTop(),r.left=Math.max(r.left,i),r.top=Math.max(r.top,n),h={width:f.width(),height:f.height()},r.right=Math.min(r.right,i+h.width),r.bottom=Math.min(r.bottom,n+h.height),r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function h(t,e,i,o){var n,h,r,l;return n={left:t.left,top:t.top},r=d(e,i[0]),l=d(t,i[1]),h=[l.left-r.left,l.top-r.top],{left:n.left-h[0]+ +o[0],top:n.top-h[1]+ +o[1]}}function r(t,e,i){return t.left<i.left||t.left+e.width>i.right}function l(t,e,i){return t.top<i.top||t.top+e.height>i.bottom}function f(t,e,i,o){var n=m.clone(t),h={width:e.width,height:e.height};return o.adjustX&&n.left<i.left&&(n.left=i.left),o.resizeWidth&&n.left>=i.left&&n.left+h.width>i.right&&(h.width-=n.left+h.width-i.right),o.adjustX&&n.left+h.width>i.right&&(n.left=Math.max(i.right-h.width,i.left)),o.adjustY&&n.top<i.top&&(n.top=i.top),o.resizeHeight&&n.top>=i.top&&n.top+h.height>i.bottom&&(h.height-=n.top+h.height-i.bottom),o.adjustY&&n.top+h.height>i.bottom&&(n.top=Math.max(i.bottom-h.height,i.top)),m.mix(n,h)}function a(t,e,i){var o=[];return m.each(t,function(t){o.push(t.replace(e,function(t){return i[t]}))}),o}function s(t,e){return t[e]=-t[e],t}function u(){}function c(t){var e,i,o,n=t[0];if(m.isWindow(n)){var h=v(n).getWindow();e={left:h.scrollLeft(),top:h.scrollTop()},i=h.width(),o=h.height()}else e=t.offset(),i=t.outerWidth(),o=t.outerHeight();return e.width=i,e.height=o,e}function d(t,e){var i,o,n=e.charAt(0),h=e.charAt(1),r=t.width,l=t.height;return i=t.left,o=t.top,"c"===n?o+=l/2:"b"===n&&(o+=l),"c"===h?i+=r/2:"r"===h&&(i+=r),{left:i,top:o}}function g(t){t.target===this&&t.newVal&&w.call(this)}function p(){this.get("visible")&&w.call(this)}function w(){this._onSetAlign(this.get("align"))}var m=t("util"),b=window,v=t("node"),j=t("ua");u.__getOffsetParent=o,u.__getVisibleRectForElement=n,u.ATTRS={align:{valueFn:function(){return{}}}},u.prototype={__bindUI:function(){var t=this;t.on("beforeVisibleChange",g,t),t.$el.getWindow().on("resize",p,t)},_onSetAlign:function(t){t&&t.points&&this.align(t.node,t.points,t.offset,t.overflow)},align:function(t,e,i,o){t=v(t||b),i=i&&[].concat(i)||[0,0],o=o||{};var u=this,d=u.$el,g=0,p=n(d[0]),w=c(d),j=c(t),x=h(w,j,e,i),y=m.merge(w,x);if(p&&(o.adjustX||o.adjustY)){r(x,w,p)&&(g=1,e=a(e,/[lr]/gi,{l:"r",r:"l"}),i=s(i,0)),l(x,w,p)&&(g=1,e=a(e,/[tb]/gi,{t:"b",b:"t"}),i=s(i,1)),g&&(x=h(w,j,e,i),m.mix(y,x));var M={};M.adjustX=o.adjustX&&r(x,w,p),M.adjustY=o.adjustY&&l(x,w,p),(M.adjustX||M.adjustY)&&(y=f(x,w,p,M))}return u.set({x:y.left,y:y.top},{force:1}),y.width!==w.width&&u.set("width",d.width()+y.width-w.width),y.height!==w.height&&u.set("height",d.height()+y.height-w.height),u},center:function(t){var e=this;return e.set("align",{node:t,points:["cc","cc"],offset:[0,0]}),e},__destructor:function(){var t=this;t.$el&&t.$el.getWindow().detach("resize",p,t)}},i.exports=u});define("kg/component/6.2.2/extension/shim",["ua"],function(e,i,t){function n(){}var o=e("ua"),s=6===o.ie,a='<iframe style="position: absolute;border: none;width: '+(s?"expression(this.parentNode.clientWidth)":"100%")+";top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: "+(s?"expression(this.parentNode.clientHeight)":"100%")+';"/>';n.ATTRS={shim:{value:s}},n.prototype.__createDom=function(){this.get("shim")&&this.get("el").prepend(a)},t.exports=n});define("kg/menu/6.1.2/lib/menu/control",["util","kg/container/6.0.3/index","kg/component/6.2.2/extension/delegate-children","node"],function(e,t,i){function n(e){if(e.target.isMenu){var t=this.el,i=e.newVal;t.setAttribute("aria-activedescendant",i&&i.el.id||"")}}var l=e("util"),a=e("kg/container/6.0.3/index"),r=e("kg/component/6.2.2/extension/delegate-children"),h=e("node").Event.KeyCode;i.exports=a.extend([r],{isMenu:1,beforeCreateDom:function(e){e.elAttrs.role="menu"},bindUI:function(){var e=this;e.on("afterHighlightedItemChange",n,e)},_onSetHighlightedItem:function(e,t){var i;e&&t&&(i=t.prevVal)&&i.set("highlighted",!1,{data:{byPassSetHighlightedItem:1}})},_onSetVisible:function(e,t){var i=this;i.callSuper(e,t);var n;!e&&(n=i.get("highlightedItem"))&&n.set("highlighted",!1)},getRootMenu:function(){return this},handleMouseEnterInternal:function(e){var t=this;t.callSuper(e);var i=t.getRootMenu();i!==t&&i._popupAutoHideTimer&&(clearTimeout(i._popupAutoHideTimer),i._popupAutoHideTimer=null)},handleBlurInternal:function(e){var t=this;t.callSuper(e);var i;(i=t.get("highlightedItem"))&&i.set("highlighted",!1)},_getNextEnabledHighlighted:function(e,t){var i=this.get("children"),n=i.length,l=e;do{var a=i[l];if(!a.get("disabled")&&a.get("visible")!==!1)return i[l];l=(l+t+n)%n}while(l!==e)},handleKeyDownInternal:function(e){var t=this,i=t.get("highlightedItem");if(i&&i.handleKeyDownInternal(e))return!0;var n=t.get("children"),a=n.length;if(0!==a){var r,g,o;switch(e.keyCode){case h.ESC:(i=t.get("highlightedItem"))&&i.set("highlighted",!1);break;case h.HOME:o=t._getNextEnabledHighlighted(0,1);break;case h.END:o=t._getNextEnabledHighlighted(a-1,-1);break;case h.UP:i?(r=l.indexOf(i,n),g=(r-1+a)%a):g=a-1,o=t._getNextEnabledHighlighted(g,-1);break;case h.DOWN:i?(r=l.indexOf(i,n),g=(r+1+a)%a):g=0,o=t._getNextEnabledHighlighted(g,1)}return o?(o.set("highlighted",!0,{data:{fromKeyboard:1}}),!0):void 0}},containsElement:function(e){var t=this,i=t.$el;if(!t.get("visible")||!i)return!1;if(i&&(i[0]===e||i.contains(e)))return!0;for(var n=t.get("children"),l=0,a=n.length;a>l;l++){var r=n[l];if(r.containsElement&&r.containsElement(e))return!0}return!1}},{ATTRS:{handleGestureEvents:{value:!0},focusable:{value:!0},allowTextSelection:{value:!1},highlightedItem:{value:null},defaultChildCfg:{valueFn:function(){return{xclass:"menuitem"}}}},xclass:"menu"})});define("kg/component/6.2.2/extension/content-box",["kg/component/6.2.2/extension/content-box/xtpl/view-render"],function(t,n,e){function o(t){var n=t.get("contentEl");t.$contentEl=t.$contentEl=n,t.contentEl=t.contentEl=n&&n[0]}function c(){}var i=t("kg/component/6.2.2/extension/content-box/xtpl/view-render");c.prototype={__createDom:function(){o(this)},__decorateDom:function(){o(this)},getChildrenContainerEl:function(){return this.get("contentEl")},_onSetContent:function(t){var n=this.$contentEl;n.html(t),this.get("allowTextSelection")||n.unselectable()}},c.ATTRS={contentTpl:{value:i},contentEl:{selector:function(){return"."+this.getBaseCssClass("content")}},content:{parse:function(){return this.get("contentEl").html()}}},e.exports=c});