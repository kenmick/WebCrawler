webpackJsonp([6],{0:function(e,t,n){n(1),n(2),n(8),n(21),n(89),n(9),n(45),n(108),n(72),n(106),n(111),n(104),n(27),n(105),n(30),n(124),n(33),n(102),n(103),n(96),n(98),n(109),n(42),n(28),n(129),n(128),n(125),_DM.define("Pg_Videos",function(){var e={initEvents:function(){$(".js-list-list").on("click",".sd_video_preview , .title a, .sd_playlist_previewv2, img.avatar, a.username",e.onItemClicked),$("#js-show-playlist-description, #js-hide-playlist-description").click(e.togglePlaylistDescription)},togglePlaylistDescription:function(){$(this).fadeOut(200,function(){$(this).siblings().fadeIn(),$("#js-playlist-description").slideUp(),$("#js-hide-playlist-description:visible").length&&$("#js-playlist-description").slideDown()})},onItemClicked:function(){var e=$(this).parentsUntil(".js-list-list").last().data("stat-position");DM_Context.is_search&&void 0!==e&&setCookie("sc_action_spot_clicked_after_search",e)},initGravity:function(){e.GRAVITY_ALLOWED&&DM_JS.load("/js/lib/dm/gravity.js","DM_Gravity",function(){_gravity.push({type:"set",split:e.GRAVITY_SPLIT});var t=/^\/.+\/search\/([^\/]+)\/./,n=t.exec(document.location.pathname);n&&_gravity.push({type:"event",eventType:"SEARCH",searchExpr:n[1]})})},loadSecondaryResources:function(){e.WITH_USER_SEARCH&&DM_JS.load("@user_search.js","Mo_SmartSelect"),e.WITH_EDITABLE&&DM_JS.load("@videosv2_editable.js","DM_Videos_Edit"),e.WITH_PLAYER&&DM_JS.load("@videosv2_with_player.js","Sd_PlayerRemote"),e.WITH_TIP_CHANNEL&&DM_JS.load("/js/views/shared/user/tip/channel.js","Sd_User_Tip_Channel")},__onDomReady:function(){e.initEvents(),e.initGravity(),e.loadSecondaryResources(),DM_Gravity.setProps()},__initialize:function(){DM_Prefetch.initialize(),DM_RUM_Init.initialize(),DM_Gravity.initialize(),DM_HapYak.initialize(),DM_DisplayAds.initialize(),DM_Masscast.initialize(),DM_RequestWatcher.initialize("search")}};return e},!0)},27:function(e,t,n){n(1),n(2),n(9),_DM.define("DM_Gravity",function(){var e={setProps:function(){("undefined"==typeof GRAVITY_ALLOWED||GRAVITY_ALLOWED)&&(_gravity.push({type:"set",countryCode:DM_Context.geoip_country.toUpperCase()}),_gravity.push({type:"set",ageGate:DM_Context.reader_has_family_filter?"on":"off"}),_gravity.push({type:"set",algo:"undefined"==typeof DM_Context.video_related_algorithm?"":DM_Context.video_related_algorithm}),_gravity.push({type:"set",views:DM_Context.video_views}),(DM_Context.is_logged===!0||"true"===DM_Context.is_logged)&&_gravity.push({type:"set",userId:DM_Context.reader_login}),DM_Context.video_from_related_algorithm&&_gravity.push({type:"set",from_algo:DM_Context.video_from_related_algorithm}))},initialize:function(){("undefined"==typeof GRAVITY_ALLOWED||GRAVITY_ALLOWED)&&(PubSub.subscribe("stats:event",function(e){"watchlater"==e.context&&_gravity.push({type:"event",eventType:"ADD_TO_PLAYLIST",itemId:e.videoXId,playlist:"watch_later"})}),window._gravity=window._gravity||[],DM_ResourcePlanner.add("stat",function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=document.location.protocol+"//dailymotion-ams.gravityrd-services.com/js/dailymotion/gr_reco4-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}))}};return e},!0)},28:function(e,t,n){n(1),n(2),n(4),n(13),n(6),_DM.define("DM_HapYak",function(){var e={testingStage:"stage-49",apiKey:"75debfb0ce714cd5ae1f",editorApiKey:"ce6755e1bf054b5b9607",currentViewer:null,options:null,availableLangs:["en","ar","de","el","es","fr","hi","in","it","ja","ko","nl","pl","pt","ro","ru","tr","vi","zh","id"],langMap:{"in":"en",ar:"es"},defaultLang:"en",getLang:function(){if(e.siteVersion in e.langMap)return e.langMap[e.siteVersion];if(-1!==e.availableLangs.indexOf(e.siteVersion))return e.siteVersion;var t=e.siteVersion.split("-");return"undefined"!=typeof t[1]&&-1!==e.availableLangs.indexOf(t[1])?t[1]:e.defaultLang},onCalled:function(t){if(log("HapYak","HapYak called on video "+t.videoId),"undefined"!=typeof window.flashOK&&window.flashOK||t.editor){e.options=t;var n=e.baseUrl;window.hapyak?(log("HapYak",n+"/js/hapyak.js is already loaded"),e.load()):(log("HapYak","Load "+n+"/js/hapyak.js"),$.ajax({url:n+"/js/hapyak.js",dataType:"script",cache:!0,success:function(t,n,i){log("Hapyak","-- hapyak.js file successfully loaded!"),200===i.status&&e.load()}}))}},onResize:function(){e.enabled&&"undefined"!=typeof hapyak&&hapyak.notifyResize()},onClean:function(){e.currentViewer&&(log("HapYak","Previous viewer is destroyed."),e.currentViewer.destroy(),e.currentViewer=null)},load:function(){var t=e.readerId;e.currentViewer&&e.onClean();var n=DM_Environment==e.testingStage?"staging":"prod",i=e.baseUrl,o=e.options.modified?i+"?cdn-bust="+e.options.modified:i,r=t==e.options.ownerId?!1:!0;log("HapYak","run in "+n+" environment");var a={cdn:{assets:{prefix:i},api:{prefix:o,enabled:r}}};e.options.editor||(a.tracking={channel:"hoopcast"}),hapyak.partner("dailymotion",{apiKey:e.editorApiKey,environment:n,plugins:a,onLoad:function(n){if(e.options.editor){log("HapYak","Load editor embed");var i={userId:e.options.ownerId,videoId:e.options.videoId,elementId:e.options.elementId,width:e.options.width,height:e.options.height,css:e.options.cssPath,onNewTrack:e.options.callback,onSave:function(){var t={request:e.options.videoUri,method:"updateVideoModified",callback:function(){}};DM_Controller.call("Page_VideoAnnotations",t)}};e.options.templates&&(i=e.getConfigWithTemplates(i,e.options.templates));var o=n.editor(i);n.externalEditor(o,"hapyak-sidepanel-container",{lang:e.getLang()})}else{log("HapYak","Load viewer embed");var r={playerMode:e.options.playerMode,player:e.options.domElement,videoId:e.options.videoId,userId:t,authorId:e.options.ownerId,css:"undefined"!=typeof e.cssPath?e.cssPath:"",onLoad:function(t){log("HapYak","Viewer is loaded"),e.currentViewer=t,PubSub.publish("dm:hapyak:loaded",t)}};e.options.templates&&(r=e.getConfigWithTemplates(r,e.options.templates)),n.viewer(r)}}})},getConfigWithTemplates:function(e,t){var n=[],i={};if(Object.keys(t).length>0){for(var o in t)if(t.hasOwnProperty(o))switch(n[n.length]=t[o].type,o){case"channel-promotion":i.channel=t[o].channel;break;case"next-video":i.video=t[o].videoId}e.project={template:{tags:n}},e.variables=i}return e},onDMPlayerReady:function(t){e.enabled&&e.init(t)},init:function(t){var n,i=e.videoId,o=e.ownerId,r=e.videoModified,a="html5"==DM_Player_Type.get()?"api":"flash";i&&(n={domElement:t,ownerId:o,videoId:i,autoplay:!0,embed:!1,playerMode:a,modified:r},e.templates&&(n.templates=e.templates)),e.onCalled(n)},initialize:function(){DM_PlayerEvents.on("Ready","video_player_main",e.onDMPlayerReady)},__initialize:function(){PubSub.subscribe("dm:hapyak:called",e.onCalled),PubSub.subscribe("dm:hapyak:clean",e.onClean),PubSub.subscribe("player:resized",e.onResize)}};return e},!0)},30:function(e,t,n){n(1),n(2),n(5),n(9),n(4),n(94),n(95),n(105),n(124),_DM.define("DM_Masscast",function(){var e={adminReports:[],readyForAdminReport:!1,loaded_mcTop:!1,refreshedMiddle:!1,enabled:!0,errorMsg:"FAILED TO REQUEST OAS",startTime:(new Date).getTime(),playerV5Id:"player",outframedPositions:["x28","x29","Top3","x70"],assistedOutframedPositions:["Top3","x28"],locked:{},hasMiddleAd:!1,lockPosition:function(t){log("Masscast","LOCK Position",t),e.locked[t]=!0},getCallForPositions:function(e){var t=masscast_async_call;return e&&e.length&&(t=t.replace(/@.+\?/,"@"+e.join(",")+"?")),t.replace(/\/[^\/]+@/,"/"+(new Date).getTime()+"@")},callOAS:function(t){jQuery.support.cors=!0,log("Masscast","callOAS - arguments :",t),$.get(t?e.getCallForPositions(t):masscast_async_call).done(function(n){return"// OAS_ERROR"==n?log("Masscast","There was an error with OAS response. Possible reasons are: timeout, network error, OAS server error, ..."):(t&&t.length&&-1!==t.indexOf("Middle")&&(e.refreshedMiddle=!0),void e.callOASCallback(n,t))}).fail(function(t,n,i){log("Masscast",e.errorMsg,n,i),e.emitMasscastReport("error",'<div><font color="red">'+e.errorMsg+'. Open JS console for details. <a href="#" style="color: red;text-decoration: underline;" onclick="showlog(\'Masscast\'); return false;">Print logs</a> (in JS console).</font></div>')})},parseOASResponse:function(e,t){var n={};if(t&&1==t.length)n[t[0]]=e;else{var i=e.split('<!--OAS AD="');if(""===$.trim(i[0])&&i.shift(),1==i.length){var o=masscast_async_call.match(/@(.+)\?/);o&&(n[o[1]]=i[0])}else for(var r=0,a=i.length;a>r;r++){var s=i[r].indexOf('"-->');n[i[r].slice(0,s)]=$.trim(i[r].slice(s+4))}}return n},callOASCallback:function(t,n){log("Masscast","callOASCallback - OASResponse :",t);var i=e.parseOASResponse(t,n);log("Masscast","OASResponse parsed :",i),$(function(){e.asyncHandlePositionCodes(i)})},asyncHandlePositionCodes:function(t){setTimeout(function(){e.handlePositionCodes(t)},200)},handlePositionCodes:function(t){var n=function(t,n){log("Masscast","Position",t,' is "outframed" and need to be run out of an iframe .'),e.handleOutframedPositionCode(t,n),PubSub.publish("masscast:position_status",t,"handled")},i=function(t,n){e.updatePositionViaIframe(t,n),PubSub.publish("masscast:position_status",t,"handled")};for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];try{var a=$("#mc_"+o);if(e.locked[o]){log("Masscast","Position",o,"is locked, update cancelled.");continue}if(!r||r.match(/\/\/ Default ad/)){a.length&&a.empty().hide(),log("Masscast","Position",o,"not found or empty, hide its container from page."),PubSub.publish("masscast:position_status",o,"dismissed");continue}if(a.length&&a.removeClass("mc_hide"),"Right"==o&&$("body").addClass("has-skyscraper"),e.outframedPositions.indexOf(o)>-1&&-1===r.indexOf("OAS_FORCE_IFRAME")){e.handlePositionWith(o,r,n);continue}if(!a.length){log("Masscast","Position",o," container not found, do nothing."),PubSub.publish("masscast:position_status",o,"not_found");continue}e.handlePositionWith(o,r,i)}catch(s){log("Masscast","Exception catched while rendering",o,s.message),PubSub.publish("masscast:position_status",o,"error")}}e.locked={}},handlePositionWith:function(e,t,n){setTimeout(function(){n(e,t)},100)},handleOutframedPositionCode:function(t,n){$.isString(n)?(documentWriteBackup=document.write,document.write=function(e){log("Masscast","!!! BEWARE !!!",t,"tried to document.write on an already built page :",e)},e.emitMasscastReport("position "+t,n),(window.execScript||function(e){window.eval.call(window,e)})(n),document.write=documentWriteBackup):log("Masscast","cannot run position",t,"code:",n)},updatePositionViaIframe:function(t,n){log("Masscast","Update position code",t);var i=$("#mc_"+t),o=t;if(!i.length)return log("Masscast","Cannot update position via iframe, container not found for ",t);i.data("default-height")?i.css({height:i.data("default-height")}).empty():i.css({height:0}).empty();var r=$('<iframe class="mc_'+o+'_frame" name="mc_'+t+'" allowtransparency="true" framespacing="0" frameborder="no" scrolling="no"></iframe>');i.append(r);var a=r[0].contentDocument||r[0].contentWindow.document,s="<script>/*"+t+"*/("+e.preCodeInjection.toString()+")(window);</script>",l=function(){return r[0].parentNode.style.height="auto",$("body").hasClass("pg_video")&&"mc_Top"===r[0].name&&(r[0].parentNode.parentNode.style.marginTop="20px",r[0].parentNode.parentNode.style.marginBottom="-20px"),"Top"!==t||"Top"===t?("Top"===t&&(e.loaded_mcTop=!0),"<script>("+e.postCodeInjection.toString()+")(window);</script>"):""}();if(e.emitMasscastReport("position "+t,n),-1===n.indexOf("OAS_HTML")&&(n="<script>"+n+"</script>"),a.open().write('<!DOCTYPE html><html><body><style>body { margin:0; padding: 0; text-align:center;}</style><div id="content">'+s+n+l+"</div></body></html>"),"Right"==t&&!Pg_Video.supportRightFrame){Pg_Video.supportRightFrame=!0,$(window).trigger("resize");for(var c=function(){$(window).trigger("resize")},u=0,d=[0,450,550,650,750],p=d.length;p>u;u++)setTimeout(c,d[u])}setTimeout(function(){a.close()},"msie"==$.browser.name?2e3:0)},reloadPositionFrame:function(t){if(!e.enabled)return void log("Masscast","Masscast has been DISABLED, no reload allowed for",t.name);log("Masscast","reloadPositionFrame - frame name",t.name);var n=t.name.replace(/mc_([a-zA-Z0-9]+)/,"$1");log("Masscast","Frame position to reload:",n),e.callOAS([n])},preCodeInjection:function(e){e.masscast_async_call=parent.masscast_async_call,e.inDapIF=!0,e.ping=parent.ping,window.performance&&performance.getEntries&&"undefined"!=typeof parent.adRequestsTotal&&(e.parent.log("Masscast","Start watching requests of",e.name),e.lastRequestsTotal=0,e.lastFramesTotal=0,e.requestWatcher=setInterval(function(){var t=performance.getEntries().length,n=document.getElementsByTagName("iframe").length;e.parent.adRequestsTotal+=t-e.lastRequestsTotal,e.parent.adFramesTotal+=n-e.lastFramesTotal,e.lastRequestsTotal=t,e.lastRequestsTotal=n,e.parent.DM_Masscast.enabled||(e.parent.log("Masscast","Stop watching requests of",e.name),clearInterval(e.requestWatcher))},5e3)),e.masscast={initReload:function(){e.reloadTime&&e.parent.DM_Masscast&&(e.parent.log("Masscast","Frame reload initiated for",e.name,". Reload in",reloadTime,"secs."),e.parent.DM_Masscast.emitMasscastReport("position:reload",e.name.replace("mc_","")+":"+reloadTime),setTimeout(function(){e.parent.DM_Masscast.reloadPositionFrame(e)},1e3*reloadTime))},getElementHeight:function(e){return parseInt(parent.$(e).css("height"),10)},adjustHeight:function(e){var t=masscast.getElementHeight(document.getElementById("content")),n=masscast.getElementHeight(document.body),i=masscast.getElementHeight(frameElement.parentNode),o=e||0||t;e&&(document.getElementById("content").style.cssText+="position:absolute;top:0;bottom:0;left:0;right:0;"),frameElement.style.height=o+"px",frameElement.parentNode.style.height="auto",50>o&&i>=100&&-1==frameElement.name.indexOf("x70")?frameElement.style.display="none":-1!=frameElement.name.indexOf("x52")?(frameElement.style.display="auto",frameElement.style.height="254px"):(frameElement.style.display="block",50>o&&n>=100&&(frameElement.style.height=n+"px"))},loadDmJs:function(t){var n=e.document.createElement("script");n.type="text/javascript",n.src=e.parent.DM_JS.getRealPath(t),n.async=!0,e.document.body.appendChild(n)},render:function(t,n){e[t+"Parameters"]=n,masscast.loadDmJs("/js/lib/dm/masscast/iframed/"+t+".js")}}},postCodeInjection:function(){function e(){return e.times=e.times||1,window.disableAutoHeight?(parent.log("Masscast",'"AutoHeight" is disabled for',frameElement.name),frameElement.parentNode.style.height="auto"):(masscast.adjustHeight(),void(++e.times<5?setTimeout(e,500):parent.log("Masscast",frameElement.name," iframe height",frameElement.style.height)))}masscast.initReload(),setTimeout(e,150)},disable:function(){log("Masscast","Masscast DISABLE"),e.enabled=!1},middleAdPresent:function(){return $('div[id^="mc_"]').length>0&&$("#mc_Middle").children().length>0},setupTracker:function(){_LTracker.push({logglyKey:"d6464acb-25b8-4dd2-bf83-64fed1a15e10",sendConsoleErrors:!0,tag:"jslogger"})},trackPosition:function(t,n){var i=(new Date).getTime();_LTracker.push({dmxtrk:{display_server:"oas",ad_position:t,moment:n,refresh:0,country:window.DM_Context.geoip_country,latency:e.getLatency(i)}})},getLatency:function(t){return t>=e.startTime?t-e.startTime:0},init:function(){if("player_page"==window.DM_Context.page_type){e.canCallOAS()&&(e.lockPosition("Middle"),DM_ResourcePlanner.add("ad",function(){e.callOAS()}));var t=null;DM_PlayerV5Events.on("ad_start",e.playerV5Id,function(){t=setTimeout(function(){e.canCallOAS()&&(e.middleAdPresent()||(e.locked={},e.callOAS(["Middle"])))},1e3)}),DM_PlayerV5Events.on("playing",e.playerV5Id,function(){var n;null!==t&&clearTimeout(t),e.canCallOAS()&&("us"==window.DM_Context.geoip_country&&e.middleAdPresent()||(e.locked={},e.refreshedMiddle?clearTimeout(n):n=setTimeout(function(){e.callOAS(["Middle"])},5e3)))})}else{if("user"===window.DM_Context.page_type.toLowerCase())return;e.canCallOAS()&&e.callOAS()}},canCallOAS:function(){if(window.DM_Context.video_ads===!1||window.videolist_has_ads===!1){if("video attribute|noadfit"!==window.DM_Context.video_noads_reason||window.DM_Context.video_never_ads!==!1)return log("Masscast","window.DM_Context.video_ads is true, blocking ads",window.DM_Context.video_ads),!1;log("Masscast","window.DM_Context.video_noads_reason is noadfit, switching call",window.DM_Context.video_noads_reason),window.masscast_async_call=window.masscast_async_ads1_call}return!0},emitMasscastReport:function(t,n){var i=+new Date;e.readyForAdminReport?PubSub.publish("masscast:reports",[[i,t,n]]):e.adminReports.push([i,t,n])},getRandParameter:function(){var e=99999999998,t=e/2;return Math.floor(Math.random()*(e-t))+t},initialize:function(){var t=e.getRandParameter();window.masscast_async_ads1_call&&(masscast_async_ads1_call=masscast_async_ads1_call.replace("__RAND__",t)),window.masscast_async_call?(masscast_async_call=masscast_async_call.replace("__RAND__",t),log("Masscast","window.masscast_async_call found",window.masscast_async_call),DM_Context.rebuffer_not_allowed===!1&&PubSub.subscribe("player:rebuffer",function(){log("Masscast","Player rebuffer catched"),e.disable()}),window.masscast={render:function(e,t){log("Masscast","publish",e,"code for assisted handling"),PubSub.publish("masscast:position_"+e,t)}},e.init()):log("Masscast","window.masscast_async_call not found.")},__initialize:function(){PubSub.subscribe("adminpanel:loaded",function(){e.adminReports.length&&(PubSub.publish("masscast:reports",e.adminReports),e.adminReports=[]),e.readyForAdminReport=!0})}};return e},!0)},33:function(e,t,n){n(1),n(2),n(5),_DM.define("DM_Masscast_Top3",function(){var e={params:null,translateV1ParamstoV2:function(e){var t={skinName:"name",trackingTag:"tracking_tag",bodyClickUrl:"redirect_url",topBannerLink:"redirect_url",bodyClickUrlThroughTag:"click_count_urls",topBannerLinkThroughTag:"click_count_urls",countingPixel:"display_count_urls",countingPixelAlt:"display_count_urls"},n={};for(var i in t)if(""!==e[i]){var o=t[i];"bodyClickUrl"==i&&(n.body_redirect_enabled=!0),o.match(/urls/)?(n[o]||(n[o]=[]),$.isArray(e[i])?n[o]=n[o].concat(e[i]):n[o].push(e[i])):n[o]=e[i]}return n},onCodeReceived:function(e){this.setParams(e),this.build()},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){log("Top3","Build",this.params);try{if("object"==typeof this.params){var e=this;this.params=this.translateV1ParamstoV2(this.params),this.params.from_oas=!0,PubSub.publish("masscast:loading_top3"),$.getJSON("/controller/Masscast?method=getSkin&method%3Aargs="+encodeURIComponent($.toJSONString([this.params.name])),function(t){PubSub.publish("masscast:loaded_top3",t,e.params)})}}catch(t){log("Top3","Error while loading skin",t.message,"- skinData:",this.params)}},__initialize:function(){PubSub.subscribe("masscast:position_Top3",this.onCodeReceived,this)}};return e},!0)},42:function(e,t,n){n(1),n(2),n(5),n(12),n(3),n(6),_DM.define("Sd_User_Subscribe",function(){var e=!1,t={updateButton:function(t,n){e=$.ajax({url:"/controller/Shared_User_Subscribe",data:n,success:function(n){e=!1;var i=$($.parseHTML(n));i.addClass(t.className),$(t).replaceWith(i)}})},updateButtons:function(e){$('.sd_user_subscribe[data-user="'+e+'"]').each(function(){var n={request:"/"+e,config:$(this).attr("data-config"),subscribe_context:$(this).find("button").data("subscribe-context")};t.updateButton(this,n)})},setCount:function(e,n){var i=$('[data-follower-count="'+e+'"]'),o=parseInt(i.data("count"),10)+n;i.data("count",o).text(t.formatNumberWithSuffix(o))},formatNumberWithSuffix:function(e){var t=1,n=["","K","M","G","T"];0>e&&(t=-1,e=Math.abs(e));var i=Math.log10(e),o=i/3;return e.toLocaleString(),4>i?t*e:Math.floor(t*Math.pow(1e3,o-Math.floor(o))*10)/10+n[Math.floor(o)]},afterToggleSubscribe:function(n,i){if(e)return!1;var o=n.action,r=i.userLogin,a=i.subscribeContext,s={};PubSub.publish("dm:user_logged:"+o,r),t.isSameOrigin()&&n.needed_login||t.updateButtons(r),"subscribe"==o?(s.action="follow",a&&("from-channel-tooltip"==a?s.context="from_channel_tooltip":"push-follow-toolip"==a&&(s.context="with_push_tooltip")),t.setCount(r,1)):(s.action="unfollow",t.setCount(r,-1)),DM_Stats.trigger(s),Sd_Navigation_Panel&&Sd_Navigation_Panel.clearDatas()},isSameOrigin:function(){var e;try{e=top.location.href}catch(t){e=!1}return e},onClick:function(e){var n=$(e.currentTarget),i=n.data("href"),o=n.closest(".sd_user_subscribe").data("user"),r=n.data("subscribe-context"),a=n.data("user-uri"),s={request:a,next_url:n.data("next-href"),redirect_url:t.isSameOrigin()?a:document.location.href};n.data("no-count")&&(s.no_count=!0),DM_Context.is_logged===!1&&DM_Stats.trigger({action:"follow",context:"unlogged"}),n.prop("disabled",!0),n.parents(".sd_user_subscribe").addClass("current"),DM_Ajax.jsonCall(i,s,function(e){var i=$.parseJSON(e),a={userLogin:o,subscribeContext:r};t.afterToggleSubscribe(i,a),n.prop("disabled",!1)},function(e,t){("too_many_subscriptions"==e||"cannot_subscribe_yourself"==e)&&alert(t)}),PubSub.subscribe("popup:closed",function(){n.prop("disabled",!1)})},initEvents:function(){$(document).on("click",".sd_user_subscribe button",t.onClick)},loadLazyButtons:function(){var e=[],t=0;$("[data-lazy-follow-button]").each(function(){var n=$(this).parent(),i="lazy-"+t;n.attr("data-lazy",i),e.push({user:n.data("user"),config:n.data("config"),id:i}),t++}),e.length&&DM_Ajax.jsonCall("/controller/Shared_User_Subscribe?method=loadButton",{buttons:JSON.stringify(e)},function(e){e=JSON.parse(e);for(var t in e)$("[data-lazy="+t+"]").replaceWith(e[t])})},__onDomReady:function(){t.initEvents(),t.loadLazyButtons()}};return t},!0)},45:function(e,t,n){n(1),n(2),n(20),n(70),n(69),_DM.define("Sd_Video_Preview",function(){var e={item:null,container:null,sprite1:null,sprite2:null,state:0,step:0,total:0,timer:-1,infosTimer:null,initEvents:function(t){$(".js-tipsy-ballon").tipsy();var n;n=t?$.isString(t)?$(t+" div.sd_video_preview"):t instanceof jQuery?t.find("div.sd_video_preview"):$([]):$("div.sd_video_preview"),n.each(function(){this.observed||(this.observed=!0,$(this).on({mouseenter:e.onPreviewEnter,mouseleave:e.onPreviewLeave}).on("click","span.js-wl_chkbx",e.addToWatchLater).on("click","span.video_edit",e.goToEditVideo))})},onPreviewEnter:function(){var t=this;e.overTO=setTimeout(function(){var n=$(t),i=n.find("div.psprite");i[0]&&e.onSpriteOver(i),e.overTO=null},200)},onPreviewLeave:function(){if(e.overTO)return clearTimeout(e.overTO),void(e.overTO=null);var t=$(this),n=t.find("div.psprite");n[0]&&e.onSpriteOut(n)},onSpriteOver:function(t){e.$psprite=t,e.state=0,e.total=t.hasClass("pmode8")?8:4,window.clearTimeout(e.timer),e.timer=window.setTimeout(function(){e.spriteAnimate()},0)},onSpriteOut:function(){window.clearTimeout(e.timer),e.$container&&(e.$container.remove(),e.$container=null)},spriteAnimate:function(){switch(this.state){case 0:var t=0;"undefined"!=typeof Sd_Video_PreviewTwig_SpriteOffset&&(t=Sd_Video_PreviewTwig_SpriteOffset),this.$img=this.$psprite.parent().find("img"),this.path=this.$psprite.data("spr"),this.itemWidth=this.$psprite.width(),this.itemHeight=this.$psprite.height(),this.spriteStep=this.itemHeight,this.spriteHeight=this.spriteStep*this.total,this.spriteTopOffset=Math.floor((this.spriteStep-this.itemHeight)/2),this.$container=$('<div id="psprite_container">').css({position:"absolute",overflow:"hidden",top:-(this.spriteTopOffset+t)+"px",left:t+"px",width:this.itemWidth+"px",height:this.itemHeight+this.spriteTopOffset+"px",display:"none"}),this.$sprite2=$('<img src="'+this.path+'" data-spriteid="2">').css({position:"absolute",border:"none",marginTop:0,width:this.itemWidth+"px",height:this.spriteHeight+"px",display:"none"}),this.$psprite.before(this.$container.append(this.$sprite2)),this.state++;break;case 1:var n=this.$sprite2[0];(n.complete||"undefined"!=typeof n.naturalWidth&&0!==n.naturalWidth)&&(this.$sprite1=$('<img src="'+this.path+'" data-spriteid="1">').css({position:"absolute",border:"none",marginTop:0,width:this.itemWidth+"px",height:this.spriteHeight+"px",display:"none"}),this.$container.prepend(this.$sprite1).css({display:"block"}),this.state++,this.step=0,this.$sprite2.fadeIn(400));break;case 2:this.step++,this.step>=this.total&&(this.step=0),this.$sprite1.show().css({opacity:1}),e.step%2?(this.$sprite1.css({top:"-"+this.step*this.spriteStep+"px"}),this.$sprite2.fadeOut(400)):this.$sprite2.css({top:"-"+this.step*this.spriteStep+"px"}).fadeIn(400)}this.timer=window.setTimeout(function(){e.spriteAnimate()},1==this.state?50:1e3)},setPlayStatus:function(e){$("div.now_playing").remove(),$('div.sd_video_preview[data-id="'+e+'"]').append('<div class="preview-message now_playing"><span class="center">'+DM_ENV.DM_Utils.nowPlayingLabel+"</span></div>")},addToWatchLater:function(e,t){e&&(e.stopPropagation(),e.preventDefault());var n=$(this);if(t)n.hasClass("remove")?DM_WatchLater.remove(t,!0):DM_WatchLater.add(t,!0);else{var i=n.closest(".preview_link"),o=i[0].id||i.findParamInClass("id");n.data("watched")||DM_WatchLater.add(o,!0),n.data("watched")&&DM_WatchLater.remove(o,!1)}},goToEditVideo:function(e){e.preventDefault();var t=$(e.target);$(e.target).hasClass("video_edit")||(t=t.parent()),window.location.href=t.data("uri")},addedToWatchlater:function(t){if(t&&t.length){var n,i;if(1===t.length)n=$('div.sd_video_preview[data-id="'+t[0]+'"]'),i=n.find("span.js-wl_chkbx"),$(".tipsy").remove(),i.fadeOut(500,function(){n.addClass("in_wl"),i.addClass("remove").find(".watch_later").addClass("icon-check font-md").removeClass("icon-time font-lg").end().removeAttr("style original-title").attr("title",e.watchlaterAdded).show("fast")}),i.data("watched",!0);else for(var o=0,r=t.length;r>o;o++)n=$('div.sd_video_preview[data-id="'+t[o]+'"]'),i=n.find("span.js-wl_chkbx"),i.hasClass("name")?i.addClass("remove"):i.remove()}},removedFromWatchlater:function(t){if(t&&t.length)for(var n,i,o=0,r=t.length;r>o;o++)n=$('div.sd_video_preview[data-id="'+t[o]+'"]'),i=n.find("span.js-wl_chkbx"),i.hasClass("name")?i.addClass("remove"):(n.removeClass("in_wl"),$(".tipsy").remove(),i.removeClass("icon-check").find(".watch_later").removeClass("icon-check font-md").addClass("icon-time font-lg").end().removeAttr("style original-title").attr("title",e.watchlaterAdd),i.data("watched",!1))},__onDomReady:function(){e.initEvents()},__initialize:function(){PubSub.subscribe("video:playing",Sd_Video_Preview.setPlayStatus),PubSub.subscribe("watchlater:added",Sd_Video_Preview.addedToWatchlater),PubSub.subscribe("watchlater:removed",Sd_Video_Preview.removedFromWatchlater),PubSub.subscribe("dm:new_videos_loaded",function(t){e.initEvents(t)}),DM_WatchLaterDone.initialize()}};return e},!0)},69:function(e,t,n){n(1),n(2),n(13),_DM.define("DM_WatchLaterDone",function(){var e=function(e){DM_Controller.call("Page_Videos",{method:"getWatchlaterModifiedMessage",args:[e],callback:function(e){PubSub.publish("page:notify",e,"page")}})},t={initialize:function(){getCookie("wl_ok")&&(deleteCookie("wl_ok"),e("added"))},__initialize:function(){PubSub.subscribe("watchlater:added",function(){e("added")}),PubSub.subscribe("watchlater:removed",function(){e("removed")})}};return t},!0)},70:function(e,t,n){n(1),n(2),n(3),_DM.define("DM_WatchLater",function(){var e="/controller/Shared_Video_Watchlater?method=",t=function(e){return $.isArray(e)||(e=[e]),e},n=function(e){return-1==o.indexOf(e)&&-1!=(r.videosFromReq||[]).indexOf(e)},i=function(e){n(e.xid)&&r.remove(e.xid)},o=[],r={add:function(n){n=t(n),DM_Ajax.jsonCall(e+"add",{videoIds:n},function(){PubSub.publish("watchlater:added",n),DM_Stats.trigger({action:"add_to_watchlater"})},function(e){log("DM_WatchLater","add failed",e)})},remove:function(n){DM_Context.is_logged&&(n=t(n),DM_Ajax.jsonCall(e+"remove",{videoIds:n,next_url:e+"add"},function(){o=o.concat(n),PubSub.publish("watchlater:removed",n)},function(e){log("DM_WatchLater","remove failed",e)}))},__initialize:function(){PubSub.subscribe("dm:readersession:video_watched",i)}};return r},!0)},72:function(e,t,n){n(1),n(2),_DM.define("Mo_Submenu",function(){var e={initEvents:function(){$(".js-tipsy-submenu").one("mouseover",function(){DM_JS.get("tipsy")}),$(".js-tipsy-submenu").click(function(t){$(this).hasClass("is-clicked")||(t.stopPropagation(),e.hideSubnav($(this).closest(".pl_videos_subnav, .js-contest-submenus").find(".js-tipsy-submenu.is-clicked")),$(this).addClass("is-clicked").tipsy("show"))}),$("#bodyall").click(function(){e.hideSubnav($(".js-tipsy-submenu.is-clicked"))})},hideSubnav:function(e){e.each(function(){$(this).removeClass("is-clicked").tipsy("hide")})},__initialize:function(){e.initEvents()}};return e})},83:function(e,t,n){n(2),function(e){e(function(){window.dm_times&&(dm_times.firstdomready=(new Date).getTime())})}(jQuery)},89:function(e,t,n){n(1),n(2),n(83),n(11),n(90),_DM.define("DM_RUM_Init",function(){var e,t=function(t){log("RUM","DM_RUM_Init::_send send beacon");var n=[],i=0;for(var o in t)t.hasOwnProperty(o)&&(i++,n.push(encodeURIComponent(o)+"="+(void 0===t[o]||null===t[o]?"":encodeURIComponent(t[o]))));n=e+(e.indexOf("?")>-1?"&":"?")+n.join("&"),i&&(img=new Image,img.src=n)},n=function(){DM_RUM.addVar("t_toppage",dm_times.start),DM_RUM.addVar("t_first_domready",dm_times.firstdomready)},i={promises:{},enabled:function(){return window.RUMEnabled&&(!window.RUMWaitForPlayer||!window.videoHasPartnerPlayer&&(!window.HAS_PV5&&window.flashOK===!0||window.HAS_PV5))},ready:function(e){var t=!0;i.promises[e]=!0;for(var n in i.promises)i.promises.hasOwnProperty(n)&&(t=t&&i.promises[n]);t&&DM_RUM.send()},setupForPlayer:function(){log("RUM","DM_RUM_Init::setupForPlayer"),DM_RUM.addVar("with_ad_call",window.instreamEnabledForVideo),window.HAS_PV5&&DM_RUM.addVar("pv5",window.HAS_PV5),i.promises={page:!1,player:!1},$(window).on("load",function(){i.ready("page")}).on("beforeunload",function(){DM_RUM.addVar("t_usergone",(new Date).getTime()),DM_RUM.send()}),PubSub.subscribe("rum:player_ready",function(){log("RUM","DM_RUM_Init::setupForPlayer received pubsub rum:player_ready"),i.ready("player")})},addDefaultParameters:function(){navigator.cookieEnabled&&DM_RUM.addVar("cksz",document.cookie.length),DM_RUM.addVar("country",window.DM_Context?DM_Context.geoip_country:"unknown"),DM_RUM.addVar("routename",window.DM_Context?DM_Context.route_name:"unknown"),DM_RUM.addVar("logged",window.DM_Context?DM_Context.is_logged:"unknown"),i.addBottomPageParameters()},addBottomPageParameters:function(){DM_RUM.addVar("t_env_top",dm_times.env_top),DM_RUM.addVar("t_script_bottom",dm_times.script_bottom)},initialize:function(){i.enabled()&&(log("RUM","DM_RUM_Init::initialize RUM is enabled"),e=window.RUMBeaconUrl,DM_RUM.initialize({sender:t,beforeSend:n,autosend:!window.RUMWaitForPlayer}),i.addDefaultParameters(),window.RUMWaitForPlayer&&(window.DM_PlayerEvents||window.DM_PlayerV5Events)&&(log("RUM","DM_RUM_Init::initialize setup player RUM"),i.setupForPlayer()))}};return i},!0)},90:function(e,t,n){n(1),n(2),_DM.define("DM_RUM",function(){var e,t={},n=!1,i={send:function(){if(log("RUM","DM_RUM::send"),!n){if(!e.sender)return console.log('No "DM_RUM.send" implementation has been provided.');i.addPerformanceTimingData(),e.beforeSend&&e.beforeSend(),e.sender(t),n=!0}},addVar:function(e,n){if("string"==typeof e)t[e]=n;else if("object"==typeof e){var i,o=e;for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}},addPerformanceTimingData:function(){var e,t,n;e=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,e&&e.timing&&(t=e.timing,n={nt_nav_st:t.navigationStart,nt_req_st:t.requestStart,nt_res_st:t.responseStart,nt_domcontloaded_st:t.domContentLoadedEventStart,nt_domcontloaded_end:t.domContentLoadedEventEnd,nt_load_end:t.loadEventStart},t.msFirstPaint&&(n.nt_first_paint=t.msFirstPaint)),window.chrome&&window.chrome.loadTimes&&(t=window.chrome.loadTimes(),t&&(n.nt_first_paint=t.firstPaintTime)),n.nt_first_paint&&(n.nt_first_paint+"").match(/\./)&&(n.nt_first_paint=Math.ceil(1e3*n.nt_first_paint)),i.addVar(n)},initialize:function(t){log("RUM","DM_RUM::initialize"),
e=t,e.autosend&&$(window).on("load",function(){setTimeout(i.send,0)})}};return i},!0)},95:function(){!function(e,t){function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})}function i(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger"}function o(e,t){e.key=t,e.setSession(),s(e)}function r(t,n){if(t.sendConsoleErrors=n,t.sendConsoleErrors===!0){var i=e.onerror;e.onerror=function(n,o,r,a){t.push({category:"BrowserJsException",exception:{message:n,url:o,lineno:r,colno:a}}),i&&"function"==typeof i&&i.apply(e,arguments)}}}function a(e,t){e.tag=t}function s(e){e.inputUrl=l+(e.logglyCollectorDomain||c)+"/inputs/"+e.key+"/tag/"+e.tag+"/"+u}var l="http"+("https:"===t.location.protocol?"s":"")+"://",c="logs-01.loggly.com",u=".gif?",d="logglytrackingsession",p=d.length+1;i.prototype={setSession:function(e){e?(this.session_id=e,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id=n(),this.setCookie(this.session_id)))},push:function(e){var t=typeof e;if(e&&("object"===t||"string"===t)){var n=this;if("string"===t)e={text:e};else{if(e.logglyCollectorDomain)return void(n.logglyCollectorDomain=e.logglyCollectorDomain);if(void 0!==e.sendConsoleErrors&&r(n,e.sendConsoleErrors),e.tag&&a(n,e.tag),e.logglyKey)return void o(n,e.logglyKey);if(e.session_id)return void n.setSession(e.session_id)}n.key&&n.track(e)}},track:function(t){t.sessionId=this.session_id;try{var n=new Image,i="PLAINTEXT="+encodeURIComponent(JSON.stringify(t));n.src=this.inputUrl+i}catch(o){e&&e.console&&"function"==typeof e.console.log&&(console.log("Failed to log to loggly because of this exception:\n"+o),console.log("Failed log data:",t))}},readCookie:function(){var e=t.cookie,n=e.indexOf(d);if(0>n)return!1;var i=e.indexOf(";",n+1);return i=0>i?e.length:i,e.slice(n+p,i)},setCookie:function(e){t.cookie=d+"="+e}};var h=e._LTracker,f=new i;if(h&&h.length){var g=0,m=h.length;for(g=0;m>g;g++)f.push(h[g])}e._LTracker=f,e.LogglyTracker=i}(window,document)},96:function(){!function(){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){if(!(googletag.hasOwnProperty("on")||googletag.hasOwnProperty("off")||googletag.hasOwnProperty("trigger")||googletag.hasOwnProperty("events"))){var e=googletag.debug_log.log,t=[],n=function(e,n,i){t.push({name:e,id:n,match:i})};n("gpt-google_js_loaded",8,/Google service JS loaded/gi),n("gpt-gpt_fetch",46,/Fetching GPT implementation/gi),n("gpt-gpt_fetched",48,/GPT implementation fetched\./gi),n("gpt-page_load_complete",1,/Page load complete/gi),n("gpt-queue_start",31,/^Invoked queued function/gi),n("gpt-service_add_slot",40,/Associated ([\w]*) service with slot ([\/\w]*)/gi),n("gpt-service_add_targeting",88,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for service ([\w]*)/gi),n("gpt-service_collapse_containers_enable",78,/Enabling collapsing of containers when there is no ad content/gi),n("gpt-service_create",35,/Created service: ([\w]*)/gi),n("gpt-service_single_request_mode_enable",63,/Using single request mode to fetch ads/gi),n("gpt-slot_create",2,/Created slot: ([\/\w]*)/gi),n("gpt-slot_add_targeting",17,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for slot ([\/\w]*)/gi),n("gpt-slot_fill",50,/Calling fillslot/gi),n("gpt-slot_fetch",3,/Fetching ad for slot ([\/\w]*)/gi),n("gpt-slot_receiving",4,/Receiving ad for slot ([\/\w]*)/gi),n("gpt-slot_render_delay",53,/Delaying rendering of ad slot ([\/\w]*) pending loading of the GPT implementation/gi),n("gpt-slot_rendering",5,/^Rendering ad for slot ([\/\w]*)/gi),n("gpt-slot_rendered",6,/Completed rendering ad for slot ([\/\w]*)/gi),googletag.events=googletag.events||{},googletag.on=function(e,t,n){if(!t)return this;e=e.split(" ");var i=n?t:void 0,o=n||t,r=0,a="";for(o.data=i,a=e[r=0];r<e.length;a=e[++r])(this.events[a]=this.events[a]||[]).push(o);return this},googletag.off=function(e,t){e=e.split(" ");var n=0,i="",o=0,r=function(){};for(i=e[n];n<e.length;i=e[++n])if(this.events.hasOwnProperty(i))if(t){for(o=this.events[i].length-1,r=this.events[i][o];o>=0;r=this.events[i][--o])r==t&&this.events[i].splice(o,1);0===this.events[i].length&&delete this.events[i]}else delete this.events[i];return this},googletag.trigger=function(e,t){if(!this.events[e]||0===this.events[e].length)return this;var n=t||[],i=0,o=this.events[e][i];for(o;i<this.events[e].length&&o.apply(this,[{data:o.data}].concat(n))!==!1;o=this.events[e][++i]);return this},googletag.debug_log.log=function(n,i){if(i&&i.getMessageId&&"number"==typeof i.getMessageId()){var o=Array.prototype.slice.call(arguments),r=0;for(r;r<t.length;r++)t[r].id===i.getMessageId()&&googletag.trigger(t[r].name,o)}return e.apply(this,arguments)}}})}()},98:function(e,t,n){n(1),n(2),n(5),n(96),n(95),n(9),n(4),n(94),_DM.define("DM_DisplayAds",function(){var e={hasCompanionAd:!1,startTime:(new Date).getTime(),playerV5Id:"player",adunits:[{pos:"Top",id:"div-gpt-ad-1422660696836-2",name:"Top_728x90",dimensions:[[1,1],[728,90]]},{pos:"Bottom",id:"div-gpt-ad-1422660696836-0",name:"Bottom_728x90",dimensions:[728,90]},{pos:"X51",id:"div-gpt-ad-1422660696836-3",name:"X51_300x250",dimensions:[300,250]},{pos:"X52",id:"div-gpt-ad-1422660696836-4",name:"X52_300x250",dimensions:[300,250]},{pos:"InterstitialOPP",id:"div-gpt-ad-1426543907758-2-oop",name:"InterstitialOPP",dimensions:[1,1]},{pos:"Middle",id:"div-gpt-ad-1422660696836-1",name:"Middle_300x250",dimensions:[300,250]},{pos:"Right",id:"div-gpt-ad-1426543907758-4",name:"Right_160x600",dimensions:[160,600]},{pos:"Skin",id:"div-gpt-ad-1426543907758-5",name:"Skin",dimensions:[[1,1],[320,480],[482,320],[768,1024],[1024,768]]}],adpositions:window.adpositions?window.adpositions:null,gptInitialized:!1,initialize:function(){var t=t||{};if(t.cmd=t.cmd||[],function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}(),window.googletag=t,window.masscast={render:function(e,t){log("Masscast","publish",e,"code for assisted handling"),PubSub.publish("masscast:position_"+e,t)}},e.canCallAds()===!0){if(t&&(e.gptInitialized=!0),"undefined"!=typeof window.DM_Context&&window.DM_Context.dfp_measured===!0){e.setupTracker()}e.adpositions&&e.callAds(e.adpositions)}},canCallAds:function(){return"undefined"==typeof window.DM_Context.video_ads&&"undefined"==typeof window.DM_Context.videolist_has_ads||window.DM_Context.video_ads!==!1&&window.videolist_has_ads!==!1?!0:("video attribute|explicit"===window.DM_Context.video_noads_reason&&window.DM_Context.video_never_ads===!1?log("Display Ads","window.DM_Context.video_noads_reason is explicit ",window.DM_Context.video_noads_reason):"video attribute|noadfit"===window.DM_Context.video_noads_reason&&window.DM_Context.video_never_ads===!1?log("Display Ads","window.DM_Context.video_noads_reason is noadfit ",window.DM_Context.video_noads_reason):log("Display Ads","window.DM_Context.video_ads or videolist_ads is true, blocking ads",window.DM_Context.video_ads),!1)},callAds:function(t){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.on("gpt-google_js_loaded",function(){e.trackPosition(null,"adcall_start")})});var n=[];t.indexOf("Middle")>-1&&(n=t.splice(t.indexOf("Middle"),1));for(var i=0;i<t.length;i++)for(var o=0;o<e.adunits.length;o++)t[i]==e.adunits[o].pos&&e.createAdSlot(e.adunits[o].id,e.adunits[o].name,e.adunits[o].dimensions);if(e.enableAsyncLoad(),e.enableServices(0),"player_page"===window.DM_Context.page_type){var r=null;DM_PlayerV5Events.on("ad_start",e.playerV5Id,function(){r=setTimeout(function(){!e.companionAdPresent()&&n.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1),$("#div-gpt-ad-1422660696836-1").css("margin-bottom",10),"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&"undefined"!=typeof DM_Context.dfp_measured&&e.trackAdRender("Middle"))},1e3)}),DM_PlayerV5Events.on("playing",e.playerV5Id,function(){null!==r&&clearTimeout(r),("us"!==window.DM_Context.geoip_country||!e.companionAdPresent())&&n.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1),$("#div-gpt-ad-1422660696836-1").css("margin-bottom",10),"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&"undefined"!=typeof DM_Context.dfp_measured&&e.trackAdRender("Middle"))})}else n.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1));e.trackPosition(null,"pageload_complete"),e.trackAdRender("Top",728,90),e.trackAdRender("Bottom",728,90),e.trackAdRender("X51",300,250),e.trackAdRender("X52",300,250)},createAdSlot:function(t,n,i){var o;googletag.cmd.push(function(){-1!==n.indexOf("OPP")?o=googletag.defineOutOfPageSlot("/23328537/"+n,t).addService(googletag.pubads()):(o=googletag.defineSlot("/23328537/"+n,i,t).addService(googletag.pubads()),$("#"+t).height(i[1])),googletag.pubads().addEventListener("slotRenderEnded",function(t){t.slot==o&&e.trackPosition(n.split("_")[0].toLowerCase(),"adcall_response")})})},enableAsyncLoad:function(){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs()})},enableServices:function(t){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.enableServices(),googletag.display("div-gpt-ad-1422660696836-"+t)})},getElementHeight:function(e){return parseInt(parent.$(e).css("height"),10)},customizeElement:function(e){var t=document.getElementById(e);window.disableAutoHeight&&(t.style.height="auto")},loadDmJs:function(e){var t=frame.document.createElement("script");t.type="text/javascript",t.src=frame.parent.DM_JS.getRealPath(e),t.async=!0,frame.document.body.appendChild(t)},render:function(t,n){frame[t+"Parameters"]=n,e.loadDmJs("/js/lib/dm/ads/"+t+".js"),e.loadDmJs("/js/lib/dm/skin.js")},setupTracker:function(){_LTracker.push({logglyKey:"d6464acb-25b8-4dd2-bf83-64fed1a15e10",sendConsoleErrors:!0,tag:"jslogger"})},trackPosition:function(t,n){var i=(new Date).getTime();"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&_LTracker&&"undefined"!=typeof DM_Context.dfp_measured&&_LTracker.push({dmxtrk:{display_server:"dfp",ad_position:t,moment:n,refresh:0,country:window.DM_Context.geoip_country,latency:e.getLatency(i)}})},getLatency:function(t){return t>=e.startTime?t-e.startTime:0},trackAdRender:function(t,n,i){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.on("gpt-page_load_complete",function(){var o='"google_ads_iframe_/23328537/'+t+"_"+n+"x"+i+'"',r=document.querySelector("iframe[id^="+o+"]");if(r){var a=r.contentDocument||r.contentWindow.document;"complete"==a.readyState&&(e.trackPosition(t.toLowerCase(),"adcall_render"),console.log(r.id," IFRAME fully loaded and parsed"))}})})},companionAdPresent:function(){return $('div[id^="mc_"]').length>0&&$("#mc_Middle").children().length>0}};return e},!0)},101:function(e,t,n){n(1),_DM.define("DM_Flash",function(){var e="dm_flash_",t=0,n={build:function(n,i,o,r,a,s,l){attributes=l.attributes||{},flashvars=l.flashvars||{},parameters=l.parameters||{};var c;"string"==typeof o?c=document.getElementById(o):(c=o,o=o.id||e+t++),attributes.width=r,attributes.height=a,attributes.type="application/x-shockwave-flash",attributes.data=n,s&&(parameters.bgcolor=s),attributes.id=i||attributes.id||o+"_obj";var u="";for(var d in parameters)parameters.hasOwnProperty(d)&&(u+='<param name="'+d+'" value="'+parameters[d]+'" />');var p=[];for(var h in flashvars)flashvars.hasOwnProperty(h)&&p.push(h+"="+flashvars[h]);p.length&&(u+='<param name="flashvars" value="'+p.join("&")+'" />');var f="";for(var g in attributes)attributes.hasOwnProperty(g)&&(f+=" "+g+'="'+attributes[g]+'"');c.innerHTML="<object "+f+">"+u+"</object>"}};return window.DM_Flash&&DM_Flash.VERSION&&(n.VERSION=DM_Flash.VERSION),n},!0)},102:function(e,t,n){n(1),n(2),n(55),n(101),n(14),_DM.define("DM_Masscast_x28",function(){var e={params:null,domReadyDate:null,onCodeReceived:function(e){var t=((new Date).getTime()-(this.domReadyDate||new Date).getTime())/1e3;return t>2?log("Masscast","Dismiss x28 because it was received more than 2 seconds after DOM ready (",t," secs)."):(log("Masscast","Recieved x28 code before DOM ready + 2 secs (",t," secs). Build intersticial."),this.setParams(e),void this.build())},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){this.params&&!this.built&&(this.built=!0,window.DM_swftrans_open=this.DM_swftrans_open,window.DM_swftrans_close=this.DM_swftrans_close,window.DM_Intersticiel_close=this.DM_Intersticiel_close,this.hideSiteWrapper(),this.addHtml(),this.afterHtml(),this.setDimmerStyle(),this.setClickCommand(),this.addPixelTrackers(),this.closeTimeout=window.setTimeout(DM_Intersticiel_close,1e3*this.params.closeDelay||3e4),PubSub.publish("masscast:intersticial_opened"))},addHtml:function(){$(document.body).prepend(this.getX28Html())},getX28Html:function(){var e="",t="",n="";this.params.logoImg&&(e="background-image: url("+this.params.logoImg+")"),this.params.withTopBanner?t='<div class="x28_top_banner" style="background-color: '+this.params.withTopBanner.backgroundColor+';"><div class="x28_top_banner_inner"><div style="'+e+'" id="x28_dimmer_logo" class="no_clkthg"></div><a id="x28_go_to_dm" title="'+(window.DM_Closex28Label||window.DM_CloseLabel||"Close")+'" href="javascript:void(0);" onclick="DM_Intersticiel_close();" class="btn no_clkthg">'+(window.DM_Closex28Label||window.DM_CloseLabel||"Close")+"</a></div></div>":n='<a id="x28_go_to_dm" title="'+(window.DM_Closex28Label||window.DM_CloseLabel||"Close")+'" href="javascript:void(0);" onclick="DM_Intersticiel_close();" class="btn no_clkthg">'+(window.DM_Closex28Label||window.DM_CloseLabel||"Close")+'</a><div id="x28_dimmer_logo" class="no_clkthg" style="'+e+'"></div>';var i='<div id="x28_dimmer"'+(t?' class="with_banner"':"")+">"+t+'<div id="x28_dimmer_inner">'+n+'<div id="intersticiel_object">';if("video"==this.params.type){var o="&autoMute=1&unmuteOnMouseOver=1";0===this.params.automute&&(o=""),i+='<div id="DM_swftr" style="top: '+(this.params.playerTopOffset||0)+"px;left: "+(this.params.playerLeftOffset||0)+'px;"><iframe frameborder="0" width="'+(this.params.playerWidth||620)+'" height="'+(this.params.playerHeight||272)+'" src="http://www.dailymotion.com/embed/video/'+this.params.videoId+"?theme=none&advertising=0&chromeless=1&autoPlay=1&reporting="+(this.params.reporting||0)+o+"&related=0&clickThroughURL="+encodeURIComponent(this.params.clickCommand)+'&clickThroughURLTarget=_blank"></iframe></div>'}else"flash"==this.params.type?i+=window.DM_Flash&&window.DM_Flash.VERSION&&0!==DM_Flash.VERSION.major?'<div id="DM_swftr" style="top: '+this.params.flashTopOffset+'px;"></div>':'<a id="x28_fallback" href="'+this.params.fallbackUrl+'" target="_blank"><img src="'+this.params.fallbackUrl+'" border="0" alt=""></a>':"gif"==this.params.type;return i+="</div></div></div>"},setClickCommand:function(){$("#x28_dimmer").on("click",function(t){$(t.target).hasClass("no_clkthg")||window.open(e.params.clickCommand)})},setDimmerStyle:function(){var e={};this.params.backgroundUrl&&(e["background-image"]="url("+this.params.backgroundUrl+")"),this.params.backgroundColor&&(e["background-color"]=this.params.backgroundColor),this.params.backgroundPosition&&(e["background-position"]=this.params.backgroundPosition),$("#x28_dimmer").css(e)},hideSiteWrapper:function(){$("#topwrapper").hide(),$(".sd_footer").hide()},afterHtml:function(){"flash"==this.params.type&&window.DM_Flash&&window.DM_Flash.VERSION&&0!==DM_Flash.VERSION.major&&DM_Flash.build(this.params.flashUrl,"flashtrans","DM_swftr",this.params.flashWidth,this.params.flashHeight,"#000",{parameters:{quality:"high",wmode:"transparent",allowScriptAccess:"always"},flashvars:{clickTag:this.params.clickCommand}})},addPixelTrackers:function(){if(this.params.pixelsTracking&&this.params.pixelsTracking.length)for(var e=0,t=this.params.pixelsTracking.length;t>e;e++)ping(this.params.pixelsTracking[e],"x28")},DM_Intersticiel_close:function(){var t=$("#x28_dimmer");$("body").off("click"),t&&(t.off("click").remove(),$("#topwrapper").show(),$(".sd_footer").show()),clearTimeout(e.closeTimeout),PubSub.publish("masscast:intersticial_closed")},DM_swftrans_close:function(){$("#DM_swftr").hide(),$("#DM_backup").show()},DM_swftrans_open:function(){},setDomReadyDate:function(){this.domReadyDate=new Date},__initialize:function(){PubSub.subscribe("masscast:position_x28",this.onCodeReceived,this),PubSub.subscribe("dom:ready",this.setDomReadyDate,this)}};return e},!0)},103:function(e,t,n){n(1),n(2),n(55),n(14),_DM.define("DM_Masscast_x29",function(){var e={params:null,domReadyDate:null,onCodeReceived:function(e){var t=((new Date).getTime()-(this.domReadyDate||new Date).getTime())/1e3;return t>2?log("Masscast","Dismiss x29 because it was received more than 2 seconds after DOM ready (",t," secs)."):(log("Masscast","Recieved x29 code before DOM ready + 2 secs (",t," secs). Build intersticial."),this.setParams(e),void this.build())},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){this.params&&!this.built&&(this.built=!0,window.DM_swftrans_open=this.DM_swftrans_open,window.DM_swftrans_close=this.DM_swftrans_close,window.DM_Intersticiel_close=this.DM_Intersticiel_close,this.hideSiteWrapper(),this.addHtml(),this.afterHtml(),this.setDimmerStyle(),this.setClickCommand(),this.addPixelTrackers(),this.closeTimeout=window.setTimeout(DM_Intersticiel_close,1e3*this.params.closeDelay||3e4),PubSub.publish("masscast:intersticial_opened"))},addHtml:function(){$(document.body).prepend(this.getX29Html())},getX29Html:function(){var e="",t="",n="";this.params.logoImg&&(e="background-image: url("+this.params.logoImg+")"),this.params.withTopBanner?t='<div class="x29_top_banner" style="background-color: '+this.params.withTopBanner.backgroundColor+';"><div class="x29_top_banner_inner"><div style="'+e+'" id="x29_dimmer_logo" class="no_clkthg"></div><a id="x29_go_to_dm" title="'+(window.DM_Closex29Label||window.DM_CloseLabel||"Close")+'" href="javascript:void(0);" onclick="DM_Intersticiel_close();" class="btn no_clkthg">'+(window.DM_Closex29Label||window.DM_CloseLabel||"Close")+"</a></div></div>":n='<a id="x29_go_to_dm" title="'+(window.DM_Closex29Label||window.DM_CloseLabel||"Close")+'" href="javascript:void(0);" onclick="DM_Intersticiel_close();" class="btn no_clkthg">'+(window.DM_Closex29Label||window.DM_CloseLabel||"Close")+'</a><div id="x29_dimmer_logo" class="no_clkthg" style="'+e+'"></div>';var i='<div id="x29_dimmer"'+(t?' class="with_banner"':"")+">"+t+'<div id="x29_dimmer_inner">'+n+'<div id="intersticiel_object">';if("video"==this.params.type){var o="&autoMute=1&unmuteOnMouseOver=1";0===this.params.automute&&(o=""),i+='<div id="DM_swftr" style="top: '+(this.params.playerTopOffset||0)+"px;left: "+(this.params.playerLeftOffset||0)+'px;"><iframe frameborder="0" width="'+(this.params.playerWidth||620)+'" height="'+(this.params.playerHeight||272)+'" src="http://www.dailymotion.com/embed/video/'+this.params.videoId+"?theme=none&advertising=0&chromeless=1&autoPlay=1&reporting="+(this.params.reporting||0)+o+"&related=0&clickThroughURL="+encodeURIComponent(this.params.clickCommand)+'&clickThroughURLTarget=_blank"></iframe></div>'}else"flash"==this.params.type?i+=window.deconcept&&0!==deconcept.SWFObjectUtil.getPlayerVersion().major?'<div id="DM_swftr" style="top: '+this.params.flashTopOffset+'px;"></div>':'<a id="x29_fallback" href="'+this.params.fallbackUrl+'" target="_blank"><img src="'+this.params.fallbackUrl+'" border="0" alt=""></a>':"gif"==this.params.type;return i+="</div></div></div>"},setClickCommand:function(){$("#x29_dimmer").on("click",function(t){$(t.target).hasClass("no_clkthg")||window.open(e.params.clickCommand)})},setDimmerStyle:function(){var e={};this.params.backgroundUrl&&(e["background-image"]="url("+this.params.backgroundUrl+")"),this.params.backgroundColor&&(e["background-color"]=this.params.backgroundColor),this.params.backgroundPosition&&(e["background-position"]=this.params.backgroundPosition),$("#x29_dimmer").css(e)},hideSiteWrapper:function(){$("#topwrapper").hide(),$(".sd_footer").hide()},afterHtml:function(){"flash"==this.params.type&&window.deconcept&&0!==deconcept.SWFObjectUtil.getPlayerVersion().major&&(myswf=new SWFObject(this.params.flashUrl,"flashtrans",this.params.flashWidth,this.params.flashHeight,8,"#000"),myswf.skipDetect=!0,myswf.addParam("quality","high"),myswf.addParam("wmode","transparent"),myswf.addParam("allowscriptaccess","always"),myswf.addVariable("clicktag",this.params.clickCommand),myswf.write("DM_swftr"))},addPixelTrackers:function(){if(this.params.pixelsTracking&&this.params.pixelsTracking.length)for(var e=0,t=this.params.pixelsTracking.length;t>e;e++)ping(this.params.pixelsTracking[e],"x29")},DM_Intersticiel_close:function(){var t=$("#x29_dimmer");$("body").off("click"),t&&(t.off("click").remove(),$("#topwrapper").show(),$(".sd_footer").show()),clearTimeout(e.closeTimeout),PubSub.publish("masscast:intersticial_closed")},DM_swftrans_close:function(){$("#DM_swftr").hide(),$("#DM_backup").show()},DM_swftrans_open:function(){},setDomReadyDate:function(){this.domReadyDate=new Date},__initialize:function(){PubSub.subscribe("masscast:position_x29",this.onCodeReceived,this),PubSub.subscribe("dom:ready",this.setDomReadyDate,this)}};return e},!0)},104:function(e,t,n){n(1),n(2),_DM.define("DM_Prefetch",function(){var e={initialize:function(){window.PREFETCH_CONF&&$(function(){setTimeout(e.prefetch,2e3)})},prefetch:function(){var e,t,n,i=document.createElement("iframe"),o=/(\.js\.v[a-f0-9]+)|(\.[a-f0-9]+\.js)$/,r=/\.css\.v[a-f0-9]+$/,a="";for(i.style.display="none",document.body.appendChild(i),e=0,t=PREFETCH_CONF.resources.length;t>e;e++)n=PREFETCH_CONF.resources[e],n.match(r)?a+='<link rel="stylesheet" href="'+n+'" />':n.match(o)&&(a+="<script type=\"text/javascript\">(function(d, s){var js, head = d.getElementsByTagName('head')[0];js = d.createElement(s);js.src ='"+n+"';head.appendChild(js);}(document, 'script'));</script>");var s=i.contentDocument||i.contentWindow.document;s.open().write('<!DOCTYPE html><html><head><script type="text/javascript">__prefetching=true;window.onerror = function(){return true;};</script>'+a+"</head><body></body></html>"),s.close()}};return e},!0)},105:function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(6),__webpack_require__(11),_DM.define("DM_Skin",function(){var _self={defaultParams:window.DM_Skin_defaultParams||{},debug:!1,skinData:[],name:"",loadingOasSkin:!1,clicker:null,translateV1ParamstoV2:function(e){var t={skinName:"name",trackingTag:"tracking_tag",bodyClickUrl:"redirect_url",topBannerLink:"redirect_url",bodyClickUrlThroughTag:"click_count_urls",topBannerLinkThroughTag:"click_count_urls",countingPixel:"display_count_urls",countingPixelAlt:"display_count_urls"},n={};for(var i in t)if(""!==e[i]&&"undefined"!=typeof t[i]){var o=t[i];"bodyClickUrl"==i&&(n.body_redirect_enabled=!0),o.match(/urls/)?(n[o]||(n[o]=[]),n[o].push(e[i])):n[o]=e[i]}return _self.log(n),n},log:function(e){_self.debug&&(dbg(e),$("#skin_debug").append("<div>"+e+"<div>"))},render_skin:function(skinData){skinData=skinData.replace(/;/,""),_self.log("render_skin from OAS"),_self.log(skinData);try{_self.skinData=eval("("+skinData+")"),"object"==typeof _self.skinData&&(_self.skinData=_self.translateV1ParamstoV2(_self.skinData),_self.skinData.from_oas=!0,_self.loadingOasSkin=!0,ajax_call("masscast","get_skin",_self.skinData.name,this.callbackSelectSkin))}catch(e){_self.log(e.message),_self.log("error while loading skin"),_self.log("skinData:"),_self.log(skinData)}},getParameter:function(e){var t=null;return"undefined"!=typeof _self.defaultParams[e]&&""!==_self.defaultParams[e]&&(t=_self.defaultParams[e]),"undefined"!=typeof _self.skinData&&"undefined"!=typeof _self.skinData[e]&&""!==_self.skinData[e]&&(t=_self.skinData[e]),t},applySkin:function(){if(_self.defaultParams=$.isEmptyObject(_self.defaultParams)?window.DM_Skin_defaultParams||{}:"undefined"!=typeof window.DM_Skin_defaultParams?$.extend(_self.defaultParams,window.DM_Skin_defaultParams):_self.defaultParams,_self.defaultParams&&_self.defaultParams.css_path){if(_self.lastSkinApplied==_self.defaultParams.css_path)return;_self.lastSkinApplied=_self.defaultParams.css_path}Object.keys(_self.defaultParams).length&&($("body").addClass("has_skin"),PubSub.publish("skin:applied",_self.defaultParams.name)),!_self.getParameter("from_oas")&&_self.getParameter("disable_chrome")?_self.removeSkin():!_self.loadingOasSkin&&_self.getParameter("name")&&_self.setSkinCss(),_self.loadingOasSkin||(_self.setBanner("top"),_self.setBanner("bottom"),_self.setBodyLink(),_self.callUrls(_self.getParameter("display_count_urls")),_self.setTrackingTag())},callbackSelectSkin:function(e){_self.loadingOasSkin=!1,$.blank(e)||(_self.defaultParams=$.parseJSON(e),$(_self.applySkin))},removeSkin:function(){$("#css_skin").remove(),$("#top_banner, #bottom_banner").empty()},setSkinCss:function(){_self.log("set skin css "+_self.defaultParams.css_path),$("#css_skin").size()?$("#css_skin").attr("href",_self.defaultParams.css_path):$('<link rel="stylesheet" id="css_skin">').on("load",function(){_self.fixBackgroundCenter()}).attr("href",_self.defaultParams.css_path).appendTo($("head"))},fixBackgroundCenter:function(){function e(){return l&&s&&a}function t(){return c?void n():$("<img>").on("load",function(){c=$(this).width(),n()}).css("display","none").attr("src",o).appendTo("body")}function n(){if(e()){var t=i.css("background-position").split(" "),n=i.width(),o=i.offset();i.css("background-position",[Math.floor((n-c)/2)+o.left+"px",t[1]].join(" "))}}if(!_self.hasIntersticial){var i=$("#topwrapper");if(0!==i.length){var o=i.css("background-image").replace(/[^\(]*\(([^\)]*)\)/,"$1").replace(/'|"/g,""),r=i.css("background-position"),a=r&&!!r.match(/^(center|50%)/),s="fixed"==i.css("background-attachment"),l=!0,c=null;e()&&t()}}},countClickAndRedirect:function(e){/object|embed/i.test(e.target.nodeName)&&$(event.target).closest("#mc_Top").length||(_self.callUrls(_self.getParameter("click_count_urls")),_self.getParameter("redirect_url")&&("_self"==_self.getParameter("redirect_target")?location.href=_self.getParameter("redirect_url"):window.open(_self.getParameter("redirect_url"))))},setBodyLink:function(){if(this.getParameter("redirect_url")&&this.getParameter("body_redirect_enabled")){if(!$("#body_clicker").length){_self.log("set body click ok");var e=$('<div id="body_clicker"></div>');e.css({position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:0,cursor:"pointer"}),$.browser.msie&&e.css("top",$(".sd_header").height()+"px"),$("#wrapper").prepend(e),e.on("click",_self.countClickAndRedirect)}}else _self.log("remove body click ok"),$("#body_clicker").remove()},setBanner:function(e){var t=e+"_banner_image",n=$("#"+e+"_banner"),i=this.getParameter(t);if(i&&""!==i&&n){var o=i.match(/\.swf/)?"swf":i.match(/^http:\/\//)?"iframe":"image";switch(_self.log("update "+e+" with "+o+" "+i),o){case"swf":var r=(new Date).getTime();i=this.getParameter("skin_root")+"/"+i+this.getParameter("version"),n.html('<div class="flash_clicker"></div><object width="100%" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="allowScriptAccess" value="always"/><param name="allowFullscreen" value="true"/><param name="movie" value="'+i+'"/><param name="quality" value="high"/><param name="wmode" value="Transparent"/><embed width="100%" pluginspage="http://www.adobe.com/go/getflashplayer" type="application/x-shockwave-flash" allowScriptAccess="always" allowFullscreen="true" wmode="Transparent" quality="high" swliveconnect="true" src="'+i+"?"+r+'" id="pub_Flash2372720" name="pub_Flash2372720"/></object>');break;case"iframe":n.html('<iframe style="overflow:hidden; margin:0; padding:0; width: 100%;" scrolling="no" width="100%" align="center" frameborder="0" marginwidth="0" marginheight="0" src="'+i+'"></iframe>')}}n&&this.getParameter("redirect_url")&&(n.css({cursor:"pointer"}),n.off("click",_self.countClickAndRedirect),n.on("click",_self.countClickAndRedirect))},ping:function(e){ping(e.replace("_random_",Math.round(1e7*Math.random())),"skin"),_self.log("ping url: "+e)},callUrls:function(e){e&&(_self.log("list of urls to ping : "+e.join(", ")),$(e).each(function(e,t){_self.ping(t)}))},setDisplayCountUrls:function(){var e=_self.getParameter("display_count_urls");e&&$(e).each(function(e,t){_self.log("append display_count_url"+t),$("body").append('<img style="display: none" class="cpt_pixel" src="'+t+'">')})},callAdTagUrls:function(e){e&&$(e).each(function(e,t){try{var n=t+"?time="+(new Date).getTime(),i=new Image;i.src=n}catch(o){dbg("Error while loading ad tag => "+t)}})},setTrackingTag:function(){if(_self.getParameter("tracking_tag"))try{_self.documentWriteBackup=document.write,$('<div id="skin_tracking_tag">').appendTo("body"),_self.documentWrite=function(e){$("#skin_tracking_tag").append(e)},script=_self.getParameter("tracking_tag").replace(/document.write/g,"DM_Skin.documentWrite"),$("#skin_tracking_tag").html(script.stripScripts()),script.extractScripts().map(function(e){return $.globalEval(e)}),_self.log("set tracking tag ok")}catch(e){}},onAdSkinLoading:function(){_self.loadingOasSkin=!0,PubSub.publish("skin:loading")},onAdSkinLoaded:function(e,t){_self.loadingOasSkin=!1,_self.defaultParams=e,_self.skinData=t,_self.applySkin()},onIntersticialOpen:function(){_self.hasIntersticial=!0},onIntersticialClose:function(){_self.hasIntersticial=!1,_self.fixBackgroundCenter()},__initialize:function(){PubSub.subscribe("masscast:loading_top3",_self.onAdSkinLoading).subscribe("masscast:loaded_top3",_self.onAdSkinLoaded).subscribe("masscast:intersticial_opened",_self.onIntersticialOpen).subscribe("masscast:intersticial_closed",_self.onIntersticialClose)}};return _self},!0)},106:function(e,t,n){n(1),n(2),n(8),_DM.define("Mo_Alert",function(){var e={initEvents:function(){$(".mo_alert").each(function(){var e=$(this),t=e.data("close"),n=store.get("alert_close")||{};t&&!n[t]&&e.removeClass("hidden")}),$(document).on("click",".mo_alert .js-alert-close",Mo_Alert.onClose)},onClose:function(){var e=$(this),t=e.closest(".mo_alert");if(t.slideUp(),t.data("close")){var n=store.get("alert_close")||{};n[t.data("close")]=!0,t.data("use-cookie")&&setCookie(t.data("close"),!0),store.set("alert_close",n)}},__initialize:function(){e.initEvents()}};return e},!0)},107:function(e,t,n){n(1),n(2),n(5),n(55),n(312),_DM.define("Mo_SmartSelect",function(){var e={isDev:"dev"==DM_Context.env?!0:!1,searchTerm:null,formatInputResult:function(e){return"search"===e.id?'<div class="entry">'+e.searchFor+" "+$.htmlentityEncode(Mo_SmartSelect.searchTerm)+"</div>":'<div class="entry" title="'+e.title+'"><img class="preview" src="'+e.thumbnail_60_url+'"/><span>'+$.truncate(e.title,32)+"</span><small>"+e.views_total+" views</small></div>"},formatSelectResult:function(e){return"search"===e.id?'<div class="entry">'+e.searchFor+" "+$.htmlentityEncode(Mo_SmartSelect.searchTerm)+"</div>":'<div class="entry" title="'+e.title+'"><img class="preview" src="'+e.thumbnail_60_url+'"/><span>'+$.truncate(e.title,32)+"</span></div>"},formatResultUser:function(e){return'<div class="entry"><img class="preview" src="'+e.avatar_60_url+'"/><span>'+$.truncate(e.screenname,24)+"</span></div>"},formatResultGame:function(e){
return'<div class="entry"><span>'+$.truncate(e.title,38)+"</span></div>"},formatNoMatches:function(){var e=$(this).first().data("no-matches")||"";return'<div class="no_match_result">'+e+"</div>"},formatInputTooShort:function(){$(this).first().data("select2").dropdown.hide();var e=$(this).first().data("input-short")||"";return'<div class="too_short_result">'+e+"</div>"},initElementBySelector:function(t){e.initElement($(t))},initElement:function(t){var n,i,o,r,a,s,l=JSON.parse($.htmlentityDecode(t.data("params"))),c=JSON.parse($.htmlentityDecode(t.data("options"))),u=t.data("type"),d="dev"==DM_Context.env?"http://api."+document.location.hostname.replace("www.",""):"https://api.dailymotion.com";"video"==u?(n=d+"/videos?thumbnail_ratio=widescreen&"+$.param(l),i="video_selector_dropdown",o="id,title,views_total,thumbnail_60_url",r=e.formatInputResult,a=e.formatSelectResult,s=1):"user"==u?(n=d+l.request,i="bigdrop",o="id,username,screenname,avatar_60_url",r=e.formatResultUser,a=e.formatResultUser,s=1):"game"==u&&(n=d+"/games",i="game_selector_dropdown",o="id,title",r=e.formatResultGame,a=e.formatResultGame,s=1);var p={dropdownCssClass:i,minimumResultsForSearch:s,ajax:{url:n,dataType:"jsonp",data:function(t,n){$(this).first().data("select2").dropdown.show();$(this).first().attr("id");return e.searchTerm=null,l={page:n,limit:50,fields:o},"game"===u&&!e.isDev&&t&&(l.filters="suggest"),t&&(e.searchTerm=t,l.search=t,"game"!==u&&(l.sort="relevance")),getCookie("sid")&&(l.realm="dailymotion",l.access_token=getCookie("sid")),l},results:function(e){$(".mo_smartselect").trigger("dm:smartselect:on_data_received"),"string"==typeof e&&(e=$.parseJSON(e));var n=(e.has_more,e.list);return t.data("default-search")&&n&&n.length&&(n=[{id:"search",searchFor:t.data("search-for")}].concat(n)),{results:n,more:e.has_more}}},multiple:t.attr("multiple")||t.data("multiple")?!0:!1,formatResult:r,formatSelection:a,containerCssClass:t.attr("multiple")||t.data("multiple")?"icon-search":"",escapeMarkup:function(e){return e}};"game"==u&&(p.initSelection=function(e,t){var n=$(e).val();""!==n&&$.ajax({url:d+"/game/"+n,data:{fields:"id,title"},dataType:"jsonp"}).done(function(e){t(e)})}),t.data("no-matches")&&(p.formatNoMatches=e.formatNoMatches),t.data("input-short")&&(p.formatInputTooShort=e.formatInputTooShort);for(var h in c)p[h]=c[h];t.select2(p),PubSub.publish("dm:smartselect:created",t)},initEvents:function(){$(".mo_smartselect").each(function(){e.initElement($(this))})},__initialize:function(){$(function(){e.initEvents()})}};return e},!0)},108:function(e,t,n){n(1),n(2),n(312),n(107),_DM.define("Sd_Nav",function(){var e={onSmartselectCreated:function(t){t.on("select2-loaded",e.onSmartselectOpening).on("dm:smartselect:on_data_received",e.resizeIframe).on("select2-close",e.onSmartselectClose),t.on("change",function(){var e=$(this).select2("data")[0],n=t.data("user"),i=Mo_SmartSelect.searchTerm?Mo_SmartSelect.searchTerm:e.title,o=$(this).val();return $(this).val(""),"search"==o?void(window.location="/relevance/user/"+n+"/search/"+i):(dm_browsingcontext&&dm_browsingcontext.put(window.location.protocol+window.location.host+"/video/"+o,"/relevance/user/"+n+"/search/"+encodeURIComponent(DM_Request.cleanSearch(i))),void(document.location.href="/video/"+o+"#user_search=1"))})},onSmartselectClose:function(){$("#user_search_iframe").hide()},onSmartselectOpening:function(){var t=$("#select2-drop");0===$("#user_search_iframe").length&&t.after('<iframe id="user_search_iframe">'),e.resizeIframe()},resizeIframe:function(){setTimeout(function(){var e=$("#select2-drop").outerHeight(!0),t=$("#select2-drop");$("#user_search_iframe").css({display:"block",width:t.width()+"px",height:e+"px",top:t.css("top"),left:t.css("left"),position:"absolute"})},10)},__initialize:function(){PubSub.subscribe("dm:smartselect:created",e.onSmartselectCreated)}};return e},!0)},109:function(e,t,n){n(1),n(2),_DM.define("Sd_Pixelle",function(){var e={start:null,waitPixelle:function(){+new Date-e.start>5e3||("function"==typeof pxl?e.listen():setTimeout(e.waitPixelle,100))},listen:function(){pxl("bind","insert",e.insert)},insert:function(e,t){PubSub.publish("dm:new_videos_loaded",$(t)),PubSub.publish("pixelle:ad_loaded")},__initialize:function(){e.start=+new Date,e.waitPixelle()}};return e},!1)},111:function(e,t,n){n(1),n(2),n(8),n(7),_DM.define("Pl_Videos_ListSwitcher",function(){var e={__onDomReady:function(){e.initEvents()},onSwitcherClicked:function(){var t=$(".js-list-grid").is(":visible")?"list":"grid",n=this;$("#ph_list").length>0?DM_WidgetV3.get("/controller/Page_Videos?method=getListHtml","#ph_list","",{listMode:t,isWithPlayer:0!==$(".pl_videos_listwithplayer").length},function(){e.afterSwitcherClick.call(n),PubSub.publish("dm:new_videos_loaded",$(".js-list-"+t))}):e.afterSwitcherClick.call(n)},afterSwitcherClick:function(){$(".js-list-grid, .js-list-list").toggle(),$(".js-switcher").toggleClass("clickable"),setCookie("duallist_video",$(this).data("list-mode"),365,"/"),DM_LazyLoad.findInContextAndlLoad()},initEvents:function(){$(".pl_videos_listswitcher").on("click",".js-switcher.clickable",e.onSwitcherClicked)}};return e})},124:function(e,t,n){n(1),n(2),n(5),_DM.define("DM_Display_Skin",function(){var e={params:null,translateV1ParamstoV2:function(e){var t={skinName:"name",trackingTag:"tracking_tag",bodyClickUrl:"redirect_url",topBannerLink:"redirect_url",bodyClickUrlThroughTag:"click_count_urls",topBannerLinkThroughTag:"click_count_urls",countingPixel:"display_count_urls",countingPixelAlt:"display_count_urls"},n={};for(var i in t)if(""!==e[i]){var o=t[i];"bodyClickUrl"==i&&(n.body_redirect_enabled=!0),o.match(/urls/)?(n[o]||(n[o]=[]),$.isArray(e[i])?n[o]=n[o].concat(e[i]):n[o].push(e[i])):n[o]=e[i]}return n},onCodeReceived:function(e){this.setParams(e),this.build()},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){log("Top3","Build",this.params);try{if("object"==typeof this.params){var e=this;this.params=this.translateV1ParamstoV2(this.params),this.params.from_oas=!0,PubSub.publish("masscast:loading_top3"),$.getJSON("/controller/Masscast?method=getSkin&method%3Aargs="+encodeURIComponent($.toJSONString([this.params.name])),function(t){PubSub.publish("masscast:loaded_top3",t,e.params)})}}catch(t){log("Top3","Error while loading skin",t.message,"- skinData:",this.params)}},__initialize:function(){PubSub.subscribe("masscast:position_Top3",this.onCodeReceived,this)}};return e},!0)},125:function(e,t,n){n(1),_DM.define("DM_RequestWatcher",function(){var e={initialize:function(e){if(window.performance&&performance.getEntries&&window.RUMReqsBeaconUrl){window.adRequestsTotal=0,window.adFramesTotal=0;var t=[0,10,30,60,120,300,600,1800,3600],n=0,i=0;!function o(){t[n+1]&&setTimeout(function(){i=performance.getEntries().length+adRequestsTotal;var r={r_c:i,i_c:adFramesTotal,w:t[n],p:e,cy:DM_Context.geoip_country};EventBus.send({name:"rum.requests_count",data:r}),o()},1e3*(t[n+1]-t[n++]))}()}}};return e},!0)},127:function(){/*!
	Waypoints - 3.0.0
	Copyright  2011-2014 Caleb Troughton
	Licensed under the MIT license.
	https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
	*/
!function(){"use strict";function e(i){if(!i)throw new Error("No options passed to Waypoint constructor");if(!i.element)throw new Error("No element option passed to Waypoint constructor");if(!i.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,i),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=i.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,t+=1}var t=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.destroyAll=function(){var e=[];for(var t in n)e.push(n[t]);for(var i=0,o=e.length;o>i;i++)e[i].destroy()},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=o.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,i[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,i={},o=window.Waypoint,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e,a=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete i[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||o.isTouch)&&(t.didScroll=!0,r(e))})},t.prototype.handleResize=function(){o.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in t){var i=t[n],o=i.newScroll>i.oldScroll,r=o?i.forward:i.backward;for(var a in this.waypoints[n]){var s=this.waypoints[n][a],l=i.oldScroll<s.triggerPoint,c=i.newScroll>=s.triggerPoint,u=l&&c,d=!l&&!c;(u||d)&&(s.queueTrigger(r),e[s.group.id]=s.group)}}for(var p in e)e[p].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element===this.element.window?o.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element===this.element.window?o.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var n in this.waypoints[t])e.push(this.waypoints[t][n]);for(var i=0,o=e.length;o>i;i++)e[i].destroy()},t.prototype.refresh=function(){var e,t=this.element===this.element.window,n=this.adapter.offset(),i={};this.handleScroll(),e={horizontal:{contextOffset:t?0:n.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:n.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in e){var r=e[o];for(var a in this.waypoints[o]){var s,l,c,u,d,p=this.waypoints[o][a],h=p.options.offset,f=p.triggerPoint,g=0,m=null==f;p.element!==p.element.window&&(g=p.adapter.offset()[r.offsetProp]),"function"==typeof h?h=h.apply(p):"string"==typeof h&&(h=parseFloat(h),p.options.offset.indexOf("%")>-1&&(h=Math.ceil(r.contextDimension*h/100))),s=r.contextScroll-r.contextOffset,p.triggerPoint=g+s-h,l=f<r.oldScroll,c=p.triggerPoint>=r.oldScroll,u=l&&c,d=!l&&!c,!m&&u?(p.queueTrigger(r.backward),i[p.group.id]=p.group):!m&&d?(p.queueTrigger(r.forward),i[p.group.id]=p.group):m&&r.oldScroll>=p.triggerPoint&&(p.queueTrigger(r.forward),i[p.group.id]=p.group)}}for(var v in i)i[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in i)i[e].refresh()},t.findByElement=function(e){return i[e.waypointContextKey]},window.onload=function(){a&&a(),t.refreshAll()},o.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},o=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var i=this.triggerQueues[n],o="up"===n||"left"===n;i.sort(o?t:e);for(var r=0,a=i.length;a>r;r+=1){var s=i[r];(s.options.continuous||r===i.length-1)&&s.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(t){this.waypoints.sort(e);var n=o.Adapter.inArray(t,this.waypoints),i=n===this.waypoints.length-1;return i?null:this.waypoints[n+1]},n.prototype.previous=function(t){this.waypoints.sort(e);var n=o.Adapter.inArray(t,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},n.prototype.remove=function(e){var t=o.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return i[e.axis][e.name]||new n(e)},o.Group=n}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,n=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,n){e.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(n,i){e[i]=t[i]}),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){"use strict";function e(e){return function(){var n=[],i=arguments[0];return e.isFunction(arguments[0])&&(i=e.extend({},arguments[1]),i.handler=arguments[0]),this.each(function(){var o=e.extend({},i,{element:this});"string"==typeof o.context&&(o.context=e(this).closest(o.context)[0]),n.push(new t(o))}),n}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()},128:function(e,t,n){n(1),n(2),n(331),_DM.define("DM_Relevant_Content_CTR",function(){var e={onScroll:function(e,t){if(t.scrolledItem.hasClass("js-validated-waypoint")&&t.scrolledItem.hasClass("js-waypoint-done-by-click")===!1){var n,i;switch(e){case"wtw":n=t.scrolledItem,i=n.data("video"),i&&t.detectedItems.push({video_id:n.data("video-id"),position:n.data("position"),source:n.find(".js-reason").children().data("source")});break;case"search":case"related":n=t.scrolledItem,i=n.find(".sd_video_preview").data("id"),i&&t.detectedItems.push({video_id:n.data("video-id"),position:n.data("position")})}}},onScrollStop:function(t,n){Object.keys(n.detectedItems).length&&e.send({context:t,context_label:t+"_feed",action:"display",action_label:"video_display",data:n.detectedItems})},getSelector:function(e){switch(e){case"wtw":return".pl_wtw_page .pl_wtw_video:not(.js-validated-waypoint)";case"search":return".js-list-list .sd_video_listitem";case"related":return".js-video-related .js-video-itemrelated"}},getHomepageType:function(){return DM_Context.homepage_with_family_filter?DM_Context.reader_has_history?"family_filter custom":"family_filter regular":DM_Context.reader_has_history?"custom":"regular"},adjustVideosPositions:function(t){$(e.getSelector(t)).each(function(){var e=$(this).data("position");e>=2&&($(this).attr("data-position",e+1),$(this).data("position",e+1))})},initCTRTracking:function(t){if(window.PixelleAllowed){var n=!0,i=setTimeout(function(){e.initWaypoints(t),n=!1},2e3);PubSub.subscribe("pixelle:ad_loaded",function(){clearTimeout(i),e.adjustVideosPositions(t),n&&e.initWaypoints(t)})}else e.initWaypoints(t)},initWaypoints:function(t){new DM_Waypoint({selector:e.getSelector(t),options:{offset:"bottom-in-view"},clearDetectedItemsOnScrollStop:!0,onScroll:function(e){DM_Relevant_Content_CTR.onScroll(t,e)},onScrollStop:function(e){DM_Relevant_Content_CTR.onScrollStop(t,e)}})},getRandParameter:function(){var e=99999999998,t=e/2;return Math.floor(Math.random()*(e-t))+t},getRequestId:function(t){return e.request_id||(e.request_id=DM_Sha1(t+e.getRandParameter())),e.request_id},send:function(t){var n=t.context,i=t.action,o={visitor_user_id:DM_Context.reader_id,visitor_id:getCookie("v1st"),visitor_history:DM_Context.reader_has_history,visitor_country:DM_Context.geoip_country,visitor_browser_language:DM_Context.browser_language,visitor_source_domain:document.referrer,traffic_segment:DM_Context.traffic_segment,site_version:DM_Context.content_version};switch(o.request_id=e.getRequestId(o.visitor_id),n){case"wtw":o.homepage_type=e.getHomepageType();break;case"related":o.current_video_id=DM_Context.video_id,o.algorithm=DM_Context.video_related_algorithm}"display"===i?o.videos=t.data:"click"===i&&(o=$.extend(t.data,o)),log("CTR",o),EventBus.send({name:t.context_label+"."+t.action_label,data:o})}};return e},!0)},129:function(e,t,n){n(1),n(2),n(127),n(130),_DM.define("DM_Waypoint",function(){var e=function(e){this.id=e.id||null,this.selector=e.selector,this.options=e.options||{},this.onScroll=e.onScroll||function(){},this.onScrollStop=e.onScrollStop||function(){},this.clearDetectedItemsOnScrollStop=e.clearDetectedItemsOnScrollStop||!1,this.scrolledItem=null,this.detectedItems=[],this.init()};return e.prototype={init:function(){var e=this;$(this.selector).waypoint(function(){$(this.element).addClass("js-validated-waypoint"),e.scrolledItem=$(this.element),e.onScroll(e),this.destroy()},this.options),this.trigger(),$(window).on("scrollstop",function(){e.trigger()})},trigger:function(){this.onScrollStop(this),this.clear()},clear:function(){this.clearDetectedItemsOnScrollStop&&(this.detectedItems=[])}},e},!0)},130:function(e,t){!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof t?e.exports=n(require("jquery")):n(jQuery)}(function(){var e=$.event.dispatch||$.event.handle,t=$.event.special,n="D"+ +new Date,i="D"+(+new Date+1);t.scrollstart={setup:function(i){var o,r=$.extend({latency:t.scrollstop.latency},i),a=function(t){var n=this,i=arguments;o?clearTimeout(o):(t.type="scrollstart",e.apply(n,i)),o=setTimeout(function(){o=null},r.latency)};$(this).bind("scroll",a).data(n,a)},teardown:function(){$(this).unbind("scroll",$(this).data(n))}},t.scrollstop={latency:250,setup:function(n){var o,r=$.extend({latency:t.scrollstop.latency},n),a=function(t){var n=this,i=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,t.type="scrollstop",e.apply(n,i)},r.latency)};$(this).bind("scroll",a).data(i,a)},teardown:function(){$(this).unbind("scroll",$(this).data(i))}}})},312:function(){!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,o=this.length;++i<o&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function i(e){function t(e){return V[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function o(e,t){for(var n=0,i=t.length;i>n;n+=1)if(a(e,t[n]))return n;return-1}function r(){var t=e(F);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function s(t,n){var i,o,r;if(null===t||t.length<1)return[];for(i=t.split(n),o=0,r=i.length;r>o;o+=1)i[o]=e.trim(i[o]);return i}function l(e){return e.outerWidth(!1)-e.width()}function c(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var o=e.data(n,i);o!==t&&n.val()!==o&&(e.removeData(n,i),n.trigger("keyup-change"))})}function u(n){n.on("mousemove",function(n){var i=j;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function d(e,n,i){i=i||t;var o;return function(){var t=arguments;window.clearTimeout(o),o=window.setTimeout(function(){n.apply(i,t)},e)}}function p(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){o(e.target,t.get())>=0&&n(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus();var o=n.offsetWidth>0||n.offsetHeight>0;o&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var o=document.selection.createRange();i=document.selection.createRange().text.length,o.moveStart("character",-t.value.length),n=o.text.length-i}return{offset:n,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!R){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);R=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),e("body").append(R)}return R.text(t.val()),R.width()}function y(t,n,i){var o,r,a=[];o=e.trim(t.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),o=e.trim(n.attr("class")),o&&(o=""+o,e(o.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(r=i(this),r&&a.push(r))})),t.attr("class",a.join(" "))}function _(e,t,n,o){var r=i(e.toUpperCase()).indexOf(i(t.toUpperCase())),a=t.length;return 0>r?void n.push(o(e)):(n.push(o(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(o(e.substring(r,r+a))),n.push("</span>"),void n.push(o(e.substring(r+a,e.length))))}function b(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function w(n){var i,o=null,r=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,r=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(s,l.term,l.page,l.context):null,r="function"==typeof r?r.call(s,l.term,l.page,l.context):r,o&&"function"==typeof o.abort&&o.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:r,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page,l);l.callback(t)}}),o=c.call(s,d)},r)}}function x(t){var n,i,o=t,r=function(e){return""+e.text};e.isArray(o)&&(i=o,o={results:i}),e.isFunction(o)===!1&&(i=o,o=function(){return i});var a=o();return a.text&&(r=a.text,e.isFunction(r)||(n=a.text,r=function(e){return e[n]})),function(t){var n,i=t.term,a={results:[]};return""===i?void t.callback(o()):(n=function(o,a){var s,l;if(o=o[0],o.children){s={};for(l in o)o.hasOwnProperty(l)&&(s[l]=o[l]);s.children=[],e(o.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,r(s),o))&&a.push(s)}else t.matcher(i,r(o),o)&&a.push(o)},e(o().results).each2(function(e,t){n(t,a.results)}),void t.callback(a))}}function C(n){var i=e.isFunction(n);return function(o){var r=o.term,a={results:[]},s=i?n(o):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===r||o.matcher(r,n))&&a.results.push(e?this:{id:this,text:this})}),o.callback(a))}}function k(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function D(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function S(t){var n=0;return e.each(t,function(e,t){t.children?n+=S(t.children):n++}),n}function E(e,n,i,o){var r,s,l,c,u,d=e,p=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(s=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],s=e.indexOf(u),!(s>=0));l++);if(0>s)break;if(r=e.substring(0,s),e=e.substring(s+u.length),r.length>0&&(r=o.createSearchChoice.call(this,r,n),r!==t&&null!==r&&o.id(r)!==t&&null!==o.id(r))){for(p=!1,l=0,c=n.length;c>l;l++)if(a(o.id(r),o.id(n[l]))){p=!0;break}p||i(r)}}return d!==e?e:void 0}function M(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function T(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var P,A,O,N,I,R,$,L,j={x:0,y:0},P={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case P.SHIFT:case P.CTRL:case P.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},F="<div class='select2-measure-scrollbar'></div>",V={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};$=e(document),I=function(){var e=1;return function(){return e++}}(),A=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,o,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+I()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(D(n.containerCss,this.opts.element)),this.container.addClass(D(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(D(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(a),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),u(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),p(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,o){var r=i.scrollTop();o>0&&0>=r-o?(i.scrollTop(0),g(e)):0>o&&i.get(0).scrollHeight-i.scrollTop()+o<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),c(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var l=n.element.prop("readonly");l===t&&(l=!1),this.readonly(l),L=L||r(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",this._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,o,r,l,c=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,o,r){var a,s=this.opts.id,l=this.liveRegion;(a=function(i,o,u){var d,p,h,f,g,m,v,y,_,b;i=n.sortResults(i,o,r);var w=[];for(d=0,p=i.length;p>d;d+=1)h=i[d],g=h.disabled===!0,f=!g&&s(h)!==t,m=h.children&&h.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+u),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),m&&v.addClass("select2-result-with-children"),v.addClass(c.opts.formatResultCssClass(h)),v.attr("role","presentation"),y=e(document.createElement("div")),y.addClass("select2-result-label"),y.attr("id","select2-result-label-"+I()),y.attr("role","option"),b=n.formatResult(h,y,r,c.opts.escapeMarkup),
b!==t&&(y.html(b),v.append(y)),m&&(_=e("<ul></ul>"),_.addClass("select2-result-sub"),a(h.children,_,u+1),v.append(_)),v.data("select2-data",h),w.push(v[0]);o.append(w),l.text(n.formatMatches(i.length))})(o,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(r=n.id,n.id=function(e){return e[r]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(e){var n,o,r,a={results:[],more:!1},s=e.term;r=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(c.optionToData(t)):t.is("optgroup")&&(i=c.optionToData(t),t.children().each2(function(e,t){r(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(o=this.getPlaceholderOption(),o&&(n=n.not(o))),n.each2(function(e,t){r(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=w.call(n.element,n.ajax)):"data"in n?n.query=x(n.data):"tags"in n&&(n.query=C(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var o=[];e(s(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),o.push(t)}),i(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,o=this;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(D(this.opts.containerCssClass,this.opts.element)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(D(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",o._sync)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,o._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,n,i,o,r,a=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=a.outerHeight(!1),d=e(window),p=d.width(),h=d.height(),f=d.scrollLeft()+p,g=d.scrollTop()+h,m=s.top+l,v=s.left,y=g>=m+u,_=s.top-u>=d.scrollTop(),b=a.outerWidth(!1),w=f>=v+b,x=a.hasClass("select2-drop-above");x?(n=!0,!_&&y&&(i=!0,n=!1)):(n=!1,!y&&_&&(i=!0,n=!0)),i&&(a.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),u=a.outerHeight(!1),f=d.scrollLeft()+p,g=d.scrollTop()+h,m=s.top+l,v=s.left,b=a.outerWidth(!1),w=f>=v+b,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),b=a.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:L.width),b>c?c=b:b=c,u=a.outerHeight(!1),w=f>=v+b):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),m-=t.top,v-=t.left),w||(v=s.left+this.container.outerWidth(!1)-b),o={left:v,width:c},n?(o.top=s.top-u,o.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(o.top=m,o.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),o=e.extend(o,D(this.opts.dropdownCss,this.opts.element)),a.css(o)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),$.on("mousemove.select2Event",function(e){j.x=e.pageX,j.y=e.pageY}),!0):!1},opening:function(){var t,i=this.containerEventName,o="scroll."+i,r="resize."+i,a="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(i){n(t);var o,r=e("#select2-drop");r.length>0&&(o=r.data("select2"),o.opts.selectOnBlur&&o.selectHighlighted({noFocus:!0}),o.close(),i.preventDefault(),i.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var s=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+o+" "+a,function(){s.opened()&&s.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,o="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(o)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),$.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return D(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,o,r,a,s,l,c=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void c.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),l=(i.offset()||{}).top||0,o=l+i.outerHeight(!0),n===t.length-1&&(s=c.find("li.select2-more-results"),s.length>0&&(o=s.offset().top+s.outerHeight(!0))),r=c.offset().top+c.outerHeight(!0),o>r&&c.scrollTop(c.scrollTop()+(o-r)),a=l-c.offset().top,0>a&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var o=e(n[i]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,r=this.findHighlightableChoices();return 0===arguments.length?o(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),n=e(r[t]),n.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),i=n.data("select2-data"),void(i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,o=this,r=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){o.opened()&&(o.opts.populateResults.call(this,t,e.results,{term:r,page:i,context:a}),o.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(D(o.opts.formatLoadMore,o.opts.element,i+1)),window.setTimeout(function(){o.loadMoreIfNeeded()},10)):n.remove(),o.positionDropdown(),o.resultsPage=i,o.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){c.removeClass("select2-active"),p.positionDropdown(),p.liveRegion.text(u.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?u.text():p.opts.formatMatches(u.find(".select2-result-selectable").length))}function o(e){u.html(e),i()}var r,s,l,c=this.search,u=this.results,d=this.opts,p=this,h=c.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!a(h,f))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(r=this.data(),e.isArray(r)&&r.length>=g&&k(d.formatSelectionTooBig,"formatSelectionTooBig")))return void o("<li class='select2-selection-limit'>"+D(d.formatSelectionTooBig,d.element,g)+"</li>");if(c.val().length<d.minimumInputLength)return o(k(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+D(d.formatInputTooShort,d.element,c.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&c.val().length>d.maximumInputLength)return void o(k(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+D(d.formatInputTooLong,d.element,c.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+D(d.formatSearching,d.element)+"</li>"),c.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=t&&null!=s&&c.val(s),this.resultsPage=1,d.query({element:d.element,term:c.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(r){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==c.val()&&(s=this.opts.createSearchChoice.call(p,c.val(),r.results),s!==t&&null!==s&&p.id(s)!==t&&null!==p.id(s)&&0===e(r.results).filter(function(){return a(p.id(this),p.id(s))}).length&&this.opts.createSearchChoicePosition(r.results,s)),0===r.results.length&&k(d.formatNoMatches,"formatNoMatches"))return void o("<li class='select2-no-results'>"+D(d.formatNoMatches,d.element,c.val())+"</li>");u.empty(),p.opts.populateResults.call(this,u,r.results,{term:c.val(),page:this.resultsPage,context:null}),r.more===!0&&k(d.formatLoadMore,"formatLoadMore")&&(u.append("<li class='select2-more-results'>"+d.escapeMarkup(D(d.formatLoadMore,d.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),i(),this.opts.element.trigger({type:"select2-loaded",items:r})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){function n(){var n,i,o,r,a,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),r=0,a=i.length;a>r;r+=1)if(s=i[r].replace(/\s/g,""),o=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==o&&o.length>=1)return o[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),O=T(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><i class='icon-arrow_down font-xxs'></i></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(o=this.search.val().length,n.setSelectionRange(o,o))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var t,i,o=this.container,r=this.dropdown,a=I();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=o.find(".select2-choice"),this.focusser=o.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),i=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(i.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||i.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===P.PAGE_UP||e.which===P.PAGE_DOWN)return void g(e);switch(e.which){case P.UP:case P.DOWN:return this.moveHighlight(e.which===P.UP?-1:1),void g(e);case P.ENTER:return this.selectHighlighted(),void g(e);case P.TAB:return void this.selectHighlighted({noFocus:!0});case P.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==P.TAB&&!P.isControl(e)&&!P.isFunctionKey(e)&&e.which!==P.ESC){if(this.opts.openOnEnter===!1&&e.which===P.ENTER)return void g(e);if(e.which==P.DOWN||e.which==P.UP||e.which==P.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==P.DELETE||e.which==P.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),c(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){n(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=n.val(),r=null;t.query({matcher:function(e,n,i){var s=a(o,t.id(i));return s&&(r=i),s},callback:e.isFunction(i)?function(){i(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){return a(o.id(t.data("select2-data")),o.opts.element.val())?(i=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&i>=0?i:0),t===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(S(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),o.empty(),null!==e&&(n=this.opts.formatSelection(e,o,this.opts.escapeMarkup)),n!==t&&o.append(n),i=this.opts.formatSelectionCssClass(e,o),i!==t&&o.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,o=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=o.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:r});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){o.opts.element.val(e?o.id(e):""),o.updateSelection(e),o.setPlaceholder(),n&&o.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),N=T(A,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var o=s(n.val(),t.separator),r=[];t.query({matcher:function(n,i,s){var l=e.grep(o,function(e){return a(e,t.id(s))}).length;return l&&r.push(s),l},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<o.length;n++)for(var s=o[n],l=0;l<r.length;l++){var c=r[l];if(a(s,t.id(c))){e.push(c),r.splice(l,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+I()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),o=n.next(".select2-search-choice:not(.select2-locked)"),r=f(this.search);if(n.length&&(e.which==P.LEFT||e.which==P.RIGHT||e.which==P.BACKSPACE||e.which==P.DELETE||e.which==P.ENTER)){var a=n;return e.which==P.LEFT&&i.length?a=i:e.which==P.RIGHT?a=o.length?o:null:e.which===P.BACKSPACE?this.unselect(n.first())&&(this.search.width(10),a=i.length?i:o):e.which==P.DELETE?this.unselect(n.first())&&(this.search.width(10),a=o.length?o:null):e.which==P.ENTER&&(a=null),this.selectChoice(a),g(e),void(a&&a.length||this.open())}if((e.which===P.BACKSPACE&&1==this.keydowns||e.which==P.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case P.UP:case P.DOWN:return this.moveHighlight(e.which===P.UP?-1:1),void g(e);case P.ENTER:return this.selectHighlighted(),void g(e);case P.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case P.ESC:return this.cancel(e),void g(e)}if(e.which!==P.TAB&&!P.isControl(e)&&!P.isFunctionKey(e)&&e.which!==P.BACKSPACE&&e.which!==P.ESC){if(e.which===P.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===P.PAGE_UP||e.which===P.PAGE_DOWN)&&g(e),e.which===P.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused");

},updateSelection:function(t){var n=[],i=[],r=this;e(t).each(function(){o(r.id(this),n)<0&&(n.push(r.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,o,r=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?a:s,c=this.id(n),u=this.getVal();i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup),i!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),o=this.opts.formatSelectionCssClass(n,l.find("div")),o!=t&&l.addClass(o),r&&l.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(i=o(this.id(n),r))>=0;)r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),r=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;r.each2(function(e,t){var n=s.id(t.data("select2-data"));o(n,i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&k(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+D(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,n,i,o,r=l(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,o=n-(t-i)-r,e>o&&(o=n-r),40>o&&(o=n-r),0>=o&&(o=e),this.search.width(Math.floor(o))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){o(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)a(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var o,r=this;if(0===arguments.length)return this.getVal();if(o=this.data(),o.length||(o=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange(r.buildChangeDetails(o,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,o,r=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(o=this.data(),t||(t=[]),i=e.map(t,function(e){return r.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(o,this.data())),void 0)}}),e.fn.select2=function(){var n,i,r,a,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],u=["opened","isFocused","container","dropdown"],d=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])n=0===l.length?{}:e.extend({},l[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),i=s?new window.Select2["class"].multi:new window.Select2["class"].single,i.init(n);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(o(l[0],c)<0)throw"Unknown method: "+l[0];if(a=t,i=e(this).data("select2"),i===t)return;if(r=l[0],"container"===r?a=i.container:"dropdown"===r?a=i.dropdown:(p[r]&&(r=p[r]),a=i[r].apply(i,l.slice(1))),o(l[0],u)>=0||o(l[0],d)>=0&&1==l.length)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var o=[];return _(e.text,n.term,o,i),o.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return i(""+t).toUpperCase().indexOf(i(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:E,escapeMarkup:b,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:w,local:x,tags:C},util:{debounce:d,markMatch:_,escapeMarkup:b,stripDiacritics:i},"class":{"abstract":A,single:O,multi:N}}}}(jQuery)},331:function(e,t,n){n(1),_DM.define("DM_Sha1",function(){function e(e){if(null===e||"undefined"==typeof e)return"";var t,n,i=e+"",o="",r=0;t=n=0,r=i.length;for(var a=0;r>a;a++){var s=i.charCodeAt(a),l=null;if(128>s)n++;else if(s>127&&2048>s)l=String.fromCharCode(s>>6|192,63&s|128);else if(55296!=(63488&s))l=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(55296!=(64512&s))throw new RangeError("Unmatched trail surrogate at "+a);var c=i.charCodeAt(++a);if(56320!=(64512&c))throw new RangeError("Unmatched lead surrogate at "+(a-1));s=((1023&s)<<10)+(1023&c)+65536,l=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==l&&(n>t&&(o+=i.slice(t,n)),o+=l,t=n=a+1)}return n>t&&(o+=i.slice(t,r)),o}var t=function(t){var n,i,o,r,a,s,l,c,u,d=function(e,t){var n=e<<t|e>>>32-t;return n},p=function(e){var t,n,i="";for(t=7;t>=0;t--)n=e>>>4*t&15,i+=n.toString(16);return i},h=new Array(80),f=1732584193,g=4023233417,m=2562383102,v=271733878,y=3285377520;t=e(t);var _=t.length,b=[];for(i=0;_-3>i;i+=4)o=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),b.push(o);switch(_%4){case 0:i=2147483648;break;case 1:i=t.charCodeAt(_-1)<<24|8388608;break;case 2:i=t.charCodeAt(_-2)<<24|t.charCodeAt(_-1)<<16|32768;break;case 3:i=t.charCodeAt(_-3)<<24|t.charCodeAt(_-2)<<16|t.charCodeAt(_-1)<<8|128}for(b.push(i);b.length%16!=14;)b.push(0);for(b.push(_>>>29),b.push(_<<3&4294967295),n=0;n<b.length;n+=16){for(i=0;16>i;i++)h[i]=b[n+i];for(i=16;79>=i;i++)h[i]=d(h[i-3]^h[i-8]^h[i-14]^h[i-16],1);for(r=f,a=g,s=m,l=v,c=y,i=0;19>=i;i++)u=d(r,5)+(a&s|~a&l)+c+h[i]+1518500249&4294967295,c=l,l=s,s=d(a,30),a=r,r=u;for(i=20;39>=i;i++)u=d(r,5)+(a^s^l)+c+h[i]+1859775393&4294967295,c=l,l=s,s=d(a,30),a=r,r=u;for(i=40;59>=i;i++)u=d(r,5)+(a&s|a&l|s&l)+c+h[i]+2400959708&4294967295,c=l,l=s,s=d(a,30),a=r,r=u;for(i=60;79>=i;i++)u=d(r,5)+(a^s^l)+c+h[i]+3395469782&4294967295,c=l,l=s,s=d(a,30),a=r,r=u;f=f+r&4294967295,g=g+a&4294967295,m=m+s&4294967295,v=v+l&4294967295,y=y+c&4294967295}return u=p(f)+p(g)+p(m)+p(v)+p(y),u.toLowerCase()};return t},!0)}});