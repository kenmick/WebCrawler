webpackJsonp([1],[function(e,t,i){i(1),i(2),i(8),i(13),i(4),i(94),i(21),i(14),i(9),i(89),i(88),i(113),i(7),i(27),i(52),i(19),i(11),i(20),i(3),i(12),i(40),i(91),i(93),i(92),i(41),i(45),i(42),i(47),i(99),i(46),i(22),i(28),i(30),i(31),i(125),i(34),i(33),i(32),i(98),i(97),i(44),i(43),i(129),i(128),i(109),_DM.define("Pg_Video",function(){var e={showStatsStatus:!1,tabIsLoading:!1,descriptionHeight:64,titleLengthToSetPointer:60,titleTrimLength:30,playerState:0,videoPlayer:null,encodingStatus:null,currentToolName:null,documentBody:null,adDuration:35,adBreakDisabledDuration:35e3,countDownId:null,watchAdBreakId:null,isWatched:!1,isStarted:!1,playerV5Id:"player",resizeCount:0,playerDurationAvailable:!1,enableTooltips:function(){$(".mo_tabs li a[title]").tipsy({gravity:"s",tooltip_type:"tipsy-ballon"})},isDescriptionTruncated:function(){var e=$("#video_description");return e.length&&e.prop("scrollHeight")>e.height()+1},toggleTitleForEIP:function(){$($(this).nextUntil("div")).each(function(){$(this).hide()})},toggleForEip:function(e){e&&e[0]&&(e[0].className.match("title small dm_editable")||e[0].className.match("title  dm_editable"))&&$(e.nextUntil("div")).each(function(){$(this).show()})},setVideoPublic:function(){ajax_call("video","set_video_public",DM_CurrentVideoId,function(){window.location.reload()})},toggleTools:function(){e.newBoxLoading||e.toggleTool($(this))},toggleTool:function(t,i){var n=t.data("tool"),o=$("#tools_container div[data-tool="+n+"]").first(),r=!1;i&&o.is(":visible")||(o.is(":visible")&&e.currentToolName==n||(r=!0,e.currentToolName!=n&&$("#tools_container div[data-tool="+e.currentToolName+"]").first().hide()),$("span[data-tool="+e.currentToolName+"]").each(function(){$(this).removeClass("current")}),r&&$("span[data-tool="+n+"]").each(function(){$(this).addClass("current")}),o.length?o.toggle():($("#tools_container").append('<div id="'+n+'_ph"></div>'),e.newBoxLoading=!0,"stats"==n?DM_WidgetV3.multiGet("videostats",document.location.pathname,{stats:{replace:"#"+n+"_ph",options:{}}},function(){e.newBoxLoading=!1}):DM_WidgetV3.multiGet("video_responsive",document.location.pathname,{tool:{replace:"#"+n+"_ph",options:{tool:n}}},function(){e.newBoxLoading=!1})),e.currentToolName=n)},showStats:function(){$(".mo_tabs #tab_stats").click()},loadSubtitle:function(){e.videoPlayer.loadSubtitle($(this).html().toLowerCase()),$(e.documentBody).animate({scrollTop:$("#player_box").offset().top},"fast")},getSubtitleContent:function(e){DM_WidgetV3.multiGet("video_responsive",document.location.pathname,{subtitle:{replace:"#subtitle_content_ph",options:{lang:e}}})},handleEncodingStatus:function(){e.encodingStatus||(e.refreshEncodingStatus(),e.encodingStatus=setInterval(e.refreshEncodingStatus,5e3))},refreshEncodingStatus:function(){DM_WidgetV3.multiGet("video_responsive",document.location.pathname,{encodingstatus:{replace:".pl_video_encodingstatus",callback:function(){$(".pl_video_encodingstatus .processing")[0]||clearInterval(e.encodingStatus)}}})},onTabsInitialized:function(){e.enableTooltips(),PubSub.publish("video:playing",DM_CurrentVideoXID),e.detectToggleTab(),$(window).on("hashchange",e.detectToggleTab)},detectToggleTab:function(){var t=!1,i=window.location.hash;try{if(localStorage&&localStorage[DM_CurrentVideoXID]){var n=localStorage.getItem(DM_CurrentVideoXID);t=JSON.parse(n).tab?JSON.parse(n).tab:!1,e.openTab(t,!1)}else""!==i&&i.match(/#tab_[a-z]+/)&&(t=i,e.openTab(t,!0))}catch(o){}},adjustScrollPosition:function(e){var t=$(window).height(),i=$(window).scrollTop(),n=e.offset().top,o=t-n+i,r=100;r>o&&window.scrollTo(0,n-t+2*r)},onTabClicked:function(t){if(e.adjustScrollPosition($("#"+t.tab)),!e.tabIsLoading){e.tabIsLoading=!0;var i=$("#"+t.tab),n=i.attr("id"),o=n.replace(/tab_/,""),r=t.current;"embed"==o?(e.playerState=e.getState(),e.pauseVideo(),$("#more_options").hide()):"report"==o||"feature"==o?e.pauseVideo():"embed"!=o&&$("#tab_embed_content").is(":visible")&&(1==e.playerState&&e.playVideo(),e.playerState=0),$("#tab_"+o+"_content").length?(e.toggleTabs(n,r),e.tabIsLoading=!1,"encoding"==o?e.handleEncodingStatus():clearInterval(e.encodingStatus)):($(".mo_tabs").after('<div id="tab_'+o+'_content_ph"></div>'),"report"==o?DM_WidgetV3.get("/pageitem/abuse?request="+encodeURIComponent(DM_Context.uri+"&responsive=1"),"#tab_"+o+"_content_ph",document.location.pathname+document.location.search,{},function(){e.toggleTabs(n,r),e.tabIsLoading=!1}):"playlists"==o?DM_WidgetV3.multiGet("video",document.location.pathname,{playlists:{replace:"#tab_playlists_content_ph"}},function(){e.toggleTabs(n,r),e.tabIsLoading=!1}):"feature"==o?DM_WidgetV3.get("/pageitem/video/tools/homeFeature?request="+encodeURIComponent(DM_Context.uri+"&responsive=1")+"&subRouteName=toolsFeature","#tab_"+o+"_content_ph",document.location.pathname+document.location.search,{},function(){e.toggleTabs(n,r),e.tabIsLoading=!1}):"encoding"==o?DM_WidgetV3.multiGet("video_responsive",document.location.pathname,{encodingstatus:{replace:"#tab_encoding_content_ph"}},function(){e.toggleTabs(n,r),e.tabIsLoading=!1,e.handleEncodingStatus()}):"stats"==o?DM_WidgetV3.multiGet("videostats",document.location.pathname,{stats:{replace:"#tab_"+o+"_content_ph",options:{tab_name:o},responsive:1}},function(){e.toggleTabs(n,r),PubSub.publish("forms:refresh_init",{context:"video_tab"}),e.tabIsLoading=!1}):DM_WidgetV3.multiGet("video",document.location.pathname,{tabs:{replace:"#tab_"+o+"_content_ph",options:{tab_name:o}}},function(){"addto"==o&&DM_Stats.trigger({action:"use_addto_tab"}),PubSub.publish("forms:refresh_init",{context:"video_tab"}),e.toggleTabs(n,r),e.tabIsLoading=!1}))}},toggleTabs:function(e,t){$("#tab_"+t.replace(/tab_/,"")+"_content").hide(),$("#tab_"+e.replace(/tab_/,"")+"_content").show(),PubSub.publish("video:playing",DM_CurrentVideoXID)},cancelReportForm:function(){Mo_Tabs.tabClicked($("#tab_infos")),$(e.documentBody).animate({scrollTop:0},"fast")},playVideo:function(){try{e.videoPlayer.playVideo()}catch(t){}},pauseVideo:function(){try{e.videoPlayer.pauseVideo()}catch(t){}},getState:function(){try{return e.videoPlayer.getPlayerState()}catch(t){return 0}},seekTo:function(t){try{e.videoPlayer.seekTo(t)}catch(i){}},seekAndPlay:function(t){var i=$(t.target.outerHTML)[0];return"a"==i.localName&&i.href.match(/#start=[\d]+/)&&e.videoPlayer?(e.videoPlayer.seekTo(i.href.match(/#start=([\d]+)/)[1]),e.videoPlayer.playVideo(),void $(e.documentBody).animate({scrollTop:$("#player_box").offset().top},"fast")):void 0},onVideoProgress:function(t){!e.isWatched&&t.mediaProgress>70&&(e.isWatched=!0,DM_ReaderSession.add("watchedVideo",e.video))},onStateChange:function(t){switch(t){case-1:PubSub.publish("dm:player:video_loaded",e.video);break;case 1:e.isStarted||(e.isStarted=!0,PubSub.publish("player:video_start"),DM_ReaderSession.add("startedVideo",e.video))}},onDailymotionPlayerReady:function(t){e.playerIsReady=!0,e.videoPlayer||(e.videoPlayer=$("#"+t)[0],DM_PlayerEvents.on("VideoProgress",t,e.onVideoProgress),DM_PlayerEvents.on("StateChange",t,e.onStateChange),DM_PlayerEvents.on("VideoRebuffer",t,e.onPlayerRebuffer),"undefined"!=typeof showRedBand&&showRedBand===!0&&DM_JS.get("DM_Widget_Popup",function(){var e=new DM_Widget_Popup({closeButton:!1,dimCloseAction:!1});e.loadPageItem("/pageitem/redBand")}))},toggleMoreInfos:function(){$(this).hide();var e=$("#video_description").removeClass("js-folded");e.find(".js-truncated").hide().find(".js-full").show(),$(".pl_video_tabinfos .hidden").removeClass("hidden")},openTab:function(t,i){$(t).click(),i&&$(e.documentBody).animate({scrollTop:$("#video_title").offset().top},"fast")},onPlayerV5Progress:function(){var t=Math.round(playerV5.currentTime/playerV5.duration*100);e.playerDurationAvailable&&!e.isWatched&&t>70&&(e.isWatched=!0,DM_ReaderSession.add("watchedVideo",e.video))},onPlayerRebuffer:function(){PubSub.publish("player:rebuffer")},onPlayerV5CanPlayed:function(){PubSub.publish("dm:player:video_loaded",e.video)},onPlayerV5Playing:function(){e.isStarted||(e.isStarted=!0,PubSub.publish("player:video_start"),DM_ReaderSession.add("startedVideo",e.video))},initPlayerV5Events:function(){"undefined"!=typeof playerV5&&($(".js-expand-player").hide(),$(".pl_video_pagetitle h1").removeClass("col-7").addClass("col-8")),DM_PlayerV5Events.on("canplaythrough",e.playerV5Id,e.onPlayerV5CanPlayed),DM_PlayerV5Events.on("playing",e.playerV5Id,e.onPlayerV5Playing),DM_PlayerV5Events.on("waiting",e.playerV5Id,e.onPlayerRebuffer),DM_PlayerV5Events.on("timeupdate",e.playerV5Id,e.onPlayerV5Progress),DM_PlayerV5Events.on("durationchange",e.playerV5Id,function(){e.playerDurationAvailable=!0}),DM_PlayerV5Events.on("expandPlayerRequested",e.playerV5Id,e.togglePlayerExpand),DM_PlayerV5Events.on("reducePlayerRequested",e.playerV5Id,e.togglePlayerExpand),DM_PlayerV5Events.on("embedRequested",e.playerV5Id,function(){location.hash="#tab_embed"})},initEvents:function(){$("body").on("click",".dm_editable.title",e.toggleTitleForEIP).on("click",".js-expand-player",e.togglePlayerExpand).on("click",".js-more-infos",e.toggleMoreInfos).on("click",".pl_video_tabinfos .video_tools span",e.toggleTools).on("click","#video_views_count",e.showStats).on("click",".subtitle_language",e.loadSubtitle).on("click","#private_to_public",e.setVideoPublic),e.initPlayerV5Events(),$(".js-ad-break-button").length&&($("body").on("click",".js-ad-break-button",e.onAdBreakClicked),e.countDownId=setInterval(e.updateAdBreakButton,1e3))},onAdBreakClicked:function(){var t=parseInt($("select.js-number-ads").val(),10);$(".js-ad-break-button").data("remaining-seconds",t*e.adDuration),e.countDownId=setInterval(e.updateAdBreakButton,1e3),DM_Controller.call("Shared_Video_LiveTools",{method:"callLiveAd",args:[t]})},updateAdBreakButton:function(){var t=$(".js-ad-break-button"),i=t.data("video-id");DM_Controller.call("Shared_Video_LiveTools",{method:"liveAdBreakEndsAt",args:[i],callback:function(i){if(i>0){var n=Math.ceil(i/e.adDuration),o=n>1?n+" ads remaining":n+" ad remaining";t.attr("disabled","disabled").html(o+", "+moment.utc(1e3*i).format("mm:ss"))}else t.html("Launch"),t.removeAttr("disabled")}})},togglePlayerExpand:function(){e.resetResizeEventCount(),PubSub.publish("player:resizing");var t=$(".js-expand-player"),i=$(".js-player-box").hasClass("col-md-12"),n="calc-size col-md-8 col-lg-9",o="col-md-12 col-lg-12";i?($(".js-player-box").removeClass(o).addClass(n),deleteCookie("epd"),$("#playerv5_box").length||$("#player_container").removeAttr("style"),t.find("i").removeClass("icon-reduce").addClass("icon-expand"),t.attr("title",t.attr("data-expanded-title")),PubSub.publish("player:resized")):($(".js-player-box").removeClass(n).addClass(o),t.find("i").removeClass("icon-expand").addClass("icon-reduce"),t.attr("title",t.attr("data-reduced-title")),$("#playerv5_box").length||$("#player_container").removeAttr("style"),$.browser.msie?setCookie("epd",1):(setCookie("epd",1,0),DM_Stats.trigger({action:"expand_player"})),e.updatePlayerHeight())},updatePlayerHeight:function(){var t=$("#player_container"),i=16/9,n=t.width()/i,o=$(window).height(),r=$(".sd_header").outerHeight()+20,a=o-r-$(".pl_video_infos").height()/2;if(n=n>a?a:n,n&&n>0&&t.data("lastHeight")!=n&&t.height()!=n&&t.height(n).data("lastHeight",n),t.height()<=0){var s=t.data("lastHeight");s&&s>0?t.height(s):(t.removeData("lastHeight"),e.updatePlayerHeight())}},addGravity:function(){_gravity.push({type:"set",split:Gravity.split});var e=/^\?from_related=./,t="rri_"+Gravity.xid,i=getCookie(t);e.test(document.location.search)&&_gravity.push({type:"event",eventType:"REC_CLICK",itemId:Gravity.xid,recId:i,placement:"player"}),deleteCookie(t),$(".social_bar .sd_user_subscribe button").on("click",function(){_gravity.push($(this).hasClass("button_clicked")?{type:"event",eventType:"UNFOLLOW_USER",otherUserId:Gravity.owner}:{type:"event",eventType:"FOLLOW_USER",otherUserId:Gravity.owner})}),$("body").on("click",'.pl_video_tabaddto input[data-type="playlist"]',function(){playlist=$(this).attr("data-name"),_gravity.push($(this).prop("checked")?{type:"event",eventType:"ADD_TO_PLAYLIST",itemId:DM_CurrentVideoXID,playlist:playlist}:{type:"event",eventType:"REMOVE_FROM_PLAYLIST",itemId:DM_CurrentVideoXID,playlist:playlist})})},isOnScreen:function(e){var t=$(window),i={top:t.scrollTop(),left:t.scrollLeft()};i.right=i.left+t.width(),i.bottom=i.top+t.height();var n=e.offset();return n?(n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)):!1},getCommentsAndContextVideo:function(){DM_ResourcePlanner.add("pagelet",function(){DM_WidgetV3.multiGet("video_responsive",document.location.pathname,{comments_and_context_videos:{replace:".comments_and_context_videos_ph",callback:function(e,t){PubSub.publish("dm:new_videos_loaded",t)}}},function(){"#tab_comments"==window.location.hash?PubSub.publish("comment_post:focus"):PubSub.publish("video:playing",DM_CurrentVideoXID)})})},initScroll:function(){$placeholder=$(".comments_and_context_videos_ph"),e.isOnScreen($placeholder)&&e.getCommentsAndContextVideo(),$(window).one("scroll",function(){e.getCommentsAndContextVideo()})},__onDomReady:function(){DM_EditInPlace.initialize(),DM_Gravity.setProps();var t=$("#player_box").width(),i=Math.round(9*t/16);if($(".right_content").css("margin-top","-"+i+"px"),e.initEvents(),e.initScroll(),$(window).trigger("resize"),e.documentBody=$.browser.chrome||$.browser.safari?document.body:document.documentElement,$(e.documentBody).click(e.seekAndPlay),window.GRAVITY_ALLOWED&&e.addGravity(),!DM_Context.is_web_crawler){var n={tabs:{replace:"#player_page_tabs_ph",options:{gg_search:e.googleSearchQuery,from_context:e.fromSubscriptionEmail}},live_comments:{replace:"#live_comments_ph"}};n.related={replace:"#related_ph"},DM_ResourcePlanner.add("pagelet",function(){DM_WidgetV3.multiGet("video_responsive",document.location.pathname,n,function(){window.dm_browsingcontext&&dm_browsingcontext.apply("#related"),window.dm_browsingcontext&&dm_browsingcontext.apply(".pl_video_tabs"),DM_LazyLoad.findInContextAndlLoad("#related"),DM_LazyLoad.findInContextAndlLoad(".pl_video_tabs"),e.isDescriptionTruncated()&&$(".js-more-infos").removeClass("hidden"),PubSub.publish("component:loaded:pl_video_tabs"),PubSub.publish("dm:new_videos_loaded",$("#related, .pl_video_tabs")),PubSub.publish("related:loaded"),"undefined"!=typeof pxl&&pxl("refresh")})})}DM_Context.is_logged&&"undefined"!=typeof Pg_Video.repost&&Pg_Video.repost&&$("#repost").click()},setAdminContext:function(){url=e.url||"",$("#admin_panel_video_context_url").attr("href",url).html($.truncate(url,22))},resetResizeEventCount:function(){e.resizeCount=0},publishResizeEndEvent:function(){0===e.resizeCount&&PubSub.publish("player:resized"),e.resizeCount++},__initialize:function(){DM_PlayerEvents.on("Ready",e.onDailymotionPlayerReady),PubSub.subscribe("dm:tabs_initialized",e.onTabsInitialized),PubSub.subscribe("dm:tabs_clicked",e.onTabClicked),PubSub.subscribe("eip:end",e.toggleForEip),PubSub.subscribe("abuse:cancel",e.cancelReportForm),PubSub.subscribe("adminpanel:loaded",e.setAdminContext),$(".js-player-box").addClass("js-init"),PubSub.subscribe("player:resized",e.updatePlayerHeight),$(window).on("resize",function(){PubSub.publish("player:resizing"),DM_Utils.throttle(function(){PubSub.publish("player:resized"),PubSub.publish("player:resized"),PubSub.publish("tip:update"),e.supportRightFrame&&($(window).width()>1400?$("body").addClass("skyscraper"):($("body").removeClass("skyscraper"),$(".container-fluid").removeAttr("style")))},150,!0)}),0===$(".sd_header__navigation").length&&$("body").removeClass("no-transition"),PubSub.subscribe("dfp:loaded",function(){console.log("subsub called"),googletag.cmd.push(function(){googletag.display("div-gpt-ad-1422660696836-2")})}),DM_RUM_Init.initialize(),DM_RUM_Video.initialize(),DM_Gravity.initialize(),DM_Masscast.initialize(),DM_DisplayAds.initialize(),DM_HapYak.initialize(),DM_RequestWatcher.initialize("video")}};return e},!0)},,,,,,,,,,,,,,,function(e,t,i){i(1),i(2),i(24),i(3),i(16),i(17),i(36),i(11),i(38),i(37),i(26),_DM.define("DM_Widget_Form",function(){var e={forms:{},dateInputSuffixRe:null,placeholderSupported:"placeholder"in document.createElement("input"),initEvents:function(){DM_Select2.initSelects(),$("form.dmco_form").each(function(){var t=$(this),i=t.find('input[name="form_name"]')[0],n=i?i.value:null;if(!t.data("initdone")){t.data("initdone",!0),n&&(e.forms[n]?e.forms[n].init(this):e.forms[n]=new DM_Form(this),DM_Form_Utils.applyPersistentData(t)&&t.find('input[type="text"], textarea').get(0).focus()),t.hasClass("ajax")&&DM_Ajax.addAjaxForm(this),t.hasClass("form_with_confirm")&&t.on("submit",function(){return DM_Form[n]&&confirm(DM_Form[n].confirm)}),t.find(".link_to_post a").on("click",function(e){e.preventDefault(),t.submit()}),t.find("textarea.counter, input.counter").each(function(){var e=$(this),t=e.closest(".form_input");if(!e.next().hasClass("form_input__message")){var i=this,n=e.findParamInClass("count"),o=function(e){return e+"/"+n+" "+DM_Widget_Form.charactersUsedLabel};setTimeout(function(){e.after($('<span class="form_input__message">')).next().html(o(i.value.length)).prev().on("keyup",function(){var e=$(this),i=e.next();this.value.length>n?(t.addClass("form_input--error"),this.value=this.value.slice(0,n)):t.removeClass("form_input--error"),i.html(o(this.value.length))})},0)}}),e.checkAndApplyPlaceholders(),t.find("input[data-focus]").first().focus(),$.browser.msie&&$("#popupContent").is(":visible")&&$("#popupContent").focus(),t.find("a#cantread").each(function(){$(this).on("click",function(){$("#captcha_image").html('<div id="captcha_image" style="background-image:url(/dmcaptcha?rand='+(new Date).getTime()+');"></div>')})}),t.find("input.switcher").each(function(){var t=$(this);t.on("click",function(){t.next().val("show"==t.next().val()?"hide":"show"),DM_Form_Inputs.getInstance(e.forms[n],t.parent().parent()[0]).notify()})}),t.find("input.altmultichoice_action").on("click",function(){var e=$(this),t=e.findParamInClass("actionType"),i=hex2str(e.findParamInClass("actionTarget")),n=null,o=null;switch(t){case"add":n=$("#src_"+i),o=$("#dst_"+i);break;case"remove":n=$("#dst_"+i),o=$("#src_"+i)}n.length>0&&n.find("option").length>0&&n.val()&&$(n.val()).each(function(e,t){o.prepend(n.find('option[value="'+t+'"]').first().remove()),o.trigger("change"),n.trigger("change")})}),t.find("div.dmco_form_olddate select").each(function(){function e(){n.val()&&o.val()&&r.val()?t.siblings('input[type="hidden"]').val([n.val(),Date.padded2(o.val()),Date.padded2(r.val())].join("-")):t.next('input[type="hidden"]').val("")}var t=$(this),i=t.closest(".form_input"),n=i.find("select.year"),o=i.find("select.month"),r=i.find("select.day");e(),t.on("change",e)});var o=t.find(".dmco_form_datev2").find(".date_picker, .time_picker");if(o.length){if(e.dateInputSuffixRe=window.DATE_HIDDEN_INPUT_SUFFIX?new RegExp(DATE_HIDDEN_INPUT_SUFFIX):null,!$.loadPickadate)return void dbg("Cannot build pickadate date/time pickers. Missing js/lib/dm/plugins/jquery.pickadate/loader.js.");$.loadPickadate(o.data("locale"),function(){o.initPicker(),o.each(function(e,t){var i=$(t).closest(".form_input");i.find(".btn").on("click",function(e){e.preventDefault(),e.stopImmediatePropagation();var t=i.find(".date_picker, .time_picker"),n=window.getPicker(t);t.attr("disabled")||setTimeout(function(){n.open()},0)})})})}t.find("input.dmco_form_submit").on("click",function(){$(this).closest("form").find("div.ss_msg").each(function(){var e=$(this),t=e.closest("div.form_input");t&&t.removeClass("has_error"),e.remove()})})}})},checkAndApplyPlaceholders:function(){e.placeholderSupported||$("input, textarea").placeholder()},removeInputMsgs:function(e,t,i){var n=$("FORM"==e.nodeName.toUpperCase()?e:$(e).closest(".form_input"));i=i&&!i.match(/^msg_/)?"msg_"+i:i,n.find(".form_input__message").each(function(){var e=$(this);(!i&&!e.hasClass("msg_for_ajaxchecker")||i&&e.hasClass(i))&&(n.removeClass("form_input--error form_input--success"),e.remove())})},removeFormByName:function(t){var i=e.forms[t];if(i){var n=i.form;$(n).off(),DM_Form_Inputs.reset(i),PubSub.unsubscribe("form:"+t+":rule:visible"),delete e.forms[t]}},removeForm:function(t){var i=$(t),n=i.find('input[name="form_name"]')[0];n&&e.removeFormByName(n.value)},__onDomReady:function(){e.initEvents(),PubSub.subscribe("forms:refresh_init",e.initEvents,this),PubSub.subscribe("popup:opened",e.initEvents,this)}};return e},!0)},function(e,t,i){i(1),i(2),i(18),i(3),_DM.define("DM_Form",function(){var e=function(e){this.init(e)};return e.prototype={init:function(e){this.form=e;var t=$(e),i=this,n=t.find('input[name="form_name"]')[0];this.formName=n?n.value:"none",t.hasClass("live_check")&&(this.liveCheck=!0),this.fieldsToCheck=[],this.fields=[],t.find(".form_input").each(function(){i.fields.push($(this).closest(".form_item")[0])}),this.fields.length&&t.on("submit",$.proxy(this.validate,this)).find(".form_input.check").each(function(){i.fieldsToCheck.push(DM_Form_Inputs.getInstance(i,this))})},validate:function(e){var t=!0,i=$(this.form);try{$.each(this.fieldsToCheck,function(){this.reset(),t=this.validate()&&t})}catch(n){}if(t){if(!i.data("alreadyObserved"))return!0;e.preventDefault(),i.hasClass("no_submit")||this.form.cancelImmediateSubmit||DM_Ajax.submitForm(this.form),this.form.cancelImmediateSubmit=!1}else{e.preventDefault(),$noticeBox=$("#notice_box",i);var o=this.getFormName();if($noticeBox[0]&&DM_Form_Validator[o]&&DM_Form_Validator[o].error_msg){var r=$('<div class="dmpi_notice dmpi_notice_error">',i).hide();r.html('<div id="js-error" class="mrg-btm-xl mo_alert media pdg-md brd-rad-md alert-error pdg-end-md alert-md"><div class="media-img mrg-end-md font-md" data-icon=""></div><div class="media-block pdg-top-xs"><div class="pull-end mrg-start-md js-alert-close clickable" title=""><span class="icon-close"></span></div><div class="pdg-end-lg font-md">'+DM_Form_Validator[o].error_msg+"</div></div></div>"),$noticeBox.html(r),r.show("fast")}}return e.preventDefault(),!1},getFormName:function(){return this.formName},getInputByName:function(e){var t=$.grep(this.fields,function(t){var i=$(t).find("#"+e)[0];return i?!0:!1});return t[0]&&$(t[0]).find(".form_input")[0]}},e},!0)},function(e,t,i){i(1),i(10),i(2),i(7),i(25),_DM.define("DM_Form_Inputs",function(){var e={inputs:{},getInstance:function(t,i){var n=t.getFormName(),o=null;return $(i).children(".dmco_form_input").length&&(o=$(i).children().hasClass("multi-checkbox")&&1==$(i).children().length?$(i).find('input[type="checkbox"]')[0].id:$(i).children(".dmco_form_input")[0].id),e.inputs[n]||(e.inputs[n]={}),e.inputs[n][o]||(e.inputs[n][o]=new DM_Form_Input(t,i)),e.inputs[n][o]},reset:function(t){var i=t.getFormName();e.inputs[i]&&delete e.inputs[i]},getInstanceByFieldName:function(t,i){return e.getInstance(t,t.getInputByName(i))}};return e},!0)},function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(14),__webpack_require__(6),__webpack_require__(3),__webpack_require__(15),_DM.define("DM_Form_Validator",function(){var _self={error_msg:[],getRuleParamsPosition:function(e){return e.indexOf("-")},ruleHasParams:function(e){return this.getRuleParamsPosition(e)>-1},getRuleName:function(e){return this.ruleHasParams(e)?e.slice(0,this.getRuleParamsPosition(e)):e},getRuleParams:function(e){return this.ruleHasParams(e)?e.slice(this.getRuleParamsPosition(e)+1):""},getMsgHashIdForRule:function(e){var t=_self.getRuleName(e),i=_self.getRuleParams(e),n=str2hex(t);return i&&-1!=["character","regex","ajaxchecker"].indexOf(t)&&(n=i),n},required:function(e){if(e.length>0){var t=$.map(e,function(e){return/^\s*$/.test(unescape(e))?void 0:e});if(t.length>0)return!0}return!1},altmultichoice:function(e){var t=[],i=$(e);return i.find("option").each(function(){t.push(unescape($(this).val()))}),i.val(t),!0},compare:function(e,t){var i=t&&$("#"+t);return i[0]?(e=unescape(e),e!==i.val()?!1:!0):!1},emailaddress:function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(unescape(e.lower()))},stringlength:function(e,t){if(e.length>0){var i=$.map(e,function(e){e=unescape(e);var i=!0;if(t=t.split("-"),e)for(var n=0;n<t.length;n++){var o=t[n].split(":");"max"==o[0]?i=e.length<=parseInt(o[1],10)&&i:"min"==o[0]?i=e.length>=parseInt(o[1],10)&&i:"equal"==o[0]&&(i=e.length==parseInt(o[1],10)&&i)}return i});if(i.length>0)return!0}return!1},character:function(e,t){if(e=$.trim(unescape(e)),!/^\s*$/.test(e)&&!/^\s*$/.test(t)){t=hex2str(t).split("::");var i="^["+t[1]+"]+$";return"refuse"==t[0]&&(i="^[^"+t[1]+"]+$"),e.match(i)}return!0},regex:function(e,t){if(e=$.trim(unescape(e)),!/^\s*$/.test(e)&&!/^\s*$/.test(t)){t=$.parseJSON(hex2str(t));var i=t.regex.slice(1,-1),n=new RegExp(i).test(e);return t.negated?!n:n}return!0},ajaxchecker:function(dm_form_input){if(!(dm_form_input instanceof DM_Form_Input))return!0;var input=dm_form_input.getRealInput(),ruleParamsMatches=input.className.match(/rule_ajaxchecker-([a-f0-9]+)/),ruleParams=ruleParamsMatches?ruleParamsMatches[1]:"",optionsProviderString=hex2str(ruleParams),options=eval(optionsProviderString),defaultOptions={url:null,pre_validate:function(){return!0}};return options=$.extend(defaultOptions,$.isString(options)?{}:options),options.url&&options.pre_validate(input.id)&&dm_form_input.validate()?options.url.match(/^\/ajax\//)&&ajax_call(options.url.replace(/\/ajax\//,""),"check_input",input.id,$(input).val(),function(e){var t=$.parseJSON(e);if(t.valid)t.msg&&(DM_Widget_Form.removeInputMsgs(input,"error"),DM_Widget_Form.removeInputMsgs(input,"error","for_ajaxchecker"),dm_form_input.displayInfo.call(dm_form_input,t.msg,"for_ajaxchecker"));else{var i=t.msg||_self[dm_form_input.getFormName()][input.name.sub(/\[.*\]/,"")].ajaxchecker[ruleParams];i&&(DM_Widget_Form.removeInputMsgs(input,"info","for_ajaxchecker"),dm_form_input.displayError.call(dm_form_input,i,"for_ajaxchecker"))}}):(DM_Widget_Form.removeInputMsgs(input,"info","for_ajaxchecker"),DM_Widget_Form.removeInputMsgs(input,"error","for_ajaxchecker"),DM_Widget_Form.focus_id!=input.id||options.pre_validate(input.id)||DM_Widget_Form.removeInputMsgs(input,"error")),!0},date:function(e){if(e.length>0){var t=$.map(e,function(e){var t=e.split("-");return t[0]&&t[1]&&t[2]&&Date.isValidDate(t[0],t[1],t[2])?e:void 0});if(t.length>0)return!0}return!1},callback:function(){return!0}};return _self},!0)},,,,function(e,t,i){i(1),i(2),i(7),_DM.define("DM_EditInPlace",function(){var e={initEditInPlace:function(){e.enabled&&$(document).on("click",".dm_editable",function(t){if(!$(t.target).hasClass("no_eip")){var i=$(this);PubSub.publish("eip:clear");var n=i.data("eip"),o=$.extend({editInPlace:1},n);e.eipElementBackup=i,e.eipElementBackupInnerHTML=$.browser.msie?i.html():null,delete o.target,DM_WidgetV3.get(n.target,n.widget_only_mode?null:"#"+i.identify()[0].id,document.location.pathname+document.location.search,o,function(t){if(n.widget_only_mode){var i=t.responseText.match(/action="([^"]+)"/)[1];e.eipElementBackup.replaceWith('<iframe src="'+i+'" width="'+n.frame_width+'" height="'+n.frame_height+'" frameborder="0" marginheight="0" marginwidth="0" name="eip_frame" id="eip_frame" scrolling="auto"></iframe><div class="dmco_clear"></div>')}else $('form.form_edit_in_place *[name="'+n.inputName+'"]').focus(),$('input[name="cancel_eip"]').on("click",e.editInPlaceCancelled);PubSub.subscribe("eip:clear",e.cancelCurrentEditInPlace);var o=$("form.form_edit_in_place textarea");if(o[0])if(o[0].setSelectionRange)o[0].setSelectionRange(o[0].value.length,o[0].value.length);else if(o[0].createTextRange){var r=o[0].createTextRange();r.collapse(!0),r.moveEnd("character",0),r.moveStart("character",o[0].value.length),r.select()}})}})},cancelCurrentEditInPlace:function(t){var i=$("#eip_frame, form.form_edit_in_place")[0];if(i){var n="iframe"==i.nodeName.toLowerCase(),o=e.eipElementBackup;n||DM_Widget_Form.removeForm(i),t?o=e.eipElementBackup.html(t):e.eipElementBackupInnerHTML&&(o=e.eipElementBackup.html(e.eipElementBackupInnerHTML)),e.fixHoverElementForIE(o),o.html($.stripScripts(o.html())),$(i).replaceWith(o),delete e.eipElementBackup,delete e.eipElementBackupInnerHTML,PubSub.publish("eip:end",o)}},fixHoverElementForIE:function(e){if($.browser.msie){var t=e.clone().hide();$(document.body).append(t),e.css({backgroundColor:t.css("background-color")}).on("mouseover",function(){$(this).attr("style","").off("mouseover")}),t.remove()}},editInPlaceSuccessCallback:function(e){PubSub.publish("eip:clear",e)},editInPlaceCancelled:function(){PubSub.publish("eip:clear")},initialize:function(){e.initEditInPlace()}};return e},!0)},,function(e,t,i){i(1),i(2),_DM.define("DM_Form_Utils",function(){var e={persistData:function(t){e.store.set("form:"+t.find("#form_name").val(),t.serializeJSON())},applyPersistentData:function(t){var i="form:"+t.find("#form_name").val(),n=e.store.get(i),o=!1;return n&&($.each(n,function(e,t){$("#"+e).val(t),o=!0}),e.store.remove(i)),o}};return e},!0)},function(e,t,i){i(1),i(2),i(11),i(15),i(18),i(17),_DM.define("DM_Form_Input",function(){var e=function(e,t){this.observers=[],this.dm_form=e,this._metaInputElement=t,this.observedInputs={},this.changeObserved=!1,this.$inputs=null,this.partialCheck=!1,this.populateInputs();var i=$(t);if(i.findParamInClass("rule_visible")){var n=i.find(".date_picker");if(n.length&&!n.data("built")){var o=this,r=function(){o.initVisibility(),PubSub.unsubscribe(n.data("name")+":built",r)};PubSub.subscribe(n.data("name")+":built",r)}else this.initVisibility()}e.liveCheck&&this.liveCheckInit()};return e.prototype={notify:function(){var e=this;$.each(this.observers,function(){this.update(e)})},register:function(e){this.observers.push(e)},liveCheckInit:function(){var e=this;this.$inputs.each(function(){var t=this,i=$(this);if(!i.hasClass("dmco_form_olddate_select")&&(i.on("blur",function(){$.browser.msie||i.val($.trim(i.val())),/^\s*$/.test(i.val())||(DM_Widget_Form.focus_id=null,e.validate())}),i.on("change",function(){e.validate()}),i.on("focus",function(){DM_Widget_Form.focus_id=t.id}),/rule_ajaxchecker/.test(t.className))){var n=t.id+"_checktimeout",o=function(){DM_Form_Validator.ajaxchecker(e)};i.on("keyup",function(e){e=e||window.event;var t=e.keyCode?e.keyCode:e.which;Keyboard.is_an_input_modifier_key(t)&&(DM_Widget_Form[n]&&clearTimeout(DM_Widget_Form[n]),DM_Widget_Form[n]=setTimeout(o,i.findParamInClass("interval")||500))}),i.on("paste",function(){DM_Widget_Form[n]=setTimeout(o,100)})}})},populateInputs:function(){this.$inputs=$(this._metaInputElement).find("input, select, textarea")},initVisibility:function(){var e=$(this._metaInputElement),t=e.findParamsInClass("rule_visible");try{for(var i=/(.*)\-(.*)/,n=0;n<t.length;n++){var o,r,a;if(r=i.exec(t[n])){var s=r[1],l=s.split("?");if(l.length>1&&!e.hasClassName("visible_and")&&(this.partialCheck=!0),o=r[2],a=o.split("?"))for(var c=0;c<l.length;c++){var d;d=l[c]==this.name?this:DM_Form_Inputs.getInstanceByFieldName(this.dm_form,l[c]);var u=d.getName();this.observedInputs[u]={},this.observedInputs[u].values=a,this.observedInputs[u].visible=!1,d.observeChange(),d.register(this),d.notify()}}}}catch(h){}},observeChange:function(){if(!this.changeObserved){var e=this;this.$inputs.each(function(){var t=$(this),i=t.attr("type");i&&i.match(/radio|checkbox/)?t.on("click",function(){e.notify()}):t.on("change",function(){e.notify()})}),this.changeObserved=!0}},update:function(e){var t=!0,i=e.getValue(),n=this;this.observedInputs[e.getName()].visible=!1,$.each(i,function(){n.observedInputs[e.getName()].values.indexOf(this+"")>=0&&(n.observedInputs[e.getName()].visible=!0)}),this.partialCheck?(t=!1,$.each(this.observedInputs,function(){t=t||this.visible})):$.each(this.observedInputs,function(){t=t&&this.visible});var o=$(this.getContainer());t?(this.visible=!0,o[0]&&(o.show(),PubSub.publish("form:"+this.dm_form.formName+":rule:visible",o,!0))):(this.visible=!1,
o[0]&&(o.hide(),PubSub.publish("form:"+this.dm_form.formName+":rule:visible",o,!1)))},getContainer:function(){var e=this.getRealInput(),t=$(e);return e&&$("#"+e.id+"_cont")[0]||e&&t.closest(".form_item")[0]||e},validate:function(){var t=this,i=!0,n=this.$inputs.filter(function(){return $(this).hasClass("check")})[0]||this.$inputs.get(-1),o=$(this._metaInputElement).find(".date_picker");o[0]&&(n=$('[name="'+o.data("name")+'"]')[0]);var r=$.grep(n.className.split(" "),function(e){return e.match(/^rule_/)}),a=$.grep(r,function(e){return e.match(/^rule_visible/)}).length,s=!0;return a&&(s=this.visible),s&&$.each(r,function(){var o=this.replace("rule_","");if(i!==!0)return void t.removeErrorForRule(o);var r,a=!0;$(n).is("select.channel_select")&&(e.debug=1);try{r=DM_Form_Validator.getRuleName(o);var s=DM_Form_Validator.getRuleParams(o);s?r.match(/^visible/)||(i=DM_Form_Validator[r](t.getFilteredValue(),s),!i&&o.match(/^enume/)&&(a=!1)):i=o.match(/^altmultichoice/)?DM_Form_Validator.altmultichoice(t.getRealInput()):i=DM_Form_Validator[r](t.getFilteredValue())}catch(l){}if(!i&&DM_Form_Validator[t.getFormName()]){if(a){var c=DM_Form_Validator.getMsgHashIdForRule(o);try{var d=t.getRealInput();DM_Widget_Form.removeInputMsgs(d,"info","for_ajaxchecker"),t.displayError(DM_Form_Validator[t.getFormName()][d.name.replace(/\[.*\]/,"")][r][c],c)}catch(l){}}}else t.removeErrorForRule(o)}),i},removeErrorForRule:function(e){var t=DM_Form_Validator.getMsgHashIdForRule(e);try{DM_Widget_Form.removeInputMsgs(this.getRealInput(),"error",t)}catch(i){}},getFormName:function(){return this.dm_form.getFormName()},getName:function(){return this.getRealInput().name},getValue:function(){var e=this.$inputs.length,t=[];if(this.$inputs[0].type.match(/radio|checkbox/))this.$inputs.each(function(){this.checked&&t.push(this.value)});else if(1==e)this.$inputs[0].type.match(/radio|checkbox/)?this.$inputs[0].checked&&t.push(this.$inputs[0].value):this.$inputs[0].tagName.toLowerCase().match(/input|textarea/)?t.push(this.$inputs[0].value):"select"==this.$inputs[0].tagName.toLowerCase()&&t.push(this.$inputs[0].options[this.$inputs[0].selectedIndex].value);else{var i=this.getRealInput(),n=i.value;DM_Widget_Form.dateInputSuffixRe&&DM_Widget_Form.dateInputSuffixRe.test(i.name)&&!$('[name="'+i.name.replace(DM_Widget_Form.dateInputSuffixRe,TIME_HIDDEN_INPUT_SUFFIX)+'"]').val()&&(n=""),t.push(n)}return t},reset:function(){delete this.value,this.filteredValue=[]},getFilteredValue:function(){var e=[],t=$.grep(this.getRealInput().className.split(" "),function(e){return e.match(/^filter_/)}),i=this.getValue();return $.each(i,function(){var i=this;$.each(t,function(e,t){t=t.replace("filter_","");try{i=DM_Form_Filter[t](i.replace("'","'"))}catch(n){}}),e.push(i)}),e},getRealInput:function(){var e=this.$inputs.get(-1);if($realInput=$(e),$realInput.hasClass("dmco_form_olddate_select"))e=this.inputs[0];else{var t=$(this._metaInputElement).find(".date_picker");t[0]&&(e=$('[name="'+t.data("name")+'"]')[0])}return e},getInputs:function(){return this.$inputs},setMessage:function(e,t,i,n){n=n?"msg_"+n:n,e.removeClass("form_input--error form_input--success");var o=e.find(".form_input__message");i&&e.addClass("error"==i?"form_input--error":"form_input--success"),t?(o.length||(o=$('<div class="form_input__message '+(n||"")+'"></div>'),e.append(o)),o.html(t)):o.remove()},displayError:function(e,t){var i=this.getRealInput(),n=$(i).next(".form_input__message")[0];n&&(i=n);var o=$(i),r=$(i).closest(".form_input");r[0]&&(o.hasClass("edit_in_place")?DM_Widget_Page.notify(e,"error"):this.setMessage(r,e,"error",t))},displayInfo:function(e,t){var i=this.getRealInput(),n=$(i).next(".form_input__message")[0];n&&(i=n);var o=$(i),r=o.closest(".form_input");r[0]&&this.setMessage(r,e,"success",t)}},e},!0)},function(){_DM.define("DM_Select2",function(){var e,t={__onDomReady:function(){jQuery.fn.scrollTo=function(e,t,i){return i=i||null,$(this).stop().animate({scrollTop:$(this).scrollTop()-$(this).offset().top+$(e).offset().top},void 0===t?1e3:t,i),this},t.initEvents()},initEvents:function(){t.initQuickSearch()},initPicker:function(e){e.not(function(){return $(this).data("pickadate")||$(this).hasClass(".no-auto-init-select")}).initPicker().pickadate("picker")},initQuickSearch:function(){var t="",i=null;$("body").on("keypress",function(n){if(e){clearTimeout(i),i=setTimeout(function(){t=""},300);var o=n.which||n.keyCode,r=String.fromCharCode(o);if(/[a-z0-9]/i.test(r)){t+=r.toLowerCase();var a=new RegExp("^"+t+".*","gi");$(".select2-result-label",".select2-drop-active:visible").each(function(){if($(this).first().text().toLowerCase().match(a)){$(".select2-results li.select2-highlighted",".select2-drop-active:visible").removeClass("select2-highlighted");var e=$(this).closest("li").addClass("select2-highlighted");return $(".select2-results",".select2-drop-active:visible").scrollTo(e,200),!1}})}}})},initConcernedFields:function(t,i){t.select2(i).on("select2-open",function(){e=$(this)}).on("select2-close",function(){e=null})},initSelects:function(){$(".js-datepicker").length&&("undefined"!=typeof $().initPicker?t.initPicker($(".js-datepicker")):$.loadPickadate(DM_Context.language,function(){t.initPicker($(".js-datepicker"))})),e=null;var i=$("form select");if(i.length){var n={dropdownAutoWidth:!0,minimumResultsForSearch:-1};"undefined"!=typeof $().select2?t.initConcernedFields(i,n):(DM_WidgetV3.addCss("/css/views/shared/select2-patched.ltr.css"),DM_JS.load("/js/lib/bower/select2/select2.js",{name:"Select2",value:$.fn.select2},function(){t.initConcernedFields(i,n)}))}}};return t},!0)},function(e,t,i){i(1),i(2),i(9),_DM.define("DM_Gravity",function(){var e={setProps:function(){("undefined"==typeof GRAVITY_ALLOWED||GRAVITY_ALLOWED)&&(_gravity.push({type:"set",countryCode:DM_Context.geoip_country.toUpperCase()}),_gravity.push({type:"set",ageGate:DM_Context.reader_has_family_filter?"on":"off"}),_gravity.push({type:"set",algo:"undefined"==typeof DM_Context.video_related_algorithm?"":DM_Context.video_related_algorithm}),_gravity.push({type:"set",views:DM_Context.video_views}),(DM_Context.is_logged===!0||"true"===DM_Context.is_logged)&&_gravity.push({type:"set",userId:DM_Context.reader_login}),DM_Context.video_from_related_algorithm&&_gravity.push({type:"set",from_algo:DM_Context.video_from_related_algorithm}))},initialize:function(){("undefined"==typeof GRAVITY_ALLOWED||GRAVITY_ALLOWED)&&(PubSub.subscribe("stats:event",function(e){"watchlater"==e.context&&_gravity.push({type:"event",eventType:"ADD_TO_PLAYLIST",itemId:e.videoXId,playlist:"watch_later"})}),window._gravity=window._gravity||[],DM_ResourcePlanner.add("stat",function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=document.location.protocol+"//dailymotion-ams.gravityrd-services.com/js/dailymotion/gr_reco4-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}))}};return e},!0)},function(e,t,i){i(1),i(2),i(4),i(13),i(6),_DM.define("DM_HapYak",function(){var e={testingStage:"stage-49",apiKey:"75debfb0ce714cd5ae1f",editorApiKey:"ce6755e1bf054b5b9607",currentViewer:null,options:null,availableLangs:["en","ar","de","el","es","fr","hi","in","it","ja","ko","nl","pl","pt","ro","ru","tr","vi","zh"],langMap:{"in":"en",id:"in"},defaultLang:"en",getLang:function(){if(e.siteVersion in e.langMap)return e.langMap[e.siteVersion];if(-1!==e.availableLangs.indexOf(e.siteVersion))return e.siteVersion;var t=e.siteVersion.split("-");return"undefined"!=typeof t[1]&&-1!==e.availableLangs.indexOf(t[1])?t[1]:e.defaultLang},onCalled:function(t){if(log("HapYak","HapYak called on video "+t.videoId),"undefined"!=typeof window.flashOK&&window.flashOK||t.editor){e.options=t;var i=e.baseUrl;window.hapyak?(log("HapYak",i+"/js/hapyak.js is already loaded"),e.load()):(log("HapYak","Load "+i+"/js/hapyak.js"),$.ajax({url:i+"/js/hapyak.js",dataType:"script",cache:!0,success:function(t,i,n){log("Hapyak","-- hapyak.js file successfully loaded!"),200===n.status&&e.load()}}))}},onResize:function(){e.enabled&&"undefined"!=typeof hapyak&&hapyak.notifyResize()},onClean:function(){e.currentViewer&&(log("HapYak","Previous viewer is destroyed."),e.currentViewer.destroy(),e.currentViewer=null)},load:function(){var t=e.readerId;e.currentViewer&&e.onClean();var i=DM_Environment==e.testingStage?"staging":"prod",n=e.baseUrl,o=e.options.modified?n+"?cdn-bust="+e.options.modified:n,r=t==e.options.ownerId?!1:!0;log("HapYak","run in "+i+" environment");var a={cdn:{assets:{prefix:n},api:{prefix:o,enabled:r}}};e.options.editor||(a.tracking={channel:"hoopcast"}),hapyak.partner("dailymotion",{apiKey:e.editorApiKey,environment:i,plugins:a,onLoad:function(i){if(e.options.editor){log("HapYak","Load editor embed");var n={userId:e.options.ownerId,videoId:e.options.videoId,elementId:e.options.elementId,width:e.options.width,height:e.options.height,css:e.options.cssPath,onNewTrack:e.options.callback,onSave:function(){var t={request:e.options.videoUri,method:"updateVideoModified",callback:function(){}};DM_Controller.call("Page_VideoAnnotations",t)}};e.options.templates&&(n=e.getConfigWithTemplates(n,e.options.templates));var o=i.editor(n);i.externalEditor(o,"hapyak-sidepanel-container",{lang:e.getLang()})}else{log("HapYak","Load viewer embed");var r={playerMode:e.options.playerMode,player:e.options.domElement,videoId:e.options.videoId,userId:t,authorId:e.options.ownerId,css:"undefined"!=typeof e.cssPath?e.cssPath:"",onLoad:function(t){log("HapYak","Viewer is loaded"),e.currentViewer=t,PubSub.publish("dm:hapyak:loaded",t)}};e.options.templates&&(r=e.getConfigWithTemplates(r,e.options.templates)),i.viewer(r)}}})},getConfigWithTemplates:function(e,t){var i=[],n={};if(Object.keys(t).length>0){for(var o in t)if(t.hasOwnProperty(o))switch(i[i.length]=t[o].type,o){case"channel-promotion":n.channel=t[o].channel;break;case"next-video":n.video=t[o].videoId}e.project={template:{tags:i}},e.variables=n}return e},onDMPlayerReady:function(t){e.enabled&&e.init(t)},init:function(t){var i,n=e.videoId,o=e.ownerId,r=e.videoModified,a="html5"==DM_Player_Type.get()?"api":"flash";n&&(i={domElement:t,ownerId:o,videoId:n,autoplay:!0,embed:!1,playerMode:a,modified:r},e.templates&&(i.templates=e.templates)),e.onCalled(i)},initialize:function(){DM_PlayerEvents.on("Ready","video_player_main",e.onDMPlayerReady)},__initialize:function(){PubSub.subscribe("dm:hapyak:called",e.onCalled),PubSub.subscribe("dm:hapyak:clean",e.onClean),PubSub.subscribe("player:resized",e.onResize)}};return e},!0)},,,function(e,t,i){i(1),i(2),i(4),_DM.define("DM_Masscast_CompanionAd",function(){var e={adReceived:function(e){log("Masscast","Received companion ad from player",e);var t=e.data,i=728==e.width&&90==e.height?"Top":300==e.width&&250==e.height?"Middle":null;$("#mc_"+i).length&&(PubSub.publish("masscast:companion_ad_displayed",i),"http://"==t.substr(0,7)&&(t=$('<iframe src="'+t.replace(/\/\/ad.auditude.com/i,"//auditude.dailymotion.com")+'" width="'+e.width+'px" height="'+e.height+'px" scrolling="no" frameBorder="0" allowTransparency="true"></iframe>')),$("#mc_"+i).show().html(t))},__initialize:function(){var t="hub_item"==DM_Context.route_name?"video_main_player":"video_player_main";DM_PlayerEvents.on("AdDisplayBanner",t,e.adReceived)}};return e},!0)},function(e,t,i){i(1),i(2),i(5),_DM.define("DM_Masscast_Middle1",function(){var e={params:null,onCodeReceived:function(e){this.setParams(e),this.build()},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){if(this.params&&!this.built){this.built=!0;var e=this;$.get("/controller/Masscast?method=getSponsoredItem&method%3Aargs="+encodeURIComponent($.toJSONString([this.params])),function(t){$("#mc_Middle1").html(t),e.addTrackingAndRedirect()})}},addTrackingAndRedirect:function(){var e,t=this.params.redirectUrl,i=this.params.clickCount,n=$("div.sponsored_item");n.find("a.preview_link","a.preview_link_normal","a.video_title","a.name").each(function(){var n=this.href;this.href="javascript:void(0);",this.onclick=function(){var o=t||n,r=function(){clearTimeout(e),document.location.href=o};if(i){img=document.createElement("img");try{img.src=i}catch(a){log("Masscast","middle1","!!! wrong clickCount url provided !!!")}img.onload=r,img.onerror=r,document.body.appendChild(img)}return e=setTimeout(r,500),!1}})},__initialize:function(){PubSub.subscribe("masscast:position_Middle1",this.onCodeReceived,this)}};return e},!0)},,function(e,t,i){i(1),i(2),i(5),_DM.define("DM_Masscast_X11",function(){var e={params:null,relatedAvailable:!1,onCodeReceived:function(e){this.setParams(e),this.build()},onRelatedLoaded:function(){this.relatedAvailable=!0,this.build()},setParams:function(e){this.params=$.isString(e)?new Function("return "+e)():e},build:function(){if(this.params&&this.relatedAvailable&&!this.built){this.built=!0;var e=$("div.sd_video_related").first(),t=this;e.length&&$.get("/controller/Masscast?method=getBuzzableItem&method%3Aargs="+encodeURIComponent($.toJSONString([this.params])),function(i){var n=0,o=e.find("div.sd_video_itemrelated").get(n);o?$(o).after(i):e.append(i),$(".pl_video_advertitemrelated").find("a").on("click",{that:t},t.onRelatedClicked)})}},onRelatedClicked:function(e){e.preventDefault();var t=$(e.currentTarget),i=e.data.that,n=i.params.redirectUrl,o=i.params.clickCount,r=t.attr("href"),a=n||r,s=null,l=function(){s&&clearTimeout(s),document.location.href=a};if($(e.target).hasClass("name")&&(a=$(e.target).data("owner-url")),o){var c=$("<img />");try{c.attr("src",o)}catch(d){log("Masscast","x11","!!! wrong clickCount url provided !!!")}c.on("load",l),c.on("error",l),t.append(c)}s=setTimeout(l,500)},__initialize:function(){PubSub.subscribe("masscast:position_x11",this.onCodeReceived,this),PubSub.subscribe("related:loaded",this.onRelatedLoaded,this)}};return e},!0)},,,function(e,t,i){i(2),i(7),i(10),function(e){var t,i,n=[];e.extend({loadPickadate:function(o,r){function a(){i=!1,t=!0;for(var e=0,o=n.length;o>e;e++)n[e]()}function s(){"default"==l||window[c]?a():DM_JS.load("/js/lib/plugins/jquery.pickadate/translations/"+l+".js",c,function(){window[c]=!0,a()})}if(t)return r(),this;if(n.push(r),i)return this;DM_WidgetV3.addCss("@pickadatetime."+DM_Context.direction+".css"),i=!0;var l,c,d=["bg_BG","da_DK","el_GR","et_EE","fi_FI","he_IL","hu_HU","it_IT","no_NO","pt_BR","ro_RO","sk_SK","th_TH","uk_UA","bs_BA","cs_CZ","de_DE","es_ES","eu_ES","fr_FR","hr_HR","id_ID","nl_NL","pl_PL","pt_PT","ru_RU","sv_SE","tr_TR","zh_CN","vi_VN","ja_JP","ko_KR"];if(d.indexOf(o)>=0)l=o;else{var u=o.slice(0,2);d.indexOf(u+"_"+u.toUpperCase())&&(l=u+"_"+u.toUpperCase())}!l||l.match(/^en_/)||d.indexOf(l)<0?l="default":c="pickadate_"+l,e.fn.pickadate&&e.fn.pickatime?s():DM_JS.load("@pickadatetime.js","Pickadate",function(){s()})}})}(jQuery)},function(){!function(e,t,i){function n(e){var t={},n=/^jQuery\d+$/;return i.each(e.attributes,function(e,i){i.specified&&!n.test(i.name)&&(t[i.name]=i.value)}),t}function o(e,t){var n=this,o=i(n);if(n.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=t;o.focus()}else n.value="",o.removeClass("placeholder"),n==a()&&n.select()}function r(){var e,t=this,r=i(t),a=this.id;if(""===t.value){if("password"==t.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(s){e=i("<input>").attr(i.extend(n(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":a}).bind("focus.placeholder",o),r.data({"placeholder-textinput":e,"placeholder-id":a}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",a).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function a(){try{return t.activeElement}catch(e){}}var s,l,c="[object OperaMini]"==Object.prototype.toString.call(e.operamini),d="placeholder"in t.createElement("input")&&!c,u="placeholder"in t.createElement("textarea")&&!c,h=i.fn,p=i.valHooks,f=i.propHooks;d&&u?(l=h.placeholder=function(){return this},l.input=l.textarea=!0):(l=h.placeholder=function(){var e=this;return e.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":o,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},l.input=d,l.textarea=u,s={get:function(e){var t=i(e),n=t.data("placeholder-password");return n?n[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var n=i(e),s=n.data("placeholder-password");return s?s[0].value=t:n.data("placeholder-enabled")?(""===t?(e.value=t,e!=a()&&r.call(e)):n.hasClass("placeholder")?o.call(e,!0,t)||(e.value=t):e.value=t,n):e.value=t}},d||(p.input=s,f.value=s),u||(p.textarea=s,f.value=s),i(function(){i(t).delegate("form","submit.placeholder",function(){var e=i(".placeholder",this).each(o);setTimeout(function(){e.each(r)},10)})}),i(e).bind("beforeunload.placeholder",function(){i(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery)},function(){!function(e){e.fn.serializeJSON=function(t){var i={},n=e(this);return n.find("input, select, textarea").each(function(){var n;if(this.name)if("radio"===this.type){if(i[this.name])return;i[this.name]=this.checked?this.value:""}else"checkbox"===this.type?(n=i[this.name],this.checked?i[this.name]="string"==typeof n?[n,this.value]:e.isArray(n)?e.merge(n,[this.value]):this.value:!n&&t&&(i[this.name]="")):i[this.name]=e(this).val()}),i}}(jQuery)},function(e,t,i){i(1),i(2),_DM.define("Mo_Tabs",function(){var e={onTabClicked:function(t){var i=$(this),n=i.find(".js-tab-content");return n.attr("href")&&n.attr("href").match(/^\//)?!0:(t.preventDefault(),e.tabClicked(i),!1)},tabClicked:function(t){return!t.hasClass("active")&&(PubSub.publish("dm:tabs_clicked",{tab:t.attr("id"),current:$("ul.mo_tabs[data-evented] li.active").attr("id")}),t.closest(".mo_tabs").hasClass("no-select"))?void PubSub.publish("dm:tabs_clicked:li",t.children().attr("id"),t):(t.identify(),void e.selectTab(t))},selectTab:function(t){e.removeActive(t.closest(".mo_tabs")),t.addClass("active"),PubSub.publish("dm:tabs_selected",t.attr("id")),PubSub.publish("dm:tabs_selected:li",t.attr("id"),t)},removeActive:function(e){var t=e.find("li.active")||$("ul.mo_tabs li.active");t.removeClass("active")},init:function(){$("ul.mo_tabs[data-evented]").each(function(){$(this).data("bound")||($(this).data("bound",!0),PubSub.subscribe("dm:tabs_select",e.selectTab),PubSub.publish("dm:tabs_initialized",$("ul.mo_tabs[data-evented]")),$("body").on("click","ul.mo_tabs[data-evented] li",e.onTabClicked))})},__initialize:function(){PubSub.subscribe("component:loaded:pl_video_tabs",e.init),e.init()}};return e},!0)},function(e,t,i){i(1),i(2),i(10),i(4),_DM.define("Sd_AdSense_AFC",function(){var e={timeoutId:null,player:null,loaded:!1,initTriggers:function(){DM_PlayerEvents.on("StateChange","video_player_main",e.playerStateChange),DM_PlayerEvents.on("AdStart","video_player_main",e.playerLinearStart),e.timeoutId=setTimeout(e.insertAFCScript,5e3)},playerStateChange:function(t){1===t&&(e.cleanPlayerListeners(),e.insertAFCScript())},playerLinearStart:function(){e.cleanPlayerListeners(),e.insertAFCScript()},cleanPlayerListeners:function(){DM_PlayerEvents.off("StateChange","video_player_main",e.playerStateChange),DM_PlayerEvents.off("AdStart","video_player_main",e.playerLinearStart)},insertAFCScript:function(){arguments.callee.done||(arguments.callee.done=!0,DM_JS.load("http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"))},__initialize:function(){window.AFC_ENABLED&&($("ins.adsbygoogle").css({display:"inline-block"}),window.AFC_DELAYED?e.initTriggers():e.insertAFCScript())}};return e},!0)},,,function(e,t,i){i(1),i(2),i(5),i(19),i(12),_DM.define("Sd_User_Tip_Follow",function(){var e={capping:5,$currentTipEl:null,onVideoLoaded:function(t){var i=DM_ReaderSession.getData("displayedFollowTips"),n=DM_ReaderSession.getData("noFollowTipUsers"),o=t.ownerLogin;if((!n||-1==n.indexOf(o))&&(!i||"undefined"==typeof i[o]||i[o]<e.capping)){var r=DM_ReaderSession.getData("startedVideosByLogin");r[o].length>=3&&setTimeout(function(){e.show(o),DM_ReaderSession.add("displayedFollowTip",o)},1e3)}},onClose:function(e){if(e.find(".sd_user_tip_follow").length>0){var t=e.find(".sd_user_tip_follow").data("user");DM_ReaderSession.add("noFollowTipUsers",t),DM_Stats.trigger({action:"follow",context:"close_push_tooltip"})}},onSubscribe:function(){e.$currentTipEl&&e.$currentTipEl.tipsy("hide")},show:function(t){$(".pl_video_infos .sd_user_subscribe .btn-success .icon-plus").length>0&&$.ajax({url:"/controller/Shared_User_Tip",dataType:"html",data:{type:"follow",request:"/"+t}}).done(function(t){e.$currentTipEl=$(".pl_video_infos .js-tipsy-follow button"),e.$currentTipEl.tipsy({gravity:"w",className:"tipsy-infotip",html:!0,opacity:1,title:function(){return t},trigger:"manual",tooltip_type:"tipsy-infotip",close_button:!0}),e.$currentTipEl.tipsy("hide"),e.$currentTipEl.tipsy("show"),$(".pl_video_infos .sd_user_subscribe .btn-success").data("subscribe-context","push-follow-toolip"),DM_Stats.trigger({action:"follow",context:"display_push_tooltip"})})},onPlayerResizeStart:function(){e.$currentTipEl&&e.$currentTipEl.tipsy("hide")},onPlayerResizeDone:function(){e.$currentTipEl&&e.$currentTipEl.tipsy("show")},__initialize:function(){PubSub.subscribe("dm:player:video_loaded",e.onVideoLoaded),PubSub.subscribe("dm:tipsy:closed",e.onClose),PubSub.subscribe("dm:user_logged:subscribe",e.onSubscribe),PubSub.subscribe("player:resizing",e.onPlayerResizeStart),PubSub.subscribe("player:resized",e.onPlayerResizeDone),PubSub.subscribe("tip:update",e.onPlayerResizeDone)}};return e})},,function(e,t,i){i(1),i(2),i(27),_DM.define("Sd_Video_Related",function(){var e={setupGravityEvents:function(){window.GRAVITY_ALLOWED&&$("#related").on("click",".sd_video_itemrelated > a",function(e){$(e.target).data("user-uri")&&(e.preventDefault(),window.location.href=$(e.target).data("user-uri"));var t=/^\/video\/(x[a-z0-9]+)_./,i=t.exec($(this).attr("href"))[1],n={type:"event",eventType:"REC_CLICK",itemId:i,placement:"suggestions"};window.GRAVITY_RELATED_REC_ID&&(n.recId=window.GRAVITY_RELATED_REC_ID,setCookieWithFormat("rri_"+i,window.GRAVITY_RELATED_REC_ID,1,"m")),_gravity.push(n)})},__onDomReady:function(){e.setupGravityEvents()}};return e},!0)},function(e,t,i){i(1),i(2),i(9),i(3),i(12),_DM.define("Sd_Video_Socialbuttons",function(){var e={data_track_addressbar:!1,services_exclude:"facebook_like,twitter,print,youtube_follow,orkut",ui_show_promo:!1,pubid:"ra-504706f322d41bdb"},t=["pinterest_share","facebook","twitter","stumbleupon","reddit","tumblr","email","blogger","wordpress"],i={fr:["skyrock"],tr:["delicious"],de:["jappy","werkenntwen"],it:["odnoklassniki_ru"],es:["tuenti"],pl:["naszaklasa"],ru:["vk","odnoklassniki_ru","mymailru"],nl:["hyves"],vn:["zingme"]},n=["twitter","tweet","vk","blogger","wordpress","reddit","tumblr","google_plusone_share","naszaklasa","tuenti","linkedin","viadeo","werkenntwen","stumbleupon","skyrock","digg","zingme","odnoklassniki_ru","delicious","jappy"],o=function(e){return i[e]?t.concat(i[e]).join(","):t.join(",")},r=function(e){return-1!=$.inArray(e,n)||/.*(facebook|pinterest).*/.test(e)},a={onSocialbuttonsLoaded:function(e){var t=$("#"+e)[0];FB.XFBML.parse(t),this.initTwitterButton(t),a.initAddThisOnHover()},builtButtons:{},buildAddthisButton:function(t){var i=$("#addthis-"+t.video_xid),n=i.data("title"),r=t.content_version,s="#addthis-"+t.video_xid+" .addthis_button_compact span";"fr"===t.content_version&&(e.services_custom={name:"Canalblog",url:"http://www.canalblog.com/cf/my/?nav=blog.post.dm&vid="+t.video_xid+"&vtitle="+encodeURIComponent(n),icon:"/images/icons/canalblog.png"}),e.services_compact=o(r),"undefined"==typeof addthis?DM_ResourcePlanner.add("social",function(){$.getScript("http://s7.addthis.com/js/250/addthis_widget.js",function(){addthis.addEventListener("addthis.menu.share",a.addthisShareEventHandler),addthis.toolbox("#addthis-"+t.video_xid,e),addthis.addEventListener("addthis.ready",$.proxy(a.triggerMouseover,$(s)))})}):(addthis.toolbox("#addthis-"+t.video_xid,e),addthis.addEventListener("addthis.ready",$.proxy(a.triggerMouseover,$(s)))),a.builtButtons[t.video_xid]=!0},triggerMouseover:function(){$(this).trigger("mouseover")},initAddThisOnHover:function(){$("div.addthis_toolbox").on("mouseenter",function(){var e=this.id.replace(/addthis-/,"");if(e in a.builtButtons)return!1;var t={video_xid:e,content_version:DM_Context.content_version};document.location.href.match(/\.com\/video\//)&&(t.is_on_playerpage=!0),a.buildAddthisButton(t)})},addthisShareEventHandler:function(e){if("addthis.menu.share"==e.type){var t=$("div.addthis_toolbox").filter(function(){return $(this).attr("addthis:url")==e.data.url});if(t.length){var i=t.data("video_xid"),n=t.data("user_xid"),o=e.data.service;r(o)&&ajax_call("video","log_share_action",n,i,o,null),DM_Stats.trigger({action:"share",context:e.data.service})}}},initTwitterButton:function(e){"undefined"==typeof window.twttr?window.twttr=function(e,t,i){var n,o,r=e.getElementsByTagName(t)[0];if(!e.getElementById(i))return o=e.createElement(t),o.id=i,o.src="https://platform.twitter.com/widgets.js",DM_ResourcePlanner.add("social",function(){r.parentNode.insertBefore(o,r)}),window.twttr||(n={_e:[],ready:function(e){n._e.push(e)}})}(document,"script","twitter-wjs"):twttr.widgets.load(e),twttr.ready(function(e){e.events.bind("tweet",a.onTweet)})},onTweet:function(e){var t=$(e.target.parentNode),i=t.attr("data-video_xid"),n=t.attr("data-user_xid");ajax_call("video","log_share_action",n,i,"twitter",null),DM_Stats.trigger({action:"share",context:"twitter"})},__initialize:function(){PubSub.subscribe("dm:socialbuttons_loaded",a.onSocialbuttonsLoaded,a),a.initAddThisOnHover(),$("a.twitter-share-button").length&&this.initTwitterButton()}};return a},!0)},,,,function(e,t,i){i(1),i(2),i(7),_DM.define("Pl_Video_Comments",function(){var e={canLoadMoreComments:!0,clearTextarea:!1,initIsDone:!1,page:1,initEvents:function(){$("body").on("click",".cancel_comment_eip, .comment_edit",Pl_Video_Comments.cancelEipComment).on("click","#submit_comment_eip",Pl_Video_Comments.resetErrorMessages).on("submit",".pl_video_post_comment form",Pl_Video_Comments.onCommentSent).on("keypress",".dmpi_comment_edit textarea",Pl_Video_Comments.checkCommentAsTyping).on("click","#comment",Pl_Video_Comments.onTextareaClick).on("blur","#comment",Pl_Video_Comments.onTextareaBlur).on("click",".pl_video_comment .spam",Pl_Video_Comments.markAsSpam).on("click",".js-comment-share",e.shareComment).on("click",".pl_video_comment .js-show_more",Pl_Video_Comments.toggleContent),PubSub.subscribe("comment:posted",Pl_Video_Comments.saveCommentCallback),e.initIsDone=!0},__initialize:function(){this.initEvents()},onCommentPosted:function(e){$(this).replaceWith(e)},onCommentSent:function(){return $form=$(this),$textfield=$form.find("input"),$textfield.val()?$.post($form.attr("action"),$form.serialize(),$.proxy(e.onCommentPosted,this)):$textfield.attr("placeholder",$textfield.data("no-message")),!1},onTextareaClick:function(){e.clearTextarea&&($(this).html(""),e.clearTextarea=!1)},onTextareaBlur:function(){e.clearTextarea=!1,$(this).val().length||(e.clearTextarea=!0,e.clearErrorNotice())},clearErrorNotice:function(){$("#comment").length&&!$("#comment").val().length&&($("#comment").parent().removeClass("form_input--error"),$("#comment").next().html("0/"+MAX_COMMENT_LENGTH+" "+e.charactersLabel))},loadComments:function(){e.page=1,$commentsContainer=$(".pl_video_comments"),$commentsContainer.length>1&&$commentsContainer.each(function(e){e>0&&$(this).remove()}),DM_WidgetV3.multiGet("video",document.location.pathname,{comments:{replace:".pl_video_comments",options:{}}})},updateCommentsInfo:function(t){$(".js-comments-count").html(t),$("#comment").attr("placeholder",0===t?e.commentFirstMessage:e.commentMessage)},toggleEipComment:function(e){var t=e.find(".js-comment-text"),i=e.find(".dmpi_comment_edit").first(),n=i.children().next().children().children().first();if(t.toggle(),i.length)i.toggle(),n.val(t.html());else{var o=e.attr("id").replace(/comment_/,""),r="comment_edit_"+o;t.after('<div id="'+r+'"></div>'),$(".dm_pageitem_comment_edit_"+o).length&&DM_Widget_Form.removeFormByName("dm_pageitem_comment_edit_"+o),DM_WidgetV3.get("/pageitem/comment/edit","#"+r,"/?show=1&comment_id="+o)}},cancelEipComment:function(){var t=$(this).parentsUntil(".pl_video_comment").parent();e.toggleEipComment(t),e.resetErrorMessages()},updateComment:function(t,i,n){if(n){var o=$("#comment_"+t);o.find(".js-comment-text").html(i.replace(/\\/g,"")),e.toggleEipComment(o)}},resetErrorMessages:function(){var e=$("body").find(".comment_error_msg");e.length&&e.each(function(){$(this).remove()})},markAsSpam:function(){var t=$(this).data("id");confirm(e.markAsSpamMessage)&&ajax_call("video","set_comment_as_spam",t,function(i){e.updateCommentsInfo(i),$("#comment_"+t).slideUp("slow")})},checkCommentAsTyping:function(){var t,i=$(this),n=i.val(),o=n.length,r=DM_WidgetV3_PageItem_Comment_Post_maxCommentSize;e.resetErrorMessages(),o>=r?(i.before('<div class="comment_error_msg"></div>'),t=$("#ajax_comment").find(".comment_error_msg").first(),i.val(n.substring(0,r)),t.html(DM_WidgetV3_PageItem_Comment_Post_maxCommentSizeLabel)):o>r/1.3&&(i.before('<div class="comment_error_msg"></div>'),t=$("#ajax_comment").find(".comment_error_msg").first(),t.html(r-o))},saveCommentCallback:function(t){$("#load_more_comments_button").remove(),e.updateCommentsInfo(t),store.get("unlogged_action")&&PubSub.publish("unlogged_action:done"),e.loadComments()},shareComment:function(){var t=$(this),i='"'+t.closest(".media-block").find(".js-comment-text").text()+'"';"fb"===t.data("target")&&DM_Facebook.postToFeed(i,document.location.href).done(function(t){DM_JS.get("DM_Notify",function(){"undefined"!=typeof t.id?DM_Notify.notify.apply(DM_Notify,[e.facebookShareDone,"page"]):"undefined"!=typeof t.error&&DM_Context.reader_is_admin&&DM_Notify.notify.apply(DM_Notify,[t.error.type+"\n"+t.error.message,"error"])})}),"tw"===t.data("target")&&DM_Twitter.sharePopup(shortVideoLink,i)},initCommentsHeightControl:function(){e.initCommentsHeightControl.lazyDone?$(".pl_video_comments").find(".js-height_init").each(function(){var e=$(this);e.removeClass("js-height_init"),e.height()>e.closest(".js-comment_text_cropper").height()&&e.closest(".pl_video_comment").find(".js-show_more_container").removeClass("hidden")}):$(".pl_video_comment_post_and_comments").one("mouseover",function(){e.initCommentsHeightControl.lazyDone=!0,e.initCommentsHeightControl()})},toggleContent:function(){var e=$(this),t=e.closest(".pl_video_comment").find(".js-comment_text_cropper"),i=e.closest(".pl_video_comment").find(".js-show_more");t.data("expanded")?(t.removeAttr("style"),t.data("expanded",!1),i.html(i.data("more"))):(t.css("max-height","100%"),t.data("expanded",!0),i.html(i.data("less")))}};return e},!0)},function(e,t,i){i(1),i(10),i(2),i(15),i(23),i(51),_DM.define("DM_Widget_PageItem_Comment_Post",function(){var e=!1,t={message:null,initEvents:function(){$("body").on("focus","#comment",DM_Widget_PageItem_Comment_Post.openTextarea).on("keypress","#comment",DM_Widget_PageItem_Comment_Post.checkCommentAsTyping).on("click",".comment-submit #submit",DM_Widget_PageItem_Comment_Post.askFBPermissions).on("mousedown","#submit",t.onTextareaSubmit).on("click",t.closeTextarea).on("change","#share-fb",t.toggleFacebookShare),PubSub.subscribe("comment_post:focus",DM_Widget_PageItem_Comment_Post.focusAndOpenTextarea),PubSub.subscribe("comment:posted",DM_Widget_PageItem_Comment_Post.onCommentPosted)},isPosted:function(){var e=$.Deferred(),t=function(){PubSub.unsubscribe("comment:posted",t),e.resolve()};return PubSub.subscribe("comment:posted",t),e.promise()},askFBPermissions:function(){t.currentComment=$("#comment").val(),$.when(t.isPosted(),DM_Facebook.askPermissions("publish_actions")).done(function(){
t.commentFacebook(t.currentComment)})},onCommentPosted:function(){$("#comment").val(""),t.closeTextarea(!1,!0),DM_Stats.trigger({action:"comment_video"})},commentFacebook:function(e){DM_Facebook.commentVideo(location.href,e).done(function(e){"undefined"!=typeof e.error&&DM_Context.reader_is_admin&&DM_JS.get("DM_Notify",function(){DM_Notify.notify.apply(DM_Notify,[e.error.type+"\n"+e.error.message,"error"])})})},focusAndOpenTextarea:function(){var e=$(".pl_video_comment_post_and_comments"),i=e.offset().top;$("html,body").animate({scrollTop:i},0),t.openTextarea()},toggleFacebookShare:function(){$("#comment").focus()},onTextareaSubmit:function(){e=!0},openTextarea:function(){$(".dmpi_comment_post").addClass("dmpi_comment_post--open")},closeTextarea:function(e,t){e=e||!1,t=t||!1,!$("#comment").val()&&(t||e&&0===$("#comment-form").has(e.target).length)&&($(".dmpi_comment_post").removeClass("dmpi_comment_post--open"),Pl_Video_Comments.clearErrorNotice())},checkCommentAsTyping:function(){var e,t=$(this),i=t.val(),n=i.length,o=DM_WidgetV3_PageItem_Comment_Post_maxCommentSize;Pl_Video_Comments.resetErrorMessages(),n>=o?(t.before('<div class="comment_error_msg"></div>'),e=$("body").find(".comment_error_msg").first(),t.val(i.substring(0,o)),e.html(DM_WidgetV3_PageItem_Comment_Post_maxCommentSizeLabel)):n>o/1.3&&(t.before('<div class="comment_error_msg"></div>'),e=$("body").find(".comment_error_msg").first(),e.html(o-n))},__initialize:function(){this.initEvents()}};return t},!0)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){i(1),i(2),i(4),i(90),_DM.define("DM_RUM_Video",function(){var e={eventCatchingDone:!1,hasHandlers:!1,player:null,data:{},playerEvents:["StateChange","VideoProgress","AdStart","AdEnd","VideoMetadata"],initialize:function(){DM_PlayerEvents.on("Ready","video_player_main",function(t){if(e.player=t,window.playerEventsRegistry&&playerEventsRegistry.video_player_main)for(var i=0,n=playerEventsRegistry.video_player_main.length;n>i;i++){var o=playerEventsRegistry.video_player_main[i];e.playerHandler(o[0])(o[1],o[2])}e.addPlayerEvents()})},playerHandler:function(t){return e.playerHandler.memoized||(e.playerHandler.memoized={}),e.playerHandler.memoized[t]||(e.playerHandler.memoized[t]=function(i,n){var o=t;if(!e.eventCatchingDone){if("VideoMetadata"==t)return void DM_RUM.addVar("cell",i.streamInfo?i.streamInfo.cell||"n/a":"n/a");"StateChange"==t&&(o=t+"_"+i),DM_RUM.addVar("t_"+o,n||(new Date).getTime()),"VideoProgress"==t&&(e.eventCatchingDone=!0,e.removePlayerEvents(),PubSub.publish("rum:player_ready"))}}),e.playerHandler.memoized[t]},addPlayerEvents:function(){if(!e.eventCatchingDone){for(var t=0,i=e.playerEvents.length;i>t;t++)DM_PlayerEvents.on(e.playerEvents[t],e.player,e.playerHandler(e.playerEvents[t]));e.hasHandlers=!0}},removePlayerEvents:function(){if(e.hasHandlers){for(var t=0,i=e.playerEvents.length;i>t;t++)DM_PlayerEvents.off(e.playerEvents[t],e.player,e.playerHandler(e.playerEvents[t]));delete e.player}}};return e},!0)},,,function(e,t,i){i(1),i(2),i(39),_DM.define("Pl_Video_EmbedCode",function(){var e={startTime:"00:00",getEmbedCodeTimeoutID:0,initEvents:function(){$("body").off(".embedcode"),$("body").on("click.embedcode","#short_url",this.toggleShortUrl).on("change.embedcode","#embed",this.onSubmitForm).on("submit.embedcode","#embed",this.onSubmitForm).on("click.embedcode","#embed_start_time",this.onCheckStartTime).on("blur.embedcode","#embed_start_time_value",this.handleStartTime).on("change.embedcode","#embed_width",this.onChangeSize).on("keyup.embedcode","#embed_custom_width",this.checkCustomWidthValue).on("change.embedcode","#embed_custom_width",this.onChangeCustomWidthValue).on("click.embedcode","#embed_autoplay",this.onCheckOption)},toggleShortUrl:function(){var e=$("#permalink");e.val(e.data($("#short_url").is(":checked")?"short-url":"url"))},onSubmitForm:function(){return!1},onChangeSize:function(){"custom"==$(this).val()?($("#embed_custom_width_container").show(),$("#embed_custom_width").val()&&$("#embed_custom_width").val()>0&&e.getEmbedCode()):($("#embed_custom_width_container").hide(),e.getEmbedCode())},checkCustomWidthValue:function(){$(this).val(parseInt($(this).val(),10)),isNaN($(this).val())&&$(this).val("")},onChangeCustomWidthValue:function(){e.getEmbedCode()},onCheckStartTime:function(){$(this).is(":checked")?e.handleStartTime($(this)):($("#embed_start_time_seconds").val(""),e.getEmbedCode())},handleStartTime:function(){var t=new RegExp("^[0-9]{1,2}[:][0-9]{1,2}$","g"),i=$("#embed_start_time_value").val();if(t.test(i)){var n=i.split(":"),o=60*parseInt(n[0],10),r=parseInt(n[1].split(",")[0],10);startTime=parseFloat(o+r),startTime<$("#video_duration").val()?($("#errorStartPlaying").hide(),e.startTime=i,$("#embed_start_time").is(":checked")&&startTime>0&&($("#embed_start_time_seconds").val(startTime),e.getEmbedCode())):($("#embed_start_time_value").val(e.startTime),$("#errorStartPlaying").show())}else $("#embed_start_time_value").val(e.startTime)},convertSecondsToTime:function(e){var t=0,i=Math.floor(e/60),n=Math.ceil(e%60);return i>=60?(t=Math.floor(i/60),i%=60,t=10>t?"0"+t:t,i=10>i?"0"+i:i,n=10>n?"0"+n:n,t+":"+i+":"+n):(i=10>i?"0"+i:i,n=10>n?"0"+n:n,i+":"+n)},onCheckOption:function(){var t=$(this);"embed_autoplay"==t.attr("id")&&(t.is(":checked")?($("#embed_hide_in_player_infos").parent().addClass("disabled"),$("#embed_hide_in_player_infos").prop("disabled",!0)):($("#embed_hide_in_player_infos").parent().removeClass("disabled"),$("#embed_hide_in_player_infos").prop("disabled",!1))),e.scheduleGetEmbedCode()},getEmbedCode:function(){var t=JSON.stringify($("#embed").serializeJSON(!1));ajax_call("video","get_embed_code",$("#video_request").val(),t,e.callbackEmbedCode)},callbackEmbedCode:function(e){e=$.parseJSON(e),$("#embed_code").val(e.playerEmbedCode),$("#embed_code").stop().css({opacity:.3}).animate({opacity:1},700).on("click",function(){$(this).select(),DM_Stats.trigger({action:"share",context:"use_embed_code"})})},scheduleGetEmbedCode:function(){clearTimeout(e.getEmbedCodeTimeoutID),e.getEmbedCodeTimeoutID=setTimeout(e.getEmbedCode,500)},init:function(){if(e.toggleShortUrl(),e.initEvents(),$("#embed").length){var t=$("#embed").serializeJSON(!1);t.width&&"custom"==t.width&&(getCookie("width")?($("#embed_custom_width").val(getCookie("width")),$("#embed_custom_width_container").show()):$("#embed_width")[0].selectedIndex=1)}e.getEmbedCode()}};return e},!0)},function(e,t,i){i(1),i(2),i(7),i(126),_DM.define("Pl_Video_Stats",function(){var e={chart:null,setupGraph:function(e,t){t||(t=[{}]);var i="left";"rtl"===DM_Context.direction&&(i="right"),Highcharts.setOptions({global:{useUTC:!1}});var n=new Highcharts.StockChart({credits:{enabled:!1},chart:{renderTo:"graph_container",animation:!0,width:428,marginTop:0,marginRight:0,height:$("#graph_container").height()},xAxis:{gridLineWidth:1,gridLineColor:"#EEE"},yAxis:{gridLineColor:"#EEE"},plotOptions:{series:{color:"#4AADDE",marker:{enabled:!0,lineWidth:2,lineColor:"white"}}},rangeSelector:{enabled:!1,selected:0},tooltip:{borderColor:"#CCC",valueDecimals:0,borderWidth:1,borderRadius:3,padding:10,fillOpacity:1,shadow:!1,useHTML:!0,style:{backgroundColor:"#FFF",padding:"10px",lineHeight:"20px",color:"#5e5b5b",boxShadow:"0px 0px 3px #ddd",textAlign:"right"},formatter:function(){$('#graph_or_map_container rect[fill-opacity="0.85"]').attr("fill-opacity",1);var e=this.points[0],t=$("#delay option[selected]").attr("value");switch(t){case"hourly":selectedRange=e.series.tooltipOptions.dateTimeLabelFormats.minute;break;case"daily":selectedRange="%A, %b %e, %H";break;default:selectedRange=e.series.tooltipOptions.dateTimeLabelFormats.day}var n=new Date(this.x),o=Highcharts.dateFormat(selectedRange,n);return"daily"==t&&(o+="h"),'<div style="display:block;font-size: 15px;color:#333; text-align: '+i+'">'+this.y.toLocaleString()+" "+this.points[0].series.name+'</div><span style="display:block;color:#7F7F7F">'+o+"</span>"}},scrollbar:{enabled:!1},navigator:{enabled:!1},series:[{name:"Views",data:t,type:"area",fillColor:"rgba(56,175,216, 0.1)"}]});return n},initGraphHorizontalBar:function(){$("div.graph_horizontal_bar div.left[data-value]").each(function(){$(this).parent().next().children().animate({width:$(this).data("value")+"%"},"slow")})},changeDatas:function(){DM_WidgetV3.multiGet("videostats",document.location.pathname,{stats:{replace:".pl_video_stats",options:{delay:$(".pl_video_stats #delay").val(),filter:$(".pl_video_stats #filter").val()}}})},initEvents:function(){$(".pl_video_stats").on("change","#delay, #filter",Pl_Video_Stats.changeDatas)},init:function(){e.initEvents(),$("#graph_container").each(function(){$(function(){e.initGraphHorizontalBar(),e.chart=e.setupGraph("graph_container",performance_over_period_graph)})})}};return e},!0)},function(e,t,i){i(1),i(2),i(70),i(12),i(3),i(7),_DM.define("Pl_Video_TabAddto",function(){var e={addToId:null,initEvents:function(){$(".pl_video_tabaddto input:checkbox").click(e.toggleItem)},toggleItem:function(t){var i=$(t.delegateTarget);switch(i.data("type")){case"favorite":e.addLoading(i),e.toggleFavorite();break;case"watch_later":DM_Context.is_logged||t.preventDefault(),e.addLoading(i),e.toggleWatchLater(i);break;case"playlist":e.addLoading(i),e.togglePlaylist(i);break;case"group":case"contest":e.addLoading(i),e.toggleGroupAndContest(i);break;case"terms":e.toggleItemWithTerms(i)}},toggleFavorite:function(){ajax_call("video","toggle_favorite",DM_CurrentVideoId,function(t){"unlogged"==t?alert(t):(e.reloadAddto(),"add"==t&&DM_Stats.trigger({action:"add_to_favourite"}))})},toggleWatchLater:function(e){DM_WatchLater[e.is(":checked")?"add":"remove"](DM_CurrentVideoId,!0)},onWatchLaterChanged:function(t){t.indexOf(DM_CurrentVideoId)>-1&&e.reloadAddto()},togglePlaylist:function(t){ajax_call("playlist","toggle",DM_CurrentVideoId,t.data("id"),function(i){"full"==i?alert(i):(e.reloadAddto(t),DM_Stats.trigger("add"==i?{action:"playlist",context:"add_video"}:{action:"playlist",context:"remove_video"}))})},toggleGroupAndContest:function(t){ajax_call("video","toggle_group_and_contest",DM_CurrentVideoId,t.data("id"),t.data("type"),function(t){"terms"==t?alert(t):(e.reloadAddto(),"add_group"==t?DM_Stats.trigger({action:"add_to_group"}):"add_contest"==t&&DM_Stats.trigger({action:"add_to_contest"}))})},initItemsWithTerms:function(){$("input[data-type=terms]").each(function(){e.toggleItemWithTerms($(this))})},toggleItemWithTerms:function(e){e=e.context?e:$(e.delegateTarget);var t=e.parent().prev().children();e.is(":checked")?(t.parent().removeClass("disabled"),t.prop("disabled",!1)):(t.parent().addClass("disabled"),t.prop("disabled",!0))},reloadAddto:function(){var e=$("#tab_addto_content");e[0]&&DM_WidgetV3.multiGet("video",document.location.pathname,{addto:{replace:"#tab_addto_content",options:{visible:e.is(":visible")}}})},addLoading:function(t){$parent=t.parent(),$parent.find(".icon-check")&&$parent.find(".icon-check").remove(),e.addToId=t.data("id")},checkItemAsSaved:function(){if(e.addToId&&$('input[data-id="'+e.addToId+'"]').length){var t=$('input[data-id="'+e.addToId+'"]');t.next().addClass("anim-ajax"),setTimeout(function(){t.next().removeClass("anim-ajax")},400),e.addToId=null}},init:function(){PubSub.subscribe("playlist:created",e.reloadAddto),PubSub.subscribe("group:created",e.reloadAddto),PubSub.subscribe("contest:created",e.reloadAddto),PubSub.subscribe("watchlater:added",function(t){e.onWatchLaterChanged(t,"add")}),PubSub.subscribe("watchlater:removed",function(t){e.onWatchLaterChanged(t,"remove")}),$(function(){e.initEvents(),e.checkItemAsSaved(),e.initItemsWithTerms()})}};return e},!0)},,,,function(){!function(){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){if(!(googletag.hasOwnProperty("on")||googletag.hasOwnProperty("off")||googletag.hasOwnProperty("trigger")||googletag.hasOwnProperty("events"))){var e=googletag.debug_log.log,t=[],i=function(e,i,n){t.push({name:e,id:i,match:n})};i("gpt-google_js_loaded",8,/Google service JS loaded/gi),i("gpt-gpt_fetch",46,/Fetching GPT implementation/gi),i("gpt-gpt_fetched",48,/GPT implementation fetched\./gi),i("gpt-page_load_complete",1,/Page load complete/gi),i("gpt-queue_start",31,/^Invoked queued function/gi),i("gpt-service_add_slot",40,/Associated ([\w]*) service with slot ([\/\w]*)/gi),i("gpt-service_add_targeting",88,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for service ([\w]*)/gi),i("gpt-service_collapse_containers_enable",78,/Enabling collapsing of containers when there is no ad content/gi),i("gpt-service_create",35,/Created service: ([\w]*)/gi),i("gpt-service_single_request_mode_enable",63,/Using single request mode to fetch ads/gi),i("gpt-slot_create",2,/Created slot: ([\/\w]*)/gi),i("gpt-slot_add_targeting",17,/Setting targeting attribute ([\w]*) with value ([\w\W]*) for slot ([\/\w]*)/gi),i("gpt-slot_fill",50,/Calling fillslot/gi),i("gpt-slot_fetch",3,/Fetching ad for slot ([\/\w]*)/gi),i("gpt-slot_receiving",4,/Receiving ad for slot ([\/\w]*)/gi),i("gpt-slot_render_delay",53,/Delaying rendering of ad slot ([\/\w]*) pending loading of the GPT implementation/gi),i("gpt-slot_rendering",5,/^Rendering ad for slot ([\/\w]*)/gi),i("gpt-slot_rendered",6,/Completed rendering ad for slot ([\/\w]*)/gi),googletag.events=googletag.events||{},googletag.on=function(e,t,i){if(!t)return this;e=e.split(" ");var n=i?t:void 0,o=i||t,r=0,a="";for(o.data=n,a=e[r=0];r<e.length;a=e[++r])(this.events[a]=this.events[a]||[]).push(o);return this},googletag.off=function(e,t){e=e.split(" ");var i=0,n="",o=0,r=function(){};for(n=e[i];i<e.length;n=e[++i])if(this.events.hasOwnProperty(n))if(t){for(o=this.events[n].length-1,r=this.events[n][o];o>=0;r=this.events[n][--o])r==t&&this.events[n].splice(o,1);0===this.events[n].length&&delete this.events[n]}else delete this.events[n];return this},googletag.trigger=function(e,t){if(!this.events[e]||0===this.events[e].length)return this;var i=t||[],n=0,o=this.events[e][n];for(o;n<this.events[e].length&&o.apply(this,[{data:o.data}].concat(i))!==!1;o=this.events[e][++n]);return this},googletag.debug_log.log=function(i,n){if(n&&n.getMessageId&&"number"==typeof n.getMessageId()){var o=Array.prototype.slice.call(arguments),r=0;for(r;r<t.length;r++)t[r].id===n.getMessageId()&&googletag.trigger(t[r].name,o)}return e.apply(this,arguments)}}})}()},function(e,t,i){i(1),i(2),i(5),i(97),i(96),i(9),i(4),_DM.define("DM_DisplayAds",function(){var e={hasCompanionAd:!1,startTime:(new Date).getTime(),adunits:[{pos:"Top",id:"div-gpt-ad-1422660696836-2",name:"Top_728x90",dimensions:[[1,1],[728,90]]},{pos:"Bottom",id:"div-gpt-ad-1422660696836-0",name:"Bottom_728x90",dimensions:[728,90]},{pos:"X51",id:"div-gpt-ad-1422660696836-3",name:"X51_300x250",dimensions:[300,250]},{pos:"X52",id:"div-gpt-ad-1422660696836-4",name:"X52_300x250",dimensions:[300,250]},{pos:"AdSense1",id:"div-gpt-ad-1425059150269-0",name:"AdSense1",dimensions:[468,60]},{pos:"AdSense2",id:"div-gpt-ad-1425059150269-1",name:"AdSense1",dimensions:[468,60]},{pos:"InterstitialOPP",id:"div-gpt-ad-1426543907758-2-oop",name:"InterstitialOPP",dimensions:[1,1]},{pos:"Middle",id:"div-gpt-ad-1422660696836-1",name:"Middle_300x250",dimensions:[300,250]},{pos:"Right",id:"div-gpt-ad-1426543907758-4",name:"Right_160x600",dimensions:[160,600]},{pos:"Skin",id:"div-gpt-ad-1426543907758-5",name:"Skin",dimensions:[[1,1],[320,480],[482,320],[768,1024],[1024,768]]}],adpositions:window.adpositions?window.adpositions:null,gptInitialized:!1,initialize:function(){var t=t||{};if(t.cmd=t.cmd||[],function(){var e=document.createElement("script");e.async=!0,e.type="text/javascript";var t="https:"==document.location.protocol;e.src=(t?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(e,i)}(),window.googletag=t,window.masscast={render:function(e,t){log("Masscast","publish",e,"code for assisted handling"),PubSub.publish("masscast:position_"+e,t)}},e.canCallAds()===!0){if(t&&(e.gptInitialized=!0),"undefined"!=typeof window.DM_Context&&window.DM_Context.dfp_measured===!0){e.setupTracker()}e.adpositions&&e.callAds(e.adpositions)}},canCallAds:function(){return"undefined"==typeof window.DM_Context.video_ads&&"undefined"==typeof window.DM_Context.videolist_has_ads||window.DM_Context.video_ads!==!1&&window.videolist_has_ads!==!1?!0:("video attribute|explicit"===window.DM_Context.video_noads_reason&&window.DM_Context.video_never_ads===!1?log("Display Ads","window.DM_Context.video_noads_reason is explicit ",window.DM_Context.video_noads_reason):"video attribute|noadfit"===window.DM_Context.video_noads_reason&&window.DM_Context.video_never_ads===!1?log("Display Ads","window.DM_Context.video_noads_reason is noadfit ",window.DM_Context.video_noads_reason):log("Display Ads","window.DM_Context.video_ads or videolist_ads is true, blocking ads",window.DM_Context.video_ads),!1)},callAds:function(t){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.on("gpt-google_js_loaded",function(){e.trackPosition(null,"adcall_start")})});var i=[];t.indexOf("Middle")>-1&&(i=t.splice(t.indexOf("Middle"),1));for(var n=0;n<t.length;n++)for(var o=0;o<e.adunits.length;o++)t[n]==e.adunits[o].pos&&e.createAdSlot(e.adunits[o].id,e.adunits[o].name,e.adunits[o].dimensions);if(e.enableAsyncLoad(),e.enableServices(0),"player_page"===window.DM_Context.page_type){var r=null;DM_PlayerEvents.on("AdStart","video_player_main",function(){r=setTimeout(function(){!e.companionAdPresent()&&i.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1),$("#div-gpt-ad-1422660696836-1").css("margin-bottom",10),"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&"undefined"!=typeof DM_Context.dfp_measured&&e.trackAdRender("Middle"))},1e3)}),PubSub.subscribe("player:video_start",function(){null!==r&&clearTimeout(r),("us"!==window.DM_Context.geoip_country||!e.companionAdPresent())&&i.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1),$("#div-gpt-ad-1422660696836-1").css("margin-bottom",10),"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&"undefined"!=typeof DM_Context.dfp_measured&&e.trackAdRender("Middle"))})}else i.indexOf("Middle")>-1&&(e.createAdSlot("div-gpt-ad-1422660696836-1","Middle_300x250",[300,250]),e.enableServices(1));e.trackPosition(null,"pageload_complete"),e.trackAdRender("Top",728,90),e.trackAdRender("Bottom",728,90),e.trackAdRender("X51",300,250),e.trackAdRender("X52",300,250)},createAdSlot:function(t,i,n){var o;googletag.cmd.push(function(){-1!==i.indexOf("OPP")?o=googletag.defineOutOfPageSlot("/23328537/"+i,t).addService(googletag.pubads()):(o=googletag.defineSlot("/23328537/"+i,n,t).addService(googletag.pubads()),$("#"+t).height(n[1])),googletag.pubads().addEventListener("slotRenderEnded",function(t){t.slot==o&&e.trackPosition(i.split("_")[0].toLowerCase(),"adcall_response")})})},enableAsyncLoad:function(){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs()})},enableServices:function(t){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.enableServices(),googletag.display("div-gpt-ad-1422660696836-"+t)})},getElementHeight:function(e){return parseInt(parent.$(e).css("height"),10)},customizeElement:function(e){var t=document.getElementById(e);window.disableAutoHeight&&(t.style.height="auto")},loadDmJs:function(e){var t=frame.document.createElement("script");t.type="text/javascript",t.src=frame.parent.DM_JS.getRealPath(e),t.async=!0,frame.document.body.appendChild(t)},render:function(t,i){frame[t+"Parameters"]=i,e.loadDmJs("/js/lib/dm/ads/"+t+".js"),e.loadDmJs("/js/lib/dm/skin.js")},setupTracker:function(){_LTracker.push({logglyKey:"d6464acb-25b8-4dd2-bf83-64fed1a15e10",sendConsoleErrors:!0,tag:"jslogger"})},trackPosition:function(t,i){var n=(new Date).getTime();"undefined"!=typeof DM_Context&&DM_Context.dfp_measured===!0&&_LTracker&&"undefined"!=typeof DM_Context.dfp_measured&&_LTracker.push({dmxtrk:{display_server:"dfp",ad_position:t,moment:i,refresh:0,country:window.DM_Context.geoip_country,latency:e.getLatency(n)}})},getLatency:function(t){return t>=e.startTime?t-e.startTime:0},trackAdRender:function(t,i,n){e.gptInitialized===!0&&"undefined"!=typeof googletag&&googletag.cmd.push(function(){googletag.on("gpt-page_load_complete",function(){var o='"google_ads_iframe_/23328537/'+t+"_"+i+"x"+n+'"',r=document.querySelector("iframe[id^="+o+"]");if(r){var a=r.contentDocument||r.contentWindow.document;"complete"==a.readyState&&(e.trackPosition(t.toLowerCase(),"adcall_render"),console.log(r.id," IFRAME fully loaded and parsed"))}})})},companionAdPresent:function(){return $('div[id^="mc_"]').length>0&&$("#mc_Middle").children().length>0}};return e},!0)},function(){_DM.define("Sd_Video_HomeFeature",function(){var e={featureVideo:function(e){ajax_call("videofeature","feature_video",JSON.stringify(e),function(e){return e?(e=$.parseJSON(e),e.success?($("#js-notice").hide(),$("#tab_feature").hasClass("featured")||$("#tab_feature").addClass("featured"),$("#js-notice p").html(e.success),$("#js-notice").addClass("mo_alert--success").show()):e.error&&($("#js-notice p").html(e.error),$("#js-notice").addClass("mo_alert--error").show()),void setTimeout(function(){$("#js-notice").is(":visible")&&$("#js-notice").slideUp(500)},5e3)):!1})},__initialize:function(){PubSub.subscribe("videofeature:set",e.featureVideo)}};return e},!0)},,,,,,,,,,function(e,t,i){i(1),i(2),_DM.define("Sd_Pixelle",function(){var e={start:null,waitPixelle:function(){+new Date-e.start>5e3||("function"==typeof pxl?e.listen():setTimeout(e.waitPixelle,100))},listen:function(){pxl("bind","insert",e.insert)},insert:function(e,t){PubSub.publish("dm:new_videos_loaded",$(t)),PubSub.publish("pixelle:ad_loaded")},__initialize:function(){e.start=+new Date,e.waitPixelle()}};return e},!1)},,,,function(e,t,i){i(1),i(2),i(94),i(90),_DM.define("DM_RUM_VideoV5",function(){var e={eventCatchingDone:!1,hasHandlers:!1,player:null,data:{},playerEvents:["waiting","playing","timeupdate","ad_start","ad_end"],__initialize:function(){DM_PlayerV5Events.on("ready",function(){log("RUM","DM_RUM_VideoV5::__initialize player ready"),DM_RUM.addVar("pv5_type",playerV5.children[0].nodeName.match(/^embed|object$/i)?"flash":"html5"),e.player=window.playerV5,DM_RUM.addVar("t_apiready",(new Date).getTime()),e.addPlayerEvents()})},playerHandler:function(t){return e.playerHandler.memoized||(e.playerHandler.memoized={}),e.playerHandler.memoized[t]||(log("RUM","DM_RUM_VideoV5::playerHandler setup",t),e.playerHandler.memoized[t]=function(){if(log("RUM","DM_RUM_VideoV5::playerHandler recieved",t),"playing"==t&&e.player.adRunning)return void log("RUM","DM_RUM_VideoV5::playerHandler running ad, ignore event",t);var i="timeupdate"==t?"progress":t;e.eventCatchingDone||(DM_RUM.addVar("t_"+i,(new Date).getTime()),"timeupdate"==t&&(log("RUM",'DM_RUM_VideoV5::playerHandler publish "rum:player_ready"'),e.eventCatchingDone=!0,e.removePlayerEvents(),PubSub.publish("rum:player_ready")))}),e.playerHandler.memoized[t]},addPlayerEvents:function(){if(!e.eventCatchingDone){for(var t=0,i=e.playerEvents.length;i>t;t++)DM_PlayerV5Events.on(e.playerEvents[t],e.player,e.playerHandler(e.playerEvents[t]));e.hasHandlers=!0}},removePlayerEvents:function(){if(e.hasHandlers){for(var t=0,i=e.playerEvents.length;i>t;t++)DM_PlayerV5Events.off(e.playerEvents[t],e.player,e.playerHandler(e.playerEvents[t]));delete e.player}}};return e})},,,,,,,,,,,,function(e,t,i){i(1),_DM.define("DM_RequestWatcher",function(){var e={initialize:function(e){if(window.performance&&performance.getEntries&&window.RUMReqsBeaconUrl){window.adRequestsTotal=0,window.adFramesTotal=0;var t=[0,10,30,60,120,300,600,1800,3600],i=0,n=0;!function o(){t[i+1]&&setTimeout(function(){n=performance.getEntries().length+adRequestsTotal;var r=new Image,a={r_c:n,i_c:adFramesTotal,w:t[i],p:e,cy:DM_Context.geoip_country};r.src=RUMReqsBeaconUrl+"?"+$.param(a),EventBus.send({name:"rum.requests_count",data:a}),o()},1e3*(t[i+1]-t[i++]))}()}}};return e},!0)},function(){!function(){function e(){var e,t,i=arguments,n={},o=function(e,t){var i,n;"object"!=typeof e&&(e={});for(n in t)t.hasOwnProperty(n)&&(i=t[n],e[n]=i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"renderTo"!==n&&"number"!=typeof i.nodeType?o(e[n]||{},i):t[n]);return e};for(i[0]===!0&&(n=i[1],i=Array.prototype.slice.call(i,2)),t=i.length,e=0;t>e;e++)n=o(n,i[e]);return n}function t(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function n(e){return e&&"object"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"number"==typeof e}function a(e){return ce.log(e)/ce.LN10}function s(e){return ce.pow(10,e)}function l(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function c(e){return e!==I&&null!==e}function d(e,t,o){var r,a;if(i(t))c(o)?e.setAttribute(t,o):e&&e.getAttribute&&(a=e.getAttribute(t));else if(c(t)&&n(t))for(r in t)e.setAttribute(r,t[r]);return a}function u(e){return o(e)?e:[e]}function h(e,t){we&&!Te&&t&&t.opacity!==I&&(t.filter="alpha(opacity="+100*t.opacity+")"),He(e.style,t)}function p(e,t,i,n,o){return e=se.createElement(e),t&&He(e,t),o&&h(e,{padding:0,border:Be,margin:0}),i&&h(e,i),n&&n.appendChild(e),e}function f(e,t){var i=function(){return I};return i.prototype=new e,He(i.prototype,t),i}function g(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function m(e){return 6e4*(G&&G(e)||U||0)}function v(e,t){for(var i,n,o,r,a,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){if(i=e.slice(0,s),l){for(n=i.split(":"),o=n.shift().split("."),a=o.length,i=t,r=0;a>r;r++)i=i[o[r]];n.length&&(n=n.join(":"),o=/\.([0-9])/,r=F.lang,a=void 0,/f$/.test(n)?(a=(a=n.match(o))?a[1]:-1,null!==i&&(i=ae.numberFormat(i,a,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):i=j(n,i))}c.push(i),e=e.slice(s+1),s=(l=!l)?"}":"{"}return c.push(e),c.join("")}function y(e){return ce.pow(10,ue(ce.log(e)/ce.LN10))}function b(e,t,i,n,o){var r,a=e,i=We(i,1);for(r=e/i,t||(t=[1,2,2.5,5,10],n===!1&&(1===i?t=[1,2,5,10]:.1>=i&&(t=[1/i]))),n=0;n<t.length&&(a=t[n],!(o&&a*i>=e||!o&&r<=(t[n]+(t[n+1]||t[n]))/2));n++);return a*=i}function _(e,t){var i,n,o=e.length;for(n=0;o>n;n++)e[n].ss_i=n;for(e.sort(function(e,n){return i=t(e,n),0===i?e.ss_i-n.ss_i:i}),n=0;o>n;n++)delete e[n].ss_i}function x(e){for(var t=e.length,i=e[0];t--;)e[t]<i&&(i=e[t]);return i}function w(e){for(var t=e.length,i=e[0];t--;)e[t]>i&&(i=e[t]);return i}function k(e,t){for(var i in e)e[i]&&e[i]!==t&&e[i].destroy&&e[i].destroy(),delete e[i]}function C(e){B||(B=p(Oe)),e&&B.appendChild(e),B.innerHTML=""}function S(e,t){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;le.console&&console.log(i)}function D(e){return parseFloat(e.toPrecision(14))}function M(e,t){N=We(e,t.animation)}function T(){var e=F.global,t=e.useUTC,i=t?"getUTC":"get",n=t?"setUTC":"set";W=e.Date||window.Date,U=t&&e.timezoneOffset,G=t&&e.getTimezoneOffset,V=function(e,i,n,o,r,a){var s;return t?(s=W.UTC.apply(0,arguments),s+=m(s)):s=new W(e,i,We(n,1),We(o,0),We(r,0),We(a,0)).getTime(),s},X=i+"Minutes",q=i+"Hours",Y=i+"Day",J=i+"Date",K=i+"Month",Z=i+"FullYear",Q=n+"Milliseconds",ee=n+"Seconds",te=n+"Minutes",ie=n+"Hours",ne=n+"Date",oe=n+"Month",re=n+"FullYear"}function A(){}function P(e,t,i,n){this.axis=e,this.pos=t,this.type=i||"",this.isNew=!0,!i&&!n&&this.addLabel()}function E(e,t,i,n,o){var r=e.chart.inverted;this.axis=e,this.isNegative=i,this.options=t,this.x=n,this.total=null,this.points={},this.stack=o,this.alignOptions={align:t.align||(r?i?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":i?"bottom":"top"),y:We(t.y,r?4:i?14:-6),x:We(t.x,r?i?-6:6:0)},this.textAlign=t.textAlign||(r?i?"right":"left":"center")}function $(e){var t=e.options,i=t.navigator,n=i.enabled,t=t.scrollbar,o=t.enabled,r=n?i.height:0,a=o?t.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=e,this.setBaseSeries(),this.height=r,this.scrollbarHeight=a,this.scrollbarEnabled=o,this.navigatorEnabled=n,this.navigatorOptions=i,this.scrollbarOptions=t,this.outlineHeight=r+a,this.init()}function L(e){this.init(e)}var I,R,O,B,F,j,N,z,H,W,V,U,G,X,q,Y,J,K,Z,Q,ee,te,ie,ne,oe,re,ae,se=document,le=window,ce=Math,de=ce.round,ue=ce.floor,he=ce.ceil,pe=ce.max,fe=ce.min,ge=ce.abs,me=ce.cos,ve=ce.sin,ye=ce.PI,be=2*ye/360,_e=navigator.userAgent,xe=le.opera,we=/(msie|trident)/i.test(_e)&&!xe,ke=8===se.documentMode,Ce=/AppleWebKit/.test(_e),Se=/Firefox/.test(_e),De=/(Mobile|Android|Windows Phone)/.test(_e),Me="http://www.w3.org/2000/svg",Te=!!se.createElementNS&&!!se.createElementNS(Me,"svg").createSVGRect,Ae=Se&&parseInt(_e.split("Firefox/")[1],10)<4,Pe=!Te&&!we&&!!se.createElement("canvas").getContext,Ee={},$e=0,Le=function(){return I},Ie=[],Re=0,Oe="div",Be="none",Fe=/^[0-9]+$/,je=["plotTop","marginRight","marginBottom","plotLeft"],Ne="stroke-width",ze={};ae=le.Highcharts=le.Highcharts?S(16,!0):{},ae.seriesTypes=ze;var He=ae.extend=function(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e},We=ae.pick=function(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],t!==I&&null!==t)return t},Ve=ae.wrap=function(e,t,i){var n=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(n),i.apply(this,e)}};j=function(e,t,i){if(!c(t)||isNaN(t))return"Invalid date";var n,e=We(e,"%Y-%m-%d %H:%M:%S"),o=new W(t-m(t)),r=o[q](),a=o[Y](),s=o[J](),l=o[K](),d=o[Z](),u=F.lang,h=u.weekdays,o=He({a:h[a].substr(0,3),A:h[a],d:g(s),e:s,w:a,b:u.shortMonths[l],B:u.months[l],m:g(l+1),y:d.toString().substr(2,2),Y:d,H:g(r),I:g(r%12||12),l:r%12||12,M:g(o[X]()),p:12>r?"AM":"PM",P:12>r?"am":"pm",S:g(o.getSeconds()),L:g(de(t%1e3),3)},ae.dateFormats);for(n in o)for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof o[n]?o[n](t):o[n]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},H={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ae.numberFormat=function(e,i,n,o){var r=F.lang,e=+e||0,a=-1===i?fe((e.toString().split(".")[1]||"").length,20):isNaN(i=ge(i))?2:i,i=void 0===n?r.decimalPoint:n,o=void 0===o?r.thousandsSep:o,r=0>e?"-":"",n=String(t(e=ge(e).toFixed(a))),s=n.length>3?n.length%3:0;return r+(s?n.substr(0,s)+o:"")+n.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?i+ge(e-n).toFixed(a).slice(2):"")},z={init:function(e,t,i){var n,o,r,t=t||"",a=e.shift,s=t.indexOf("C")>-1,l=s?7:3,t=t.split(" "),i=[].concat(i),c=function(e){for(n=e.length;n--;)"M"===e[n]&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(s&&(c(t),c(i)),e.isArea&&(o=t.splice(t.length-6,6),r=i.splice(i.length-6,6)),a<=i.length/l&&t.length===i.length)for(;a--;)i=[].concat(i).splice(0,l).concat(i);if(e.shift=0,t.length)for(e=i.length;t.length<e;)a=[].concat(t).splice(t.length-l,l),s&&(a[l-6]=a[l-2],a[l-5]=a[l-1]),t=t.concat(a);return o&&(t=t.concat(o),i=i.concat(r)),[t,i]},step:function(e,t,i,n){var o=[],r=e.length;if(1===i)o=n;else if(r===t.length&&1>i)for(;r--;)n=parseFloat(e[r]),o[r]=isNaN(n)?e[r]:i*parseFloat(t[r]-n)+n;else o=t;return o}},function(e){le.HighchartsAdapter=le.HighchartsAdapter||e&&{init:function(t){var n=e.fx;e.extend(e.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,i){var o,r=n.step;"cur"===i?r=n.prototype:"_default"===i&&e.Tween&&(r=e.Tween.propHooks[i],i="set"),(o=r[i])&&(r[i]=function(e){var n,e=t?e:this;return"align"!==e.prop?(n=e.elem,n.attr?n.attr(e.prop,"cur"===i?I:e.now):o.apply(this,arguments)):void 0})}),Ve(e.cssHooks.opacity,"get",function(e,t,i){return t.attr?t.opacity||0:e.call(this,t,i)}),this.addAnimSetter("d",function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],
e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var i,n=e.length;for(i=0;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i},e.fn.highcharts=function(){var e,t,n="Chart",o=arguments;return this[0]&&(i(o[0])&&(n=o[0],o=Array.prototype.slice.call(o,1)),e=o[0],e!==I&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new ae[n](e,o[1]),t=this),e===I&&(t=Ie[d(this[0],"data-highcharts-chart")])),t}},addAnimSetter:function(t,i){e.Tween?e.Tween.propHooks[t]={set:i}:e.fx.step[t]=i},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(e,t){for(var i=[],n=0,o=e.length;o>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var o=se.removeEventListener?"removeEventListener":"detachEvent";se[o]&&t&&!t[o]&&(t[o]=function(){}),e(t).unbind(i,n)},fireEvent:function(t,i,n,o){var r,a=e.Event(i),s="detached"+i;!we&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),He(a,n),t[i]&&(t[s]=t[i],t[i]=null),e.each(["preventDefault","stopPropagation"],function(e,t){var i=a[t];a[t]=function(){try{i.call(a)}catch(e){"preventDefault"===t&&(r=!0)}}}),e(t).trigger(a),t[s]&&(t[i]=t[s],t[s]=null),o&&!a.isDefaultPrevented()&&!r&&o(a)},washMouseEvent:function(e){var t=e.originalEvent||e;return t.pageX===I&&(t.pageX=e.pageX,t.pageY=e.pageY),t},animate:function(t,i,n){var o=e(t);t.style||(t.style={}),i.d&&(t.toD=i.d,i.d=1),o.stop(),i.opacity!==I&&t.attr&&(i.opacity+="px"),t.hasAnim=1,o.animate(i,n)},stop:function(t){t.hasAnim&&e(t).stop()}}}(le.jQuery);var Ue=le.HighchartsAdapter,Ge=Ue||{};Ue&&Ue.init.call(Ue,z);var Xe=Ge.adapterRun,qe=Ge.getScript,Ye=Ge.inArray,Je=ae.each=Ge.each,Ke=Ge.grep,Ze=Ge.offset,Qe=Ge.map,et=Ge.addEvent,tt=Ge.removeEvent,it=Ge.fireEvent,nt=Ge.washMouseEvent,ot=Ge.animate,rt=Ge.stop;F={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ae.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Te,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:De?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var at=F.plotOptions,Ue=at.line;T();var st=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,lt=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ct=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,dt=function(i){var n,o,a=[];return function(e){e&&e.stops?o=Qe(e.stops,function(e){return dt(e[1])}):(n=st.exec(e))?a=[t(n[1]),t(n[2]),t(n[3]),parseFloat(n[4],10)]:(n=lt.exec(e))?a=[t(n[1],16),t(n[2],16),t(n[3],16),1]:(n=ct.exec(e))&&(a=[t(n[1]),t(n[2]),t(n[3]),1])}(i),{get:function(t){var n;return o?(n=e(i),n.stops=[].concat(n.stops),Je(o,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=a&&!isNaN(a[0])?"rgb"===t?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":i,n},brighten:function(e){if(o)Je(o,function(t){t.brighten(e)});else if(r(e)&&0!==e){var i;for(i=0;3>i;i++)a[i]+=t(255*e),a[i]<0&&(a[i]=0),a[i]>255&&(a[i]=255)}return this},rgba:a,setOpacity:function(e){return a[3]=e,this},raw:i}};A.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(e,t){this.element="span"===t?p(t):se.createElementNS(Me,t),this.renderer=e},animate:function(t,i,n){return i=We(i,N,!0),rt(this),i?(i=e(i,{}),n&&(i.complete=n),ot(this,t,i)):(this.attr(t),n&&n()),this},colorGradient:function(t,i,n){var r,a,s,l,d,u,h,p,f,g,m=this.renderer,v=[];if(t.linearGradient?a="linearGradient":t.radialGradient&&(a="radialGradient"),a){s=t[a],l=m.gradients,u=t.stops,f=n.radialReference,o(s)&&(t[a]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&f&&!c(s.gradientUnits)&&(s=e(s,{cx:f[0]-f[2]/2+s.cx*f[2],cy:f[1]-f[2]/2+s.cy*f[2],r:s.r*f[2],gradientUnits:"userSpaceOnUse"}));for(g in s)"id"!==g&&v.push(g,s[g]);for(g in u)v.push(u[g]);v=v.join(","),l[v]?t=l[v].attr("id"):(s.id=t="highcharts-"+$e++,l[v]=d=m.createElement(a).attr(s).add(m.defs),d.stops=[],Je(u,function(e){0===e[1].indexOf("rgba")?(r=dt(e[1]),h=r.get("rgb"),p=r.get("a")):(h=e[1],p=1),e=m.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":p}).add(d),d.stops.push(e)})),n.setAttribute(i,"url("+m.url+"#"+t+")")}},applyTextShadow:function(e){var i,n=this.element,o=-1!==e.indexOf("contrast"),r=this.renderer.forExport||n.style.textShadow!==I&&!we;o&&(e=e.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),r?o&&h(n,{textShadow:e}):(this.fakeTS=!0,this.ySetter=this.xSetter,i=[].slice.call(n.getElementsByTagName("tspan")),Je(e.split(/\s?,\s?/g),function(e){var o,r,a=n.firstChild,e=e.split(" ");o=e[e.length-1],(r=e[e.length-2])&&Je(i,function(e,i){var s;0===i&&(e.setAttribute("x",n.getAttribute("x")),i=n.getAttribute("y"),e.setAttribute("y",i||0),null===i&&n.setAttribute("y",0)),s=e.cloneNode(1),d(s,{"class":"highcharts-text-shadow",fill:o,stroke:o,"stroke-opacity":1/pe(t(r),3),"stroke-width":r,"stroke-linejoin":"round"}),n.insertBefore(s,a)})}))},attr:function(e,t){var i,n,o,r,a=this.element,s=this;if("string"==typeof e&&t!==I&&(i=e,e={},e[i]=t),"string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,a);else{for(i in e)n=e[i],r=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(e),o=!0),r=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),r||(this[i+"Setter"]||this._defaultSetter).call(this,n,i,a),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,n);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var i=this.shadows,n=i.length;n--;)i[n].setAttribute(e,"height"===e?pe(t-(i[n].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,i=d(t,"class")||"";return-1===i.indexOf(e)&&d(t,"class",i+" "+e),this},symbolAttr:function(e){var t=this;Je("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(i){t[i]=We(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Be)},crisp:function(e){var t,i,n={},o=e.strokeWidth||this.strokeWidth||0;i=de(o)%2/2,e.x=ue(e.x||this.x||0)+i,e.y=ue(e.y||this.y||0)+i,e.width=ue((e.width||this.width||0)-2*i),e.height=ue((e.height||this.height||0)-2*i),e.strokeWidth=o;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(e){var i,n,o=this.styles,r={},a=this.element,s="";if(i=!o,e&&e.color&&(e.fill=e.color),o)for(n in e)e[n]!==o[n]&&(r[n]=e[n],i=!0);if(i){if(i=this.textWidth=e&&e.width&&"text"===a.nodeName.toLowerCase()&&t(e.width)||this.textWidth,o&&(e=He(o,r)),this.styles=e,i&&(Pe||!Te&&this.renderer.forExport)&&delete e.width,we&&!Te)h(this.element,e);else{o=function(e,t){return"-"+t.toLowerCase()};for(n in e)s+=n.replace(/([A-Z])/g,o)+":"+e[n]+";";d(a,"style",s)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var i=this,n=i.element;return O&&"click"===e?(n.ontouchstart=function(e){i.touchEventFired=W.now(),e.preventDefault(),t.call(n,e)},n.onclick=function(e){(-1===_e.indexOf("Android")||W.now()-(i.touchEventFired||0)>1100)&&t.call(n,e)}):n["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.scaleX,n=this.scaleY,o=this.inverted,r=this.rotation,a=this.element;o&&(e+=this.attr("width"),t+=this.attr("height")),e=["translate("+e+","+t+")"],o?e.push("rotate(90) scale(-1,1)"):r&&e.push("rotate("+r+" "+(a.getAttribute("x")||0)+" "+(a.getAttribute("y")||0)+")"),(c(i)||c(n))&&e.push("scale("+We(i,1)+" "+We(n,1)+")"),e.length&&a.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var o,r,a,s,c={};return r=this.renderer,a=r.alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||i(n))&&(this.alignTo=o=n||"renderer",l(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,o=this.alignTo),n=We(n,r[o],r),o=e.align,r=e.verticalAlign,a=(n.x||0)+(e.x||0),s=(n.y||0)+(e.y||0),("right"===o||"center"===o)&&(a+=(n.width-(e.width||0))/{right:1,center:2}[o]),c[t?"translateX":"x"]=de(a),("bottom"===r||"middle"===r)&&(s+=(n.height-(e.height||0))/({bottom:1,middle:2}[r]||1)),c[t?"translateY":"y"]=de(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(e){var t,i,n=this.renderer,o=this.rotation,r=this.element,a=this.styles,s=o*be;i=this.textStr;var l,c,d,u=r.style;if(i!==I&&(d=["",o||0,a&&a.fontSize,r.style.width].join(","),d=""===i||Fe.test(i)?"num:"+i.toString().length+d:i+d),d&&!e&&(t=n.cache[d]),!t){if(r.namespaceURI===Me||n.forExport){try{c=this.fakeTS&&function(e){Je(r.querySelectorAll(".highcharts-text-shadow"),function(t){t.style.display=e})},Se&&u.textShadow?(l=u.textShadow,u.textShadow=""):c&&c(Be),t=r.getBBox?He({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight},l?u.textShadow=l:c&&c("")}catch(h){}(!t||t.width<0)&&(t={width:0,height:0})}else t=this.htmlGetBBox();n.isSVG&&(e=t.width,i=t.height,we&&a&&"11px"===a.fontSize&&"16.9"===i.toPrecision(3)&&(t.height=i=14),o&&(t.width=ge(i*ve(s))+ge(e*me(s)),t.height=ge(i*me(s))+ge(e*ve(s)))),n.cache[d]=t}return t},show:function(e){return e&&this.element.namespaceURI===Me?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"}),this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i=this.renderer,n=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},o=i.shadows,r=i.renderer.isSVG&&"SPAN"===n.nodeName&&i.parentGroup;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,rt(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}for(i.safeRemoveChild(n),o&&Je(o,function(e){i.safeRemoveChild(e)});r&&r.div&&0===r.div.childNodes.length;)n=r.parentGroup,i.safeRemoveChild(r.div),delete r.div,r=n;i.alignTo&&l(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(e,t,i){var n,o,r,a,s,l,c=[],u=this.element;if(e){for(a=We(e.width,3),s=(e.opacity||.15)/a,l=this.parentInverted?"(-1,-1)":"("+We(e.offsetX,1)+", "+We(e.offsetY,1)+")",n=1;a>=n;n++)o=u.cloneNode(0),r=2*a+1-2*n,d(o,{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*n,"stroke-width":r,transform:"translate"+l,fill:Be}),i&&(d(o,"height",pe(d(o,"height")-r,0)),o.cutHeight=r),t?t.element.appendChild(o):u.parentNode.insertBefore(o,u),c.push(o);this.shadows=c}return this},xGetter:function(e){return"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){return e=We(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,i){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),i.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var i;if(e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=e.length;i--;)e[i]=t(e[i])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,i){this[t]=e,i.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=se.createElementNS(Me,"title"),this.element.appendChild(t)),t.textContent=String(We(e),"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,i){"string"==typeof e?i.setAttribute(t,e):e&&this.colorGradient(e,t,i)},zIndexSetter:function(e,i){var n,o,r,a=this.renderer,s=this.parentGroup,a=(s||a).element||a.box,l=this.element;n=this.added;var u;if(c(e)&&(l.setAttribute(i,e),e=+e,this[i]===e&&(n=!1),this[i]=e),n){for((e=this.zIndex)&&s&&(s.handleZ=!0),s=a.childNodes,u=0;u<s.length&&!r;u++)n=s[u],o=d(n,"zIndex"),n!==l&&(t(o)>e||!c(e)&&c(o))&&(a.insertBefore(l,n),r=!0);r||a.appendChild(l)}return r},_defaultSetter:function(e,t,i){i.setAttribute(t,e)}},A.prototype.yGetter=A.prototype.xGetter,A.prototype.translateXSetter=A.prototype.translateYSetter=A.prototype.rotationSetter=A.prototype.verticalAlignSetter=A.prototype.scaleXSetter=A.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},A.prototype["stroke-widthSetter"]=A.prototype.strokeSetter=function(e,t,i){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],A.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)};var ut=function(){this.init.apply(this,arguments)};ut.prototype={Element:A,init:function(e,t,i,n,o){var r,a=location,n=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(n));r=n.element,e.appendChild(r),-1===e.innerHTML.indexOf("xmlns")&&d(r,"xmlns",Me),this.isSVG=!0,this.box=r,this.boxWrapper=n,this.alignedObjects=[],this.url=(Se||Ce)&&se.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(se.createTextNode("Created with Highstock 2.1.5")),this.defs=this.createElement("defs").add(),this.forExport=o,this.gradients={},this.cache={},this.setSize(t,i,!1);var s;Se&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){h(e,{left:0,top:0}),s=e.getBoundingClientRect(),h(e,{left:he(s.left)-s.left+"px",top:he(s.top)-s.top+"px"})},t(),et(le,"resize",t))},getStyle:function(e){return this.style=He({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.subPixelFix&&tt(le,"resize",this.subPixelFix),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){for(var i,n,o=e.element,r=this,a=r.forExport,s=We(e.textStr,"").toString(),l=-1!==s.indexOf("<"),c=o.childNodes,u=d(o,"x"),p=e.styles,f=e.textWidth,g=p&&p.lineHeight,m=p&&p.textShadow,v=p&&"ellipsis"===p.textOverflow,y=c.length,b=f&&!e.added&&this.box,_=function(e){return g?t(g):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:p&&p.fontSize||r.style.fontSize||12,e).h},x=function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">")};y--;)o.removeChild(c[y]);l||m||v||-1!==s.indexOf(" ")?(i=/<.*style="([^"]+)".*>/,n=/<.*href="(http[^"]+)".*>/,b&&b.appendChild(o),s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),Je(s,function(t,s){var l,c=0,t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=t.split("|||"),Je(l,function(t){if(""!==t||1===l.length){var g,m={},y=se.createElementNS(Me,"tspan");if(i.test(t)&&(g=t.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(y,"style",g)),n.test(t)&&!a&&(d(y,"onclick",'location.href="'+t.match(n)[1]+'"'),h(y,{cursor:"pointer"})),t=x(t.replace(/<(.|\n)*?>/g,"")||" ")," "!==t){if(y.appendChild(se.createTextNode(t)),c?m.dx=0:s&&null!==u&&(m.x=u),d(y,m),o.appendChild(y),!c&&s&&(!Te&&a&&h(y,{display:"block"}),d(y,"dy",_(y))),f){for(var b,w,k,m=t.replace(/([^\^])-/g,"$1- ").split(" "),C=l.length>1||s||m.length>1&&"nowrap"!==p.whiteSpace,S=[],D=_(y),M=1,T=e.rotation,A=t,P=A.length;(C||v)&&(m.length||S.length);)e.rotation=0,b=e.getBBox(!0),k=b.width,!Te&&r.forExport&&(k=r.measureSpanWidth(y.firstChild.data,e.styles)),b=k>f,void 0===w&&(w=b),v&&w?(P/=2,""===A||!b&&.5>P?m=[]:(b&&(w=!0),A=t.substring(0,A.length+(b?-1:1)*he(P)),m=[A+""],y.removeChild(y.firstChild))):b&&1!==m.length?(y.removeChild(y.firstChild),S.unshift(m.pop())):(m=S,S=[],m.length&&(M++,y=se.createElementNS(Me,"tspan"),d(y,{dy:D,x:u}),g&&d(y,"style",g),o.appendChild(y)),k>f&&(f=k)),m.length&&y.appendChild(se.createTextNode(m.join(" ").replace(/- /g,"-")));w&&e.attr("title",e.textStr),e.rotation=T}c++}}})}),b&&b.removeChild(o),m&&e.applyTextShadow&&e.applyTextShadow(m)):o.appendChild(se.createTextNode(x(s)))},getContrast:function(e){return e=dt(e).rgba,e[0]+e[1]+e[2]>384?"#000":"#FFF"},button:function(t,i,n,o,r,a,s,l,c){var d,u,h,p,f,g,m=this.label(t,i,n,c,null,null,null,null,"button"),v=0,t={x1:0,y1:0,x2:0,y2:1},r=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:t,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);return h=r.style,delete r.style,a=e(r,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#FFF"],[1,"#ACF"]]}},a),p=a.style,delete a.style,s=e(r,{stroke:"#68A",fill:{linearGradient:t,stops:[[0,"#9BD"],[1,"#CDF"]]}},s),f=s.style,delete s.style,l=e(r,{style:{color:"#CCC"}},l),g=l.style,delete l.style,et(m.element,we?"mouseover":"mouseenter",function(){3!==v&&m.attr(a).css(p)}),et(m.element,we?"mouseout":"mouseleave",function(){3!==v&&(d=[r,a,s][v],u=[h,p,f][v],m.attr(d).css(u))}),m.setState=function(e){(m.state=v=e)?2===e?m.attr(s).css(f):3===e&&m.attr(l).css(g):m.attr(r).css(h)},m.on("click",function(){3!==v&&o.call(m)}).attr(r).css(He({cursor:"default"},h))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=de(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=de(e[2])+t%2/2),e},path:function(e){var t={fill:Be};return o(e)?t.d=e:n(e)&&He(t,e),this.createElement("path").attr(t)},circle:function(e,t,i){return e=n(e)?e:{x:e,y:t,r:i},t=this.createElement("circle"),t.xSetter=function(e){this.element.setAttribute("cx",e)},t.ySetter=function(e){this.element.setAttribute("cy",e)},t.attr(e)},arc:function(e,t,i,o,r,a){return n(e)&&(t=e.y,i=e.r,o=e.innerR,r=e.start,a=e.end,e=e.x),e=this.symbol("arc",e||0,t||0,i||0,i||0,{innerR:o||0,start:r||0,end:a||0}),e.r=i,e},rect:function(e,t,i,o,r,a){var r=n(e)?e.r:r,s=this.createElement("rect"),e=n(e)?e:e===I?{}:{x:e,y:t,width:pe(i,0),height:pe(o,0)};return a!==I&&(e.strokeWidth=a,e=s.crisp(e)),r&&(e.r=r),s.rSetter=function(e){d(this.element,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,i){var n=this.alignedObjects,o=n.length;for(this.width=e,this.height=t,this.boxWrapper[We(i,!0)?"animate":"attr"]({width:e,height:t});o--;)n[o].align()},g:function(e){var t=this.createElement("g");return c(e)?t.attr({"class":"highcharts-"+e}):t},image:function(e,t,i,n,o){var r={preserveAspectRatio:Be};return arguments.length>1&&He(r,{x:t,y:i,width:n,height:o}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):r.element.setAttribute("hc-svg-href",e),r},symbol:function(e,t,i,n,o,r){var a,s,l,c=this.symbols[e],c=c&&c(de(t),de(i),n,o,r),d=/^url\((.*?)\)$/;return c?(a=this.path(c),He(a,{symbolName:e,x:t,y:i,width:n,height:o}),r&&He(a,r)):d.test(e)&&(l=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(de((n-t[0])/2),de((o-t[1])/2)))},s=e.match(d)[1],e=Ee[s]||r&&r.width&&r.height&&[r.width,r.height],a=this.image(s).attr({x:t,y:i}),a.isImg=!0,e?l(a,e):(a.attr({width:0,height:0}),p("img",{onload:function(){l(a,Ee[s]=[this.width,this.height])},src:s}))),a},symbols:{circle:function(e,t,i,n){var o=.166*i;return["M",e+i/2,t,"C",e+i+o,t,e+i+o,t+n,e+i/2,t+n,"C",e-o,t+n,e-o,t,e+i/2,t,"Z"]},square:function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i,t+n,e,t+n,"Z"]},triangle:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n,e,t+n,"Z"]},"triangle-down":function(e,t,i,n){return["M",e,t,"L",e+i,t,e+i/2,t+n,"Z"]},diamond:function(e,t,i,n){return["M",e+i/2,t,"L",e+i,t+n/2,e+i/2,t+n,e,t+n/2,"Z"]},arc:function(e,t,i,n,o){var r=o.start,i=o.r||i||n,a=o.end-.001,n=o.innerR,s=o.open,l=me(r),c=ve(r),d=me(a),a=ve(a),o=o.end-r<ye?0:1;return["M",e+i*l,t+i*c,"A",i,i,0,o,1,e+i*d,t+i*a,s?"M":"L",e+n*d,t+n*a,"A",n,n,0,o,0,e+n*l,t+n*c,s?"":"Z"]},callout:function(e,t,i,n,o){var r=fe(o&&o.r||0,i,n),a=r+6,s=o&&o.anchorX,l=o&&o.anchorY,o=de(o.strokeWidth||0)%2/2;return e+=o,t+=o,o=["M",e+r,t,"L",e+i-r,t,"C",e+i,t,e+i,t,e+i,t+r,"L",e+i,t+n-r,"C",e+i,t+n,e+i,t+n,e+i-r,t+n,"L",e+r,t+n,"C",e,t+n,e,t+n,e,t+n-r,"L",e,t+r,"C",e,t,e,t,e+r,t],s&&s>i&&l>t+a&&t+n-a>l?o.splice(13,3,"L",e+i,l-6,e+i+6,l,e+i,l+6,e+i,t+n-r):s&&0>s&&l>t+a&&t+n-a>l?o.splice(33,3,"L",e,l+6,e-6,l,e,l-6,e,t+r):l&&l>n&&s>e+a&&e+i-a>s?o.splice(23,3,"L",s+6,t+n,s,t+n+6,s-6,t+n,e+r,t+n):l&&0>l&&s>e+a&&e+i-a>s&&o.splice(3,3,"L",s-6,t,s,t-6,s+6,t,i-r,t),o}},clipRect:function(e,t,i,n){var o="highcharts-"+$e++,r=this.createElement("clipPath").attr({id:o}).add(this.defs),e=this.rect(e,t,i,n,0).add(r);return e.id=o,e.clipPath=r,e.count=0,e},text:function(e,t,i,n){var o=Pe||!Te&&this.forExport,r={};return n&&!this.forExport?this.html(e,t,i):(r.x=Math.round(t||0),i&&(r.y=Math.round(i)),(e||0===e)&&(r.text=e),e=this.createElement("text").attr(r),o&&e.css({position:"absolute"}),n||(e.xSetter=function(e,t,i){var n,o,r=i.getElementsByTagName("tspan"),a=i.getAttribute(t);for(o=0;o<r.length;o++)n=r[o],n.getAttribute(t)===a&&n.setAttribute(t,e);i.setAttribute(t,e)}),e)},fontMetrics:function(e,i){e=e||this.style.fontSize,i&&le.getComputedStyle&&(i=i.element||i,e=le.getComputedStyle(i,"").fontSize);var e=/px/.test(e)?t(e):/em/.test(e)?12*parseFloat(e):12,n=24>e?e+3:de(1.2*e),o=de(.8*n);return{h:n,b:o,f:e}},rotCorr:function(e,t,i){var n=e;return t&&i&&(n=pe(n*me(t*be),4)),{x:-e/3*ve(t*be),y:n}},label:function(t,i,n,o,r,a,s,l,d){function u(){var e,t;e=C.element.style,g=(void 0===m||void 0===v||k.styles.textAlign)&&c(C.textStr)&&C.getBBox(),k.width=(m||g.width||0)+2*D+M,k.height=(v||g.height||0)+2*D,_=D+w.fontMetrics(e&&e.fontSize,C).b,x&&(f||(e=de(-S*D),t=l?-_:0,k.box=f=o?w.symbol(o,e,t,k.width,k.height,P):w.rect(e,t,k.width,k.height,0,P[Ne]),f.attr("fill",Be).add(k)),f.isImg||f.attr(He({width:de(k.width),height:de(k.height)},P)),P=null)}function h(){var e,t=k.styles,t=t&&t.textAlign,i=M+D*(1-S);e=l?0:_,c(m)&&g&&("center"===t||"right"===t)&&(i+={center:.5,right:1}[t]*(m-g.width)),(i!==C.x||e!==C.y)&&(C.attr("x",i),e!==I&&C.attr("SPAN"===C.element.nodeName?"y":"translateY",e)),C.x=i,C.y=e}function p(e,t){f?f.attr(e,t):P[e]=t}var f,g,m,v,y,b,_,x,w=this,k=w.g(d),C=w.text("",0,0,s).attr({zIndex:1}),S=0,D=3,M=0,T=0,P={};k.onAdd=function(){C.add(k),k.attr({text:t||0===t?t:"",x:i,y:n}),f&&c(r)&&k.attr({anchorX:r,anchorY:a})},k.widthSetter=function(e){m=e},k.heightSetter=function(e){v=e},k.paddingSetter=function(e){c(e)&&e!==D&&(D=k.padding=e,h())},k.paddingLeftSetter=function(e){c(e)&&e!==M&&(M=e,h())},k.alignSetter=function(e){S={left:0,center:.5,right:1}[e]},k.textSetter=function(e){e!==I&&C.textSetter(e),u(),h()},k["stroke-widthSetter"]=function(e,t){e&&(x=!0),T=e%2/2,p(t,e)},k.strokeSetter=k.fillSetter=k.rSetter=function(e,t){"fill"===t&&e&&(x=!0),p(t,e)},k.anchorXSetter=function(e,t){r=e,p(t,e+T-y)},k.anchorYSetter=function(e,t){a=e,p(t,e-b)},k.xSetter=function(e){k.x=e,S&&(e-=S*((m||g.width)+D)),y=de(e),k.attr("translateX",y)},k.ySetter=function(e){b=k.y=de(e),k.attr("translateY",b)};var E=k.css;return He(k,{css:function(t){if(t){var i={},t=e(t);Je(k.textProps,function(e){t[e]!==I&&(i[e]=t[e],delete t[e])}),C.css(i)}return E.call(k,t)},getBBox:function(){return{width:g.width+2*D,height:g.height+2*D,x:g.x-D,y:g.y-D}},shadow:function(e){return f&&f.shadow(e),k},destroy:function(){tt(k.element,"mouseenter"),tt(k.element,"mouseleave"),C&&(C=C.destroy()),f&&(f=f.destroy()),A.prototype.destroy.call(k),k=w=u=h=p=null}})}},R=ut,He(A.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=He(this.styles,e),h(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,i=this.element,n=this.translateX||0,o=this.translateY||0,r=this.x||0,a=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],d=this.shadows,u=this.styles;if(h(i,{marginLeft:n,marginTop:o}),d&&Je(d,function(e){h(e,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&Je(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var p,f=this.rotation,g=t(this.textWidth),m=[f,s,i.innerHTML,this.textWidth].join(",");m!==this.cTT&&(p=e.fontMetrics(i.style.fontSize).b,c(f)&&this.setSpanRotation(f,l,p),d=We(this.elemWidth,i.offsetWidth),d>g&&/[ \-]/.test(i.textContent||i.innerText)&&(h(i,{width:g+"px",display:"block",whiteSpace:u&&u.whiteSpace||"normal"}),d=g),this.getSpanCorrection(d,p,l,f,s)),h(i,{left:r+(this.xCorr||0)+"px",top:a+(this.yCorr||0)+"px"}),Ce&&(p=i.offsetHeight),this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,i){var n={},o=we?"-ms-transform":Ce?"-webkit-transform":Se?"MozTransform":xe?"-o-transform":"";n[o]=n.transform="rotate("+e+"deg)",n[o+(Se?"Origin":"-origin")]=n.transformOrigin=100*t+"% "+i+"px",h(this.element,n)},getSpanCorrection:function(e,t,i){this.xCorr=-e*i,this.yCorr=-t}}),He(ut.prototype,{html:function(e,t,i){var n=this.createElement("span"),o=n.element,r=n.renderer;return n.textSetter=function(e){e!==o.innerHTML&&delete this.bBox,o.innerHTML=this.textStr=e},n.xSetter=n.ySetter=n.alignSetter=n.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),n[t]=e,n.htmlUpdateTransform()},n.attr({text:e,x:de(t),y:de(i)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",n.css=n.htmlCss,r.isSVG&&(n.add=function(e){var t,i=r.box.parentNode,a=[];if(this.parentGroup=e){if(t=e.div,!t){for(;e;)a.push(e),e=e.parentGroup;Je(a.reverse(),function(e){var n;t=e.div=e.div||p(Oe,{className:d(e.element,"class")},{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px"},t||i),n=t.style,He(e,{translateXSetter:function(t,i){n.left=t+"px",e[i]=t,e.doTransform=!0},translateYSetter:function(t,i){n.top=t+"px",e[i]=t,e.doTransform=!0},visibilitySetter:function(e,t){n[t]=e}})})}}else t=i;return t.appendChild(o),n.added=!0,n.alignOnAdd&&n.htmlUpdateTransform(),n}),n}});var ht;Te||Pe||(Ge={init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ","absolute",";"],o=t===Oe;("shape"===t||o)&&n.push("left:0;top:0;width:1px;height:1px;"),n.push("visibility: ",o?"hidden":"visible"),i.push(' style="',n.join(""),'"/>'),t&&(i=o||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=p(i)),this.renderer=e},add:function(e){var t=this.renderer,i=this.element,n=t.box,n=e?e.element||e:n;return e&&e.inverted&&t.invertChild(i,n),n.appendChild(i),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this},updateTransform:A.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=me(e*be),i=ve(e*be);h(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):Be})},getSpanCorrection:function(e,t,i,n,o){var r,a=n?me(n*be):1,s=n?ve(n*be):0,l=We(this.elemHeight,this.element.offsetHeight);this.xCorr=0>a&&-e,this.yCorr=0>s&&-l,r=0>a*s,this.xCorr+=s*t*(r?1-i:i),this.yCorr-=a*t*(n?r?i:1-i:1),o&&"left"!==o&&(this.xCorr-=e*i*(0>a?-1:1),n&&(this.yCorr-=l*i*(0>s?-1:1)),h(this.element,{textAlign:o}))},pathToVML:function(e){for(var t=e.length,i=[];t--;)r(e[t])?i[t]=de(10*e[t])-5:"Z"===e[t]?i[t]="x":(i[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(i[t+5]===i[t+7]&&(i[t+7]+=e[t+7]>e[t+5]?1:-1),
i[t+6]===i[t+8]&&(i[t+8]+=e[t+8]>e[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(e){var t,i=this;return e?(t=e.members,l(t,i),t.push(i),i.destroyClip=function(){l(t,i)},e=e.getCSS(i)):(i.destroyClip&&i.destroyClip(),e={clip:ke?"inherit":"rect(auto)"}),i.css(e)},css:A.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&C(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),A.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=le.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,i){var n,e=e.split(/[ ,]/);return n=e.length,(9===n||11===n)&&(e[n-4]=e[n-2]=t(e[n-2])-10*i),e.join(" ")},shadow:function(e,i,n){var o,r,a,s,l,c,d,u=[],h=this.element,f=this.renderer,g=h.style,m=h.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,e){for(c=We(e.width,3),d=(e.opacity||.15)/c,o=1;3>=o;o++)s=2*c+1-2*o,n&&(l=this.cutOffPath(m.value,s+.5)),a=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],r=p(f.prepVML(a),null,{left:t(g.left)+We(e.offsetX,1),top:t(g.top)+We(e.offsetY,1)}),n&&(r.cutOff=s+1),a=['<stroke color="',e.color||"black",'" opacity="',d*o,'"/>'],p(f.prepVML(a),null,null,r),i?i.element.appendChild(r):h.parentNode.insertBefore(r,h),u.push(r);this.shadows=u}return this},updateShadows:Le,setAttr:function(e,t){ke?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,i){(i.getElementsByTagName("stroke")[0]||p(this.renderer.prepVML(["<stroke/>"]),null,null,i))[t]=e||"solid",this[t]=e},dSetter:function(e,t,i){var n=this.shadows,e=e||[];if(this.d=e.join&&e.join(" "),i.path=e=this.pathToVML(e),n)for(i=n.length;i--;)n[i].path=n[i].cutOff?this.cutOffPath(e,n[i].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,i){var n=i.nodeName;"SPAN"===n?i.style.color=e:"IMG"!==n&&(i.filled=e!==Be,this.setAttr("fillcolor",this.renderer.color(e,i,t,this)))},opacitySetter:Le,rotationSetter:function(e,t,i){i=i.style,this[t]=i[t]=e,i.left=-de(ve(e*be)+1)+"px",i.top=de(me(e*be))+"px"},strokeSetter:function(e,t,i){this.setAttr("strokecolor",this.renderer.color(e,i,t))},"stroke-widthSetter":function(e,t,i){i.stroked=!!e,this[t]=e,r(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,i){"inherit"===e&&(e="visible"),this.shadows&&Je(this.shadows,function(i){i.style[t]=e}),"DIV"===i.nodeName&&(e="hidden"===e?"-999em":0,ke||(i.style[t]=e?"visible":"hidden"),t="top"),i.style[t]=e},xSetter:function(e,t,i){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):i.style[t]=e},zIndexSetter:function(e,t,i){i.style[t]=e}},ae.VMLElement=Ge=f(A,Ge),Ge.prototype.ySetter=Ge.prototype.widthSetter=Ge.prototype.heightSetter=Ge.prototype.xSetter,Ge={Element:Ge,isIE8:_e.indexOf("MSIE 8.0")>-1,init:function(e,t,i,n){var o;if(this.alignedObjects=[],n=this.createElement(Oe).css(He(this.getStyle(n),{position:"relative"})),o=n.element,e.appendChild(n.element),this.isVML=!0,this.box=o,this.boxWrapper=n,this.cache={},this.setSize(t,i,!1),!se.namespaces.hcv){se.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{se.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(r){se.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,i,o){var r=this.createElement(),a=n(e);return He(r,{members:[],count:0,left:(a?e.x:e)+1,top:(a?e.y:t)+1,width:(a?e.width:i)-1,height:(a?e.height:o)-1,getCSS:function(e){var t=e.element,i=t.nodeName,e=e.inverted,n=this.top-("shape"===i?t.offsetTop:0),o=this.left,t=o+this.width,r=n+this.height,n={clip:"rect("+de(e?o:n)+"px,"+de(e?r:t)+"px,"+de(e?t:r)+"px,"+de(e?n:o)+"px)"};return!e&&ke&&"DIV"===i&&He(n,{width:t+"px",height:r+"px"}),n},updateClipping:function(){Je(r.members,function(e){e.element&&e.css(r.getCSS(e))})}})},color:function(e,t,i,n){var o,r,a,s=this,l=/^rgba/,c=Be;if(e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern"),a){var d,u,h,f,g,m,v,y,b=e.linearGradient||e.radialGradient,_="",e=e.stops,x=[],w=function(){r=['<fill colors="'+x.join(",")+'" opacity="',g,'" o:opacity2="',f,'" type="',a,'" ',_,'focus="100%" method="any" />'],p(s.prepVML(r),null,null,t)};if(h=e[0],y=e[e.length-1],h[0]>0&&e.unshift([0,h[1]]),y[0]<1&&e.push([1,y[1]]),Je(e,function(e,t){l.test(e[1])?(o=dt(e[1]),d=o.get("rgb"),u=o.get("a")):(d=e[1],u=1),x.push(100*e[0]+"% "+d),t?(g=u,m=d):(f=u,v=d)}),"fill"===i)if("gradient"===a)i=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,_='angle="'+(90-180*ce.atan((b-e)/(h-i))/ye)+'"',w();else{var k,c=b.r,C=2*c,S=2*c,D=b.cx,M=b.cy,T=t.radialReference,c=function(){T&&(k=n.getBBox(),D+=(T[0]-k.x)/k.width-.5,M+=(T[1]-k.y)/k.height-.5,C*=T[2]/k.width,S*=T[2]/k.height),_='src="'+F.global.VMLRadialGradientURL+'" size="'+C+","+S+'" origin="0.5,0.5" position="'+D+","+M+'" color2="'+v+'" ',w()};n.added?c():n.onAdd=c,c=m}else c=d}else l.test(e)&&"IMG"!==t.tagName?(o=dt(e),r=["<",i,' opacity="',o.get("a"),'"/>'],p(this.prepVML(r),null,null,t),c=o.get("rgb")):(c=t.getElementsByTagName(i),c.length&&(c[0].opacity=1,c[0].type="solid"),c=e);return c},prepVML:function(e){var t=this.isIE8,e=e.join("");return t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:ut.prototype.html,path:function(e){var t={coordsize:"10 10"};return o(e)?t.d=e:n(e)&&He(t,e),this.createElement("shape").attr(t)},circle:function(e,t,i){var o=this.symbol("circle");return n(e)&&(i=e.r,t=e.y,e=e.x),o.isCircle=!0,o.r=i,o.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e}),this.createElement(Oe).attr(t)},image:function(e,t,i,n,o){var r=this.createElement("img").attr({src:e});return arguments.length>1&&r.attr({x:t,y:i,width:n,height:o}),r},createElement:function(e){return"rect"===e?this.symbol(e):ut.prototype.createElement.call(this,e)},invertChild:function(e,i){var n=this,o=i.style,r="IMG"===e.tagName&&e.style;h(e,{flip:"x",left:t(o.width)-(r?t(r.top):1),top:t(o.height)-(r?t(r.left):1),rotation:-90}),Je(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,i,n,o){var r=o.start,a=o.end,s=o.r||i||n,i=o.innerR,n=me(r),l=ve(r),c=me(a),d=ve(a);return a-r===0?["x"]:(r=["wa",e-s,t-s,e+s,t+s,e+s*n,t+s*l,e+s*c,t+s*d],o.open&&!i&&r.push("e","M",e,t),r.push("at",e-i,t-i,e+i,t+i,e+i*c,t+i*d,e+i*n,t+i*l,"x","e"),r.isArc=!0,r)},circle:function(e,t,i,n,o){return o&&(i=n=2*o.r),o&&o.isCircle&&(e-=i/2,t-=n/2),["wa",e,t,e+i,t+n,e+i,t+n/2,e+i,t+n/2,"e"]},rect:function(e,t,i,n,o){return ut.prototype.symbols[c(o)&&o.r?"callout":"square"].call(0,e,t,i,n,o)}}},ae.VMLRenderer=ht=function(){this.init.apply(this,arguments)},ht.prototype=e(ut.prototype,Ge),R=ht),ut.prototype.measureSpanWidth=function(e,t){var i,n=se.createElement("span");return i=se.createTextNode(e),n.appendChild(i),h(n,t),this.box.appendChild(n),i=n.offsetWidth,C(n),i};var pt;Pe&&(ae.CanVGRenderer=Ge=function(){Me="http://www.w3.org/1999/xhtml"},Ge.prototype.symbols={},pt=function(){function e(){var e,i=t.length;for(e=0;i>e;e++)t[e]();t=[]}var t=[];return{push:function(i,n){0===t.length&&qe(n,e),t.push(i)}}}(),R=Ge),P.prototype={addLabel:function(){var t,i=this.axis,n=i.options,o=i.chart,r=i.categories,a=i.names,l=this.pos,d=n.labels,u=i.tickPositions,h=l===u[0],p=l===u[u.length-1],a=r?We(r[l],a[l],l):l,r=this.label,u=u.info;i.isDatetimeAxis&&u&&(t=n.dateTimeLabelFormats[u.higherRanks[l]||u.unitName]),this.isFirst=h,this.isLast=p,n=i.labelFormatter.call({axis:i,chart:o,isFirst:h,isLast:p,dateTimeLabelFormat:t,value:i.isLog?D(s(a)):a}),c(r)?r&&r.attr({text:n}):(this.labelLength=(this.label=r=c(n)&&d.enabled?o.renderer.text(n,0,0,d.useHTML).css(e(d.style)).add(i.labelGroup):null)&&r.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,i=this.axis,n=e.x,o=i.chart.chartWidth,r=i.chart.spacing,a=We(i.labelLeft,r[3]),r=We(i.labelRight,o-r[1]),s=this.label,l=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign],d=s.getBBox().width,u=i.slotWidth;l?0>l&&a>n-c*d?t=de(n/me(l*be)-a):l>0&&n+c*d>r&&(t=de((o-n)/me(l*be))):(o=n-c*d,n+=c*d,a>o?(u-=a-o,e.x=a,s.attr({align:"left"})):n>r&&(u-=n-r,e.x=r,s.attr({align:"right"})),(d>u||i.autoRotation&&s.styles.width)&&(t=u)),t&&s.css({width:t,textOverflow:"ellipsis"})},getPosition:function(e,t,i,n){var o=this.axis,r=o.chart,a=n&&r.oldChartHeight||r.chartHeight;return{x:e?o.translate(t+i,null,null,n)+o.transB:o.left+o.offset+(o.opposite?(n&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:e?a-o.bottom+o.offset-(o.opposite?o.height:0):a-o.translate(t+i,null,null,n)-o.transB}},getLabelPosition:function(e,t,i,n,o,r,a,s){var l=this.axis,c=l.transA,d=l.reversed,u=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},i=We(o.y,h.y+(2===l.side?8:-(i.getBBox().height/2))),e=e+o.x+h.x-(r&&n?r*c*(d?-1:1):0),t=t+i-(r&&!n?r*c*(d?1:-1):0);return u&&(t+=a/(s||1)%u*(l.labelOffset/u)),{x:e,y:de(t)}},getMarkPath:function(e,t,i,n,o,r){return r.crispLine(["M",e,t,"L",e+(o?0:-i),t+(o?i:0)],n)},render:function(e,t,i){var n=this.axis,o=n.options,r=n.chart.renderer,a=n.horiz,s=this.type,l=this.label,c=this.pos,d=o.labels,u=this.gridLine,h=s?s+"Grid":"grid",p=s?s+"Tick":"tick",f=o[h+"LineWidth"],g=o[h+"LineColor"],m=o[h+"LineDashStyle"],v=o[p+"Length"],h=o[p+"Width"]||0,y=o[p+"Color"],b=o[p+"Position"],p=this.mark,_=d.step,x=!0,w=n.tickmarkOffset,k=this.getPosition(a,c,w,t),C=k.x,k=k.y,S=a&&C===n.pos+n.len||!a&&k===n.pos?-1:1,i=We(i,1);this.isActive=!0,f&&(c=n.getPlotLinePath(c+w,f*S,t,!0),u===I&&(u={stroke:g,"stroke-width":f},m&&(u.dashstyle=m),s||(u.zIndex=1),t&&(u.opacity=0),this.gridLine=u=f?r.path(c).attr(u).add(n.gridGroup):null),!t&&u&&c&&u[this.isNew?"attr":"animate"]({d:c,opacity:i})),h&&v&&("inside"===b&&(v=-v),n.opposite&&(v=-v),s=this.getMarkPath(C,k,v,h*S,a,r),p?p.animate({d:s,opacity:i}):this.mark=r.path(s).attr({stroke:y,"stroke-width":h,opacity:i}).add(n.axisGroup)),l&&!isNaN(C)&&(l.xy=k=this.getLabelPosition(C,k,l,a,d,w,e,_),this.isFirst&&!this.isLast&&!We(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!We(o.showLastLabel,1)?x=!1:a&&!n.isRadial&&!d.step&&!d.rotation&&!t&&0!==i&&this.handleOverflow(k),_&&e%_&&(x=!1),x&&!isNaN(k.y)?(k.opacity=i,l[this.isNew?"attr":"animate"](k),this.isNew=!1):l.attr("y",-9999))},destroy:function(){k(this,this.axis)}},ae.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},ae.PlotLineOrBand.prototype={render:function(){var t,i=this,n=i.axis,o=n.horiz,r=i.options,s=r.label,l=i.label,d=r.width,u=r.to,h=r.from,p=c(h)&&c(u),f=r.value,g=r.dashStyle,m=i.svgElem,v=[],y=r.color,b=r.zIndex,_=r.events,k={},C=n.chart.renderer;if(n.isLog&&(h=a(h),u=a(u),f=a(f)),d)v=n.getPlotLinePath(f,d),k={stroke:y,"stroke-width":d},g&&(k.dashstyle=g);else{if(!p)return;v=n.getPlotBandPath(h,u,r),y&&(k.fill=y),r.borderWidth&&(k.stroke=r.borderColor,k["stroke-width"]=r.borderWidth)}if(c(b)&&(k.zIndex=b),m)v?m.animate({d:v},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},l&&(i.label=l=l.destroy()));else if(v&&v.length&&(i.svgElem=m=C.path(v).attr(k).add(),_))for(t in r=function(e){m.on(e,function(t){_[e].apply(i,[t])})},_)r(t);return s&&c(s.text)&&v&&v.length&&n.width>0&&n.height>0?(s=e({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},s),l||(k={align:s.textAlign||s.align,rotation:s.rotation},c(b)&&(k.zIndex=b),i.label=l=C.text(s.text,0,0,s.useHTML).attr(k).css(s.style).add()),n=[v[1],v[4],p?v[6]:v[1]],p=[v[2],v[5],p?v[7]:v[2]],v=x(n),o=x(p),l.align(s,!1,{x:v,y:o,width:w(n)-v,height:w(p)-o}),l.show()):l&&l.hide(),i},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,k(this)}};var ft=ae.Axis=function(){this.init.apply(this,arguments)};ft.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ae.numberFormat(this.total,-1)},style:e(at.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(e,t){var i=t.isX;this.horiz=e.inverted?!i:i,this.coll=(this.isXAxis=i)?"xAxis":"yAxis",this.opposite=t.opposite,this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(t);var n=this.options,o=n.type;this.labelFormatter=n.labels.formatter||this.defaultLabelFormatter,this.userOptions=t,this.minPixelPadding=0,this.chart=e,this.reversed=n.reversed,this.zoomEnabled=n.zoomEnabled!==!1,this.categories=n.categories||"category"===o,this.names=this.names||[],this.isLog="logarithmic"===o,this.isDatetimeAxis="datetime"===o,this.isLinked=c(n.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=n.minRange||n.maxZoom,this.range=n.range,this.offset=n.offset||0,this.stacks={},this.oldStacks={},this.min=this.max=null,this.crosshair=We(n.crosshair,u(e.options.tooltip.crosshairs)[i?0:1],!1);var r,n=this.options.events;-1===Ye(this,e.axes)&&(i&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this)),this.series=this.series||[],e.inverted&&i&&this.reversed===I&&(this.reversed=!0),this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in n)et(this,r,n[r]);this.isLog&&(this.val2lin=a,this.lin2val=s)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(F[this.coll],t))},defaultLabelFormatter:function(){var e,t=this.axis,i=this.value,n=t.categories,o=this.dateTimeLabelFormat,r=F.lang.numericSymbols,a=r&&r.length,s=t.options.labels.format,t=t.isLog?i:t.tickInterval;if(s)e=v(s,this);else if(n)e=i;else if(o)e=j(o,i);else if(a&&t>=1e3)for(;a--&&e===I;)n=Math.pow(1e3,a+1),t>=n&&null!==r[a]&&(e=ae.numberFormat(i/n,-1)+r[a]);return e===I&&(e=ge(i)>=1e4?ae.numberFormat(i,0):ae.numberFormat(i,-1,I,"")),e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),Je(e.series,function(i){if(i.visible||!t.options.chart.ignoreHiddenSeries){var n;n=i.options.threshold;var o;e.hasVisibleSeries=!0,e.isLog&&0>=n&&(n=null),e.isXAxis?(n=i.xData,n.length&&(e.dataMin=fe(We(e.dataMin,n[0]),x(n)),e.dataMax=pe(We(e.dataMax,n[0]),w(n)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,c(i)&&c(o)&&(e.dataMin=fe(We(e.dataMin,i),i),e.dataMax=pe(We(e.dataMax,o),o)),c(n)&&(e.dataMin>=n?(e.dataMin=n,e.ignoreMinPadding=!0):e.dataMax<n&&(e.dataMax=n,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,i,n,o,a){var s=1,l=0,c=n?this.oldTransA:this.transA,n=n?this.oldMin:this.min,d=this.minPixelPadding,o=(this.doPostTranslate||this.isLog&&o)&&this.lin2val;return c||(c=this.transA),i&&(s*=-1,l=this.len),this.reversed&&(s*=-1,l-=s*(this.sector||this.len)),t?(e=e*s+l,e-=d,e=e/c+n,o&&(e=this.lin2val(e))):(o&&(e=this.val2lin(e)),"between"===a&&(a=.5),e=s*(e-n)*c+l+s*d+(r(a)?c*a*this.pointRange:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,i,n,o){var r,a,s,l=this.chart,c=this.left,d=this.top,u=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;r=this.transB;var p=function(e,t,i){return(t>e||e>i)&&(n?e=fe(pe(t,e),i):s=!0),e},o=We(o,this.translate(e,null,null,i)),e=i=de(o+r);return r=a=de(u-o-r),isNaN(o)?s=!0:this.horiz?(r=d,a=u-this.bottom,e=i=p(e,c,c+this.width)):(e=c,i=h-this.right,r=a=p(r,d,d+this.height)),s&&!n?null:l.renderer.crispLine(["M",e,r,"L",i,a],t||1)},getLinearTickPositions:function(e,t,i){var n,o=D(ue(t/e)*e),a=D(he(i/e)*e),s=[];if(t===i&&r(t))return[t];for(t=o;a>=t&&(s.push(t),t=D(t+e),t!==n);)n=t;return s},getMinorTickPositions:function(){var e,t=this.options,i=this.tickPositions,n=this.minorTickInterval,o=[],r=this.min;e=this.max;var a=e-r;if(a&&a/n<this.len/3)if(this.isLog)for(t=i.length,e=1;t>e;e++)o=o.concat(this.getLogTickPositions(n,i[e-1],i[e],!0));else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)o=o.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),r,e,t.startOfWeek));else for(i=r+(i[0]-r)%n;e>=i;i+=n)o.push(i);return this.trimTicks(o),o},adjustForMinRange:function(){var e,t,i,n,o,r,a=this.options,s=this.min,l=this.max,d=this.dataMax-this.dataMin>=this.minRange;if(this.isXAxis&&this.minRange===I&&!this.isLog&&(c(a.min)||c(a.max)?this.minRange=null:(Je(this.series,function(e){for(o=e.xData,i=r=e.xIncrement?1:o.length-1;i>0;i--)n=o[i]-o[i-1],(t===I||t>n)&&(t=n)}),this.minRange=fe(5*t,this.dataMax-this.dataMin))),l-s<this.minRange){var u=this.minRange;e=(u-l+s)/2,e=[s-e,We(a.min,s-e)],d&&(e[2]=this.dataMin),s=w(e),l=[s+u,We(a.max,s+u)],d&&(l[2]=this.dataMax),l=x(l),u>l-s&&(e[0]=l-u,e[1]=We(a.min,l-u),s=w(e))}this.min=s,this.max=l},setAxisTranslation:function(e){var t,n=this,o=n.max-n.min,r=n.axisPointRange||0,a=0,s=0,l=n.linkedParent,d=!!n.categories,u=n.transA,h=n.isXAxis;(h||d||r)&&(l?(a=l.minPointOffset,s=l.pointRangePadding):Je(n.series,function(e){var l=d?1:h?e.pointRange:n.axisPointRange||0,u=e.options.pointPlacement,p=e.closestPointRange;l>o&&(l=0),r=pe(r,l),n.single||(a=pe(a,i(u)?0:l/2),s=pe(s,"on"===u?0:l)),!e.noSharedTooltip&&c(p)&&(t=c(t)?fe(t,p):p)}),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=a*=l,n.pointRangePadding=s*=l,n.pointRange=fe(r,o),h&&(n.closestPointRange=t)),e&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(o+s||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*a},setTickInterval:function(e){var t=this,i=t.chart,n=t.options,o=t.isLog,s=t.isDatetimeAxis,l=t.isXAxis,d=t.isLinked,u=n.maxPadding,h=n.minPadding,p=n.tickInterval,f=n.tickPixelInterval,g=t.categories;!s&&!g&&!d&&this.getTickAmount(),d?(t.linkedParent=i[t.coll][n.linkedTo],i=t.linkedParent.getExtremes(),t.min=We(i.min,i.dataMin),t.max=We(i.max,i.dataMax),n.type!==t.linkedParent.options.type&&S(11,1)):(t.min=We(t.userMin,n.min,t.dataMin),t.max=We(t.userMax,n.max,t.dataMax)),o&&(!e&&fe(t.min,We(t.dataMin,t.min))<=0&&S(10,1),t.min=D(a(t.min)),t.max=D(a(t.max))),t.range&&c(t.max)&&(t.userMin=t.min=pe(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),g||t.axisPointRange||t.usePercentage||d||!c(t.min)||!c(t.max)||!(i=t.max-t.min)||(c(n.min)||c(t.userMin)||!h||!(t.dataMin<0)&&t.ignoreMinPadding||(t.min-=i*h),c(n.max)||c(t.userMax)||!u||!(t.dataMax>0)&&t.ignoreMaxPadding||(t.max+=i*u)),r(n.floor)&&(t.min=pe(t.min,n.floor)),r(n.ceiling)&&(t.max=fe(t.max,n.ceiling)),t.tickInterval=t.min===t.max||void 0===t.min||void 0===t.max?1:d&&!p&&f===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:We(p,this.tickAmount?(t.max-t.min)/pe(this.tickAmount-1,1):void 0,g?1:(t.max-t.min)*f/pe(t.len,f)),l&&!e&&Je(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=pe(t.pointRange,t.tickInterval)),e=We(n.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!p&&t.tickInterval<e&&(t.tickInterval=e),s||o||p||(t.tickInterval=b(t.tickInterval,null,y(t.tickInterval),We(n.allowDecimals,!(t.tickInterval>.5&&t.tickInterval<5&&t.max>1e3&&t.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(t.tickInterval=t.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t,i=this.options,n=i.tickPositions,o=i.tickPositioner,r=i.startOnTick,a=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=e=i.tickPositions&&i.tickPositions.slice(),!e&&(this.tickPositions=e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),o&&(o=o.apply(this,[this.min,this.max])))&&(this.tickPositions=e=o),this.isLinked||(this.trimTicks(e,r,a),this.min===this.max&&c(this.min)&&!this.tickAmount&&(t=!0,this.min-=.5,this.max+=.5),this.single=t,!n&&!o&&this.adjustTickAmount())},trimTicks:function(e,t,i){var n=e[0],o=e[e.length-1],r=this.minPointOffset||0;t?this.min=n:this.min-r>n&&e.shift(),i?this.max=o:this.max+r<o&&e.pop(),0===e.length&&c(n)&&e.push((o+n)/2)},getTickAmount:function(){var e,t={},i=this.options,n=i.tickAmount,o=i.tickPixelInterval;!c(i.tickInterval)&&this.len<o&&!this.isRadial&&!this.isLog&&i.startOnTick&&i.endOnTick&&(n=2),!n&&this.chart.options.chart.alignTicks!==!1&&i.alignTicks!==!1&&(Je(this.chart[this.coll],function(i){var n=i.options,i=i.horiz,n=[i?n.left:n.top,i?n.width:n.height,n.pane].join(",");t[n]?e=!0:t[n]=1}),e&&(n=he(this.len/o)+1)),4>n&&(this.finalTickAmt=n,n=5),this.tickAmount=n},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,o=t&&t.length;if(i>o){for(;t.length<i;)t.push(D(t[t.length-1]+e));this.transA*=(o-1)/(i-1),this.max=t[t.length-1]}else o>i&&(this.tickInterval*=2,this.setTickPositions());if(c(n)){for(e=i=t.length;e--;)(3===n&&e%2===1||2>=n&&e>0&&i-1>e)&&t.splice(e,1);this.finalTickAmt=I}},setScale:function(){var e,t,i,n,o=this.stacks;if(this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),n=this.len!==this.oldAxisLength,Je(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(i=!0)}),n||i||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in o)for(t in o[e])o[e][t].total=null,o[e][t].cum=0;this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=n||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(o=this.stacks=this.oldStacks);for(e in o)for(t in o[e])o[e][t].cum=o[e][t].total}},setExtremes:function(e,t,i,n,o){var r=this,a=r.chart,i=We(i,!0);Je(r.series,function(e){delete e.kdTree}),o=He(o,{min:e,max:t}),it(r,"setExtremes",o,function(){r.userMin=e,r.userMax=t,r.eventArgs=o,r.isDirtyExtremes=!0,i&&a.redraw(n)})},zoom:function(e,t){var i=this.dataMin,n=this.dataMax,o=this.options;return this.allowZoomOutside||(c(i)&&e<=fe(i,We(o.min,i))&&(e=I),c(n)&&t>=pe(n,We(o.max,n))&&(t=I)),this.displayBtn=e!==I||t!==I,this.setExtremes(e,t,!1,I,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,i=t.offsetLeft||0,n=this.horiz,o=We(t.width,e.plotWidth-i+(t.offsetRight||0)),r=We(t.height,e.plotHeight),a=We(t.top,e.plotTop),t=We(t.left,e.plotLeft+i),i=/%$/;i.test(r)&&(r=parseFloat(r)/100*e.plotHeight),i.test(a)&&(a=parseFloat(a)/100*e.plotHeight+e.plotTop),this.left=t,this.top=a,this.width=o,this.height=r,this.bottom=e.chartHeight-r-a,this.right=e.chartWidth-o-t,this.len=pe(n?o:r,0),this.pos=n?t:a},getExtremes:function(){var e=this.isLog;return{min:e?D(s(this.min)):this.min,max:e?D(s(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,i=t?s(this.min):this.min,t=t?s(this.max):this.max;return i>e||null===e?e=i:e>t&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(We(e,0)-90*this.side+720)%360,e>15&&165>e?"right":e>195&&345>e?"left":"center"},unsquish:function(){var e,t,i,n=this.ticks,o=this.options.labels,r=this.horiz,a=this.tickInterval,s=a,l=this.len/(((this.categories?1:0)+this.max-this.min)/a),d=o.rotation,u=this.chart.renderer.fontMetrics(o.style.fontSize,n[0]&&n[0].label),h=Number.MAX_VALUE,p=function(e){return e/=l||1,e=e>1?he(e):1,e*a};return r?(i=c(d)?[d]:l<We(o.autoRotationLimit,80)&&!o.staggerLines&&!o.step&&o.autoRotation)&&Je(i,function(i){var n;(i===d||i&&i>=-90&&90>=i)&&(t=p(ge(u.h/ve(be*i))),n=t+ge(i/360),h>n&&(h=n,e=i,s=t))}):s=p(u.h),this.autoRotation=i,this.labelRotation=e,s},renderUnsquish:function(){var t,n=this.chart,o=n.renderer,r=this.tickPositions,a=this.ticks,s=this.options.labels,l=this.horiz,c=n.margin,d=this.slotWidth=l&&!s.step&&!s.rotation&&(this.staggerLines||1)*n.plotWidth/r.length||!l&&(c[3]&&c[3]-n.spacing[3]||.33*n.chartWidth),u=pe(1,de(d-2*(s.padding||5))),h={},c=o.fontMetrics(s.style.fontSize,a[0]&&a[0].label),p=0;if(i(s.rotation)||(h.rotation=s.rotation),this.autoRotation)Je(r,function(e){(e=a[e])&&e.labelLength>p&&(p=e.labelLength)}),p>u&&p>c.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(d)for(t={width:u+"px",textOverflow:"clip"},d=r.length;!l&&d--;)u=r[d],(u=a[u].label)&&("ellipsis"===u.styles.textOverflow&&u.css({textOverflow:"clip"}),u.getBBox().height>this.len/r.length-(c.h-c.f)&&(u.specCss={textOverflow:"ellipsis"}));h.rotation&&(t={width:(p>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight)+"px",textOverflow:"ellipsis"}),this.labelAlign=h.align=s.align||this.autoLabelAlign(this.labelRotation),Je(r,function(i){var n=(i=a[i])&&i.label;n&&(t&&n.css(e(t,n.specCss)),delete n.specCss,n.attr(h),i.rotation=h.rotation)}),this.tickRotCorr=o.rotCorr(c.b,this.labelRotation||0,2===this.side)},getOffset:function(){var e,t,i,n,o=this,r=o.chart,a=r.renderer,s=o.options,l=o.tickPositions,d=o.ticks,u=o.horiz,h=o.side,p=r.inverted?[1,0,3,2][h]:h,f=0,g=0,m=s.title,v=s.labels,y=0,b=r.axisOffset,r=r.clipOffset,_=[-1,1,1,-1][h];if(o.hasData=e=o.hasVisibleSeries||c(o.min)&&c(o.max)&&!!l,o.showAxis=t=e||We(s.showEmpty,!0),o.staggerLines=o.horiz&&v.staggerLines,o.axisGroup||(o.gridGroup=a.g("grid").attr({zIndex:s.gridZIndex||1}).add(),o.axisGroup=a.g("axis").attr({zIndex:s.zIndex||2}).add(),o.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+o.coll.toLowerCase()+"-labels").add()),e||o.isLinked)Je(l,function(e){d[e]?d[e].addLabel():d[e]=new P(o,e)}),o.renderUnsquish(),Je(l,function(e){(0===h||2===h||{1:"left",3:"right"}[h]===o.labelAlign)&&(y=pe(d[e].getLabelSize(),y))}),o.staggerLines&&(y*=o.staggerLines,o.labelOffset=y);else for(n in d)d[n].destroy(),delete d[n];m&&m.text&&m.enabled!==!1&&(o.axisTitle||(o.axisTitle=a.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(o.axisGroup),o.axisTitle.isNew=!0),t&&(f=o.axisTitle.getBBox()[u?"height":"width"],i=m.offset,g=c(i)?0:We(m.margin,u?5:10)),o.axisTitle[t?"show":"hide"]()),o.offset=_*We(s.offset,b[h]),o.tickRotCorr=o.tickRotCorr||{x:0,y:0},a=2===h?o.tickRotCorr.y:0,u=y+g+(y&&_*(u?We(v.y,o.tickRotCorr.y+8):v.x)-a),o.axisTitleMargin=We(i,u),b[h]=pe(b[h],o.axisTitleMargin+f+_*o.offset,u),r[p]=pe(r[p],2*ue(s.lineWidth/2))},getLinePath:function(e){var t=this.chart,i=this.opposite,n=this.offset,o=this.horiz,r=this.left+(i?this.width:0)+n,n=t.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(e*=-1),t.renderer.crispLine(["M",o?this.left:r,o?n:this.top,"L",o?t.chartWidth-this.right:r,o?n:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,i=this.left,n=this.top,o=this.len,r=this.options.title,a=e?i:n,s=this.opposite,l=this.offset,c=t(r.style.fontSize||12),o={low:a+(e?0:o),middle:a+o/2,high:a+(e?o:0)}[r.align],i=(e?n+this.height:i)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?o:i+(s?this.width:0)+l+(r.x||0),y:e?i-(s?this.height:0)+l:o+(r.y||0)}},render:function(){var e,t=this,i=t.chart,n=i.renderer,o=t.options,r=t.isLog,a=t.isLinked,l=t.tickPositions,d=t.axisTitle,u=t.ticks,h=t.minorTicks,p=t.alternateBands,f=o.stackLabels,g=o.alternateGridColor,m=t.tickmarkOffset,v=o.lineWidth,y=i.hasRendered&&c(t.oldMin)&&!isNaN(t.oldMin);e=t.hasData;var b,_,x=t.showAxis;t.labelEdge.length=0,t.overlap=!1,Je([u,h,p],function(e){for(var t in e)e[t].isActive=!1}),(e||a)&&(t.minorTickInterval&&!t.categories&&Je(t.getMinorTickPositions(),function(e){h[e]||(h[e]=new P(t,e,"minor")),y&&h[e].isNew&&h[e].render(null,!0),h[e].render(null,!1,1)}),l.length&&(Je(l,function(e,i){(!a||e>=t.min&&e<=t.max)&&(u[e]||(u[e]=new P(t,e)),y&&u[e].isNew&&u[e].render(i,!0,.1),u[e].render(i))}),m&&(0===t.min||t.single))&&(u[-1]||(u[-1]=new P(t,-1,null,!0)),u[-1].render(-1)),g&&Je(l,function(e,i){i%2===0&&e<t.max&&(p[e]||(p[e]=new ae.PlotLineOrBand(t)),b=e+m,_=l[i+1]!==I?l[i+1]+m:t.max,p[e].options={from:r?s(b):b,to:r?s(_):_,color:g},p[e].render(),p[e].isActive=!0)}),t._addedPlotLB||(Je((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)),Je([u,h,p],function(e){var t,n,o=[],r=N?N.duration||500:0,a=function(){for(n=o.length;n--;)e[o[n]]&&!e[o[n]].isActive&&(e[o[n]].destroy(),delete e[o[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,o.push(t));e!==p&&i.hasRendered&&r?r&&setTimeout(a,r):a()}),v&&(e=t.getLinePath(v),t.axisLine?t.axisLine.animate({d:e}):t.axisLine=n.path(e).attr({stroke:o.lineColor,"stroke-width":v,zIndex:7}).add(t.axisGroup),t.axisLine[x?"show":"hide"]()),d&&x&&(d[d.isNew?"attr":"animate"](t.getTitlePosition()),d.isNew=!1),f&&f.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.render(),Je(this.plotLinesAndBands,function(e){e.render()}),Je(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t,i=this,n=i.stacks,o=i.plotLinesAndBands;e||tt(i);for(t in n)k(n[t]),n[t]=null;for(Je([i.ticks,i.minorTicks,i.alternateBands],function(e){k(e)}),e=o.length;e--;)o[e].destroy();Je("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(e){i[e]&&(i[e]=i[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){var i,n=this.crosshair,o=n.animation;this.crosshair&&(c(t)||!We(this.crosshair.snap,!0))!==!1?(We(n.snap,!0)?c(t)&&(i=this.isXAxis?t.plotX:this.len-t.plotY):i=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,i=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:We(t.stackY,t.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===i?this.hideCrosshair():this.cross?this.cross.attr({visibility:"visible"})[o?"animate":"attr"]({d:i
},o):(o=this.categories&&!this.isRadial,o={"stroke-width":n.width||(o?this.transA:1),stroke:n.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:n.zIndex||2},n.dashStyle&&(o.dashstyle=n.dashStyle),this.cross=this.chart.renderer.path(i).attr(o).add())):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},He(ft.prototype,{getPlotBandPath:function(e,t){var i=this.getPlotLinePath(t,null,null,!0),n=this.getPlotLinePath(e,null,null,!0);return n&&i&&n.toString()!==i.toString()?n.push(i[4],i[5],i[1],i[2]):n=null,n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var i=new ae.PlotLineOrBand(this,e).render(),n=this.userOptions;return i&&(t&&(n[t]=n[t]||[],n[t].push(e)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,n=this.userOptions,o=t.length;o--;)t[o].id===e&&t[o].destroy();Je([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(t){for(o=t.length;o--;)t[o].id===e&&l(t,t[o])})}}),ft.prototype.getTimeTicks=function(e,t,i,n){var o,r=[],a={},s=F.global.useUTC,l=new W(t-m(t)),d=e.unitRange,u=e.count;if(c(t)){l[Q](d>=H.second?0:u*ue(l.getMilliseconds()/u)),d>=H.second&&l[ee](d>=H.minute?0:u*ue(l.getSeconds()/u)),d>=H.minute&&l[te](d>=H.hour?0:u*ue(l[X]()/u)),d>=H.hour&&l[ie](d>=H.day?0:u*ue(l[q]()/u)),d>=H.day&&l[ne](d>=H.month?1:u*ue(l[J]()/u)),d>=H.month&&(l[oe](d>=H.year?0:u*ue(l[K]()/u)),o=l[Z]()),d>=H.year&&(o-=o%u,l[re](o)),d===H.week&&l[ne](l[J]()-l[Y]()+We(n,1)),t=1,(U||G)&&(l=l.getTime(),l=new W(l+m(l))),o=l[Z]();for(var n=l.getTime(),h=l[K](),p=l[J](),f=(H.day+(s?m(l):6e4*l.getTimezoneOffset()))%H.day;i>n;)r.push(n),d===H.year?n=V(o+t*u,0):d===H.month?n=V(o,h+t*u):s||d!==H.day&&d!==H.week?n+=d*u:n=V(o,h,p+t*u*(d===H.day?1:7)),t++;r.push(n),Je(Ke(r,function(e){return d<=H.hour&&e%H.day===f}),function(e){a[e]="day"})}return r.info=He(e,{higherRanks:a,totalRange:d*u}),r},ft.prototype.normalizeTimeTickInterval=function(e,t){var i,n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=n[n.length-1],r=H[o[0]],a=o[1];for(i=0;i<n.length&&(o=n[i],r=H[o[0]],a=o[1],!(n[i+1]&&e<=(r*a[a.length-1]+H[n[i+1][0]])/2));i++);return r===H.year&&5*r>e&&(a=[1,2,5]),n=b(e/r,a,"year"===o[0]?pe(y(e/r),1):1),{unitRange:r,count:n,unitName:o[0]}},ft.prototype.getLogTickPositions=function(e,t,i,n){var o=this.options,r=this.len,l=[];if(n||(this._minorAutoInterval=null),e>=.5)e=de(e),l=this.getLinearTickPositions(e,t,i);else if(e>=.08)for(var c,d,u,h,p,r=ue(t),o=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];i+1>r&&!p;r++)for(d=o.length,c=0;d>c&&!p;c++)u=a(s(r)*o[c]),u>t&&(!n||i>=h)&&h!==I&&l.push(h),h>i&&(p=!0),h=u;else t=s(t),i=s(i),e=o[n?"minorTickInterval":"tickInterval"],e=We("auto"===e?null:e,this._minorAutoInterval,(i-t)*(o.tickPixelInterval/(n?5:1))/((n?r/this.tickPositions.length:r)||1)),e=b(e,null,y(e)),l=Qe(this.getLinearTickPositions(e,t,i),a),n||(this._minorAutoInterval=e/5);return n||(this.tickInterval=e),l};var gt=ae.Tooltip=function(){this.init.apply(this,arguments)};gt.prototype={init:function(e,i){var n=i.borderWidth,o=i.style,r=t(o.padding);this.chart=e,this.options=i,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:r,fill:i.backgroundColor,"stroke-width":n,r:i.borderRadius,zIndex:8}).css(o).css({padding:0}).add().attr({y:-9999}),Pe||this.label.shadow(i.shadow),this.shared=i.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,i,n){var o=this,r=o.now,a=o.options.animation!==!1&&!o.isHidden&&(ge(e-r.x)>1||ge(t-r.y)>1),s=o.followPointer||o.len>1;He(r,{x:a?(2*r.x+e)/3:e,y:a?(r.y+t)/2:t,anchorX:s?I:a?(2*r.anchorX+i)/3:i,anchorY:s?I:a?(r.anchorY+n)/2:n}),o.label.attr(r),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(e,t,i,n)},32))},hide:function(e){var t,i=this;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){i.label.fadeOut(),i.isHidden=!0},We(e,this.options.hideDelay,500)),t&&Je(t,function(e){e.setState()}),this.chart.hoverPoints=null,this.chart.hoverSeries=null)},getAnchor:function(e,t){var i,n,o,r=this.chart,a=r.inverted,s=r.plotTop,l=r.plotLeft,c=0,d=0,e=u(e);return i=e[0].tooltipPos,this.followPointer&&t&&(t.chartX===I&&(t=r.pointer.normalize(t)),i=[t.chartX-r.plotLeft,t.chartY-s]),i||(Je(e,function(e){n=e.series.yAxis,o=e.series.xAxis,c+=e.plotX+(!a&&o?o.left-l:0),d+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!a&&n?n.top-s:0)}),c/=e.length,d/=e.length,i=[a?r.plotWidth-d:c,this.shared&&!a&&e.length>1&&t?t.chartY-s:a?r.plotHeight-c:d]),Qe(i,de)},getPosition:function(e,t,i){var n,o=this.chart,r=this.distance,a={},s=i.h,l=["y",o.chartHeight,t,i.plotY+o.plotTop],c=["x",o.chartWidth,e,i.plotX+o.plotLeft],d=We(i.ttBelow,o.inverted&&!i.negative||!o.inverted&&i.negative),u=function(e,t,i,n){var o=n-r>i,l=t>n+r+i,c=n-r-i;if(n+=r,d&&l)a[e]=n;else if(!d&&o)a[e]=c;else if(o)a[e]=0>c-s?c:c-s;else{if(!l)return!1;a[e]=n+s+i>t?n:n+s}},h=function(e,t,i,n){return r>n||n>t-r?!1:void(a[e]=i/2>n?1:n>t-i/2?t-i-2:n-i/2)},p=function(e){var t=l;l=c,c=t,n=e},f=function(){u.apply(0,l)!==!1?h.apply(0,c)===!1&&!n&&(p(!0),f()):n?a.x=a.y=0:(p(!0),f())};return(o.inverted||this.len>1)&&p(),f(),a},defaultFormatter:function(e){var t,i=this.points||u(this);return t=[e.tooltipFooterHeaderFormatter(i[0])],t=t.concat(e.bodyFormatter(i)),t.push(e.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(e,t){var i,n,o,r=this.chart,a=this.label,s=this.options,l={},c=[];o=s.formatter||this.defaultFormatter;var d,l=r.hoverPoints,h=this.shared;clearTimeout(this.hideTimer),this.followPointer=u(e)[0].series.tooltipOptions.followPointer,n=this.getAnchor(e,t),i=n[0],n=n[1],!h||e.series&&e.series.noSharedTooltip?l=e.getLabelConfig():(r.hoverPoints=e,l&&Je(l,function(e){e.setState()}),Je(e,function(e){e.setState("hover"),c.push(e.getLabelConfig())}),l={x:e[0].category,y:e[0].y},l.points=c,this.len=c.length,e=e[0]),o=o.call(l,this),l=e.series,this.distance=We(l.tooltipOptions.distance,16),o===!1?this.hide():(this.isHidden&&(rt(a),a.attr("opacity",1).show()),a.attr({text:o}),d=s.borderColor||e.color||l.color||"#606060",a.attr({stroke:d}),this.updatePosition({plotX:i,plotY:n,negative:e.negative,ttBelow:e.ttBelow,h:e.shapeArgs&&e.shapeArgs.height||0}),this.isHidden=!1),it(r,"tooltipRefresh",{text:o,x:i+r.plotLeft,y:n+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,i=this.label,i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,e);this.move(de(i.x),de(i.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getXDateFormat:function(e,t,i){var n,o,r,a,t=t.dateTimeLabelFormats,s=i&&i.closestPointRange,l={millisecond:15,second:12,minute:9,hour:6,day:3};if(s){r=j("%m-%d %H:%M:%S.%L",e.x);for(o in H){if(s===H.week&&+j("%w",e.x)===i.options.startOfWeek&&"00:00:00.000"===r.substr(6)){o="week";break}if(H[o]>s){o=a;break}if(l[o]&&r.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(a=o)}o&&(n=t[o])}else n=t.day;return n||t.year},tooltipFooterHeaderFormatter:function(e,t){var i=t?"footer":"header",n=e.series,o=n.tooltipOptions,a=o.xDateFormat,s=n.xAxis,l=s&&"datetime"===s.options.type&&r(e.key),i=o[i+"Format"];return l&&!a&&(a=this.getXDateFormat(e,o,s)),l&&a&&(i=i.replace("{point.key}","{point.key:"+a+"}")),v(i,{point:e,series:n})},bodyFormatter:function(e){return Qe(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}};var mt;O=se.documentElement.ontouchstart!==I;var vt=ae.Pointer=function(e,t){this.init(e,t)};if(vt.prototype={init:function(e,t){var i,n=t.chart,o=n.events,r=Pe?"":n.zoomType,n=e.inverted;this.options=t,this.chart=e,this.zoomX=i=/x/.test(r),this.zoomY=r=/y/.test(r),this.zoomHor=i&&!n||r&&n,this.zoomVert=r&&!n||i&&n,this.hasZoom=i||r,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},ae.Tooltip&&t.tooltip.enabled&&(e.tooltip=new gt(e,t.tooltip),this.followTouchMove=We(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,t){var i,n,e=e||window.event,e=nt(e);return e.target||(e.target=e.srcElement),n=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=Ze(this.chart.container)),n.pageX===I?(i=pe(e.x,e.clientX-t.left),n=e.y):(i=n.pageX-t.left,n=n.pageY-t.top),He(e,{chartX:de(i),chartY:de(n)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return Je(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(e[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(e){var t,i,n,o,r=this.chart,a=r.series,s=r.tooltip,l=s?s.shared:!1,d=r.hoverPoint,u=r.hoverSeries,h=r.chartWidth,p=r.chartWidth,f=[];if(!l&&!u)for(t=0;t<a.length;t++)(a[t].directTouch||!a[t].options.stickyTracking)&&(a=[]);if(!l&&u&&u.directTouch&&d?n=d:(Je(a,function(t){i=t.noSharedTooltip&&l,t.visible&&!i&&We(t.options.enableMouseTracking,!0)&&(o=t.searchPoint(e))&&f.push(o)}),Je(f,function(e){e&&c(e.plotX)&&c(e.plotY)&&(e.dist.distX<h||(e.dist.distX===h||e.series.kdDimensions>1)&&e.dist.distR<p)&&(h=e.dist.distX,p=e.dist.distR,n=e)})),n&&(n!==d||s&&s.isHidden))if(l&&!n.series.noSharedTooltip){for(t=f.length;t--;)(f[t].clientX!==n.clientX||f[t].series.noSharedTooltip)&&f.splice(t,1);f.length&&s&&s.refresh(f,e),Je(f,function(t){t!==n&&t.onMouseOver(e)}),(u&&u.directTouch&&d||n).onMouseOver(e)}else s&&s.refresh(n,e),n.onMouseOver(e);else a=u&&u.tooltipOptions.followPointer,s&&a&&!s.isHidden&&(a=s.getAnchor([{}],e),s.updatePosition({plotX:a[0],plotY:a[1]}));s&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Ie[mt]&&Ie[mt].pointer.onDocumentMouseMove(e)},et(se,"mousemove",this._onDocumentMouseMove)),Je(r.axes,function(t){t.drawCrosshair(e,We(n,d))})},reset:function(e,t){var i=this.chart,n=i.hoverSeries,o=i.hoverPoint,r=i.tooltip,a=r&&r.shared?i.hoverPoints:o;(e=e&&r&&a)&&u(a)[0].plotX===I&&(e=!1),e?(r.refresh(a),o&&(o.setState(o.state,!0),Je(i.axes,function(t){We(t.options.crosshair&&t.options.crosshair.snap,!0)?t.drawCrosshair(null,e):t.hideCrosshair()}))):(o&&o.onMouseOut(),n&&n.onMouseOut(),r&&r.hide(t),this._onDocumentMouseMove&&(tt(se,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null),Je(i.axes,function(e){e.hideCrosshair()}),this.hoverX=null)},scaleGroups:function(e,t){var i,n=this.chart;Je(n.series,function(o){i=e||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(t?n.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,i=this.chart,n=i.options.chart,o=e.chartX,r=e.chartY,a=this.zoomHor,s=this.zoomVert,l=i.plotLeft,c=i.plotTop,d=i.plotWidth,u=i.plotHeight,h=this.mouseDownX,p=this.mouseDownY,f=n.panKey&&e[n.panKey+"Key"];l>o?o=l:o>l+d&&(o=l+d),c>r?r=c:r>c+u&&(r=c+u),this.hasDragged=Math.sqrt(Math.pow(h-o,2)+Math.pow(p-r,2)),this.hasDragged>10&&(t=i.isInsidePlot(h-l,p-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!f&&!this.selectionMarker&&(this.selectionMarker=i.renderer.rect(l,c,a?1:d,s?1:u,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&a&&(o-=h,this.selectionMarker.attr({width:ge(o),x:(o>0?0:o)+h})),this.selectionMarker&&s&&(o=r-p,this.selectionMarker.attr({height:ge(o),y:(o>0?0:o)+p})),t&&!this.selectionMarker&&n.panning&&i.pan(e,n.panning))},drop:function(e){var t=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var o,r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},a=this.selectionMarker,s=a.attr?a.attr("x"):a.x,l=a.attr?a.attr("y"):a.y,d=a.attr?a.attr("width"):a.width,u=a.attr?a.attr("height"):a.height;(this.hasDragged||n)&&(Je(i.axes,function(i){if(i.zoomEnabled&&c(i.min)&&(n||t[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var a=i.horiz,h="touchend"===e.type?i.minPixelPadding:0,p=i.toValue((a?s:l)+h),a=i.toValue((a?s+d:l+u)-h);r[i.coll].push({axis:i,min:fe(p,a),max:pe(p,a)}),o=!0}}),o&&it(i,"selection",r,function(e){i.zoom(He(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(h(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){Ie[mt]&&Ie[mt].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,i=this.chartPosition,e=this.normalize(e,i);i&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Ie[mt];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;mt=t.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===t.mouseIsDown&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var i;e;){if(i=d(e,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,i=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||i===t||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,i=t.hoverPoint,n=t.plotLeft,o=t.plotTop,e=this.normalize(e);e.originalEvent=e,e.cancelBubble=!0,t.cancelClick||(i&&this.inClass(e.target,"highcharts-tracker")?(it(i.series,"click",He(e,{point:i})),t.hoverPoint&&i.firePointEvent("click",e)):(He(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-n,e.chartY-o)&&it(t,"click",e)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},et(t,"mouseleave",e.onContainerMouseLeave),1===Re&&et(se,"mouseup",e.onDocumentMouseUp),O&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Re&&et(se,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;tt(this.chart.container,"mouseleave",this.onContainerMouseLeave),Re||(tt(se,"mouseup",this.onDocumentMouseUp),tt(se,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},He(ae.Pointer.prototype,{pinchTranslate:function(e,t,i,n,o,r){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,i,n,o,r),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,i,n,o,r)},pinchTranslateDirection:function(e,t,i,n,o,r,a,s){var l,c,d,u=this.chart,h=e?"x":"y",p=e?"X":"Y",f="chart"+p,g=e?"width":"height",m=u["plot"+(e?"Left":"Top")],v=s||1,y=u.inverted,b=u.bounds[e?"h":"v"],_=1===t.length,x=t[0][f],w=i[0][f],k=!_&&t[1][f],C=!_&&i[1][f],i=function(){!_&&ge(x-k)>20&&(v=s||ge(w-C)/ge(x-k)),c=(m-w)/v+x,l=u["plot"+(e?"Width":"Height")]/v};i(),t=c,t<b.min?(t=b.min,d=!0):t+l>b.max&&(t=b.max-l,d=!0),d?(w-=.8*(w-a[h][0]),_||(C-=.8*(C-a[h][1])),i()):a[h]=[w,C],y||(r[h]=c-m,r[g]=l),r=y?1/v:v,o[g]=l,o[h]=t,n[y?e?"scaleY":"scaleX":"scale"+p]=v,n["translate"+p]=r*m+(w-r*x)},pinch:function(e){var t=this,i=t.chart,n=t.pinchDown,o=e.touches,r=o.length,a=t.lastValidTouch,s=t.hasZoom,l=t.selectionMarker,c={},d=1===r&&(t.inClass(e.target,"highcharts-tracker")&&i.runTrackerClick||t.runChartClick),u={};s&&!d&&e.preventDefault(),Qe(o,function(e){return t.normalize(e)}),"touchstart"===e.type?(Je(o,function(e,t){n[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[n[0].chartX,n[1]&&n[1].chartX],a.y=[n[0].chartY,n[1]&&n[1].chartY],Je(i.axes,function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,o=e.toPixels(We(e.options.min,e.dataMin)),r=e.toPixels(We(e.options.max,e.dataMax)),a=fe(o,r),o=pe(o,r);t.min=fe(e.pos,a-n),t.max=pe(e.pos+e.len,o+n)}}),t.res=!0):n.length&&(l||(t.selectionMarker=l=He({destroy:Le},i.plotBox)),t.pinchTranslate(n,o,c,l,u,a),t.hasPinched=s,t.scaleGroups(c,u),!s&&t.followTouchMove&&1===r?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;mt=t.index,1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&!t.openMenu?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){(1===e.touches.length||2===e.touches.length)&&this.pinch(e)},onDocumentTouchEnd:function(e){Ie[mt]&&Ie[mt].pointer.drop(e)}}),le.PointerEvent||le.MSPointerEvent){var yt={},bt=!!le.PointerEvent,_t=function(){var e,t=[];t.item=function(e){return this[e]};for(e in yt)yt.hasOwnProperty(e)&&t.push({pageX:yt[e].pageX,pageY:yt[e].pageY,target:yt[e].target});return t},xt=function(e,t,i,n){e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Ie[mt]||(n(e),n=Ie[mt].pointer,n[t]({type:i,target:e.currentTarget,preventDefault:Le,touches:_t()}))};He(vt.prototype,{onContainerPointerDown:function(e){xt(e,"onContainerTouchStart","touchstart",function(e){yt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){xt(e,"onContainerTouchMove","touchmove",function(e){yt[e.pointerId]={pageX:e.pageX,pageY:e.pageY},yt[e.pointerId].target||(yt[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){xt(e,"onDocumentTouchEnd","touchend",function(e){delete yt[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,bt?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,bt?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(se,bt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Ve(vt.prototype,"init",function(e,t,i){e.call(this,t,i),this.hasZoom&&h(t.container,{"-ms-touch-action":Be,"touch-action":Be})}),Ve(vt.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(et)}),Ve(vt.prototype,"destroy",function(e){this.batchMSEvents(tt),e.call(this)})}var wt=ae.Legend=function(e,t){this.init(e,t)};wt.prototype={init:function(t,i){var n=this,o=i.itemStyle,r=i.itemMarginTop||0;this.options=i,i.enabled&&(n.itemStyle=o,n.itemHiddenStyle=e(o,i.itemHiddenStyle),n.itemMarginTop=r,n.padding=o=We(i.padding,8),n.initialItemX=o,n.initialItemY=o-5,n.maxItemWidth=0,n.chart=t,n.itemHeight=0,n.symbolWidth=We(i.symbolWidth,16),n.pages=[],n.render(),et(n.chart,"endResize",function(){n.positionCheckboxes()}))},colorizeItem:function(e,t){var i,n=this.options,o=e.legendItem,r=e.legendLine,a=e.legendSymbol,s=this.itemHiddenStyle.color,n=t?n.itemStyle.color:s,l=t?e.legendColor||e.color||"#CCC":s,s=e.options&&e.options.marker,c={fill:l};if(o&&o.css({fill:n,color:n}),r&&r.attr({stroke:l}),a){if(s&&a.isMarker)for(i in c.stroke=l,s=e.convertAttribs(s))o=s[i],o!==I&&(c[i]=o);a.attr(c)}},positionItem:function(e){var t=this.options,i=t.symbolPadding,t=!t.rtl,n=e._legendItemPos,o=n[0],n=n[1],r=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?o:this.legendWidth-o-2*i-4,n),r&&(r.x=o,r.y=n)},destroyItem:function(e){var t=e.checkbox;Je(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&C(e.checkbox)},clearItems:function(){var e=this;Je(e.getAllItems(),function(t){e.destroyItem(t)})},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy()),e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(t=i.translateY,Je(this.allItems,function(o){var r,a=o.checkbox;a&&(r=t+a.y+(e||0)+3,h(a,{left:i.translateX+o.checkboxOffset+a.x-20+"px",top:r+"px",display:r>t-6&&t+n-6>r?"":Be}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,i=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},renderItem:function(t){var i=this.chart,n=i.renderer,o=this.options,r="horizontal"===o.layout,a=this.symbolWidth,s=o.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,u=r?We(o.itemDistance,20):0,h=!o.rtl,p=o.width,f=o.itemMarginBottom||0,g=this.itemMarginTop,m=this.initialItemX,y=t.legendItem,b=t.series&&t.series.drawLegendSymbol?t.series:t,_=b.options,_=this.createCheckboxForItem&&_&&_.showCheckbox,x=o.useHTML;y||(t.legendGroup=n.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),t.legendItem=y=n.text(o.labelFormat?v(o.labelFormat,t):o.labelFormatter.call(t),h?a+s:-s,this.baseline||0,x).css(e(t.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=n.fontMetrics(l.fontSize,y),this.baseline=this.fontMetrics.f+3+g,y.attr("y",this.baseline)),b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,y,x,l,c),this.colorizeItem(t,t.visible),_&&this.createCheckboxForItem(t)),n=y.getBBox(),a=t.checkboxOffset=o.itemWidth||t.legendItemWidth||a+s+n.width+u+(_?20:0),this.itemHeight=s=de(t.legendItemHeight||n.height),r&&this.itemX-m+a>(p||i.chartWidth-2*d-m-o.x)&&(this.itemX=m,this.itemY+=g+this.lastLineHeight+f,this.lastLineHeight=0),this.maxItemWidth=pe(this.maxItemWidth,a),this.lastItemY=g+this.itemY+f,this.lastLineHeight=pe(s,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=a:(this.itemY+=g+s+f,this.lastLineHeight=s),this.offsetWidth=p||pe((r?this.itemX-m-u:a)+d,this.offsetWidth)},getAllItems:function(){var e=[];return Je(this.chart.series,function(t){var i=t.options;We(i.showInLegend,c(i.linkedTo)?!1:I,!0)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var i=this.chart,n=this.options,o=n.align[0]+n.verticalAlign[0]+n.layout[0];this.display&&!n.floating&&Je([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(r,a){r.test(o)&&!c(e[a])&&(i[je[a]]=pe(i[je[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+We(n.margin,12)+t[a]))})},render:function(){var e,t,i,n,o=this,r=o.chart,a=r.renderer,s=o.group,l=o.box,c=o.options,d=o.padding,u=c.borderWidth,h=c.backgroundColor;o.itemX=o.initialItemX,o.itemY=o.initialItemY,o.offsetWidth=0,o.lastItemY=0,s||(o.group=s=a.g("legend").attr({zIndex:7}).add(),o.contentGroup=a.g().attr({zIndex:1}).add(s),o.scrollGroup=a.g().add(o.contentGroup)),o.renderTitle(),e=o.getAllItems(),_(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),o.allItems=e,o.display=t=!!e.length,o.lastLineHeight=0,Je(e,function(e){o.renderItem(e)}),i=(c.width||o.offsetWidth)+d,n=o.lastItemY+o.lastLineHeight+o.titleHeight,n=o.handleOverflow(n),n+=d,(u||h)&&(l?i>0&&n>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:i,height:n})),l.isNew=!1):(o.box=l=a.rect(0,0,i,n,c.borderRadius,u||0).attr({stroke:c.borderColor,"stroke-width":u||0,fill:h||Be}).add(s).shadow(c.shadow),l.isNew=!0),l[t?"show":"hide"]()),o.legendWidth=i,o.legendHeight=n,Je(e,function(e){o.positionItem(e)}),t&&s.align(He({width:i,height:n},c),!0,"spacingBox"),r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,i,n=this,o=this.chart,r=o.renderer,a=this.options,s=a.y,s=o.spacingBox.height+("top"===a.verticalAlign?-s:s)-this.padding,l=a.maxHeight,c=this.clipRect,d=a.navigation,u=We(d.animation,!0),h=d.arrowSize||12,p=this.nav,f=this.pages,g=this.allItems;return"horizontal"===a.layout&&(s/=2),l&&(s=fe(s,l)),f.length=0,e>s&&!a.useHTML?(this.clipHeight=t=pe(s-20-this.titleHeight-this.padding,0),this.currentPage=We(this.currentPage,1),this.fullHeight=e,Je(g,function(e,n){var o=e._legendItemPos[1],r=de(e.legendItem.getBBox().height),a=f.length;(!a||o-f[a-1]>t&&(i||o)!==f[a-1])&&(f.push(i||o),a++),n===g.length-1&&o+r-f[a-1]>t&&f.push(o),o!==i&&(i=o)}),c||(c=n.clipRect=r.clipRect(0,this.padding,9999,0),n.contentGroup.clip(c)),c.attr({height:t}),p||(this.nav=p=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,h,h).on("click",function(){n.scroll(-1,u)}).add(p),this.pager=r.text("",15,10).css(d.style).add(p),this.down=r.symbol("triangle-down",0,0,h,h).on("click",function(){n.scroll(1,u)}).add(p)),n.scroll(0),e=s):p&&(c.attr({height:o.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var i=this.pages,n=i.length,o=this.currentPage+e,r=this.clipHeight,a=this.options.navigation,s=a.activeColor,a=a.inactiveColor,l=this.pager,c=this.padding;o>n&&(o=n),o>0&&(t!==I&&M(t,this.chart),this.nav.attr({translateX:c,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===o?a:s}).css({cursor:1===o?"default":"pointer"}),l.attr({text:o+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===n?a:s}).css({cursor:o===n?"default":"pointer"}),i=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}},Ge=ae.LegendSymbolMixin={drawRectangle:function(e,t){var i=e.options.symbolHeight||e.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-i+1,e.symbolWidth,i,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,i=this.options,n=i.marker;t=e.symbolWidth;var o,r=this.chart.renderer,a=this.legendGroup,e=e.baseline-de(.3*e.fontMetrics.b);i.lineWidth&&(o={"stroke-width":i.lineWidth},i.dashStyle&&(o.dashstyle=i.dashStyle),this.legendLine=r.path(["M",0,e,"L",t,e]).attr(o).add(a)),n&&n.enabled!==!1&&(i=n.radius,this.legendSymbol=t=r.symbol(this.symbol,t/2-i,e-i,2*i,2*i).add(a),t.isMarker=!0)}},(/Trident\/7\.0/.test(_e)||Se)&&Ve(wt.prototype,"positionItem",function(e,t){var i=this,n=function(){t._legendItemPos&&e.call(i,t)};n(),setTimeout(n)});var kt=ae.Chart=function(){this.init.apply(this,arguments)};kt.prototype={callbacks:[],init:function(t,i){var n,o=t.series;t.series=null,n=e(F,t),n.series=t.series=o,this.userOptions=t,o=n.chart,this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var r=o.events;this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,s=this;if(s.index=Ie.length,Ie.push(s),Re++,o.reflow!==!1&&et(s,"load",function(){s.initReflow()}),r)for(a in r)et(s,a,r[a]);s.xAxis=[],s.yAxis=[],s.animation=Pe?!1:We(o.animation,!0),s.pointCount=s.colorCounter=s.symbolCounter=0,s.firstRender()},initSeries:function(e){var t=this.options.chart;return(t=ze[e.type||t.type||t.defaultSeriesType])||S(17,!0),t=new t,t.init(this,e),t},isInsidePlot:function(e,t,i){var n=i?t:e,e=i?e:t;return n>=0&&n<=this.plotWidth&&e>=0&&e<=this.plotHeight},redraw:function(e){var t,i,n=this.axes,o=this.series,r=this.pointer,a=this.legend,s=this.isDirtyLegend,l=this.hasCartesianSeries,c=this.isDirtyBox,d=o.length,u=d,h=this.renderer,p=h.isHidden(),f=[];for(M(e,this),p&&this.cloneRenderTo(),this.layOutTitles();u--;)if(e=o[u],e.options.stacking&&(t=!0,e.isDirty)){i=!0;break}if(i)for(u=d;u--;)e=o[u],e.options.stacking&&(e.isDirty=!0);Je(o,function(e){e.isDirty&&"point"===e.options.legendType&&(s=!0)}),s&&a.options.enabled&&(a.render(),this.isDirtyLegend=!1),t&&this.getStacks(),l&&!this.isResizing&&(this.maxTicks=null,Je(n,function(e){e.setScale()})),this.getMargins(),l&&(Je(n,function(e){e.isDirty&&(c=!0)}),Je(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,f.push(function(){it(e,"afterSetExtremes",He(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(c||t)&&e.redraw()})),c&&this.drawChartBox(),Je(o,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),r&&r.reset(!0),h.draw(),it(this,"redraw"),p&&this.cloneRenderTo(!0),Je(f,function(e){e.call()})},get:function(e){var t,i,n=this.axes,o=this.series;for(t=0;t<n.length;t++)if(n[t].options.id===e)return n[t];for(t=0;t<o.length;t++)if(o[t].options.id===e)return o[t];for(t=0;t<o.length;t++)for(i=o[t].points||[],n=0;n<i.length;n++)if(i[n].id===e)return i[n];return null},getAxes:function(){var e=this,t=this.options,i=t.xAxis=u(t.xAxis||{}),t=t.yAxis=u(t.yAxis||{});Je(i,function(e,t){e.index=t,e.isX=!0}),Je(t,function(e,t){e.index=t}),i=i.concat(t),Je(i,function(t){new ft(e,t)})},getSelectedPoints:function(){var e=[];return Je(this.series,function(t){e=e.concat(Ke(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return Ke(this.series,function(e){return e.selected})},getStacks:function(){var e=this;Je(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),Je(e.series,function(t){!t.options.stacking||t.visible!==!0&&e.options.chart.ignoreHiddenSeries!==!1||(t.stackKey=t.type+We(t.options.stack,""))})},setTitle:function(t,i,n){var o,r,a=this,s=a.options;r=s.title=e(s.title,t),o=s.subtitle=e(s.subtitle,i),s=o,Je([["title",t,r],["subtitle",i,s]],function(e){var t=e[0],i=a[t],n=e[1],e=e[2];i&&n&&(a[t]=i=i.destroy()),e&&e.text&&!i&&(a[t]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}),a.layOutTitles(n)},layOutTitles:function(e){var t=0,i=this.title,n=this.subtitle,o=this.options,r=o.title,o=o.subtitle,a=this.renderer,s=this.spacingBox.width-44;!i||(i.css({width:(r.width||s)+"px"}).align(He({y:a.fontMetrics(r.style.fontSize,i).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign)||(t=i.getBBox().height),n&&(n.css({width:(o.width||s)+"px"}).align(He({y:t+(r.margin-13)+a.fontMetrics(r.style.fontSize,n).b},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(t=he(t+n.getBBox().height))),i=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&We(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,i=this.renderToClone||this.renderTo;c(t)||(this.containerWidth=Xe(i,"width")),c(e)||(this.containerHeight=Xe(i,"height")),this.chartWidth=pe(0,t||this.containerWidth||600),this.chartHeight=pe(0,We(e,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,i=this.container;e?t&&(this.renderTo.appendChild(i),C(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),h(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),se.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var e,n,o,r,a=this.options.chart;this.renderTo=e=a.renderTo,r="highcharts-"+$e++,i(e)&&(this.renderTo=e=se.getElementById(e)),e||S(13,!0),n=t(d(e,"data-highcharts-chart")),!isNaN(n)&&Ie[n]&&Ie[n].hasRendered&&Ie[n].destroy(),d(e,"data-highcharts-chart",this.index),e.innerHTML="",!a.skipClone&&!e.offsetWidth&&this.cloneRenderTo(),this.getChartSize(),n=this.chartWidth,o=this.chartHeight,this.container=e=p(Oe,{className:"highcharts-container"+(a.className?" "+a.className:""),id:r},He({position:"relative",overflow:"hidden",width:n+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a.style),this.renderToClone||e),this._cursor=e.style.cursor,this.renderer=a.forExport?new ut(e,n,o,a.style,!0):new R(e,n,o,a.style),Pe&&this.renderer.create(this,e,n,o),
this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!c(i[0])&&(this.plotTop=pe(this.plotTop,n+this.options.title.margin+t[0])),this.legend.adjustMargins(i,t),this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],i=e.margin;e.hasCartesianSeries&&Je(e.axes,function(e){e.getOffset()}),Je(je,function(n,o){c(i[o])||(e[n]+=t[o])}),e.setChartSize()},reflow:function(e){var t=this,i=t.options.chart,n=t.renderTo,o=i.width||Xe(n,"width"),r=i.height||Xe(n,"height"),i=e?e.target:le,n=function(){t.container&&(t.setSize(o,r,!1),t.hasUserSize=null)};t.hasUserSize||t.isPrinting||!o||!r||i!==le&&i!==se||((o!==t.containerWidth||r!==t.containerHeight)&&(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(n,100):n()),t.containerWidth=o,t.containerHeight=r)},initReflow:function(){var e=this,t=function(t){e.reflow(t)};et(le,"resize",t),et(e,"destroy",function(){tt(le,"resize",t)})},setSize:function(e,t,i){var n,o,r,a=this;a.isResizing+=1,r=function(){a&&it(a,"endResize",null,function(){a.isResizing-=1})},M(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,c(e)&&(a.chartWidth=n=pe(0,de(e)),a.hasUserSize=!!n),c(t)&&(a.chartHeight=o=pe(0,de(t))),(N?ot:h)(a.container,{width:n+"px",height:o+"px"},N),a.setChartSize(!0),a.renderer.setSize(n,o,i),a.maxTicks=null,Je(a.axes,function(e){e.isDirty=!0,e.setScale()}),Je(a.series,function(e){e.isDirty=!0}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,it(a,"resize"),N===!1?r():setTimeout(r,N&&N.duration||500)},setChartSize:function(e){var t,i,n,o,r=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=this.spacing,u=this.clipOffset;this.plotLeft=t=de(this.plotLeft),this.plotTop=i=de(this.plotTop),this.plotWidth=n=pe(0,de(s-t-this.marginRight)),this.plotHeight=o=pe(0,de(l-i-this.marginBottom)),this.plotSizeX=r?o:n,this.plotSizeY=r?n:o,this.plotBorderWidth=c.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:l-d[0]-d[2]},this.plotBox=a.plotBox={x:t,y:i,width:n,height:o},s=2*ue(this.plotBorderWidth/2),r=he(pe(s,u[3])/2),a=he(pe(s,u[0])/2),this.clipBox={x:r,y:a,width:ue(this.plotSizeX-pe(s,u[1])/2-r),height:pe(0,ue(this.plotSizeY-pe(s,u[2])/2-a))},e||Je(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this;Je(je,function(t,i){e[t]=We(e.margin[i],e.spacing[i])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t=this.options.chart,i=this.renderer,n=this.chartWidth,o=this.chartHeight,r=this.chartBackground,a=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,d=t.backgroundColor,u=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,f=this.plotLeft,g=this.plotTop,m=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,_=this.clipBox;e=c+(t.shadow?8:0),(c||d)&&(r?r.animate(r.crisp({width:n-e,height:o-e})):(r={fill:d||Be},c&&(r.stroke=t.borderColor,r["stroke-width"]=c),this.chartBackground=i.rect(e/2,e/2,n-e,o-e,t.borderRadius,c).attr(r).addClass("highcharts-background").add().shadow(t.shadow))),u&&(a?a.animate(y):this.plotBackground=i.rect(f,g,m,v,0).attr({fill:u}).add().shadow(t.plotShadow)),h&&(l?l.animate(y):this.plotBGImage=i.image(h,f,g,m,v).add()),b?b.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),p&&(s?s.animate(s.crisp({x:f,y:g,width:m,height:v,strokeWidth:-p})):this.plotBorder=i.rect(f,g,m,v,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:Be,zIndex:1}).add()),this.isDirtyBox=!1},propFromSeries:function(){var e,t,i,n=this,o=n.options.chart,r=n.options.series;Je(["inverted","angular","polar"],function(a){for(e=ze[o.type||o.defaultSeriesType],i=n[a]||o[a]||e&&e.prototype[a],t=r&&r.length;!i&&t--;)(e=ze[r[t].type])&&e.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var e=this,t=e.series;Je(t,function(e){e.linkedSeries.length=0}),Je(t,function(t){var n=t.options.linkedTo;i(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)})},renderSeries:function(){Je(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,i=e.options.labels;i.items&&Je(i.items,function(n){var o=He(i.style,n.style),r=t(o.left)+e.plotLeft,a=t(o.top)+e.plotTop+12;delete o.left,delete o.top,e.renderer.text(n.html,r,a).attr({zIndex:2}).css(o).add()})},render:function(){var e,t,i,n,o=this.axes,r=this.renderer,a=this.options;this.setTitle(),this.legend=new wt(this,a.legend),this.getStacks(),this.getMargins(!0),this.setChartSize(),e=this.plotWidth,t=this.plotHeight-=13,Je(o,function(e){e.setScale()}),this.getAxisMargins(),i=e/this.plotWidth>1.1,n=t/this.plotHeight>1.1,(i||n)&&(this.maxTicks=null,Je(o,function(e){(e.horiz&&i||!e.horiz&&n)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Je(o,function(e){e.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.showCredits(a.credits),this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,i=t.axes,n=t.series,o=t.container,r=o&&o.parentNode;for(it(t,"destroy"),Ie[t.index]=I,Re--,t.renderTo.removeAttribute("data-highcharts-chart"),tt(t),e=i.length;e--;)i[e]=i[e].destroy();for(e=n.length;e--;)n[e]=n[e].destroy();Je("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(e){var i=t[e];i&&i.destroy&&(t[e]=i.destroy())}),o&&(o.innerHTML="",tt(o),r&&C(o));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!Te&&le==le.top&&"complete"!==se.readyState||Pe&&!le.canvg?(Pe?pt.push(function(){e.firstRender()},e.options.global.canvasToolsURL):se.attachEvent("onreadystatechange",function(){se.detachEvent("onreadystatechange",e.firstRender),"complete"===se.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,i=e.callback;e.isReadyToRender()&&(e.getContainer(),it(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Je(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),it(e,"beforeRender"),ae.Pointer&&(e.pointer=new vt(e,t)),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),Je(e.callbacks,function(t){e.index!==I&&t.apply(e,[e])}),it(e,"load"),e.cloneRenderTo(!0))},splashArray:function(e,t){var i=t[e],i=n(i)?i:[i,i,i,i];return[We(t[e+"Top"],i[0]),We(t[e+"Right"],i[1]),We(t[e+"Bottom"],i[2]),We(t[e+"Left"],i[3])]}};var Ct=ae.CenteredSeriesMixin={getCenter:function(){var e,i,n,o=this.options,r=this.chart,a=2*(o.slicedOffset||0),s=r.plotWidth-2*a,r=r.plotHeight-2*a,l=o.center,l=[We(l[0],"50%"),We(l[1],"50%"),o.size||"100%",o.innerSize||0],c=fe(s,r);for(i=0;4>i;++i)n=l[i],e=/%$/.test(n),o=2>i||2===i&&e,l[i]=(e?[s,r,c,l[2]][i]*t(n)/100:t(n))+(o?a:0);return l}},St=function(){};St.prototype={init:function(e,t,i){return this.series=e,this.color=e.color,this.applyOptions(t,i),this.pointAttr={},e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0),e.chart.pointCount++,this},applyOptions:function(e,t){var i=this.series,n=i.options.pointValKey||i.pointValKey,e=St.prototype.optionsToObject.call(this,e);return He(this,e),this.options=this.options?He(this.options,e):e,n&&(this.y=this[n]),this.x===I&&i&&(this.x=t===I?i.autoIncrement():t),this},optionsToObject:function(e){var t={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],a=r.length,s=0,l=0;if("number"==typeof e||null===e)t[r[0]]=e;else if(o(e))for(!n&&e.length>a&&(i=typeof e[0],"string"===i?t.name=e[0]:"number"===i&&(t.x=e[0]),s++);a>l;)t[r[l++]]=e[s++];else"object"==typeof e&&(t=e,e.dataLabels&&(i._hasPointLabels=!0),e.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var e,t=this.series.chart,i=t.hoverPoints;t.pointCount--,i&&(this.setState(),l(i,this),!i.length)&&(t.hoverPoints=null),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(tt(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),i=6;i--;)e=t[i],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,n=We(i.valueDecimals,""),o=i.valuePrefix||"",r=i.valueSuffix||"";return Je(t.pointArrayMap||["y"],function(t){t="{point."+t,(o||r)&&(e=e.replace(t+"}",o+t+"}"+r)),e=e.replace(t+"}",t+":,."+n+"f}")}),v(e,{point:this,series:this.series})},firePointEvent:function(e,t,i){var n=this,o=this.series.options;(o.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(i=function(e){n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),it(this,e,t,i)}};var Dt=ae.Series=function(){};Dt.prototype={isCartesian:!0,type:"line",pointClass:St,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var i,n,o=this,r=e.series,a=function(e,t){return We(e.options.index,e._i)-We(t.options.index,t._i)};o.chart=e,o.options=t=o.setOptions(t),o.linkedSeries=[],o.bindAxes(),He(o,{name:t.name,state:"",pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),Pe&&(t.animation=!1),n=t.events;for(i in n)et(o,i,n[i]);(n&&n.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),Je(o.parallelArrays,function(e){o[e+"Data"]=[]}),o.setData(t.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),r.push(o),o._i=r.length-1,_(r,a),this.yAxis&&_(this.yAxis.series,a),Je(r,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e,t=this,i=t.options,n=t.chart;Je(t.axisTypes||[],function(o){Je(n[o],function(n){e=n.options,(i[o]===e.index||i[o]!==I&&i[o]===e.id||i[o]===I&&0===e.index)&&(n.series.push(t),t[o]=n,n.isDirty=!0)}),!t[o]&&t.optionalAxis!==o&&S(18,!0)})},updateParallelArrays:function(e,t){var i=e.series,n=arguments;Je(i.parallelArrays,"number"==typeof t?function(n){var o="y"===n&&i.toYData?i.toYData(e):e[n];i[n+"Data"][t]=o}:function(e){Array.prototype[t].apply(i[e+"Data"],Array.prototype.slice.call(n,2))})},autoIncrement:function(){var e,t=this.options,i=this.xIncrement,n=t.pointIntervalUnit,i=We(i,t.pointStart,0);return this.pointInterval=e=We(this.pointInterval,t.pointInterval,1),("month"===n||"year"===n)&&(t=new W(i),t="month"===n?+t[oe](t[K]()+e):+t[re](t[Z]()+e),e=t-i),this.xIncrement=i+e,i},getSegments:function(){var e,t=-1,i=[],n=this.points,o=n.length;if(o)if(this.options.connectNulls){for(e=o;e--;)null===n[e].y&&n.splice(e,1);n.length&&(i=[n])}else Je(n,function(e,r){null===e.y?(r>t+1&&i.push(n.slice(t+1,r)),t=r):r===o-1&&i.push(n.slice(t+1,r+1))});this.segments=i},setOptions:function(t){var i=this.chart,n=i.options.plotOptions,i=i.userOptions||{},o=i.plotOptions||{},r=n[this.type];return this.userOptions=t,n=e(r,n.series,t),this.tooltipOptions=e(F.tooltip,F.plotOptions[this.type].tooltip,i.tooltip,o.series&&o.series.tooltip,o[this.type]&&o[this.type].tooltip,t.tooltip),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,t=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||t.push({value:n[this.zoneAxis+"Threshold"]||n.threshold||0,color:n.negativeColor,fillColor:n.negativeFillColor}),t.length&&c(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),n},getCyclic:function(e,t,i){var n=this.userOptions,o="_"+e+"Index",r=e+"Counter";t||(c(n[o])?t=n[o]:(n[o]=t=this.chart[r]%i.length,this.chart[r]+=1),t=i[t]),this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||at[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Ge.drawLineMarker,setData:function(e,t,n,a){var s,l=this,c=l.points,d=c&&c.length||0,u=l.options,h=l.chart,p=null,f=l.xAxis,g=f&&!!f.categories,m=u.turboThreshold,v=this.xData,y=this.yData,b=(s=l.pointArrayMap)&&s.length,e=e||[];if(s=e.length,t=We(t,!0),a!==!1&&s&&d===s&&!l.cropped&&!l.hasGroupedData&&l.visible)Je(e,function(e,t){c[t].update(e,!1,null,!1)});else{if(l.xIncrement=null,l.pointRange=g?1:u.pointRange,l.colorCounter=0,Je(this.parallelArrays,function(e){l[e+"Data"].length=0}),m&&s>m){for(n=0;null===p&&s>n;)p=e[n],n++;if(r(p)){for(g=We(u.pointStart,0),u=We(u.pointInterval,1),n=0;s>n;n++)v[n]=g,y[n]=e[n],g+=u;l.xIncrement=g}else if(o(p))if(b)for(n=0;s>n;n++)u=e[n],v[n]=u[0],y[n]=u.slice(1,b+1);else for(n=0;s>n;n++)u=e[n],v[n]=u[0],y[n]=u[1];else S(12)}else for(n=0;s>n;n++)e[n]!==I&&(u={series:l},l.pointClass.prototype.applyOptions.apply(u,[e[n]]),l.updateParallelArrays(u,n),g&&u.name)&&(f.names[u.x]=u.name);for(i(y[0])&&S(14,!0),l.data=[],l.options.data=e,n=d;n--;)c[n]&&c[n].destroy&&c[n].destroy();f&&(f.minRange=f.userMinRange),l.isDirty=l.isDirtyData=h.isDirtyBox=!0,n=!1}t&&h.redraw(n)},processData:function(e){var t,i=this.xData,n=this.yData,o=i.length;t=0;var r,a,s,l=this.xAxis,c=this.options;s=c.cropThreshold;var d,u,h=this.isCartesian;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(l&&(e=l.getExtremes(),d=e.min,u=e.max),h&&this.sorted&&(!s||o>s||this.forceCrop)&&(i[o-1]<d||i[0]>u?(i=[],n=[]):(i[0]<d||i[o-1]>u)&&(t=this.cropData(this.xData,this.yData,d,u),i=t.xData,n=t.yData,t=t.start,r=!0)),s=i.length-1;s>=0;s--)o=i[s]-i[s-1],o>0&&(a===I||a>o)?a=o:0>o&&this.requireSorting&&S(15);this.cropped=r,this.cropStart=t,this.processedXData=i,this.processedYData=n,null===c.pointRange&&(this.pointRange=a||1),this.closestPointRange=a},cropData:function(e,t,i,n){var o,r=e.length,a=0,s=r,l=We(this.cropShoulder,1);for(o=0;r>o;o++)if(e[o]>=i){a=pe(0,o-l);break}for(;r>o;o++)if(e[o]>n){s=o+l;break}return{xData:e.slice(a,s),yData:t.slice(a,s),start:a,end:s}},generatePoints:function(){var e,t,i,n,o=this.options.data,r=this.data,a=this.processedXData,s=this.processedYData,l=this.pointClass,c=a.length,d=this.cropStart||0,h=this.hasGroupedData,p=[];for(r||h||(r=[],r.length=o.length,r=this.data=r),n=0;c>n;n++)t=d+n,h?p[n]=(new l).init(this,[a[n]].concat(u(s[n]))):(r[t]?i=r[t]:o[t]!==I&&(r[t]=i=(new l).init(this,o[t],a[n])),p[n]=i),p[n].index=t;if(r&&(c!==(e=r.length)||h))for(n=0;e>n;n++)n===d&&!h&&(n+=c),r[n]&&(r[n].destroyElements(),r[n].plotX=I);this.data=r,this.points=p},getExtremes:function(e){var t,i=this.yAxis,n=this.processedXData,o=[],r=0;t=this.xAxis.getExtremes();var a,s,l,c,d=t.min,u=t.max,e=e||this.stackedYData||this.processedYData;for(t=e.length,c=0;t>c;c++)if(s=n[c],l=e[c],a=null!==l&&l!==I&&(!i.isLog||l.length||l>0),s=this.getExtremesFromAll||this.cropped||(n[c+1]||s)>=d&&(n[c-1]||s)<=u,a&&s)if(a=l.length)for(;a--;)null!==l[a]&&(o[r++]=l[a]);else o[r++]=l;this.dataMin=x(o),this.dataMax=w(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var e,t,i,n=this.options,o=n.stacking,a=this.xAxis,s=a.categories,l=this.yAxis,d=this.points,u=d.length,h=!!this.modifyValue,p=n.pointPlacement,f="between"===p||r(p),g=n.threshold,m=Number.MAX_VALUE,n=0;u>n;n++){var v=d[n],y=v.x,b=v.y;t=v.low;var _=o&&l.stacks[(this.negStacks&&g>b?"-":"")+this.stackKey];l.isLog&&null!==b&&0>=b&&(v.y=b=null,S(10)),v.plotX=e=a.translate(y,0,0,0,1,p,"flags"===this.type),o&&this.visible&&_&&_[y]&&(_=_[y],b=_.points[this.index+","+n],t=b[0],b=b[1],0===t&&(t=We(g,l.min)),l.isLog&&0>=t&&(t=null),v.total=v.stackTotal=_.total,v.percentage=_.total&&v.y/_.total*100,v.stackY=b,_.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=c(t)?l.translate(t,0,1,0,1):null,h&&(b=this.modifyValue(b,v)),v.plotY=t="number"==typeof b&&b!==1/0?fe(pe(-1e5,l.translate(b,0,1,0,1)),1e5):I,v.isInside=t!==I&&t>=0&&t<=l.len&&e>=0&&e<=a.len,v.clientX=f?a.translate(y,0,0,0,1):e,v.negative=v.y<(g||0),v.category=s&&s[v.x]!==I?s[v.x]:v.x,n&&(m=fe(m,ge(e-i))),i=e}this.closestPointRangePx=m,this.getSegments()},setClip:function(e){var t=this.chart,i=t.renderer,n=t.inverted,o=this.clipBox,r=o||t.clipBox,a=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,r.height].join(","),s=t[a],l=t[a+"m"];s||(e&&(r.width=0,t[a+"m"]=l=i.clipRect(-99,n?-t.plotLeft:-t.plotTop,99,n?t.chartWidth:t.chartHeight)),t[a]=s=i.clipRect(r)),e&&(s.count+=1),this.options.clip!==!1&&(this.group.clip(e||o?s:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=a),e||(s.count-=1,s.count<=0&&a&&t[a]&&(o||(t[a]=t[a].destroy()),t[a+"m"]&&(t[a+"m"]=t[a+"m"].destroy())))},animate:function(e){var t,i=this.chart,o=this.options.animation;o&&!n(o)&&(o=at[this.type].animation),e?this.setClip(o):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX},o),i[t+"m"]&&i[t+"m"].animate({width:i.plotSizeX+99},o),this.animate=null)},afterAnimate:function(){this.setClip(),it(this,"afterAnimate")},drawPoints:function(){var e,t,i,n,o,r,a,s,l,c,d,u,h=this.points,p=this.chart,f=this.options.marker,g=this.pointAttr[""],m=this.markerGroup,v=We(f.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*f.radius);if(f.enabled!==!1||this._hasPointMarkers)for(n=h.length;n--;)o=h[n],t=ue(o.plotX),i=o.plotY,l=o.graphic,c=o.marker||{},d=!!o.marker,e=v&&c.enabled===I||c.enabled,u=o.isInside,e&&i!==I&&!isNaN(i)&&null!==o.y?(e=o.pointAttr[o.selected?"select":""]||g,r=e.r,a=We(c.symbol,this.symbol),s=0===a.indexOf("url"),l?l[u?"show":"hide"](!0).animate(He({x:t-r,y:i-r},l.symbolName?{width:2*r,height:2*r}:{})):u&&(r>0||s)&&(o.graphic=p.renderer.symbol(a,t-r,i-r,2*r,2*r,d?c:f).attr(e).add(m))):l&&(o.graphic=l.destroy())},convertAttribs:function(e,t,i,n){var o,r,a=this.pointAttrToOptions,s={},e=e||{},t=t||{},i=i||{},n=n||{};for(o in a)r=a[o],s[o]=We(e[r],t[o],i[o],n[o]);return s},getAttribs:function(){var e,t=this,i=t.options,n=at[t.type].marker?i.marker:i,o=n.states,r=o.hover,a=t.color,s=t.options.negativeColor;e={stroke:a,fill:a};var l,d,u=t.points||[],h=[],p=t.pointAttrToOptions;d=t.hasPointSpecificOptions;var f=n.lineColor,g=n.fillColor;l=i.turboThreshold;var m,v=t.zones,y=t.zoneAxis||"y";if(i.marker?(r.radius=r.radius||n.radius+r.radiusPlus,r.lineWidth=r.lineWidth||n.lineWidth+r.lineWidthPlus):(r.color=r.color||dt(r.color||a).brighten(r.brightness).get(),r.negativeColor=r.negativeColor||dt(r.negativeColor||s).brighten(r.brightness).get()),h[""]=t.convertAttribs(n,e),Je(["hover","select"],function(e){h[e]=t.convertAttribs(o[e],h[""])}),t.pointAttr=h,a=u.length,!l||l>a||d)for(;a--;){if(l=u[a],(n=l.options&&l.options.marker||l.options)&&n.enabled===!1&&(n.radius=0),v.length){for(d=0,e=v[d];l[y]>=e.value;)e=v[++d];l.color=l.fillColor=e.color}if(d=i.colorByPoint||l.color,l.options)for(m in p)c(n[p[m]])&&(d=!0);d?(n=n||{},d=[],o=n.states||{},e=o.hover=o.hover||{},i.marker||(e.color=e.color||!l.options.color&&r[l.negative&&s?"negativeColor":"color"]||dt(l.color).brighten(e.brightness||r.brightness).get()),e={color:l.color},g||(e.fillColor=l.color),f||(e.lineColor=l.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,d[""]=t.convertAttribs(He(e,n),h[""]),d.hover=t.convertAttribs(o.hover,h.hover,d[""]),d.select=t.convertAttribs(o.select,h.select,d[""])):d=h,l.pointAttr=d}},destroy:function(){var e,t,i,n,o=this,r=o.chart,a=/AppleWebKit\/533/.test(_e),s=o.data||[];for(it(o,"destroy"),tt(o),Je(o.axisTypes||[],function(e){(n=o[e])&&(l(n.series,o),n.isDirty=n.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=s.length;e--;)(t=s[e])&&t.destroy&&t.destroy();o.points=null,clearTimeout(o.animationTimeout);for(i in o)o[i]instanceof A&&!o[i].survive&&(e=a&&"group"===i?"hide":"destroy",o[i][e]());r.hoverSeries===o&&(r.hoverSeries=null),l(r.series,o);for(i in o)delete o[i]},getSegmentPath:function(e){var t=this,i=[],n=t.options.step;return Je(e,function(o,r){var a,s=o.plotX,l=o.plotY;t.getPointSpline?i.push.apply(i,t.getPointSpline(e,o,r)):(i.push(r?"L":"M"),n&&r&&(a=e[r-1],"right"===n?i.push(a.plotX,l):"center"===n?i.push((a.plotX+s)/2,a.plotY,(a.plotX+s)/2,l):i.push(s,a.plotY)),i.push(o.plotX,o.plotY))}),i},getGraphPath:function(){var e,t=this,i=[],n=[];return Je(t.segments,function(o){e=t.getSegmentPath(o),o.length>1?i=i.concat(e):n.push(o[0])}),t.singlePoints=n,t.graphPath=i},drawGraph:function(){var e=this,t=this.options,i=[["graph",t.lineColor||this.color,t.dashStyle]],n=t.lineWidth,o="square"!==t.linecap,r=this.getGraphPath(),a=this.fillGraph&&this.color||Be;Je(this.zones,function(n,o){i.push(["zoneGraph"+o,n.color||e.color,n.dashStyle||t.dashStyle])}),Je(i,function(i,s){var l=i[0],c=e[l];c?(rt(c),c.animate({d:r})):(n||a)&&r.length&&(c={stroke:i[1],"stroke-width":n,fill:a,zIndex:1},i[2]?c.dashstyle=i[2]:o&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(r).attr(c).add(e.group).shadow(2>s&&t.shadow))})},applyZones:function(){var e,t,i,n=this,o=this.chart,r=o.renderer,a=this.zones,s=this.clips||[],l=this.graph,c=this.area,d=pe(o.chartWidth,o.chartHeight),u=this[(this.zoneAxis||"y")+"Axis"],h=u.reversed,p=u.horiz,f=!1;a.length&&(l||c)&&(l&&l.hide(),c&&c.hide(),Je(a,function(a,g){e=We(t,h?p?o.plotWidth:0:p?0:u.toPixels(u.min)),t=de(u.toPixels(We(a.value,u.max),!0)),e=u.isXAxis?e>t?t:e:t>e?t:e,f&&(e=t=u.toPixels(u.max)),u.isXAxis?(i={x:h?t:e,y:0,width:Math.abs(e-t),height:d},p||(i.x=o.plotHeight-i.x)):(i={x:0,y:h?e:t,width:d,height:Math.abs(e-t)},p&&(i.y=o.plotWidth-i.y)),o.inverted&&r.isVML&&(i=u.isXAxis?{x:0,y:h?e:t,height:i.width,width:o.chartWidth}:{x:i.y-o.plotLeft-o.spacingBox.x,y:0,width:i.height,height:o.chartHeight}),s[g]?s[g].animate(i):(s[g]=r.clipRect(i),l&&n["zoneGraph"+g].clip(s[g]),c&&n["zoneArea"+g].clip(s[g])),f=a.value>u.max}),this.clips=s)},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Je(["group","markerGroup"],function(i){t[i]&&t[i].attr(e).invert()})}var t=this,i=t.chart;t.xAxis&&(et(i,"resize",e),et(t,"destroy",function(){tt(i,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,i,n,o){var r=this[e],a=!r;return a&&(this[e]=r=this.chart.renderer.g(t).attr({visibility:i,zIndex:n||.1}).add(o)),r[a?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var e=this.chart,t=this.xAxis,i=this.yAxis;return e.inverted&&(t=i,i=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:i?i.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,n=t.options,o=(e=n.animation)&&!!t.animate&&i.renderer.isSVG&&We(e.duration,500)||0,r=t.visible?"visible":"hidden",a=n.zIndex,s=t.hasRendered,l=i.seriesGroup;e=t.plotGroup("group","series",r,a,l),t.markerGroup=t.plotGroup("markerGroup","markers",r,a,l),o&&t.animate(!0),t.getAttribs(),e.inverted=t.isCartesian?i.inverted:!1,t.drawGraph&&(t.drawGraph(),t.applyZones()),Je(t.points,function(e){e.redraw&&e.redraw()}),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&t.options.enableMouseTracking!==!1&&t.drawTracker(),i.inverted&&t.invertGroups(),n.clip!==!1&&!t.sharedClipKey&&!s&&e.clip(i.clipRect),o&&t.animate(),s||(o?t.animationTimeout=setTimeout(function(){t.afterAnimate()},o):t.afterAnimate()),t.isDirty=t.isDirtyData=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,i=this.isDirty,n=this.group,o=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:We(o&&o.left,e.plotLeft),translateY:We(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&it(this,"updatedData"),(i||t)&&delete this.kdTree},kdDimensions:1,kdTree:null,kdAxisArray:["clientX","plotY"],kdComparer:"distX",searchPoint:function(e){var t=this.xAxis,i=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?t.len-e.chartY+t.pos:e.chartX-t.pos,plotY:n?i.len-e.chartX+i.pos:e.chartY-i.pos})},buildKDTree:function(){function e(t,n,o){var r,a;return(a=t&&t.length)?(r=i.kdAxisArray[n%o],t.sort(function(e,t){return e[r]-t[r]}),a=Math.floor(a/2),{point:t[a],left:e(t.slice(0,a),n+1,o),right:e(t.slice(a+1),n+1,o)}):void 0}function t(){var t=Ke(i.points,function(e){return null!==e.y});i.kdTree=e(t,n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,i.options.kdSync?t():setTimeout(t)},searchKDTree:function(e){function t(e,a,s,l){var d,u=a.point,h=i.kdAxisArray[s%l],p=u;d=c(e[o])&&c(u[o])?Math.pow(e[o]-u[o],2):null;var f=c(e[r])&&c(u[r])?Math.pow(e[r]-u[r],2):null,g=(d||0)+(f||0);return d={distX:c(d)?Math.sqrt(d):Number.MAX_VALUE,distY:c(f)?Math.sqrt(f):Number.MAX_VALUE,distR:c(g)?Math.sqrt(g):Number.MAX_VALUE},u.dist=d,h=e[h]-u[h],d=0>h?"left":"right",a[d]&&(d=t(e,a[d],s+1,l),p=d.dist[n]<p.dist[n]?d:u,u=0>h?"right":"left",a[u]&&Math.sqrt(h*h)<p.dist[n]&&(e=t(e,a[u],s+1,l),p=e.dist[n]<p.dist[n]?e:p)),p}var i=this,n=this.kdComparer,o=this.kdAxisArray[0],r=this.kdAxisArray[1];return this.kdTree||this.buildKDTree(),this.kdTree?t(e,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},E.prototype={destroy:function(){k(this,this.axis)},render:function(e){var t=this.options,i=t.format,i=i?v(i,this):t.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var i=this.axis,n=i.chart,o=n.inverted,r=i.reversed,r=this.isNegative&&!r||!this.isNegative&&r,a=i.translate(i.usePercentage?100:this.total,0,0,0,1),i=i.translate(0),i=ge(a-i),s=n.xAxis[0].translate(this.x)+e,l=n.plotHeight,r={x:o?r?a:a-i:s,y:o?l-s-t:r?l-a-i:l-a,width:o?i:t,height:o?t:i};(o=this.label)&&(o.align(this.alignOptions,null,r),r=o.alignAttr,o[this.options.crop===!1||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))}},ft.prototype.buildStacks=function(){var e=this.series,t=We(this.options.reversedStacks,!0),i=e.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)e[t?i:e.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<e.length;i++)e[i].setPercentStacks()}},ft.prototype.renderStackTotals=function(){var e,t,i=this.chart,n=i.renderer,o=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(i.plotLeft,i.plotTop);for(e in o)for(t in i=o[e])i[t].render(r)},Dt.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var e,t,i,n,o,r,a=this.processedXData,s=this.processedYData,l=[],c=s.length,d=this.options,u=d.threshold,h=d.stack,d=d.stacking,p=this.stackKey,f="-"+p,g=this.negStacks,m=this.yAxis,v=m.stacks,y=m.oldStacks;for(n=0;c>n;n++)o=a[n],r=s[n],i=this.index+","+n,t=(e=g&&u>r)?f:p,v[t]||(v[t]={}),v[t][o]||(y[t]&&y[t][o]?(v[t][o]=y[t][o],v[t][o].total=null):v[t][o]=new E(m,m.options.stackLabels,e,o,h)),t=v[t][o],t.points[i]=[t.cum||0],"percent"===d?(e=e?p:f,g&&v[e]&&v[e][o]?(e=v[e][o],t.total=e.total=pe(e.total,t.total)+ge(r)||0):t.total=D(t.total+(ge(r)||0))):t.total=D(t.total+(r||0)),t.cum=(t.cum||0)+(r||0),t.points[i].push(t.cum),l[n]=t.cum;"percent"===d&&(m.usePercentage=!0),this.stackedYData=l,m.oldStacks={}}},Dt.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,i=e.yAxis.stacks,n=e.processedXData;Je([t,"-"+t],function(t){for(var o,r,a,s=n.length;s--;)r=n[s],o=(a=i[t]&&i[t][r])&&a.points[e.index+","+s],(r=o)&&(a=a.total?100/a.total:0,r[0]=D(r[0]*a),r[1]=D(r[1]*a),e.stackedYData[s]=r[1])})},He(kt.prototype,{addSeries:function(e,t,i){var n,o=this;return e&&(t=We(t,!0),it(o,"addSeries",{options:e},function(){n=o.initSeries(e),o.isDirtyLegend=!0,o.linkSeries(),t&&o.redraw(i)})),n},addAxis:function(t,i,n,o){var r=i?"xAxis":"yAxis",a=this.options;new ft(this,e(t,{index:this[r].length,isX:i})),a[r]=u(a[r]||{}),a[r].push(t),We(n,!0)&&this.redraw(o)},showLoading:function(e){var t=this,i=t.options,n=t.loadingDiv,o=i.loading,r=function(){n&&h(n,{left:t.plotLeft+"px",top:t.plotTop+"px",width:t.plotWidth+"px",height:t.plotHeight+"px"})};n||(t.loadingDiv=n=p(Oe,{className:"highcharts-loading"},He(o.style,{zIndex:10,display:Be}),t.container),t.loadingSpan=p("span",null,o.labelStyle,n),et(t,"redraw",r)),t.loadingSpan.innerHTML=e||i.lang.loading,t.loadingShown||(h(n,{opacity:0,display:""}),ot(n,{opacity:o.style.opacity},{duration:o.showDuration||0}),t.loadingShown=!0),r()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&ot(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){h(t,{display:Be})}}),this.loadingShown=!1}}),He(St.prototype,{update:function(e,t,i,r){function a(){l.applyOptions(e),n(e)&&!o(e)&&(l.redraw=function(){d&&(e&&e.marker&&e.marker.symbol?l.graphic=d.destroy():d.attr(l.pointAttr[l.state||""])),e&&e.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),s=l.index,c.updateParallelArrays(l,s),p&&l.name&&(p[l.x]=l.name),h.data[s]=l.options,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(u.isDirtyBox=!0),u.legend.display&&"point"===h.legendType&&(c.updateTotals(),u.legend.clearItems()),t&&u.redraw(i)}var s,l=this,c=l.series,d=l.graphic,u=c.chart,h=c.options,p=c.xAxis&&c.xAxis.names,t=We(t,!0);r===!1?a():l.firePointEvent("update",{options:e},a)},remove:function(e,t){this.series.removePoint(Ye(this,this.series.data),e,t)}}),He(Dt.prototype,{addPoint:function(e,t,i,n){var o,r=this,a=r.options,s=r.data,l=r.graph,c=r.area,d=r.chart,u=r.xAxis&&r.xAxis.names,h=l&&l.shift||0,p=["graph","area"],l=a.data,f=r.xData;if(M(n,d),i){for(n=r.zones.length;n--;)p.push("zoneGraph"+n,"zoneArea"+n);Je(p,function(e){r[e]&&(r[e].shift=h+1)})}if(c&&(c.isArea=!0),t=We(t,!0),c={series:r},r.pointClass.prototype.applyOptions.apply(c,[e]),p=c.x,n=f.length,r.requireSorting&&p<f[n-1])for(o=!0;n&&f[n-1]>p;)n--;r.updateParallelArrays(c,"splice",n,0,0),r.updateParallelArrays(c,n),u&&c.name&&(u[p]=c.name),l.splice(n,0,e),o&&(r.data.splice(n,0,null),r.processData()),"point"===a.legendType&&r.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),r.updateParallelArrays(c,"shift"),l.shift())),r.isDirty=!0,r.isDirtyData=!0,t&&(r.getAttribs(),d.redraw())},removePoint:function(e,t,i){var n=this,o=n.data,r=o[e],a=n.points,s=n.chart,l=function(){o.length===a.length&&a.splice(e,1),o.splice(e,1),n.options.data.splice(e,1),n.updateParallelArrays(r||{series:n},"splice",e,1),r&&r.destroy(),n.isDirty=!0,n.isDirtyData=!0,t&&s.redraw()};M(i,s),t=We(t,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(e,t){var i=this,n=i.chart,e=We(e,!0);i.isRemoving||(i.isRemoving=!0,it(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,n.linkSeries(),e&&n.redraw(t)})),i.isRemoving=!1},update:function(t,i){var n,o=this,r=this.chart,a=this.userOptions,s=this.type,l=ze[s].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==s||void 0!==t.zIndex)&&(c.length=0),Je(c,function(e){c[e]=o[e],delete o[e]}),t=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(n in l)this[n]=I;He(this,ze[t.type||s].prototype),Je(c,function(e){o[e]=c[e]}),this.init(r,t),r.linkSeries(),We(i,!0)&&r.redraw(!1)}}),He(ft.prototype,{update:function(t,i){var n=this.chart,t=n.options[this.coll][this.options.index]=e(this.userOptions,t);this.destroy(!0),this._addedPlotLB=I,this.init(n,He(t,{events:I
})),n.isDirtyBox=!0,We(i,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,i=this.coll,n=this.series,o=n.length;o--;)n[o]&&n[o].remove(!1);l(t.axes,this),l(t[i],this),t.options[i].splice(this.options.index,1),Je(t[i],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,We(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Mt=f(Dt);ze.line=Mt,at.area=e(Ue,{threshold:0});var Tt=f(Dt,{type:"area",getSegments:function(){var e,t,i,n,o=this,r=[],a=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points,p=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)u[h[i].x]=h[i];for(n in d)null!==d[n].total&&s.push(+n);s.sort(function(e,t){return e-t}),Je(s,function(n){var r,s=0;if(!p||u[n]&&null!==u[n].y)if(u[n])a.push(u[n]);else{for(i=o.index;i<=c.series.length;i++)if(r=d[n].points[i+","+n]){s=r[1];break}e=l.translate(n),t=c.toPixels(s,!0),a.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Le})}}),a.length&&r.push(a)}else Dt.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(e){var t,i=Dt.prototype.getSegmentPath.call(this,e),n=[].concat(i),o=this.options;t=i.length;var r,a=this.yAxis.getThreshold(o.threshold);if(3===t&&n.push("L",i[1],i[2]),o.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)r=We(e[t].yBottom,a),t<e.length-1&&o.step&&n.push(e[t+1].plotX,r),n.push(e[t].plotX,r);else this.closeSegment(n,e,a);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(e,t,i){e.push("L",t[t.length-1].plotX,i,"L",t[0].plotX,i)},drawGraph:function(){this.areaPath=[],Dt.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,i=this.options,n=[["area",this.color,i.fillColor]];Je(this.zones,function(t,o){n.push(["zoneArea"+o,t.color||e.color,t.fillColor||i.fillColor])}),Je(n,function(n){var o=n[0],r=e[o];r?r.animate({d:t}):e[o]=e.chart.renderer.path(t).attr({fill:We(n[2],dt(n[1]).setOpacity(We(i.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Ge.drawRectangle});ze.area=Tt,at.spline=e(Ue),Mt=f(Dt,{type:"spline",getPointSpline:function(e,t,i){var n,o,r,a,s=t.plotX,l=t.plotY,c=e[i-1],d=e[i+1];if(c&&d){e=c.plotY,r=d.plotX;var u,d=d.plotY;n=(1.5*s+c.plotX)/2.5,o=(1.5*l+e)/2.5,r=(1.5*s+r)/2.5,a=(1.5*l+d)/2.5,u=(a-o)*(r-s)/(r-n)+l-a,o+=u,a+=u,o>e&&o>l?(o=pe(e,l),a=2*l-o):e>o&&l>o&&(o=fe(e,l),a=2*l-o),a>d&&a>l?(a=pe(d,l),o=2*l-a):d>a&&l>a&&(a=fe(d,l),o=2*l-a),t.rightContX=r,t.rightContY=a}return i?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,n||s,o||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l],t}}),ze.spline=Mt,at.areaspline=e(at.area),Tt=Tt.prototype,Mt=f(Mt,{type:"areaspline",closedStacks:!0,getSegmentPath:Tt.getSegmentPath,closeSegment:Tt.closeSegment,drawGraph:Tt.drawGraph,drawLegendSymbol:Ge.drawRectangle}),ze.areaspline=Mt,at.column=e(Ue,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),Mt=f(Dt,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Dt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Je(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t,i=this,n=i.options,o=i.xAxis,r=i.yAxis,a=o.reversed,s={},l=0;n.grouping===!1?l=1:Je(i.chart.series,function(n){var o=n.options,a=n.yAxis;n.type===i.type&&n.visible&&r.len===a.len&&r.pos===a.pos&&(o.stacking?(e=n.stackKey,s[e]===I&&(s[e]=l++),t=s[e]):o.grouping!==!1&&(t=l++),n.columnIndex=t)});var o=fe(ge(o.transA)*(o.ordinalSlope||n.pointRange||o.closestPointRange||o.tickInterval||1),o.len),d=o*n.groupPadding,u=(o-2*d)/l,h=n.pointWidth,n=c(h)?(u-h)/2:u*n.pointPadding,h=We(h,u-2*n);return i.columnMetrics={width:h,offset:n+(d+((a?l-(i.columnIndex||0):i.columnIndex)||0)*u-o/2)*(a?-1:1)}},translate:function(){var e=this,t=e.chart,i=e.options,n=e.borderWidth=We(i.borderWidth,e.closestPointRange*e.xAxis.transA<2?0:1),o=e.yAxis,r=e.translatedThreshold=o.getThreshold(i.threshold),a=We(i.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=pe(l,1+2*n),d=e.pointXOffset=s.offset,u=-(n%2?.5:0),h=n%2?.5:1;t.inverted&&(r-=.5,t.renderer.isVML&&(h+=1)),i.pointPadding&&(c=he(c)),Dt.prototype.translate.apply(e),Je(e.points,function(i){var n,s,p=We(i.yBottom,r),f=fe(pe(-999-p,i.plotY),o.len+999+p),g=i.plotX+d,m=c,v=fe(f,p);n=pe(f,p)-v,ge(n)<a&&a&&(n=a,s=!o.reversed&&!i.negative||o.reversed&&i.negative,v=de(ge(v-r)>a?p-a:r-(s?a:0))),i.barX=g,i.pointWidth=l,i.tooltipPos=t.inverted?[o.len+o.pos-t.plotLeft-f,e.xAxis.len-g-m/2]:[g+m/2,f+o.pos-t.plotTop],m=de(g+m)+u,g=de(g)+u,m-=g,p=ge(v)<.5,n=fe(de(v+n)+h,9e4),v=de(v)+h,n-=v,p&&(v-=1,n+=1),i.shapeType="rect",i.shapeArgs={x:g,y:v,width:m,height:n}})},getSymbol:Le,drawLegendSymbol:Ge.drawRectangle,drawGraph:Le,drawPoints:function(){var t,i,n=this,o=this.chart,r=n.options,a=o.renderer,s=r.animationLimit||250;Je(n.points,function(l){var d=l.plotY,u=l.graphic;d===I||isNaN(d)||null===l.y?u&&(l.graphic=u.destroy()):(t=l.shapeArgs,d=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},i=l.pointAttr[l.selected?"select":""]||n.pointAttr[""],u?(rt(u),u.attr(d)[o.pointCount<s?"animate":"attr"](e(t))):l.graphic=a[l.shapeType](t).attr(d).attr(i).add(n.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(e){var t=this.yAxis,i=this.options,n=this.chart.inverted,o={};Te&&(e?(o.scaleY=.001,e=fe(t.pos+t.len,pe(t.pos,t.toPixels(i.threshold))),n?o.translateX=e-t.len:o.translateY=e,this.group.attr(o)):(o.scaleY=1,o[n?"translateX":"translateY"]=t.pos,this.group.animate(o,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Je(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Dt.prototype.remove.apply(e,arguments)}}),ze.column=Mt,at.bar=e(at.column),Tt=f(Mt,{type:"bar",inverted:!0}),ze.bar=Tt,at.scatter=e(Ue,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Tt=f(Dt,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,kdComparer:"distR",drawGraph:function(){this.options.lineWidth&&Dt.prototype.drawGraph.call(this)}}),ze.scatter=Tt,at.pie=e(Ue,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),Ue={type:"pie",isCartesian:!1,pointClass:f(St,{init:function(){St.prototype.init.apply(this,arguments);var e,t=this;return He(t,{visible:t.visible!==!1,name:We(t.name,"Slice")}),e=function(e){t.slice("select"===e.type)},et(t,"select",e),et(t,"unselect",e),t},setVisible:function(e,t){var i=this,n=i.series,o=n.chart,r=!n.isDirty&&n.options.ignoreHiddenPoint;(e!==i.visible||t)&&(i.visible=i.options.visible=e=e===I?!i.visible:e,n.options.data[Ye(i,n.data)]=i.options,Je(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&(o.hasRendered&&(n.updateTotals(),o.legend.clearItems(),r||o.legend.render()),o.legend.colorizeItem(i,e)),r&&(n.isDirty=!0,o.redraw()))},slice:function(e,t,i){var n=this.series;M(i,n.chart),We(t,!0),this.sliced=this.options.sliced=e=c(e)?e:!this.sliced,n.options.data[Ye(this,n.data)]=this.options,e=e?this.slicedTranslation:{translateX:0,translateY:0},this.graphic.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Le,animate:function(e){var t=this,i=t.points,n=t.startAngleRad;e||(Je(i,function(e){var i=e.graphic,o=e.shapeArgs;i&&(i.attr({r:e.startR||t.center[3]/2,start:n,end:n}),i.animate({r:o.r,start:o.start,end:o.end},t.options.animation))}),t.animate=null)},setData:function(e,t,i,n){Dt.prototype.setData.call(this,e,!1,i,n),this.processData(),this.generatePoints(),We(t,!0)&&this.chart.redraw(i)},updateTotals:function(){var e,t,i,n,o=0,r=this.options.ignoreHiddenPoint;for(t=this.points,i=t.length,e=0;i>e;e++)n=t[e],n.y<0&&(n.y=null),o+=r&&!n.visible?0:n.y;for(this.total=o,e=0;i>e;e++)n=t[e],n.percentage=o>0&&(n.visible||!r)?n.y/o*100:0,n.total=o},generatePoints:function(){Dt.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,i,n,o,r,a=0,s=this.options,l=s.slicedOffset,c=l+s.borderWidth,d=s.startAngle||0,u=this.startAngleRad=ye/180*(d-90),d=(this.endAngleRad=ye/180*(We(s.endAngle,d+360)-90))-u,h=this.points,p=s.dataLabels.distance,s=s.ignoreHiddenPoint,f=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,i){return n=ce.asin(fe((t-e[1])/(e[2]/2+p),1)),e[0]+(i?-1:1)*me(n)*(e[2]/2+p)},o=0;f>o;o++)r=h[o],t=u+a*d,(!s||r.visible)&&(a+=r.percentage/100),i=u+a*d,r.shapeType="arc",r.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:de(1e3*t)/1e3,end:de(1e3*i)/1e3},n=(i+t)/2,n>1.5*ye?n-=2*ye:-ye/2>n&&(n+=2*ye),r.slicedTranslation={translateX:de(me(n)*l),translateY:de(ve(n)*l)},t=me(n)*e[2]/2,i=ve(n)*e[2]/2,r.tooltipPos=[e[0]+.7*t,e[1]+.7*i],r.half=-ye/2>n||n>ye/2?1:0,r.angle=n,c=fe(c,p/2),r.labelPos=[e[0]+t+me(n)*p,e[1]+i+ve(n)*p,e[0]+t+me(n)*c,e[1]+i+ve(n)*c,e[0]+t,e[1]+i,0>p?"center":r.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var e,t,i,n,o=this,r=o.chart.renderer,a=o.options.shadow;a&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group)),Je(o.points,function(s){var l=s.options.visible;t=s.graphic,n=s.shapeArgs,i=s.shadowGroup,a&&!i&&(i=s.shadowGroup=r.g("shadow").add(o.shadowGroup)),e=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},i&&i.attr(e),t?t.animate(He(n,e)):s.graphic=t=r[s.shapeType](n).setRadialReference(o.center).attr(s.pointAttr[s.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(e).add(o.group).shadow(a,i),void 0!==l&&s.setVisible(l,!0)})},searchPoint:Le,sortByAngle:function(e,t){e.sort(function(e,i){return void 0!==e.angle&&(i.angle-e.angle)*t})},drawLegendSymbol:Ge.drawRectangle,getCenter:Ct.getCenter,getSymbol:Le},Ue=f(Dt,Ue),ze.pie=Ue,Dt.prototype.drawDataLabels=function(){var t,i,n,o,r=this,a=r.options,s=a.cursor,l=a.dataLabels,d=r.points,u=r.hasRendered||0,h=r.chart.renderer;(l.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(l),o=r.plotGroup("dataLabelsGroup","data-labels",l.defer?"hidden":"visible",l.zIndex||6),We(l.defer,!0)&&(o.attr({opacity:+u}),u||et(r,"afterAnimate",function(){r.visible&&o.show(),o[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=l,Je(d,function(d){var u,p,f,g,m=d.dataLabel,y=d.connector,b=!0,_={};if(t=d.dlOptions||d.options&&d.options.dataLabels,u=We(t&&t.enabled,i.enabled),m&&!u)d.dataLabel=m.destroy();else if(u){if(l=e(i,t),g=l.style,u=l.rotation,p=d.getLabelConfig(),n=l.format?v(l.format,p):l.formatter.call(p,l),g.color=We(l.color,g.color,r.color,"black"),m)c(n)?(m.attr({text:n}),b=!1):(d.dataLabel=m=m.destroy(),y&&(d.connector=y.destroy()));else if(c(n)){m={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:u,padding:l.padding,zIndex:1},"contrast"===g.color&&(_.color=l.inside||l.distance<0||a.stacking?h.getContrast(d.color||r.color):"#000000"),s&&(_.cursor=s);for(f in m)m[f]===I&&delete m[f];m=d.dataLabel=h[u?"text":"label"](n,0,-999,l.shape,null,null,l.useHTML).attr(m).css(He(g,_)).add(o).shadow(l.shadow)}m&&r.alignDataLabel(d,m,l,null,b)}}))},Dt.prototype.alignDataLabel=function(e,t,i,n,o){var r=this.chart,a=r.inverted,s=We(e.plotX,-999),l=We(e.plotY,-999),c=t.getBBox(),d=r.renderer.fontMetrics(i.style.fontSize).b,u=this.visible&&(e.series.forceDL||r.isInsidePlot(s,de(l),a)||n&&r.isInsidePlot(s,a?n.x+1:n.y+n.height-1,a));u&&(n=He({x:a?r.plotWidth-l:s,y:de(a?r.plotHeight-s:l),width:0,height:0},n),He(i,{width:c.width,height:c.height}),i.rotation?(e=r.renderer.rotCorr(d,i.rotation),t[o?"attr":"animate"]({x:n.x+i.x+n.width/2+e.x,y:n.y+i.y+n.height/2}).attr({align:i.align})):(t.align(i,null,n),a=t.alignAttr,"justify"===We(i.overflow,"justify")?this.justifyDataLabel(t,i,a,c,n,o):We(i.crop,!0)&&(u=r.isInsidePlot(a.x,a.y)&&r.isInsidePlot(a.x+c.width,a.y+c.height)),i.shape&&t.attr({anchorX:e.plotX,anchorY:e.plotY}))),u||(t.attr({y:-999}),t.placed=!1)},Dt.prototype.justifyDataLabel=function(e,t,i,n,o,r){var a,s,l=this.chart,c=t.align,d=t.verticalAlign,u=e.box?0:e.padding||0;a=i.x+u,0>a&&("right"===c?t.align="left":t.x=-a,s=!0),a=i.x+n.width-u,a>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-a,s=!0),a=i.y+u,0>a&&("bottom"===d?t.verticalAlign="top":t.y=-a,s=!0),a=i.y+n.height-u,a>l.plotHeight&&("top"===d?t.verticalAlign="bottom":t.y=l.plotHeight-a,s=!0),s&&(e.placed=!r,e.align(t,null,o))},ze.pie&&(ze.pie.prototype.drawDataLabels=function(){var e,t,i,n,o,r,a,s,l,c,d,u=this,h=u.data,p=u.chart,f=u.options.dataLabels,g=We(f.connectorPadding,10),m=We(f.connectorWidth,1),v=p.plotWidth,y=p.plotHeight,b=We(f.softConnector,!0),_=f.distance,x=u.center,k=x[2]/2,C=x[1],S=_>0,D=[[],[]],M=[0,0,0,0],T=function(e,t){return t.y-e.y};if(u.visible&&(f.enabled||u._hasPointLabels)){for(Dt.prototype.drawDataLabels.apply(u),Je(h,function(e){e.dataLabel&&e.visible&&D[e.half].push(e)}),c=2;c--;){var A,P=[],E=[],$=D[c],L=$.length;if(L){for(u.sortByAngle($,c-.5),d=h=0;!h&&$[d];)h=$[d]&&$[d].dataLabel&&($[d].dataLabel.getBBox().height||21),d++;if(_>0){for(o=fe(C+k+_,p.plotHeight),d=pe(0,C-k-_);o>=d;d+=h)P.push(d);if(o=P.length,L>o){for(e=[].concat($),e.sort(T),d=L;d--;)e[d].rank=d;for(d=L;d--;)$[d].rank>=o&&$.splice(d,1);L=$.length}for(d=0;L>d;d++){e=$[d],r=e.labelPos,e=9999;var I,R;for(R=0;o>R;R++)I=ge(P[R]-r[1]),e>I&&(e=I,A=R);if(d>A&&null!==P[d])A=d;else for(L-d+A>o&&null!==P[d]&&(A=o-L+d);null===P[A];)A++;E.push({i:A,y:P[A]}),P[A]=null}E.sort(T)}for(d=0;L>d;d++)e=$[d],r=e.labelPos,n=e.dataLabel,l=e.visible===!1?"hidden":"inherit",e=r[1],_>0?(o=E.pop(),A=o.i,s=o.y,(e>s&&null!==P[A+1]||s>e&&null!==P[A-1])&&(s=fe(pe(0,e),p.plotHeight))):s=e,a=f.justify?x[0]+(c?-1:1)*(k+_):u.getX(s===C-k-_||s===C+k+_?e:s,c),n._attr={visibility:l,align:r[6]},n._pos={x:a+f.x+({left:g,right:-g}[r[6]]||0),y:s+f.y-10},n.connX=a,n.connY=s,null===this.options.size&&(o=n.width,g>a-o?M[3]=pe(de(o-a+g),M[3]):a+o>v-g&&(M[1]=pe(de(a+o-v+g),M[1])),0>s-h/2?M[0]=pe(de(-s+h/2),M[0]):s+h/2>y&&(M[2]=pe(de(s+h/2-y),M[2])))}}(0===w(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),S&&m&&Je(this.points,function(e){t=e.connector,r=e.labelPos,(n=e.dataLabel)&&n._pos?(l=n._attr.visibility,a=n.connX,s=n.connY,i=b?["M",a+("left"===r[6]?5:-5),s,"C",a,s,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],"L",r[4],r[5]]:["M",a+("left"===r[6]?5:-5),s,"L",r[2],r[3],"L",r[4],r[5]],t?(t.animate({d:i}),t.attr("visibility",l)):e.connector=t=u.chart.renderer.path(i).attr({"stroke-width":m,stroke:f.connectorColor||e.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):t&&(e.connector=t.destroy())}))}},ze.pie.prototype.placeDataLabels=function(){Je(this.points,function(e){var t,e=e.dataLabel;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},ze.pie.prototype.alignDataLabel=Le,ze.pie.prototype.verifyDataLabelOverflow=function(e){var t,i=this.center,n=this.options,o=n.center,r=n=n.minSize||80;return null!==o[0]?r=pe(i[2]-pe(e[1],e[3]),n):(r=pe(i[2]-e[1]-e[3],n),i[0]+=(e[3]-e[1])/2),null!==o[1]?r=pe(fe(r,i[2]-pe(e[0],e[2])),n):(r=pe(fe(r,i[2]-e[0]-e[2]),n),i[1]+=(e[0]-e[2])/2),r<i[2]?(i[2]=r,this.translate(i),Je(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):t=!0,t}),ze.column&&(ze.column.prototype.alignDataLabel=function(t,i,n,o,r){var a=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,c=t.below||t.plotY>We(this.translatedThreshold,s.yAxis.len),d=We(n.inside,!!this.options.stacking);l&&(o=e(l),a&&(o={x:s.yAxis.len-o.y-o.height,y:s.xAxis.len-o.x-o.width,width:o.height,height:o.width}),!d)&&(a?(o.x+=c?0:o.width,o.width=0):(o.y+=c?o.height:0,o.height=0)),n.align=We(n.align,!a||d?"center":c?"right":"left"),n.verticalAlign=We(n.verticalAlign,a||d?"middle":c?"top":"bottom"),Dt.prototype.alignDataLabel.call(this,t,i,n,o,r)}),function(e){var t=e.Chart,i=e.each,n=HighchartsAdapter.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];i(e.series,function(e){var n=e.options.dataLabels;(n.enabled||e._hasPointLabels)&&!n.allowOverlap&&e.visible&&i(e.points,function(e){e.dataLabel&&(e.dataLabel.labelrank=e.labelrank,t.push(e.dataLabel))})}),e.hideOverlappingLabels(t)}t(),n(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,i,n,o,r=e.length;for(i=0;r>i;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1);for(i=0;r>i;i++)for(n=e[i],t=i+1;r>t;++t)o=e[t],n&&o&&n.placed&&o.placed&&0!==n.newOpacity&&0!==o.newOpacity&&!(o.alignAttr.x>n.alignAttr.x+n.width||o.alignAttr.x+o.width<n.alignAttr.x||o.alignAttr.y>n.alignAttr.y+n.height||o.alignAttr.y+o.height<n.alignAttr.y)&&((n.labelrank<o.labelrank?n:o).newOpacity=0);for(i=0;r>i;i++)(t=e[i])&&(t.oldOpacity!==t.newOpacity&&t.placed&&(t.alignAttr.opacity=t.newOpacity,t[t.isOld&&t.newOpacity?"animate":"attr"](t.alignAttr)),t.isOld=!0)}}(ae);var At=ae.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,i=t.pointer,n=e.options.cursor,o=n&&{cursor:n},r=function(e){for(var i,n=e.target;n&&!i;)i=n.point,n=n.parentNode;i!==I&&i!==t.hoverPoint&&i.onMouseOver(e)};Je(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),e._hasTracking||(Je(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(e){i.onTrackerMouseOut(e)}).css(o),O)&&e[t].on("touchstart",r)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,i=t.options,n=i.trackByArea,o=[].concat(n?t.areaPath:t.graphPath),r=o.length,a=t.chart,s=a.pointer,l=a.renderer,c=a.options.tooltip.snap,d=t.tracker,u=i.cursor,h=u&&{cursor:u},u=t.singlePoints,p=function(){a.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(Te?1e-4:.002)+")";if(r&&!n)for(e=r+1;e--;)"M"===o[e]&&o.splice(e+1,0,o[e+1]-c,o[e+2],"L"),(e&&"M"===o[e]||e===r)&&o.splice(e,0,"L",o[e-2]+c,o[e-1]);for(e=0;e<u.length;e++)r=u[e],o.push("M",r.plotX-c,r.plotY,"L",r.plotX+c,r.plotY);d?d.attr({d:o}):(t.tracker=l.path(o).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:n?f:Be,"stroke-width":i.lineWidth+(n?0:2*c),zIndex:2}).add(t.group),Je([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){s.onTrackerMouseOut(e)}).css(h),O&&e.on("touchstart",p)}))}};ze.column&&(Mt.prototype.drawTracker=At.drawTrackerPoint),ze.pie&&(ze.pie.prototype.drawTracker=At.drawTrackerPoint),ze.scatter&&(Tt.prototype.drawTracker=At.drawTrackerPoint),He(wt.prototype,{setItemEvents:function(e,t,i,n,o){var r=this;(i?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),t.css(r.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?n:o),e.setState()}).on("click",function(t){var i=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,i):it(e,"legendItemClick",t,i)})},createCheckboxForItem:function(e){e.checkbox=p("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),et(e.checkbox,"click",function(t){it(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),F.legend.itemStyle.cursor="pointer",He(kt.prototype,{showResetZoom:function(){var e=this,t=F.lang,i=e.options.chart.resetZoomButton,n=i.theme,o=n.states,r="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},n,o&&o.hover).attr({align:i.position.align,title:t.resetZoomTitle}).add().align(i.position,!1,r)},zoomOut:function(){var e=this;it(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,i,o=this.pointer,r=!1;!e||e.resetSelection?Je(this.axes,function(e){t=e.zoom()}):Je(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,n=i.isXAxis;(o[n?"zoomX":"zoomY"]||o[n?"pinchX":"pinchY"])&&(t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&n(i)&&(this.resetZoomButton=i.destroy()),t&&this.redraw(We(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var i,n=this,o=n.hoverPoints;o&&Je(o,function(e){e.setState()}),Je("xy"===t?[1,0]:[1],function(t){var o=e[t?"chartX":"chartY"],r=n[t?"xAxis":"yAxis"][0],a=n[t?"mouseDownX":"mouseDownY"],s=(r.pointRange||0)/2,l=r.getExtremes(),c=r.toValue(a-o,!0)+s,s=r.toValue(a+n[t?"plotWidth":"plotHeight"]-o,!0)-s,a=a>o;r.series.length&&(a||c>fe(l.dataMin,l.min))&&(!a||s<pe(l.dataMax,l.max))&&(r.setExtremes(c,s,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=o}),i&&n.redraw(!1),h(n.container,{cursor:"move"})}}),He(St.prototype,{select:function(e,t){var i=this,n=i.series,o=n.chart,e=We(e,!i.selected);i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=i.options.selected=e,n.options.data[Ye(i,n.data)]=i.options,i.setState(e&&"select"),t||Je(o.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=e.options.selected=!1,n.options.data[Ye(e,n.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,i=t.chart,n=i.tooltip,o=i.hoverPoint;i.hoverSeries!==t&&t.onMouseOver(),o&&o!==this&&o.onMouseOut(),this.firePointEvent("mouseOver"),n&&(!n.shared||t.noSharedTooltip)&&n.refresh(this,e),this.setState("hover"),i.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut"),t&&-1!==Ye(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,i=e(this.series.options.point,this.options).events;this.events=i;for(t in i)et(this,t,i[t]);this.hasImportedEvents=!0}},setState:function(t,i){var n,o=this.plotX,r=this.plotY,a=this.series,s=a.options.states,l=at[a.type].marker&&a.options.marker,c=l&&!l.enabled,d=l&&l.states[t],u=d&&d.enabled===!1,h=a.stateMarkerGraphic,p=this.marker||{},f=a.chart,g=a.halo,t=t||"";n=this.pointAttr[t]||a.pointAttr[t],t===this.state&&!i||this.selected&&"select"!==t||s[t]&&s[t].enabled===!1||t&&(u||c&&d.enabled===!1)||t&&p.states&&p.states[t]&&p.states[t].enabled===!1||(this.graphic?(l=l&&this.graphic.symbolName&&n.r,this.graphic.attr(e(n,l?{x:o-l,y:r-l,width:2*l,height:2*l}:{})),h&&h.hide()):(t&&d&&(l=d.radius,p=p.symbol||a.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h?h[i?"animate":"attr"]({x:o-l,y:r-l}):p&&(a.stateMarkerGraphic=h=f.renderer.symbol(p,o-l,r-l,2*l,2*l).attr(n).add(a.markerGroup),h.currentSymbol=p)),h&&h[t&&f.isInsidePlot(o,r,f.inverted)?"show":"hide"]()),(o=s[t]&&s[t].halo)&&o.size?(g||(a.halo=g=f.renderer.path().add(f.seriesGroup)),g.attr(He({fill:dt(this.color||a.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:this.haloPath(o.size)})):g&&g.attr({d:[]}),this.state=t)},haloPath:function(e){var t=this.series,i=t.chart,n=t.getPlotBox(),o=i.inverted;return i.renderer.symbols.circle(n.translateX+(o?t.yAxis.len-this.plotY:this.plotX)-e,n.translateY+(o?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}}),He(Dt.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&it(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;n&&n.onMouseOut(),this&&e.events.mouseOut&&it(this,"mouseOut"),i&&!e.stickyTracking&&(!i.shared||this.noSharedTooltip)&&i.hide(),this.setState(),t.hoverSeries=null},setState:function(e){var t=this.options,i=this.graph,n=t.states,o=t.lineWidth,t=0,e=e||"";if(this.state!==e&&(this.state=e,!(n[e]&&n[e].enabled===!1)&&(e&&(o=n[e].lineWidth||o+(n[e].lineWidthPlus||0)),i&&!i.dashstyle)))for(e={"stroke-width":o},i.attr(e);this["zoneGraph"+t];)this["zoneGraph"+t].attr(e),t+=1},setVisible:function(e,t){var i,n=this,o=n.chart,r=n.legendItem,a=o.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=e=n.userOptions.visible=e===I?!s:e)?"show":"hide",Je(["group","dataLabelsGroup","markerGroup","tracker"],function(e){n[e]&&n[e][i]()}),(o.hoverSeries===n||(o.hoverPoint&&o.hoverPoint.series)===n)&&n.onMouseOut(),r&&o.legend.colorizeItem(n,e),n.isDirty=!0,n.options.stacking&&Je(o.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),Je(n.linkedSeries,function(t){t.setVisible(e,!1)}),a&&(o.isDirtyBox=!0),t!==!1&&o.redraw(),it(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===I?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),it(this,e?"select":"unselect")},drawTracker:At.drawTrackerGraph}),Ve(Dt.prototype,"init",function(e){var t;e.apply(this,Array.prototype.slice.call(arguments,1)),(t=this.xAxis)&&t.options.ordinal&&et(this,"updatedData",function(){delete t.ordinalIndex})}),Ve(ft.prototype,"getTimeTicks",function(e,t,i,n,o,r,a,s){var l,d,u,h,p=0,f=0,g={},m=[],v=-Number.MAX_VALUE,y=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!r||r.length<3||i===I)return e.call(this,t,i,n,o);for(u=r.length;u>f;f++){if(h=f&&r[f-1]>n,r[f]<i&&(p=f),f===u-1||r[f+1]-r[f]>5*a||h){if(r[f]>v){for(l=e.call(this,t,r[p],r[f],o);l.length&&l[0]<=v;)l.shift();l.length&&(v=l[l.length-1]),m=m.concat(l)}p=f+1}if(h)break}if(e=l.info,s&&e.unitRange<=H.hour){for(f=m.length-1,p=1;f>p;p++)j("%d",m[p])!==j("%d",m[p-1])&&(g[m[p]]="day",d=!0);d&&(g[m[0]]="day"),e.higherRanks=g}if(m.info=e,s&&c(y)){var b,s=e=m.length,f=[];for(d=[];s--;)p=this.translate(m[s]),b&&(d[s]=b-p),f[s]=b=p;for(d.sort(),d=d[ue(d.length/2)],.6*y>d&&(d=null),s=m[e-1]>n?e-1:e,b=void 0;s--;)p=f[s],n=b-p,b&&.8*y>n&&(null===d||.8*d>n)?(g[m[s]]&&!g[m[s+1]]?(n=s+1,b=p):n=s,m.splice(n,1)):b=p}return m}),He(ft.prototype,{beforeSetTickPositions:function(){var e,t,i,n=this,o=[],r=!1,a=n.getExtremes(),s=a.min,a=a.max;if(n.options.ordinal||n.options.breaks){if(Je(n.series,function(t,i){if(t.visible!==!1&&(t.takeOrdinalPosition!==!1||n.options.breaks)&&(o=o.concat(t.processedXData),e=o.length,o.sort(function(e,t){return e-t}),e))for(i=e-1;i--;)o[i]===o[i+1]&&o.splice(i,1)}),e=o.length,e>2){for(t=o[1]-o[0],i=e-1;i--&&!r;)o[i+1]-o[i]!==t&&(r=!0);!n.options.keepOrdinalPadding&&(o[0]-s>t||a-o[o.length-1]>t)&&(r=!0)}r?(n.ordinalPositions=o,t=n.val2lin(pe(s,o[0]),!0),i=pe(n.val2lin(fe(a,o[o.length-1]),!0),1),n.ordinalSlope=a=(a-s)/(i-t),n.ordinalOffset=s-t*a):n.ordinalPositions=n.ordinalSlope=n.ordinalOffset=I,n.options.ordinal&&(n.doPostTranslate=r)}n.groupIntervalFactor=null},val2lin:function(e,t){var i=this.ordinalPositions;if(i){var n,o,r=i.length;for(n=r;n--;)if(i[n]===e){o=n;break}for(n=r-1;n--;)if(e>i[n]||0===n){i=(e-i[n])/(i[n+1]-i[n]),o=n+i;break}return t?o:this.ordinalSlope*(o||0)+this.ordinalOffset}return e},lin2val:function(e,t){var i=this.ordinalPositions;if(i){var n,o,r=this.ordinalSlope,a=this.ordinalOffset,s=i.length-1;if(t)0>e?e=i[0]:e>s?e=i[s]:(s=ue(e),o=e-s);else for(;s--;)if(n=r*s+a,e>=n){r=r*(s+1)+a,o=(e-n)/(r-n);break}return o!==I&&i[s]!==I?i[s]+(o?o*(i[s+1]-i[s]):0):e}return e},getExtendedPositions:function(){var e,t,i=this.chart,n=this.series[0].currentDataGrouping,o=this.ordinalIndex,r=n?n.count+n.unitName:"raw",a=this.getExtremes();return o||(o=this.ordinalIndex={}),o[r]||(e={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:ft.prototype.val2lin},Je(this.series,function(o){t={xAxis:e,xData:o.xData,chart:i,destroyGroupedData:Le},t.options={dataGrouping:n?{enabled:!0,forced:!0,approximation:"open",units:[[n.unitName,[n.count]]]}:{enabled:!1}},o.processData.apply(t),e.series.push(t)}),this.beforeSetTickPositions.apply(e),o[r]=e.ordinalPositions),o[r]},getGroupIntervalFactor:function(e,t,i){var n=0,i=i.processedXData,o=i.length,r=[],a=this.groupIntervalFactor;if(!a){for(;o-1>n;n++)r[n]=i[n+1]-i[n];r.sort(function(e,t){return e-t}),n=r[ue(o/2)],e=pe(e,i[0]),t=fe(t,i[o-1]),this.groupIntervalFactor=a=o*n/(t-e)}return a},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?this.options.breaks?this.closestPointRange:e/(t/this.closestPointRange):e}}),Ve(kt.prototype,"pan",function(e,t){var i=this.xAxis[0],n=t.chartX,o=!1;if(i.options.ordinal&&i.series.length){var r,a=this.mouseDownX,s=i.getExtremes(),l=s.dataMax,c=s.min,d=s.max,u=this.hoverPoints,p=i.closestPointRange,a=(a-n)/(i.translationSlope*(i.ordinalSlope||p)),f={ordinalPositions:i.getExtendedPositions()},p=i.lin2val,g=i.val2lin;f.ordinalPositions?ge(a)>1&&(u&&Je(u,function(e){e.setState()}),0>a?(u=f,r=i.ordinalPositions?i:f):(u=i.ordinalPositions?i:f,r=f),f=r.ordinalPositions,l>f[f.length-1]&&f.push(l),this.fixedRange=d-c,a=i.toFixedRange(null,null,p.apply(u,[g.apply(u,[c,!0])+a,!0]),p.apply(r,[g.apply(r,[d,!0])+a,!0])),a.min>=fe(s.dataMin,c)&&a.max<=pe(l,d)&&i.setExtremes(a.min,a.max,!0,!1,{trigger:"pan"}),this.mouseDownX=n,h(this.container,{cursor:"move"})):o=!0}else o=!0;o&&e.apply(this,Array.prototype.slice.call(arguments,1))}),Ve(Dt.prototype,"getSegments",function(e){var t,i=this.options.gapSize,n=this.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1)),i&&(t=this.segments,Je(t,function(e,o){for(var r=e.length-1;r--;)e[r+1].x-e[r].x>n.closestPointRange*i&&t.splice(o+1,0,e.splice(r+1,e.length-r))}))}),function(e){function t(){return Array.prototype.slice.call(arguments,1)}var i=e.pick,n=e.wrap,o=e.extend,r=HighchartsAdapter.fireEvent,a=e.Axis,s=e.Series;o(a.prototype,{isInBreak:function(e,t){var i=e.repeat||1/0,n=e.from,o=e.to-e.from,i=t>=n?(t-n)%i:i-(n-t)%i;return e.inclusive?o>=i:o>i&&0!==i},isInAnyBreak:function(e,t){if(!this.options.breaks)return!1;for(var n=this.options.breaks,o=n.length,r=!1,a=!1;o--;)this.isInBreak(n[o],e)&&(r=!0,a||(a=i(n[o].showPoints,this.isXAxis?!1:!0)));return r&&t?r&&!a:r}}),n(a.prototype,"setTickPositions",function(e){if(e.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var t,i=this.tickPositions,n=this.tickPositions.info,o=[];if(!(n&&n.totalRange>=this.closestPointRange)){for(t=0;t<i.length;t++)this.isInAnyBreak(i[t])||o.push(i[t]);this.tickPositions=o,this.tickPositions.info=n}}}),n(a.prototype,"init",function(e,t,i){if(i.breaks&&i.breaks.length&&(i.ordinal=!1),e.call(this,t,i),this.options.breaks){var n=this;n.doPostTranslate=!0,this.val2lin=function(e){var t,i,o=e;for(i=0;i<n.breakArray.length;i++)if(t=n.breakArray[i],t.to<=e)o-=t.len;else{if(t.from>=e)break;if(n.isInBreak(t,e)){o-=e-t.from;break}}return o},this.lin2val=function(e){var t,i;for(i=0;i<n.breakArray.length&&(t=n.breakArray[i],!(t.from>=e));i++)t.to<e?e+=t.to-t.from:n.isInBreak(t,e)&&(e+=t.to-t.from);return e},this.setExtremes=function(e,t,i,n,o){for(;this.isInAnyBreak(e);)e-=this.closestPointRange;for(;this.isInAnyBreak(t);)t-=this.closestPointRange;a.prototype.setExtremes.call(this,e,t,i,n,o)},this.setAxisTranslation=function(e){a.prototype.setAxisTranslation.call(this,e);var t,i,o,s,l=n.options.breaks,e=[],c=[],d=0,u=n.userMin||n.min,h=n.userMax||n.max;

for(s in l)i=l[s],n.isInBreak(i,u)&&(u+=i.to%i.repeat-u%i.repeat),n.isInBreak(i,h)&&(h-=h%i.repeat-i.from%i.repeat);for(s in l){for(i=l[s],o=i.from,t=i.repeat||1/0;o-t>u;)o-=t;for(;u>o;)o+=t;for(;h>o;o+=t)e.push({value:o,move:"in"}),e.push({value:o+(i.to-i.from),move:"out",size:i.breakSize})}e.sort(function(e,t){return e.value===t.value?("in"===e.move?0:1)-("in"===t.move?0:1):e.value-t.value}),l=0,o=u;for(s in e)i=e[s],l+="in"===i.move?1:-1,1===l&&"in"===i.move&&(o=i.value),0===l&&(c.push({from:o,to:i.value,len:i.value-o-(i.size||0)}),d+=i.value-o-(i.size||0));n.breakArray=c,r(n,"afterBreaks"),n.transA*=(h-n.min)/(h-u-d),n.min=u,n.max=h}}}),n(s.prototype,"generatePoints",function(e){e.apply(this,t(arguments));var i,n=this.xAxis,o=this.yAxis,r=this.points,a=r.length;if(n&&o&&(n.options.breaks||o.options.breaks))for(;a--;)i=r[a],(n.isInAnyBreak(i.x,!0)||o.isInAnyBreak(i.y,!0))&&(r.splice(a,1),this.data[a].destroyElements())}),n(e.seriesTypes.column.prototype,"drawPoints",function(e){e.apply(this);var t,i,n,o,a,e=this.points,s=this.yAxis,l=s.breakArray||[];for(n=0;n<e.length;n++)for(t=e[n],a=t.stackY||t.y,o=0;o<l.length&&(i=l[o],!(a<i.from));o++)a>i.to?r(s,"pointBreak",{point:t,brk:i}):r(s,"pointInBreak",{point:t,brk:i})})}(ae);var Pt=Dt.prototype,Ue=gt.prototype,Et=Pt.processData,$t=Pt.generatePoints,Lt=Pt.destroy,It=Ue.tooltipFooterHeaderFormatter,Rt={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},Ot={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},Bt=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],Ft={sum:function(e){var t,i=e.length;if(!i&&e.hasNulls)t=null;else if(i)for(t=0;i--;)t+=e[i];return t},average:function(e){var t=e.length,e=Ft.sum(e);return"number"==typeof e&&t&&(e/=t),e},open:function(e){return e.length?e[0]:e.hasNulls?null:I},high:function(e){return e.length?w(e):e.hasNulls?null:I},low:function(e){return e.length?x(e):e.hasNulls?null:I},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:I},ohlc:function(e,t,i,n){return e=Ft.open(e),t=Ft.high(t),i=Ft.low(i),n=Ft.close(n),"number"==typeof e||"number"==typeof t||"number"==typeof i||"number"==typeof n?[e,t,i,n]:void 0},range:function(e,t){return e=Ft.low(e),t=Ft.high(t),"number"==typeof e||"number"==typeof t?[e,t]:void 0}};Pt.groupData=function(e,t,i,n){var o,r,a,s=this.data,l=this.options.data,c=[],d=[],u=e.length,h=!!t,p=[[],[],[],[]],n="function"==typeof n?n:Ft[n],f=this.pointArrayMap,g=f&&f.length;for(a=0;u>=a&&!(e[a]>=i[0]);a++);for(;u>=a;a++){for(;(i[1]!==I&&e[a]>=i[1]||a===u)&&(o=i.shift(),r=n.apply(0,p),r!==I&&(c.push(o),d.push(r)),p[0]=[],p[1]=[],p[2]=[],p[3]=[],a!==u););if(a===u)break;if(f){o=this.cropStart+a,o=s&&s[o]||this.pointClass.prototype.applyOptions.apply({series:this},[l[o]]);var m;for(r=0;g>r;r++)m=o[f[r]],"number"==typeof m?p[r].push(m):null===m&&(p[r].hasNulls=!0)}else o=h?t[a]:null,"number"==typeof o?p[0].push(o):null===o&&(p[0].hasNulls=!0)}return[c,d]},Pt.processData=function(){var e,t=this.chart,i=this.options,n=i.dataGrouping,o=this.allowDG!==!1&&n&&We(n.enabled,t.options._stock);if(this.forceCrop=o,this.groupPixelWidth=null,this.hasProcessed=!0,Et.apply(this,arguments)!==!1&&o){this.destroyGroupedData();var r=this.processedXData,a=this.processedYData,s=t.plotSizeX,t=this.xAxis,l=t.options.ordinal,d=this.groupPixelWidth=t.getGroupPixelWidth&&t.getGroupPixelWidth(),o=this.pointRange;if(d){e=!0,this.points=null;var u=t.getExtremes(),o=u.min,u=u.max,l=l&&t.getGroupIntervalFactor(o,u,this)||1,s=d*(u-o)/s*l,d=t.getTimeTicks(t.normalizeTimeTickInterval(s,n.units||Bt),o,u,t.options.startOfWeek,r,this.closestPointRange),a=Pt.groupData.apply(this,[r,a,d,n.approximation]),r=a[0],a=a[1];if(n.smoothed){for(n=r.length-1,r[n]=u;n--&&n>0;)r[n]+=s/2;r[0]=o}this.currentDataGrouping=d.info,null===i.pointRange&&(this.pointRange=d.info.totalRange),this.closestPointRange=d.info.totalRange,c(r[0])&&r[0]<t.dataMin&&(t.min===t.dataMin&&(t.min=r[0]),t.dataMin=r[0]),this.processedXData=r,this.processedYData=a}else this.currentDataGrouping=null,this.pointRange=o;this.hasGroupedData=e}},Pt.destroyGroupedData=function(){var e=this.groupedData;Je(e||[],function(t,i){t&&(e[i]=t.destroy?t.destroy():null)}),this.groupedData=null},Pt.generatePoints=function(){$t.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Ue.tooltipFooterHeaderFormatter=function(e,t){var i,n=e.series,o=n.tooltipOptions,a=n.options.dataGrouping,s=o.xDateFormat,l=n.xAxis;return l&&"datetime"===l.options.type&&a&&r(e.key)?(n=n.currentDataGrouping,a=a.dateTimeLabelFormats,n?(l=a[n.unitName],1===n.count?s=l[0]:(s=l[1],i=l[2])):!s&&a&&(s=this.getXDateFormat(e,o,l)),s=j(s,e.key),i&&(s+=j(i,e.key+n.totalRange-1)),o=o[(t?"footer":"header")+"Format"].replace("{point.key}",s)):o=It.call(this,e,t),o},Pt.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();Lt.apply(this)},Ve(Pt,"setOptions",function(t,i){var n=t.call(this,i),o=this.type,r=this.chart.options.plotOptions,a=at[o].dataGrouping;return Ot[o]&&(a||(a=e(Rt,Ot[o])),n.dataGrouping=e(a,r.series&&r.series.dataGrouping,r[o].dataGrouping,i.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),Ve(ft.prototype,"setScale",function(e){e.call(this),Je(this.series,function(e){e.hasProcessed=!1})}),ft.prototype.getGroupPixelWidth=function(){var e,t,i=this.series,n=i.length,o=0,r=!1;for(e=n;e--;)(t=i[e].options.dataGrouping)&&(o=pe(o,t.groupPixelWidth));for(e=n;e--;)(t=i[e].options.dataGrouping)&&i[e].hasProcessed&&(n=(i[e].processedXData||i[e].data).length,(i[e].groupPixelWidth||n>this.chart.plotSizeX/o||n&&t.forced)&&(r=!0));return r?o:0},ft.prototype.setDataGrouping=function(e,t){t=We(t,!0),e||(e={forced:!1,units:null}),this instanceof ft?Je(this.series,function(t){t.update({dataGrouping:e},!1)}):Je(this.chart.options.series,function(t){t.dataGrouping=e})},at.ohlc=e(at.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null}),Ue=f(ze.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){ze.column.prototype.getAttribs.apply(this,arguments);var t=this.options,i=t.states,t=t.upColor||this.color,n=e(this.pointAttr),o=this.upColorProp;n[""][o]=t,n.hover[o]=i.hover.upColor||t,n.select[o]=i.select.upColor||t,Je(this.points,function(e){e.open<e.close&&!e.options.color&&(e.pointAttr=n)})},translate:function(){var e=this.yAxis;ze.column.prototype.translate.apply(this),Je(this.points,function(t){null!==t.open&&(t.plotOpen=e.translate(t.open,0,1,0,1)),null!==t.close&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var e,t,i,n,o,r,a,s,l=this,c=l.chart;Je(l.points,function(d){d.plotY!==I&&(a=d.graphic,e=d.pointAttr[d.selected?"selected":""]||l.pointAttr[""],n=e["stroke-width"]%2/2,s=de(d.plotX)-n,o=de(d.shapeArgs.width/2),r=["M",s,de(d.yBottom),"L",s,de(d.plotY)],null!==d.open&&(t=de(d.plotOpen)+n,r.push("M",s,t,"L",s-o,t)),null!==d.close&&(i=de(d.plotClose)+n,r.push("M",s,i,"L",s+o,i)),a?a.attr(e).animate({d:r}):d.graphic=c.renderer.path(r).attr(e).add(l.group))})},animate:null}),ze.ohlc=Ue,at.candlestick=e(at.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:at.ohlc.tooltip,threshold:null,upColor:"white"}),Ue=f(Ue,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){ze.ohlc.prototype.getAttribs.apply(this,arguments);var e=this.options,t=e.states,i=e.upLineColor||e.lineColor,n=t.hover.upLineColor||i,o=t.select.upLineColor||i;Je(this.points,function(e){e.open<e.close&&(e.pointAttr[""].stroke=i,e.pointAttr.hover.stroke=n,e.pointAttr.select.stroke=o)})},drawPoints:function(){var e,t,i,n,o,r,a,s,l,c,d,u,h=this,p=h.chart,f=h.pointAttr[""];Je(h.points,function(g){c=g.graphic,g.plotY!==I&&(e=g.pointAttr[g.selected?"selected":""]||f,s=e["stroke-width"]%2/2,l=de(g.plotX)-s,t=g.plotOpen,i=g.plotClose,n=ce.min(t,i),o=ce.max(t,i),u=de(g.shapeArgs.width/2),r=de(n)!==de(g.plotY),a=o!==g.yBottom,n=de(n)+s,o=de(o)+s,d=["M",l-u,o,"L",l-u,n,"L",l+u,n,"L",l+u,o,"Z","M",l,n,"L",l,r?de(g.plotY):n,"M",l,o,"L",l,a?de(g.yBottom):o],c?c.attr(e).animate({d:d}):g.graphic=p.renderer.path(d).attr(e).add(h.group).shadow(h.options.shadow))})}}),ze.candlestick=Ue;var jt=ut.prototype.symbols;at.flags=e(at.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),ze.flags=f(ze.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Dt.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){ze.column.prototype.translate.apply(this);var e,t,i,n,o,r=this.chart,a=this.points,s=a.length-1,l=this.options.onSeries,l=(e=l&&r.get(l))&&e.options.step,c=e&&e.points,d=c&&c.length,u=this.xAxis,h=u.getExtremes();if(e&&e.visible&&d)for(e=e.currentDataGrouping,n=c[d-1].x+(e?e.totalRange:0),a.sort(function(e,t){return e.x-t.x});d--&&a[s]&&(e=a[s],i=c[d],!(i.x<=e.x&&i.plotY!==I&&(e.x<=n&&(e.plotY=i.plotY,i.x<e.x&&!l&&(o=c[d+1])&&o.plotY!==I&&(e.plotY+=(e.x-i.x)/(o.x-i.x)*(o.plotY-i.plotY))),s--,d++,0>s))););Je(a,function(e,i){var n;e.plotY===I&&(e.x>=h.min&&e.x<=h.max?e.plotY=r.chartHeight-u.bottom-(u.opposite?u.height:0)+u.offset-r.plotTop:e.shapeArgs={}),(t=a[i-1])&&t.plotX===e.plotX&&(t.stackIndex===I&&(t.stackIndex=0),n=t.stackIndex+1),e.stackIndex=n})},drawPoints:function(){var t,i,n,o,r,a,s,l,c,d=this.pointAttr[""],u=this.points,h=this.chart.renderer,p=this.options,f=p.y,g=p.lineWidth%2/2;for(r=u.length;r--;)a=u[r],t=a.plotX>this.xAxis.len,i=a.plotX+(t?g:-g),s=a.stackIndex,o=a.options.shape||p.shape,n=a.plotY,n!==I&&(n=a.plotY+f+g-(s!==I&&s*p.stackDistance)),l=s?I:a.plotX+g,c=s?I:a.plotY,s=a.graphic,n!==I&&i>=0&&!t?(t=a.pointAttr[a.selected?"select":""]||d,s?s.attr({x:i,y:n,r:t.r,anchorX:l,anchorY:c}):a.graphic=h.label(a.options.title||p.title||"A",i,n,o,l,c,p.useHTML).css(e(p.style,a.style)).attr(t).attr({align:"flag"===o?"left":"center",width:p.width,height:p.height}).add(this.markerGroup).shadow(p.shadow),a.tooltipPos=[i,n]):s&&(a.graphic=s.destroy())},drawTracker:function(){var e=this.points;At.drawTrackerPoint.apply(this),Je(e,function(t){var i=t.graphic;i&&et(i.element,"mouseover",function(){t.stackIndex>0&&!t.raised&&(t._y=i.y,i.attr({y:t._y-8}),t.raised=!0),Je(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:Le,buildKDTree:Le,setClip:Le}),jt.flag=function(e,t,i,n,o){var r=o&&o.anchorX||e,o=o&&o.anchorY||t;return["M",r,o,"L",e,t+n,e,t,e+i,t,e+i,t+n,e,t+n,"M",r,o,"Z"]},Je(["circle","square"],function(e){jt[e+"pin"]=function(t,i,n,o,r){var a=r&&r.anchorX,r=r&&r.anchorY,t=jt[e](t,i,n,o);return a&&r&&t.push("M",a,i>r?i:i+o,"L",a,r),t}}),R===ae.VMLRenderer&&Je(["flag","circlepin","squarepin"],function(e){ht.prototype.symbols[e]=jt[e]});var Ue=[].concat(Bt),Nt=function(e){var t=Ke(arguments,function(e){return"number"==typeof e});return t.length?Math[e].apply(0,t):void 0};Ue[4]=["day",[1,2,3,4]],Ue[5]=["week",[1,2,3]],He(F,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:ze.areaspline===I?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:Ue},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:De?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Te&&!De}}),$.prototype={drawHandle:function(e,t){var i,n=this.chart,o=n.renderer,r=this.elementsToDestroy,a=this.handles,s=this.navigatorOptions.handles,s={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":1};this.rendered||(a[t]=o.g("navigator-handle-"+["left","right"][t]).css({cursor:"ew-resize"}).attr({zIndex:4-t}).add(),i=o.rect(-4.5,0,9,16,0,1).attr(s).add(a[t]),r.push(i),i=o.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(s).add(a[t]),r.push(i)),a[t][n.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(e){var t,i=this.chart.renderer,n=this.elementsToDestroy,o=this.scrollbarButtons,r=this.scrollbarHeight,a=this.scrollbarOptions;this.rendered||(o[e]=i.g().add(this.scrollbarGroup),t=i.rect(-.5,-.5,r+1,r+1,a.buttonBorderRadius,a.buttonBorderWidth).attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}).add(o[e]),n.push(t),t=i.path(["M",r/2+(e?-1:1),r/2-3,"L",r/2+(e?-1:1),r/2+3,r/2+(e?2:-2),r/2]).attr({fill:a.buttonArrowColor}).add(o[e]),n.push(t)),e&&o[e].attr({translateX:this.scrollerWidth-r})},render:function(e,t,i,n){var o,r,a,s,l,c=this.chart,d=c.renderer,u=this.scrollbarGroup,h=this.navigatorGroup,p=this.scrollbar,h=this.xAxis,f=this.scrollbarTrack,g=this.scrollbarHeight,m=this.scrollbarEnabled,v=this.navigatorOptions,y=this.scrollbarOptions,b=y.minWidth,_=this.height,x=this.top,w=this.navigatorEnabled,k=v.outlineWidth,C=k/2,S=0,D=this.outlineHeight,M=y.barBorderRadius,T=y.barBorderWidth,A=x+C;isNaN(e)||(this.navigatorLeft=o=We(h.left,c.plotLeft+g),this.navigatorWidth=r=We(h.len,c.plotWidth-2*g),this.scrollerLeft=a=o-g,this.scrollerWidth=s=s=r+2*g,h.getExtremes&&(l=this.getUnionExtremes(!0))&&(l.dataMin!==h.min||l.dataMax!==h.max)&&h.setExtremes(l.dataMin,l.dataMax,!0,!1),i=We(i,h.translate(e)),n=We(n,h.translate(t)),(isNaN(i)||ge(i)===1/0)&&(i=0,n=s),h.translate(n,!0)-h.translate(i,!0)<c.xAxis[0].minRange||(this.zoomedMax=fe(pe(i,n),r),this.zoomedMin=pe(this.fixedWidth?this.zoomedMax-this.fixedWidth:fe(i,n),0),this.range=this.zoomedMax-this.zoomedMin,i=de(this.zoomedMax),t=de(this.zoomedMin),e=i-t,this.rendered||(w&&(this.navigatorGroup=h=d.g("navigator").attr({zIndex:3}).add(),this.leftShade=d.rect().attr({fill:v.maskFill}).add(h),v.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=d.rect().attr({fill:v.maskFill}).add(h),this.outline=d.path().attr({"stroke-width":k,stroke:v.outlineColor}).add(h)),m&&(this.scrollbarGroup=u=d.g("scrollbar").add(),p=y.trackBorderWidth,this.scrollbarTrack=f=d.rect().attr({x:0,y:-p%2/2,fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":p,r:y.trackBorderRadius||0,height:g}).add(u),this.scrollbar=p=d.rect().attr({y:-T%2/2,height:g,fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":T,r:M}).add(u),this.scrollbarRifles=d.path().attr({stroke:y.rifleColor,"stroke-width":1}).add(u))),c=c.isResizing?"animate":"attr",w&&(this.leftShade[c](v.maskInside?{x:o+t,y:x,width:i-t,height:_}:{x:o,y:x,width:t,height:_}),this.rightShade&&this.rightShade[c]({x:o+i,y:x,width:r-i,height:_}),this.outline[c]({d:["M",a,A,"L",o+t-C,A,o+t-C,A+D,"L",o+i-C,A+D,"L",o+i-C,A,a+s,A].concat(v.maskInside?["M",o+t+C,A,"L",o+i-C,A]:[])}),this.drawHandle(t+C,0),this.drawHandle(i+C,1)),m&&u&&(this.drawScrollbarButton(0),this.drawScrollbarButton(1),u[c]({translateX:a,translateY:de(A+_)}),f[c]({width:s}),o=g+t,r=e-T,b>r&&(S=(b-r)/2,r=b,o-=S),this.scrollbarPad=S,p[c]({x:ue(o)+T%2/2,width:r}),b=g+t+e/2-.5,this.scrollbarRifles.attr({visibility:e>12?"visible":"hidden"})[c]({d:["M",b-3,g/4,"L",b-3,2*g/3,"M",b,g/4,"L",b,2*g/3,"M",b+3,g/4,"L",b+3,2*g/3]})),this.scrollbarPad=S,this.rendered=!0))},addEvents:function(){var e,t=this.chart.container,i=this.mouseDownHandler,n=this.mouseMoveHandler,o=this.mouseUpHandler;e=[[t,"mousedown",i],[t,"mousemove",n],[document,"mouseup",o]],O&&e.push([t,"touchstart",i],[t,"touchmove",n],[document,"touchend",o]),Je(e,function(e){et.apply(null,e)}),this._events=e},removeEvents:function(){Je(this._events,function(e){tt.apply(null,e)}),this._events=I,this.navigatorEnabled&&this.baseSeries&&tt(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var t,i,n,o,r=this,a=r.chart,s=r.scrollbarHeight,l=r.navigatorOptions,c=r.height,d=r.top,u=r.baseSeries;r.mouseDownHandler=function(e){var i,e=a.pointer.normalize(e),o=r.zoomedMin,s=r.zoomedMax,l=r.top,d=r.scrollbarHeight,u=r.scrollerLeft,h=r.scrollerWidth,p=r.navigatorLeft,f=r.navigatorWidth,g=r.scrollbarPad,m=r.range,v=e.chartX,y=e.chartY,e=a.xAxis[0],b=De?10:7;y>l&&l+c+d>y&&((l=!r.scrollbarEnabled||l+c>y)&&ce.abs(v-o-p)<b?(r.grabbedLeft=!0,r.otherHandlePos=s,r.fixedExtreme=e.max,a.fixedRange=null):l&&ce.abs(v-s-p)<b?(r.grabbedRight=!0,r.otherHandlePos=o,r.fixedExtreme=e.min,a.fixedRange=null):v>p+o-g&&p+s+g>v?(r.grabbedCenter=v,r.fixedWidth=m,n=v-o):v>u&&u+h>v&&(s=l?v-p-m/2:p>v?o-.2*m:v>u+h-d?o+.2*m:p+o>v?o-m:s,0>s?s=0:s+m>=f&&(s=f-m,i=r.getUnionExtremes().dataMax),s!==o&&(r.fixedWidth=m,o=t.toFixedRange(s,s+m,null,i),e.setExtremes(o.min,o.max,!0,!1,{trigger:"navigator"}))))},r.mouseMoveHandler=function(e){var t,i=r.scrollbarHeight,s=r.navigatorLeft,l=r.navigatorWidth,c=r.scrollerLeft,d=r.scrollerWidth,u=r.range;0!==e.pageX&&(e=a.pointer.normalize(e),t=e.chartX,s>t?t=s:t>c+d-i&&(t=c+d-i),r.grabbedLeft?(o=!0,r.render(0,0,t-s,r.otherHandlePos)):r.grabbedRight?(o=!0,r.render(0,0,r.otherHandlePos,t-s)):r.grabbedCenter&&(o=!0,n>t?t=n:t>l+n-u&&(t=l+n-u),r.render(0,0,t-n,t-n+u)),o&&r.scrollbarOptions.liveRedraw&&setTimeout(function(){r.mouseUpHandler(e)},0))},r.mouseUpHandler=function(e){var i,s;o&&(r.zoomedMin===r.otherHandlePos?i=r.fixedExtreme:r.zoomedMax===r.otherHandlePos&&(s=r.fixedExtreme),i=t.toFixedRange(r.zoomedMin,r.zoomedMax,i,s),a.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),"mousemove"!==e.type&&(r.grabbedLeft=r.grabbedRight=r.grabbedCenter=r.fixedWidth=r.fixedExtreme=r.otherHandlePos=o=n=null)};var h=a.xAxis.length,p=a.yAxis.length;a.extraBottomMargin=r.outlineHeight+l.margin,r.navigatorEnabled?(r.xAxis=t=new ft(a,e({breaks:u&&u.xAxis.options.breaks,ordinal:u&&u.xAxis.options.ordinal},l.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:h,height:c,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),r.yAxis=i=new ft(a,e(l.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:c,offset:0,index:p,zoomEnabled:!1})),u||l.series.data?r.addBaseSeries():0===a.series.length&&Ve(a,"redraw",function(e,t){a.series.length>0&&!r.series&&(r.setBaseSeries(),a.redraw=e),e.call(a,t)})):r.xAxis=t={translate:function(e,t){var i=a.xAxis[0],n=i.getExtremes(),o=a.plotWidth-2*s,r=Nt("min",i.options.min,n.dataMin),i=Nt("max",i.options.max,n.dataMax)-r;return t?e*i/o+r:o*(e-r)/i},toFixedRange:ft.prototype.toFixedRange},Ve(a,"getMargins",function(e){var n=this.legend,o=n.options;e.apply(this,[].slice.call(arguments,1)),r.top=d=r.navigatorOptions.top||this.chartHeight-r.height-r.scrollbarHeight-this.spacing[2]-("bottom"===o.verticalAlign&&o.enabled&&!o.floating?n.legendHeight+We(o.margin,10):0),t&&i&&(t.options.top=i.options.top=d,t.setAxisSize(),i.setAxisSize())}),r.addEvents()},getUnionExtremes:function(e){var t,i=this.chart.xAxis[0],n=this.xAxis,o=n.options,r=i.options;return e&&null===i.dataMin||(t={dataMin:We(o&&o.min,Nt("min",r.min,i.dataMin,n.dataMin)),dataMax:We(o&&o.max,Nt("max",r.max,i.dataMax,n.dataMax))}),t},setBaseSeries:function(e){var t=this.chart,e=e||t.options.navigator.baseSeries;this.series&&this.series.remove(),this.baseSeries=t.series[e]||"string"==typeof e&&t.get(e)||t.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var t,i=this.baseSeries,n=i?i.options:{},o=n.data,r=this.navigatorOptions.series;t=r.data,this.hasNavigatorData=!!t,n=e(n,r,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),n.data=t||o,this.series=this.chart.initSeries(n),i&&this.navigatorOptions.adaptToUpdatedData!==!1&&(et(i,"updatedData",this.updatedDataHandler),i.userOptions.events=He(i.userOptions.event,{updatedData:this.updatedDataHandler}))},updatedDataHandler:function(){var e,t,i,n,o,r=this.chart.scroller,a=r.baseSeries,s=a.xAxis,l=s.getExtremes(),c=l.min,d=l.max,u=l.dataMin,l=l.dataMax,h=d-c,p=r.series;e=p.xData;var f=!!s.setExtremes;t=d>=e[e.length-1]-(this.closestPointRange||0),e=u>=c,r.hasNavigatorData||(p.options.pointStart=a.xData[0],p.setData(a.options.data,!1),o=!0),e&&(n=u,i=n+h),t&&(i=l,e||(n=pe(i-h,p.xData[0]))),f&&(e||t)?isNaN(n)||s.setExtremes(n,i,!0,!1,{trigger:"updatedData"}):(o&&this.chart.redraw(!1),r.render(pe(c,u),fe(d,l)))},destroy:function(){this.removeEvents(),Je([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(e){e&&e.destroy&&e.destroy()}),this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null,Je([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(e){k(e)})}},ae.Scroller=$,Ve(ft.prototype,"zoom",function(e,t,i){var n,o=this.chart,r=o.options,a=r.chart.zoomType,s=r.navigator,r=r.rangeSelector;return this.isXAxis&&(s&&s.enabled||r&&r.enabled)&&("x"===a?o.resetZoomButton="blocked":"y"===a?n=!1:"xy"===a&&(o=this.previousZoom,c(t)?this.previousZoom=[this.min,this.max]:o&&(t=o[0],i=o[1],delete this.previousZoom))),n!==I?n:e.call(this,t,i)}),Ve(kt.prototype,"init",function(e,t,i){et(this,"beforeRender",function(){var e=this.options;(e.navigator.enabled||e.scrollbar.enabled)&&(this.scroller=new $(this))}),e.call(this,t,i)}),Ve(Dt.prototype,"addPoint",function(e,t,i,r,a){var s=this.options.turboThreshold;s&&this.xData.length>s&&n(t)&&!o(t)&&this.chart.scroller&&S(20,!0),e.call(this,t,i,r,a)}),He(F,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),F.lang=e(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),L.prototype={clickButton:function(t,i){var n,o,r=this,a=r.selected,s=r.chart,l=r.buttons,c=r.buttonOptions[t],d=s.xAxis[0],u=s.scroller&&s.scroller.getUnionExtremes()||d||{},h=u.dataMin,p=u.dataMax,f=d&&de(fe(d.max,We(p,d.max))),g=new W(f),m=c.type,v=c.count,u=c._range,y=c.dataGrouping;if(null!==h&&null!==p&&t!==r.selected){if(y&&(this.forcedDataGrouping=!0,ft.prototype.setDataGrouping.call(d||{chart:this.chart},y,!1)),"month"===m||"year"===m)n={month:"Month",year:"FullYear"}[m],g["set"+n](g["get"+n]()-v),n=g.getTime(),h=We(h,Number.MIN_VALUE),isNaN(n)||h>n?(n=h,f=fe(n+u,p)):u=f-n;else if(u)n=pe(f-u,h),f=fe(n+u,p);else if("ytd"===m){if(!d)return void et(s,"beforeRender",function(){r.clickButton(t)});p===I&&(h=Number.MAX_VALUE,p=Number.MIN_VALUE,Je(s.series,function(e){e=e.xData,h=fe(e[0],h),p=pe(e[e.length-1],p)}),i=!1),f=new W(p),o=f.getFullYear(),n=o=pe(h||0,W.UTC(o,0,1)),f=f.getTime(),f=fe(p||f,f)}else"all"===m&&d&&(n=h,f=p);l[a]&&l[a].setState(0),l[t]&&l[t].setState(2),s.fixedRange=u,d?d.setExtremes(n,f,We(i,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(a=s.options.xAxis,a[0]=e(a[0],{range:u,min:o})),r.setSelected(t)}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var t=this,i=e.options.rangeSelector,n=i.buttons||[].concat(t.defaultButtons),o=i.selected,r=t.blurInputs=function(){var e=t.minInput,i=t.maxInput;e&&e.blur&&it(e,"blur"),i&&i.blur&&it(i,"blur")};t.chart=e,t.options=i,t.buttons=[],e.extraTopMargin=35,t.buttonOptions=n,et(e.container,"mousedown",r),et(e,"resize",r),Je(n,t.computeButtonRange),o!==I&&n[o]&&this.clickButton(o,!1),et(e,"load",function(){et(e.xAxis[0],"setExtremes",function(i){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==i.trigger&&"updatedData"!==i.trigger&&t.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),et(e.xAxis[0],"afterSetExtremes",function(){t.updateButtonStates(!0)})})},updateButtonStates:function(e){var t=this,i=this.chart,n=i.xAxis[0],o=i.scroller&&i.scroller.getUnionExtremes()||n,r=o.dataMin,a=o.dataMax,s=t.selected,l=t.options.allButtonsEnabled,c=t.buttons;e&&i.fixedRange!==de(n.max-n.min)&&(c[s]&&c[s].setState(0),t.setSelected(null)),Je(t.buttonOptions,function(e,i){var o=e._range,d=o>a-r,u=o<n.minRange,h="all"===e.type&&n.max-n.min>=a-r&&2!==c[i].state,p="ytd"===e.type&&j("%Y",r)===j("%Y",a);o===de(n.max-n.min)&&i!==s?(t.setSelected(i),c[i].setState(2)):!l&&(d||u||h||p)?c[i].setState(3):3===c[i].state&&c[i].setState(0)})},computeButtonRange:function(e){var t=e.type,i=e.count||1,n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};n[t]?e._range=n[t]*i:("month"===t||"year"===t)&&(e._range=864e5*{month:30,year:365}[t]*i)},setInputValue:function(e,t){var i=this.chart.options.rangeSelector;c(t)&&(this[e+"Input"].HCTime=t),this[e+"Input"].value=j(i.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime),this[e+"DateBox"].attr({text:j(i.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},showInput:function(e){var t=this.inputGroup,i=this[e+"DateBox"];h(this[e+"Input"],{left:t.translateX+i.x+"px",top:t.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(e){document.activeElement===this[e+"Input"]&&(h(this[e+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(e))},drawInput:function(i){var n,o,r=this,a=r.chart,s=a.renderer.style,l=a.renderer,c=a.options.rangeSelector,d=r.div,u="min"===i,h=this.inputGroup;this[i+"Label"]=o=l.label(F.lang[u?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(e(s,c.labelStyle)).add(h),h.offset+=o.width+5,this[i+"DateBox"]=l=l.label("",h.offset).attr({padding:2,width:c.inputBoxWidth||90,height:c.inputBoxHeight||17,stroke:c.inputBoxBorderColor||"silver","stroke-width":1}).css(e({textAlign:"center",color:"#444"},s,c.inputStyle)).on("click",function(){r.showInput(i),r[i+"Input"].focus()}).add(h),h.offset+=l.width+(u?10:0),this[i+"Input"]=n=p("input",{name:i,className:"highcharts-range-selector",type:"text"},He({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:s.fontSize,fontFamily:s.fontFamily,top:a.plotTop+"px"},c.inputStyle),d),n.onfocus=function(){r.showInput(i)},n.onblur=function(){r.hideInput(i)},n.onchange=function(){var e=n.value,i=(c.inputDateParser||W.parse)(e),o=a.xAxis[0],s=o.dataMin,l=o.dataMax;isNaN(i)&&(i=e.split("-"),i=W.UTC(t(i[0]),t(i[1])-1,t(i[2]))),isNaN(i)||(F.global.useUTC||(i+=6e4*(new W).getTimezoneOffset()),u?i>r.maxInput.HCTime?i=I:s>i&&(i=s):i<r.minInput.HCTime?i=I:i>l&&(i=l),i!==I&&a.xAxis[0].setExtremes(u?i:o.min,u?o.max:i,I,I,{trigger:"rangeSelectorInput"}))}},render:function(e,t){var i,n,o=this,r=o.chart,a=r.renderer,s=r.container,l=r.options,d=l.exporting&&l.navigation&&l.navigation.buttonOptions,u=l.rangeSelector,h=o.buttons,f=F.lang,l=o.div,l=o.inputGroup,g=u.buttonTheme,m=u.buttonPosition||{},v=u.inputEnabled,y=g&&g.states,b=r.plotLeft,_=o.group;o.rendered||(o.group=_=a.g("range-selector-buttons").add(),o.zoomText=a.text(f.rangeSelectorZoom,We(m.x,b),We(m.y,r.plotTop-35)+15).css(u.labelStyle).add(_),i=We(m.x,b)+o.zoomText.getBBox().width+5,n=We(m.y,r.plotTop-35),Je(o.buttonOptions,function(e,t){h[t]=a.button(e.text,i,n,function(){o.clickButton(t),o.isActive=!0},g,y&&y.hover,y&&y.select,y&&y.disabled).css({textAlign:"center"}).add(_),i+=h[t].width+We(u.buttonSpacing,5),o.selected===t&&h[t].setState(2)}),o.updateButtonStates(),v===!1)||(o.div=l=p("div",null,{position:"relative",height:0,zIndex:1}),s.parentNode.insertBefore(l,s),o.inputGroup=l=a.g("input-group").add(),l.offset=0,o.drawInput("min"),o.drawInput("max")),v!==!1&&(s=r.plotTop-45,l.align(He({y:s,width:l.offset,x:d&&s<(d.y||0)+d.height-r.spacing[0]?-40:0},u.inputPosition),!0,r.spacingBox),c(v)||(r=_.getBBox(),l[l.translateX<r.x+r.width+10?"hide":"show"]()),o.setInputValue("min",e),o.setInputValue("max",t)),o.rendered=!0},destroy:function(){var e,t=this.minInput,i=this.maxInput,n=this.chart,o=this.blurInputs;tt(n.container,"mousedown",o),tt(n,"resize",o),k(this.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),i&&(i.onfocus=i.onblur=i.onchange=null);for(e in this)this[e]&&"chart"!==e&&(this[e].destroy?this[e].destroy():this[e].nodeType&&C(this[e])),this[e]=null}},ft.prototype.toFixedRange=function(e,t,i,n){var o=this.chart&&this.chart.fixedRange,e=We(i,this.translate(e,!0)),t=We(n,this.translate(t,!0)),i=o&&(t-e)/o;return i>.7&&1.3>i&&(n?e=t-o:t=e+o),{min:e,max:t}},Ve(kt.prototype,"init",function(e,t,i){et(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new L(this))}),e.call(this,t,i)}),ae.RangeSelector=L,kt.prototype.callbacks.push(function(e){function t(){r=e.xAxis[0].getExtremes(),a.render(r.min,r.max)}function i(){r=e.xAxis[0].getExtremes(),isNaN(r.min)||s.render(r.min,r.max)}function n(e){"navigator-drag"!==e.triggerOp&&a.render(e.min,e.max)}function o(e){s.render(e.min,e.max)}var r,a=e.scroller,s=e.rangeSelector;a&&(et(e.xAxis[0],"afterSetExtremes",n),Ve(e,"drawChartBox",function(e){var i=this.isDirtyBox;e.call(this),i&&t()}),t()),s&&(et(e.xAxis[0],"afterSetExtremes",o),et(e,"resize",i),i()),et(e,"destroy",function(){a&&tt(e.xAxis[0],"afterSetExtremes",n),s&&(tt(e,"resize",i),tt(e.xAxis[0],"afterSetExtremes",o))})}),ae.StockChart=function(t,i){var n,o=t.series,r=We(t.navigator&&t.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,a={marker:{enabled:!1,radius:2}},s={shadow:!1,borderWidth:0};return t.xAxis=Qe(u(t.xAxis||{}),function(t){return e({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},t,{type:"datetime",categories:null},r)}),t.yAxis=Qe(u(t.yAxis||{}),function(t){return n=We(t.opposite,!0),e({labels:{y:-2},opposite:n,showLastLabel:!1,title:{text:null}},t)}),t.series=null,
t=e({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:a,spline:a,area:a,areaspline:a,arearange:a,areasplinerange:a,column:s,columnrange:s,candlestick:s,ohlc:s}},t,{_stock:!0,chart:{inverted:!1}}),t.series=o,new kt(t,i)},Ve(vt.prototype,"init",function(e,t,i){var n=i.chart.pinchType||"";e.call(this,t,i),this.pinchX=this.pinchHor=-1!==n.indexOf("x"),this.pinchY=this.pinchVert=-1!==n.indexOf("y"),this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),Ve(ft.prototype,"autoLabelAlign",function(e){var t=this.chart,i=this.options,t=t._labelPanes=t._labelPanes||{},n=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(i=i.top+","+i.height,!t[i]&&n.enabled)?(15===n.x&&(n.x=0),void 0===n.align&&(n.align="right"),t[i]=1,"right"):e.call(this,[].slice.call(arguments,1))}),Ve(ft.prototype,"getPlotLinePath",function(e,t,i,n,o,r){var a,s,l,d,u,h=this,p=this.isLinked&&!this.series?this.linkedParent.series:this.series,f=h.chart,g=f.renderer,m=h.left,v=h.top,y=[],b=[];return"colorAxis"===h.coll?e.apply(this,[].slice.call(arguments,1)):(b=h.isXAxis?c(h.options.yAxis)?[f.yAxis[h.options.yAxis]]:Qe(p,function(e){return e.yAxis}):c(h.options.xAxis)?[f.xAxis[h.options.xAxis]]:Qe(p,function(e){return e.xAxis}),Je(h.isXAxis?f.yAxis:f.xAxis,function(e){if(c(e.options.id)?-1===e.options.id.indexOf("navigator"):1){var t=e.isXAxis?"yAxis":"xAxis",t=c(e.options[t])?f[t][e.options[t]]:f[t][0];h===t&&b.push(e)}}),u=b.length?[]:[h.isXAxis?f.yAxis[0]:f.xAxis[0]],Je(b,function(e){-1===Ye(e,u)&&u.push(e)}),r=We(r,h.translate(t,null,null,n)),isNaN(r)||(h.horiz?Je(u,function(e){var t;s=e.pos,d=s+e.len,a=l=de(r+h.transB),(m>a||a>m+h.width)&&(o?a=l=fe(pe(m,a),m+h.width):t=!0),t||y.push("M",a,s,"L",l,d)}):Je(u,function(e){var t;a=e.pos,l=a+e.len,s=d=de(v+h.height-r),(v>s||s>v+h.height)&&(o?s=d=fe(pe(v,s),h.top+h.height):t=!0),t||y.push("M",a,s,"L",l,d)})),y.length>0?g.crispPolyLine(y,i||1):null)}),ft.prototype.getPlotBandPath=function(e,t){var i,n=this.getPlotLinePath(t,null,null,!0),o=this.getPlotLinePath(e,null,null,!0),r=[];if(o&&n&&o.toString()!==n.toString())for(i=0;i<o.length;i+=6)r.push("M",o[i+1],o[i+2],"L",o[i+4],o[i+5],n[i+4],n[i+5],n[i+1],n[i+2]);else r=null;return r},ut.prototype.crispPolyLine=function(e,t){var i;for(i=0;i<e.length;i+=6)e[i+1]===e[i+4]&&(e[i+1]=e[i+4]=de(e[i+1])-t%2/2),e[i+2]===e[i+5]&&(e[i+2]=e[i+5]=de(e[i+2])+t%2/2);return e},R===ae.VMLRenderer&&(ht.prototype.crispPolyLine=ut.prototype.crispPolyLine),Ve(ft.prototype,"hideCrosshair",function(e,t){e.call(this,t),c(this.crossLabelArray)&&(c(t)?this.crossLabelArray[t]&&this.crossLabelArray[t].hide():Je(this.crossLabelArray,function(e){e.hide()}))}),Ve(ft.prototype,"drawCrosshair",function(e,t,i){var n,o;if(e.call(this,t,i),c(this.crosshair.label)&&this.crosshair.label.enabled&&c(i)){var r,a,e=this.chart,s=this.options.crosshair.label,l=this.isXAxis?"x":"y",t=this.horiz,d=this.opposite,u=this.left,h=this.top,p=this.crossLabel,f=s.format,g="";p||(p=this.crossLabel=e.renderer.label().attr({align:s.align||(t?"center":d?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center"),zIndex:12,height:t?16:I,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:We(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(He({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()),t?(r=i.plotX+u,a=h+(d?0:this.height)):(r=d?this.width+u:0,a=i.plotY+h),h>a||a>h+this.height?this.hideCrosshair():(!f&&!s.formatter&&(this.isDatetimeAxis&&(g="%b %d, %Y"),f="{value"+(g?":"+g:"")+"}"),p.attr({text:f?v(f,{value:i[l]}):s.formatter.call(this,i[l]),x:r,y:a,visibility:"visible"}),i=p.getBBox(),t?("inside"===this.options.tickPosition&&!d||"inside"!==this.options.tickPosition&&d)&&(a=p.y-i.height):a=p.y-i.height/2,t?(n=u-i.x,o=u+this.width-i.x):(n="left"===this.labelAlign?u:0,o="right"===this.labelAlign?u+this.width:e.chartWidth),p.translateX<n&&(r+=n-p.translateX),p.translateX+i.width>=o&&(r-=p.translateX+i.width-o),p.attr({x:r,y:a,visibility:"visible"}))}});var zt=Pt.init,Ht=Pt.processData,Wt=St.prototype.tooltipFormatter;Pt.init=function(){zt.apply(this,arguments),this.setCompare(this.options.compare)},Pt.setCompare=function(e){this.modifyValue="value"===e||"percent"===e?function(t,i){var n=this.compareValue;return t!==I&&(t="value"===e?t-n:t=100*(t/n)-100,i)&&(i.change=t),t}:null,this.chart.hasRendered&&(this.isDirty=!0)},Pt.processData=function(){var e,t,i,n=0;if(Ht.apply(this,arguments),this.xAxis&&this.processedYData)for(e=this.processedXData,t=this.processedYData,i=t.length;i>n;n++)if("number"==typeof t[n]&&e[n]>=this.xAxis.min){this.compareValue=t[n];break}},Ve(Pt,"getExtremes",function(e){e.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin))}),ft.prototype.setCompare=function(e,t){this.isXAxis||(Je(this.series,function(t){t.setCompare(e)}),We(t,!0)&&this.chart.redraw())},St.prototype.tooltipFormatter=function(e){return e=e.replace("{point.change}",(this.change>0?"+":"")+ae.numberFormat(this.change,We(this.series.tooltipOptions.changeDecimals,2))),Wt.apply(this,[e])},Ve(Dt.prototype,"render",function(t){this.chart.options._stock&&(!this.clipBox&&this.animate&&-1!==this.animate.toString().indexOf("sharedClip")?(this.clipBox=e(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(rt(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),t.call(this)}),He(ae,{Color:dt,Point:St,Tick:P,Renderer:R,SVGElement:A,SVGRenderer:ut,arrayMin:x,arrayMax:w,charts:Ie,dateFormat:j,error:S,format:v,pathAnim:z,getOptions:function(){return F},hasBidiBug:Ae,isTouchDevice:De,setOptions:function(t){return F=e(!0,F,t),T(),F},addEvent:et,removeEvent:tt,createElement:p,discardElement:C,css:h,each:Je,map:Qe,merge:e,splat:u,extendClass:f,pInt:t,svg:Te,canvas:Pe,vml:!Te&&!Pe,product:"Highstock",version:"2.1.5"})}()},function(){/*!
	Waypoints - 3.0.0
	Copyright  2011-2014 Caleb Troughton
	Licensed under the MIT license.
	https://github.com/imakewebthings/waypoints/blog/master/licenses.txt
	*/
!function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}var t=0,i={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.destroyAll=function(){var e=[];for(var t in i)e.push(i[t]);for(var n=0,o=e.length;o>n;n++)e[n].destroy()},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=o.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,i+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},o=window.Waypoint,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e,a=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&t&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||o.isTouch)&&(t.didScroll=!0,r(e))})},t.prototype.handleResize=function(){o.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],o=n.newScroll>n.oldScroll,r=o?n.forward:n.backward;for(var a in this.waypoints[i]){var s=this.waypoints[i][a],l=n.oldScroll<s.triggerPoint,c=n.newScroll>=s.triggerPoint,d=l&&c,u=!l&&!c;(d||u)&&(s.queueTrigger(r),e[s.group.id]=s.group)}}for(var h in e)e[h].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element===this.element.window?o.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element===this.element.window?o.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,o=e.length;o>n;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element===this.element.window,i=this.adapter.offset(),n={};this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in e){var r=e[o];for(var a in this.waypoints[o]){var s,l,c,d,u,h=this.waypoints[o][a],p=h.options.offset,f=h.triggerPoint,g=0,m=null==f;h.element!==h.element.window&&(g=h.adapter.offset()[r.offsetProp]),"function"==typeof p?p=p.apply(h):"string"==typeof p&&(p=parseFloat(p),h.options.offset.indexOf("%")>-1&&(p=Math.ceil(r.contextDimension*p/100))),s=r.contextScroll-r.contextOffset,h.triggerPoint=g+s-p,l=f<r.oldScroll,c=h.triggerPoint>=r.oldScroll,d=l&&c,u=!l&&!c,!m&&d?(h.queueTrigger(r.backward),n[h.group.id]=h.group):!m&&u?(h.queueTrigger(r.forward),n[h.group.id]=h.group):m&&r.oldScroll>=h.triggerPoint&&(h.queueTrigger(r.forward),n[h.group.id]=h.group)}}for(var v in n)n[v].flushTriggers();return this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){a&&a(),t.refreshAll()},o.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},o=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],o="up"===i||"left"===i;n.sort(o?t:e);for(var r=0,a=n.length;a>r;r+=1){var s=n[r];(s.options.continuous||r===n.length-1)&&s.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints),n=i===this.waypoints.length-1;return n?null:this.waypoints[i+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var i=o.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=o.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},o.Group=i}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(i,n){e[n]=t[n]}),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e}(),function(){"use strict";function e(e){return function(){var i=[],n=arguments[0];return e.isFunction(arguments[0])&&(n=e.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var o=e.extend({},n,{element:this});"string"==typeof o.context&&(o.context=e(this).closest(o.context)[0]),i.push(new t(o))}),i}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}()},function(e,t,i){i(1),i(2),_DM.define("DM_Relevant_Content_CTR",function(){var e={onScroll:function(e,t){if(t.scrolledItem.hasClass("js-validated-waypoint")&&t.scrolledItem.hasClass("js-waypoint-done-by-click")===!1){var i,n;switch(e){case"wtw":i=t.scrolledItem,n=i.data("video"),n&&t.detectedItems.push({video_id:i.data("video-id"),position:i.data("position"),source:i.find(".js-reason").children().data("source")});break;case"search":case"related":i=t.scrolledItem,n=i.find(".sd_video_preview").data("id"),n&&t.detectedItems.push({video_id:i.data("video-id"),position:i.data("position")})}}},onScrollStop:function(t,i){Object.keys(i.detectedItems).length&&e.send(t,"display",i.detectedItems)},getSelector:function(e){switch(e){case"wtw":return".pl_wtw_page .pl_wtw_video:not(.js-validated-waypoint)";case"search":return".js-list-list .sd_video_listitem";case"related":return".js-video-related .js-video-itemrelated"}},getHomepageType:function(){return DM_Context.homepage_with_family_filter?DM_Context.reader_has_history?"family_filter custom":"family_filter regular":DM_Context.reader_has_history?"custom":"regular"},adjustVideosPositions:function(t){$(e.getSelector(t)).each(function(){var e=$(this).data("position");e>=2&&($(this).attr("data-position",e+1),$(this).data("position",e+1))})},initCTRTracking:function(t){if(window.RelevantContentCTRTrackingEnabled)if(window.PixelleAllowed){var i=!0,n=setTimeout(function(){e.initWaypoints(t),i=!1},2e3);PubSub.subscribe("pixelle:ad_loaded",function(){clearTimeout(n),e.adjustVideosPositions(t),i&&e.initWaypoints(t)})}else e.initWaypoints(t)},initWaypoints:function(t){new DM_Waypoint({selector:e.getSelector(t),options:{offset:"bottom-in-view"},clearDetectedItemsOnScrollStop:!0,onScroll:function(e){DM_Relevant_Content_CTR.onScroll(t,e)},onScrollStop:function(e){DM_Relevant_Content_CTR.onScrollStop(t,e)}})},send:function(t,i,n){var o={visitor_user_id:DM_Context.reader_id,visitor_id:getCookie("v1st"),visitor_history:DM_Context.reader_has_history,visitor_country:DM_Context.geoip_country,visitor_browser_language:DM_Context.browser_language,traffic_segment:DM_Context.traffic_segment,site_version:DM_Context.content_version,homepage_type:e.getHomepageType(),request_id:DM_Context.reader_reqid,visitor_source_domain:document.referrer};"display"===i?o.videos=n:"click"===i&&(o=$.extend(n,o)),log("CTR",o),EventBus.send({name:t+"_feed.video_"+i,data:o})}};return e},!0)},function(e,t,i){i(1),i(2),i(127),i(130),_DM.define("DM_Waypoint",function(){var e=function(e){this.id=e.id||null,this.selector=e.selector,this.options=e.options||{},this.onScroll=e.onScroll||function(){},this.onScrollStop=e.onScrollStop||function(){},this.clearDetectedItemsOnScrollStop=e.clearDetectedItemsOnScrollStop||!1,this.scrolledItem=null,this.detectedItems=[],this.init()};return e.prototype={init:function(){var e=this;$(this.selector).waypoint(function(){$(this.element).addClass("js-validated-waypoint"),e.scrolledItem=$(this.element),e.onScroll(e),this.destroy()},this.options),this.trigger(),$(window).on("scrollstop",function(){e.trigger()})},trigger:function(){this.onScrollStop(this),this.clear()},clear:function(){this.clearDetectedItemsOnScrollStop&&(this.detectedItems=[])}},e},!0)},function(e,t){!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof t?e.exports=i(require("jquery")):i(jQuery)}(function(){var e=$.event.dispatch||$.event.handle,t=$.event.special,i="D"+ +new Date,n="D"+(+new Date+1);t.scrollstart={setup:function(n){var o,r=$.extend({latency:t.scrollstop.latency},n),a=function(t){var i=this,n=arguments;o?clearTimeout(o):(t.type="scrollstart",e.apply(i,n)),o=setTimeout(function(){o=null},r.latency)};$(this).bind("scroll",a).data(i,a)},teardown:function(){$(this).unbind("scroll",$(this).data(i))}},t.scrollstop={latency:250,setup:function(i){var o,r=$.extend({latency:t.scrollstop.latency},i),a=function(t){var i=this,n=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,t.type="scrollstop",e.apply(i,n)},r.latency)};$(this).bind("scroll",a).data(n,a)},teardown:function(){$(this).unbind("scroll",$(this).data(n))}}})}]);