function loadAllPrice(a){if(a&&a.length>0){for(var b=[],c=0;c<a.length;c++)if(4==a[c].ad_type){var d=document.getElementById("price_"+a[c].SkuId);d.parentNode.firstChild.nodeValue="",d.innerHTML="äº¬ä¸ç²¾é"}else b.push("J_"+a[c].SkuId);dspTools.jsonP({url:"http://px.3.cn/prices/mgets?skuids="+b.join(",")+"&type=1",callback:loadAllPriceCallback})}}function loadAllPriceCallback(_data){for(var priceObj=eval(_data),i=0;i<priceObj.length;i++){var str=priceObj[i].id.split("_"),t=document.getElementById("price_"+str[1]);priceObj[i].p>0?t.innerHTML=parseFloat(priceObj[i].p).toFixed(2):priceObj[i].p<0&&(t.innerHTML="å·²ä¸æ¶")}}function loadAllPromo(a){loadAllPromoLabel(a)}function loadAllPromoLabel(a){if(a&&a.length>0){for(var b=[],c=0;c<a.length;c++)3==a[c].ad_type&&b.push("J_"+(a[c].SkuId||a[c].Id));dspTools.jsonP({url:"http://pf.3.cn/flags/mgets?skuids="+b.join(","),callback:loadAllPromoLabelCallback})}}function loadAllPromoLabelCallback(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.pid,e=c.pf,f=[];if(1==dxSkuList[b].sdtype&&f.push("<span style='color: #fff;background:#6a77b6;padding:2px 2px 1px;margin: 2px 5px 5px 1px;line-height: 12px;display: inline-block;font-weight: 100;'>è´§å°ä»æ¬¾</span>"),e&&e.length>0)for(var g=0;g<e.length;g++){var h=promoLabelDict[e[g]];h&&f.push("<span class='tag_title'>"+h+"</span>")}if(1==dxSkuList[b].Baitiao&&f.push("<span class='tag_title'>ç½æ¡åæ</span>"),f.length>0){var i=document.getElementById("promInfo_"+d);i.innerHTML=f.join(""),i.style.display=""}}}function formatDXData(a){var b=[],c=a.Query;for(var d in c)for(var e=c[d],f=0;f<e.length;f++){var g=e[f],h={};h.Id=g.material_id,h.SkuId=g.sku_id,h.Name=g.ad_title,h.Img=g.image_url,h.Tag=g.sku_tag,h.sanTag=g.sanjifenlei_txt,h.Baitiao=g.ious_sku;var i=g.click_url;h.click_url=i,h.exposal_url=g.exposal_url,h.is_new_ad=0,h.goodcms=g.good_comments,h.sdtype=g.ad_send_type,h.ad_type=g.ad_type,b.push(h)}return b}function map4render(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push({data_skuid:d.SkuId,data_skuname:d.Name,data_skutag:d.Tag,data_skusantags:d.sanTag,data_skuimg:d.Img,data_skuurl:d.click_url,data_buyurl:d.buy_url,data_skudiscount:d.Discount,data_skuzk:d.Zk&&0!=d.Zk&&10!=d.Zk?d.Zk+"æ":"ç´é",data_onclick:d.OnClick?d.OnClick:"void(0);",data_baitiao:d.Baitiao,data_goodcms:d.goodcms,data_adtype:d.ad_type})}return b}function exposalAD(a){a&&setTimeout(function(){for(var b=0;b<a.length;b++)try{var c=a[b].exposal_url;c&&dspTools.getScript(c)}catch(d){}},1)}function runTags(){}var promoLabelDict={1:"ç´é",3:"èµ å¸",4:"èµ äº¬è±",5:"èµ å",11:"ä¼åç¹äº«",22:"äº¬è±ä¼æ è´­"},dspTools={hasClass:function(a,b){return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))},addClass:function(a,b){this.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(this.hasClass(a,b)){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ")}},getElementsByClass:function(a,b,c){var d=new Array,e=a.getElementsByTagName(c),f=e.length,g=new RegExp("\\b"+b+"\\b");for(i=0,j=0;f>i;i++)g.test(e[i].className)&&(d[j]=e[i],j++);return d},getChildNodes:function(a){var b=a.children||a.childNodes;childArrTem=new Array;for(var c=0,d=b.length;d>c;c++)1==b[c].nodeType&&childArrTem.push(b[c]);return childArrTem},inArray:function(a,b){if(b.length>0)for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1},getScript:function(a,b){var c=document.createElement("script");c.type="text/javascript",c.src=a,c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(this.onload=this.onreadystatechange=null,document.getElementsByTagName("head")[0].removeChild(this),b&&b())},document.getElementsByTagName("head")[0].appendChild(c)},timeStamp:+new Date,jsonP:function(a,b){b=!!b||"callback";var b=(a.data||{},"dsp_"+this.timeStamp++);window[b]=function(b){a.callback(b)};var c=a.url.indexOf("?"),d=a.url+(c>-1?"&":"?")+"callback="+b+"&r="+ +new Date;this.getScript(d,function(){window[b]=void 0;try{delete window[b]}catch(a){}})}},Cookie={set:function(a,b,c){var c=c||{};if(c.domain=c.domain||"",c.path=c.path||"/",c.expires=c.expires||31536e6,"number"==typeof c.expires){var d=new Date;d.setTime(d.getTime()+c.expires)}document.cookie=a+"="+encodeURIComponent(b)+";expires="+d.toGMTString()+(c.domain?";domain="+c.domain:"")+";path="+c.path},get:function(a){var b,c=encodeURIComponent(a)+"=",d=document.cookie.indexOf(c),e=null;return d>-1&&(b=document.cookie.indexOf(";",d),-1==b&&(b=document.cookie.length),e=decodeURIComponent(document.cookie.substring(d+c.length,b))),e},remove:function(a){this.set(a,"",{expires:-3600})}};runTags.prototype={jdAdBox:null,tagsId:null,tagsList:null,adInfoId:null,adInfoList:null,index:0,play:null,playSet:"auto",count:0,timeInterval:0,timer:0,$:function(a){return"string"==typeof a?a.indexOf("#")>=0?(a=a.replace("#",""),document.getElementById(a)?document.getElementById(a):(alert("æ²¡æå®¹å¨"+a),null)):document.createElement(a):a},info:function(a,b,c,d,e,f){this.cont=e,this.boxid=f,this.playSet=d,this.timeInterval=c,this.jdAdBox=this.$("#jdAdBox"),this.tagsId=this.$(a),this.tagsList=this.tagsId.getElementsByTagName("li"),this.tagsList[0].className="select",this.adInfoId=this.$(b),this.adInfoList=dspTools.getElementsByClass(this.adInfoId,"jdContInner","div"),this.action(this.boxid)},action:function(a){this.jdAdBox=this.$(a),"auto"==this.playSet&&this.autoplay(),this.mouseoverout(this.jdAdBox,this.tagsList)},imgshow:function(a,b,c){this.index=a;for(var d=0;d<b.length;d++)b[d].className="";b[this.index].className="select",clearInterval(this.timer);for(var e=0;e<c.length;e++)c[e].style.display="none";c[this.index].style.display="block"},autoplay:function(){var a=this;a.play=setInterval(function(){a.index++,a.index>a.adInfoList.length-1&&(a.index=0),a.imgshow(a.index,a.tagsList,a.adInfoList)},a.timeInterval)},mouseoverout:function(a,b){var c=this;a.onmouseover=function(){clearInterval(c.play)},a.onmouseout=function(){c.autoplay(c.index)};for(var d=0;d<b.length;d++)b[d].index=d,b[d].onmouseover=function(){c.imgshow(this.index,c.tagsList,c.adInfoList)}}},!function(){var a,b,c,d,e,f,g,h,i,j,k=this;k._,a={},b=Array.prototype,c=Object.prototype,d=Function.prototype,b.push,e=b.slice,b.concat,c.toString,c.hasOwnProperty,Array.isArray,Object.keys,d.bind,f=function(a){return a instanceof f?a:this instanceof f?void(this._wrapped=a):new f(a)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=f),exports._=f):k._=f,f.each=f.forEach=function(b,c,d){var e,g,h;if(null==b)return b;if(b.length===+b.length){for(e=0,g=b.length;g>e;e++)if(c.call(d,b[e],e,b)===a)return}else for(h=f.keys(b),e=0,g=h.length;g>e;e++)if(c.call(d,b[h[e]],h[e],b)===a)return;return b},f.defaults=function(a){return f.each(e.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},g=/(.)^/,h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},i=/\\|'|\r|\n|\u2028|\u2029/g,j=function(a){return"\\"+h[a]},f.template=function(a,b,c){var d,e,h,k,l,m;c=f.defaults({},c,f.templateSettings),d=new RegExp([(c.escape||g).source,(c.interpolate||g).source,(c.evaluate||g).source].join("|")+"|$","g"),e=0,h="__p+='",a.replace(d,function(b,c,d,f,g){return h+=a.slice(e,g).replace(i,j),e=g+b.length,c?h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?h+="'+\n((__t=("+d+"))==null?'':__t)+\n'":f&&(h+="';\n"+f+"\n__p+='"),b}),h+="';\n",c.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{k=new Function(c.variable||"obj","_",h)}catch(n){throw n.source=h,n}return b?k(b,f):(l=function(a){return k.call(this,a,f)},m=c.variable||"obj",l.source="function("+m+"){\n"+h+"}",l)}}.call(this);