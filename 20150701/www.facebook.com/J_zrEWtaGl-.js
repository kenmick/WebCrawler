/*!CK:3112169627!*//*1434939427,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["f7G0I"]); }

__d("ShareNowCounterEvent",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={SHARE_NOW_NOT_AVAILABLE:"share_now_not_available",OPEN_SHARE_NOW:"open_share_now",OPEN_DIALOG:"open_dialog",OPEN_MESSAGE_DIALOG:"open_mesage_dialog",SHARE_CREATED:"share_created",SHARE_NOW_CREATED:"share_now_created",SHARE_ERROR:"share_error",SHARE_INVOKE_ERROR:"share_invoke_error",SHARE_INVOKED:"share_invoked",SHARE_BOOTLOADED:"share_bootloaded",SHARE_POST:"share_post",SHARE_POST_ERROR:"share_post_error",SHARE_POST_SUCCESS:"share_post_success",NO_FOOTER_REF:"no_footer_ref",NO_PRIVACY_NODE:"no_privacy_node",NO_PRIVACY_REF:"no_privacy_ref",NO_PRIVACY_VALUE:"no_privacy_value",NO_PRIVACY_VALUE_ADAMA:"no_privacy_value_adama",SHARE_POST_OWN:"share_post_own",SHARE_POST_PERSON:"share_post_person",SHARE_POST_PAGE:"share_post_page",SHARE_POST_GROUP:"share_post_group",SHARE_POST_MESSAGE:"share_post_message",SHARE_ERROR_OWN:"share_error_own",SHARE_ERROR_PERSON:"share_error_person",SHARE_ERROR_PAGE:"share_error_page",SHARE_ERROR_GROUP:"share_error_group",SHARE_ERROR_MESSAGE:"share_error_message",SHARE_CREATED_OWN:"share_created_own",SHARE_CREATED_PERSON:"share_created_person",SHARE_CREATED_PAGE:"share_created_page",SHARE_CREATED_GROUP:"share_created_group",SHARE_CREATED_MESSAGE:"share_created_message"};},null);
__d("InstanceProxy",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$InstanceProxy0=h;}g.prototype.getInstance=function(){"use strict";return this.$InstanceProxy0;};g.prototype.setInstance=function(h){"use strict";this.$InstanceProxy0=h;};e.exports=g;},null);
__d("CLoggerX",["Banzai","DOM","debounce","Event","ge","Parent","Keys"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=10*60*1000,n=b('Keys').RETURN,o={},p=function(s){var t=(s.target||s.srcElement).id,u=(s.target||s.srcElement).value.trim().length,v=q.getTracker(t);if(!v)return;if(u>5&&!v.submitted){g.post('censorlogger',{cl_impid:v.impid,clearcounter:v.clearcounter,instrument:v.type,elementid:t,parent_fbid:(v.parent_fbid=='unknown'?null:v.parent_fbid),version:"x"},g.VITAL);q.setSubmitted(t,true);}else if(u===0&&v.submitted&&s.which!=n){o[t]=r(t);o[t]();}else if(u>0&&v.submitted)if(o[t])o[t].reset();},q={init:function(){this.trackedElements=this.trackedElements||{};this.feedbackForms=this.feedbackForms||{};},setImpressionID:function(s){this.init();this.impressionID=s;this.clean();},setComposerTargetData:function(s){this.cTargetID=s.targetID||'unknown';this.cTargetFBType=s.targetType||'unknown';},clean:function(){for(var s in this.trackedElements){if(o[s]){o[s].reset();delete o[s];}delete this.trackedElements[s];}},trackComposer:function(s,t,u){this.setComposerTargetData(u);this.startTracking(s,'composer',this.cTargetID,this.cTargetFBType,t);},trackFeedbackForm:function(s,t,u){this.init();this.impressionID=this.impressionID||u;var v,w;v=t?t.targetID||'unknown':'unknown';w=t?t.targetType||'unknown':'unknown';this.feedbackForms[s]={parent_fbid:v,parent_type:w};},trackMentionsInput:function(s,t){this.init();var u,v,w;if(!s)return;u=l.byTag(s,'form');if(!u)return;v=h.getID(u);w=this.feedbackForms[v];if(!w)return;var x=t||w.parent_fbid,y=t?416:w.parent_type;this.startTracking(s,'comment',x,y,u);},startTracking:function(s,t,u,v,w){this.init();var x=h.getID(s);if(this.getTracker(x))return;var y=h.getID(w);j.listen(s,'keyup',p.bind(this));this.trackedElements[x]={submitted:false,clearcounter:0,type:t,impid:this.impressionID,parent_fbid:u,parent_type:v,parentElID:y};this.addJoinTableInfoToForm(w,x);},getTracker:function(s){return (this.trackedElements?this.trackedElements[s]:null);},setSubmitted:function(s,t){if(this.trackedElements[s])this.trackedElements[s].submitted=t;},incrementClearCounter:function(s){var t=this.getTracker(s);if(!t)return;t.clearcounter++;t.submitted=false;var u=h.scry(k(t.parentElID),'input[name="clp"]')[0];if(u)u.value=this.getJSONRepForTrackerID(s);this.trackedElements[s]=t;},addJoinTableInfoToForm:function(s,t){var u=this.getTracker(t);if(!u)return;var v=h.scry(s,'input[name="clp"]')[0];if(!v)h.prependContent(s,h.create('input',{type:'hidden',name:'clp',value:this.getJSONRepForTrackerID(t)}));},getCLParamsForTarget:function(s,t){if(!s)return "";var u=h.getID(s);return this.getJSONRepForTrackerID(u,t);},getJSONRepForTrackerID:function(s,t){var u=this.getTracker(s);if(!u)return "";return JSON.stringify({cl_impid:u.impid,clearcounter:u.clearcounter,elementid:s,version:"x",parent_fbid:t||u.parent_fbid});}},r=function(s){return i(function(){q.incrementClearCounter(s);},m,q);};e.exports=q;},null);
__d("CensorLogger",["Event","Banzai","DOM","debounce","ge","Keys"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=10*60*1000,m=b('Keys').RETURN,n=function(q){var r=(q.target||q.srcElement).id,s=(q.target||q.srcElement).value.trim().length,t=o.tracker(r);if(!t)return;if(s>5&&!t.submitted){if(t.type=='comment'&&t.parent_fbid=='unknown'){if(!o.syncTrackerWithForm(r))o.snowliftSync(r);t=o.tracker(r);}h.post('censorlogger',{impid:t.impid,clearcounter:t.clearcounter,instrument:t.type,elementid:r,parent_fbid:(t.parent_fbid=='unknown'?null:t.parent_fbid),version:"original"},h.VITAL);o.setSubmitted(r,true);}else if(s===0&&t.submitted&&q.which!=m){o.debouncers[r]=p(r);o.debouncers[r]();}else if(s>0&&t.submitted)if(o.debouncers[r])o.debouncers[r].reset();},o={init:function(q){this.impressionID=q;for(var r in this.trackedElements)if(!k(r))this.stopTracking(r);for(var s in this.unmatchedForms)if(!k(s))delete this.unmatchedForms[s];},trackElement:function(q,r,s){var t,u,v;this.debouncers=this.debouncers||{};this.trackedElements=this.trackedElements||{};this.unmatchedForms=this.unmatchedForms||{};r=r.toLowerCase();if(r=='composer'){t=(s?i.find(q,'div.uiMetaComposerMessageBox textarea.input'):i.find(q,'div.uiComposerMessageBox textarea.input'));u=i.find(q,'form.attachmentForm');var w=i.scry(q,'input[name="xhpc_targetid"]')[0];if(w)v=w.value;}else if(r=='comment')t=i.find(q,'div.commentBox textarea.textInput');if(t==null)return;var x=i.getID(t);if(u)this.addJoinTableInfoToForm(u,i.getID(t));g.listen(t,'keyup',n.bind(this));this.trackedElements[x]={submitted:false,clearcounter:0,type:r,impid:this.impressionID,parent_fbid:v||'unknown',formID:(u?i.getID(u):null)};if(r=='comment')this.syncTrackerWithForm(x);},registerForm:function(q,r){this.unmatchedForms=this.unmatchedForms||{};this.unmatchedForms[q]=r;},syncTrackerWithForm:function(q){for(var r in this.unmatchedForms){var s=k(r);if(s){var t=i.scry(s,'div.commentBox textarea.textInput')[0];if(t){var u=i.getID(t);if(u&&u==q){this.trackedElements[q].parent_fbid=this.unmatchedForms[r];this.trackedElements[q].formID=r;this.addJoinTableInfoToForm(s,q);delete this.unmatchedForms[r];return true;}}}}return false;},snowliftSync:function(q){var r,s=k(q);if(s&&(r=i.scry(s,'^.fbPhotosSnowboxFeedbackInput')[0])){var t=i.find(r,'input[name="feedback_params"]'),u=JSON.parse(t.value).target_fbid;this.trackedElements[q].parent_fbid=u;this.trackedElements[q].formID=r.id;this.addJoinTableInfoToForm(r,q);return true;}return false;},stopTracking:function(q){delete this.trackedElements[q];if(this.debouncers[q]){this.debouncers[q].reset();delete this.debouncers[q];}},tracker:function(q){return this.trackedElements[q];},getSubmitted:function(q){return (this.trackedElements[q]?this.trackedElements[q].submitted:false);},setSubmitted:function(q,r){if(this.trackedElements[q])this.trackedElements[q].submitted=r;},incrementClearCounter:function(q){if(!this.tracker(q))return;this.trackedElements[q].clearcounter++;this.trackedElements[q].submitted=false;var r=i.scry(k(this.trackedElements[q].formID),'input[name="clp"]')[0];if(r)r.value=JSON.stringify({censorlogger_impid:this.trackedElements[q].impid,clearcounter:this.trackedElements[q].clearcounter,element_id:q});},addJoinTableInfoToForm:function(q,r){i.prependContent(q,i.create('input',{type:'hidden',name:'clp',value:JSON.stringify({censorlogger_impid:this.impressionID,clearcounter:0,element_id:r,version:"original"})}));}},p=function(q){return j(function(){o.incrementClearCounter(q);},l,o);};e.exports=o;},null);
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("FeedTrackingAsync",["Arbiter","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();function j(){g.subscribe('AsyncRequest/send',function(k,l){var m=l.request,n=m.getRelativeTo();if(n){var o=m.getData(),p=h(n,['ft']);if(Object.keys(p.ft).length)i(o,p);}});}e.exports={init:j};},null);
__d("AsyncRequestNectarLogging",["AsyncRequest","Nectar"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();Object.assign(g.prototype,{setNectarModuleData:function(i){if(this.method=='POST')h.addModuleData(this.data,i);},setNectarImpressionId:function(){if(this.method=='POST')h.addImpressionID(this.data);}});},null);
__d("PopoverAsyncMenu",["Bootloader","Event","PopoverMenu"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={},k=0;for(var l in i)if(i.hasOwnProperty(l))n[l]=i[l];var m=i===null?null:i.prototype;n.prototype=Object.create(m);n.prototype.constructor=n;n.__superConstructor__=i;function n(o,p,q,r,s,t){"use strict";this._endpoint=r;this._endpointData=t||{};this._loadingMenu=q;this._instanceId=k++;j[this._instanceId]=this;this._mouseoverListener=h.listen(p,'mouseover',this.fetchMenu.bind(this));i.call(this,o,p,null,s);}n.prototype._onLayerInit=function(){"use strict";if(!this._menu&&this._loadingMenu)this.setMenu(this._loadingMenu);this.fetchMenu();this._popover.getLayer().subscribe('key',this._handleKeyEvent.bind(this));};n.prototype.fetchMenu=function(){"use strict";if(this._fetched)return;g.loadModules(["AsyncRequest"],function(o){new o().setURI(this._endpoint).setData(Object.assign({pmid:this._instanceId},this._endpointData)).send();}.bind(this));this._fetched=true;if(this._mouseoverListener){this._mouseoverListener.remove();this._mouseoverListener=null;}};n.setMenu=function(o,p){"use strict";j[o].setMenu(p);};n.getInstance=function(o){"use strict";return j[o];};e.exports=n;},null);
__d("XShareNowCounterController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/share\/share_now\/counter\/",{event:{type:"Enum",required:true,enumType:1},control:{type:"Bool",defaultValue:false}});},null);
__d("ShareNowCounter",["AsyncSignal","XShareNowCounterController"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i={logEvent:function(event,j){var k=h.getURIBuilder().setEnum('event',event).setBool('control',j).getURI();(new g(k)).send();}};e.exports=i;},null);
__d("ShareNowController",["Dialog","Event","ShareNowCounter","ShareNowCounterEvent","ShareNowConstants"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l,m={initMenu:function(n){var o=n.getTriggerElem();h.listen(o,'success',function(event){try{var q=event.data.response.payload;if(q.share_now_succeeded)this.showSuccess(q.message);}catch(p){}}.bind(this));h.listen(o,'error',function(event){try{this.showError(event.data.response.errorDescription);}catch(p){this.showError();}}.bind(this));n.getPopover().subscribe('show',this._logMenuShown);},showSuccess:function(n){this.showDialog(n||k.success);},showError:function(n){this.showDialog(n||k.error);},showDialog:function(n){if(l)l.destroy();l=new g().setBody(n).setAutohide(2500).setModal(true).show();},_logMenuShown:function(){i.logEvent(j.OPEN_SHARE_NOW);}};e.exports=m;},null);
__d("FbFeedCommentUFIScroller",["Arbiter","DOMScroll","containsNode","ge"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();g.subscribe('comment/focus',function(k,l){var m=l.element,n=j('content');if(n&&i(n,m))h.ensureVisible(m,null,60,250);});e.exports={};},null);
__d("PopoverLoadingMenu",["BehaviorsMixin","DOM","PopoverMenuInterface","copyProperties","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();for(var m in i)if(i.hasOwnProperty(m))o[m]=i[m];var n=i===null?null:i.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=i;function o(p){"use strict";i.call(this);this._config=p||{};this._theme=p.theme||{};}o.prototype.getRoot=function(){"use strict";if(!this._root){this._root=h.create('div',{className:l("_54nq",this._config.className,this._theme.className)},h.create('div',{className:"_54ng"},h.create('div',{className:"_54nf _54af"},h.create('span',{className:"_54ag"}))));if(this._config.behaviors)this.enableBehaviors(this._config.behaviors);}return this._root;};j(o.prototype,g,{_root:null});e.exports=o;},null);
__d("ButtonGroupX",["ArbiterMixin","mixin"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=h(g);for(var j in i)if(i.hasOwnProperty(j))l[j]=i[j];var k=i===null?null:i.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=i;function l(m,n){"use strict";n=n||{};this._root=m;this._radioButtons=n.radioButtons||[];this._selected=n.selected;this.initButtonListeners();}l.prototype.initButtonListeners=function(){"use strict";var m=this._radioButtons.length;while(m--){var n=this._radioButtons[m];n.subscribe('select',this.selectButton.bind(this,n));}};l.prototype.getSelected=function(){"use strict";return this._selected;};l.prototype.getSelectedValue=function(){"use strict";return this._selected?this._selected.getValue():null;};l.prototype.selectButton=function(m){"use strict";if(this._selected!==m){this.setSelected(m);this.inform('change',{selected:m});}return this;};l.prototype.setSelected=function(m){"use strict";if(this._selected!==m){if(this._selected)this._selected.setSelected(false);m.setSelected(true);this._selected=m;}return this;};l.prototype.setSelectedValue=function(m){"use strict";var n=this._radioButtons.length;while(n--){var o=this._radioButtons[n];if(o.getValue()===m)return this.setSelected(o);}return this;};e.exports=l;},null);
__d("ContextualLayerAsyncRelative",["Event","Parent"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this._layer=j;}i.prototype.enable=function(){"use strict";this._layerSubscription=this._layer.subscribe('show',this._attachListener.bind(this));if(this._layer.isShown())this._attachListener();};i.prototype.disable=function(){"use strict";this._layerSubscription.unsubscribe();this._layerSubscription=null;if(this._listener){this._listener.remove();this._listener=null;}};i.prototype._attachListener=function(){"use strict";this._listener=g.listen(this._layer.getRoot(),'click',this._onclick.bind(this));};i.prototype._onclick=function(j){"use strict";var k=h.byTag(j.getTarget(),'A');if(!k)return;var l=k.getAttribute('ajaxify'),m=k.href,n=l||m;if(k.rel==='async'||k.rel==='async-post'){d(['AsyncRequest'],function(o){o.bootstrap(n,this._layer.getContext(),k.rel==='async-post');}.bind(this));return false;}};Object.assign(i.prototype,{_layerSubscription:null,_listener:null});e.exports=i;},null);
__d("Hovercard",["AccessibleLayer","Arbiter","AsyncRequest","ContextualDialog","ContextualDialogXUITheme","ContextualThing","DOM","Event","JSXDOM","LayerAutoFocus","LayerRefocusOnHide","Parent","Style","Vector","clickRefAction","csx","cx","getInlineBoundingRect","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){b.__markCompiled&&b.__markCompiled();var z={},aa={},ba=null,ca=null,da=null,ea=null,fa=150,ga=700,ha=1000,ia=250,ja=50,ka=null,la=null,ma=null,na=null;function oa(event){var eb=r.byTag(event.getTarget(),'a');db.processNode(eb)&&event.stop();}function pa(eb){ca=eb;if(!qa(eb)){var fb;if(!eb||!(fb=ra(eb))||bb(eb)){aa.moveToken&&aa.moveToken.remove();aa={};return false;}if(aa.node!=eb){aa.moveToken&&aa.moveToken.remove();aa={node:eb,endpoint:fb,pos:null};}}return true;}function qa(eb){return eb&&ba&&aa.node==eb;}function ra(eb){return eb.getAttribute('data-hovercard');}function sa(eb){var fb=m.scry(eb,"^._5jmm ._2orz").length;if(fb)return;if(!eb.leaveToken){var gb=n.listen(eb,'mouseleave',function(){clearTimeout(ka);clearTimeout(la);gb.remove();eb.leaveToken=null;ca=null;if(!db.contains(eb))db.hide();});eb.leaveToken=gb;}if(!aa.moveToken)aa.moveToken=n.listen(eb,'mousemove',function(event){aa.pos=t.getEventPosition(event);});clearTimeout(ka);clearTimeout(la);clearTimeout(na);na=null;var hb=fa,ib=ba?ia:ga;if(eb.getAttribute('data-hovercard-instant'))hb=ib=ja;ka=setTimeout(wa.bind(null,eb),hb);la=setTimeout(ta.bind(null,eb),ib);}function ta(eb,fb){if(aa.node!=eb)return;var gb=z[ra(eb)];if(gb){va(gb);}else if(fb){va(za());}else{var hb=ba?ia:ga;ma=setTimeout(ta.bind(null,eb,true),ha-hb);}}function ua(){db.hide(true);clearTimeout(la);}function va(eb){var fb=aa.node,gb=ba,hb=gb!=fb,ib=fb.getAttribute('data-hovercard-position');ib&&eb.setPosition(ib);if(ea){var jb=ea.getContentRoot();if(!l.containsIncludingLayers(jb,fb))ea.hide();}if(!m.contains(document.body,fb)){db.hide(true);return;}ba=fb;ea=eb;eb.setContextWithBounds(fb,x(fb,aa.pos)).show();if(hb)setTimeout(function(){u('himp',ba,null,'FORCE',{ft:{evt:39}});},0);}function wa(eb){if(eb.id&&z[eb.id]!=null)return;var fb=ra(eb);if(z[fb]!=null)return;xa(fb);var gb=function(){db.dirty(fb);ua();};new i(fb).setData({endpoint:fb}).setMethod('GET').setReadOnly(true).setErrorHandler(gb).setTransportErrorHandler(gb).send();}function xa(eb){z[eb]=false;}function ya(eb){var fb=aa.node.getAttribute('data-hovercard-offset-x')||0;eb.setOffsetX(parseInt(fb,10));var gb=aa.node.getAttribute('data-hovercard-offset-y')||0;eb.setOffsetY(parseInt(gb,10));}var za=function(){if(!da){da=new j({width:275,theme:k},o.div({className:"_7lk"},y._("Loading...")));da.disableBehavior(g).disableBehavior(p).disableBehavior(q);ab(da);}var eb=aa.node.getAttribute('data-hovercard-position');da.setPosition(eb);ya(da);return da;};function ab(eb){var fb=[eb.subscribe('mouseenter',function(){clearTimeout(na);na=null;ca=aa.node;}),eb.subscribe('mouseleave',function(){eb.hide();ca=null;}),eb.subscribe('destroy',function(){while(fb.length)fb.pop().unsubscribe();fb=null;})];}function bb(eb){return (r.byClass(eb,"_7lu")!==null);}var cb=true,db={hide:function(eb){if(!ba)return;if(eb){clearTimeout(na);na=null;if(ea)ea.hide();ca=null;ba=null;ea=null;}else{var fb=aa.node.getAttribute('data-hovercard-instant')?ja:ia;if(na===null)na=setTimeout(db.hide.bind(null,true),fb);}},setDialog:function(eb,fb){fb.disableBehavior(g).disableBehavior(p).disableBehavior(q);z[eb]=fb;ab(fb);if(aa.endpoint==eb&&ca==aa.node){za().hide();ya(fb);va(fb);}},getDialog:function(eb){return z[eb];},contains:function(eb){if(ea)return l.containsIncludingLayers(ea.getContentRoot(),eb);return false;},dirty:function(eb){var fb=z[eb];if(fb){fb.destroy();delete z[eb];}},dirtyAll:function(){for(var eb in z){var fb=z[eb];fb&&db.dirty(eb);}h.inform('Hovercard/dirty');},processNode:function(eb){if(eb&&pa(eb)){sa(eb);return true;}return false;},setDirtyAllOnPageTransition:function(eb){cb=eb;},getLoadingDelay:function(){return ha;},getHideDelay:function(){return ia;}};(function(){n.listen(document.documentElement,'mouseover',oa);n.listen(window,'scroll',function(){if(ba&&s.isFixed(ba))db.hide(true);});h.subscribe('page_transition',function(){ua();cb&&db.dirtyAll();},h.SUBSCRIBE_NEW);})();e.exports=db;},null);