!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){var r=a(21),n=a(9);n.create({jsv:null,swf:r})},function(e,t,a){var r=a(2),n=t;n.isString=function(e){return"[object String]"==Object.prototype.toString.call(e)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.extend=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},n.setTimeout=function(e,t){r.oldIE?setTimeout(function(){e.apply(null,Array.prototype.slice.call(arguments,2))},t):setTimeout.apply(null,arguments)}},function(module,exports){var my=exports;my.msie=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),a=e.indexOf("Trident/"),r=e.indexOf("Edge/"),n=null;return t>0?n=parseInt(e.split("MSIE")[1]):a>0?n=11:r>0&&(n=12),n?{version:n}:!1}(),my.oldIE=my.msie&&my.msie.version<10,my.supportsVideo=function(){var e=!1;try{var t=document.createElement("video");t.volume=.5,e=!!t.canPlayType}catch(a){e=!1}return e};var XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];my.createXMLHTTPObject=function(){var e,t=!1;for(e=0;e<XMLHttpFactories.length;e++){try{t=XMLHttpFactories[e]()}catch(a){continue}break}return t},my.parseTextToXML=function(e){var t;return(t=window.DOMParser?function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}:"undefined"!=typeof window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}:function(){return null})(e)},my.json_decode=function(str){return window.JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")},my.nonFlashSandbox=function(){try{var e=sandblaster.detect();return e.sandboxed?"undefined"==typeof document.plugins||"object"!=typeof document.plugins["Shockwave Flash"]:!1}catch(t){return!1}},my.getPageTitle=function(){var e="";try{e=window.top.document.title}catch(t){e=document.title}return e||(e=""),e}},function(e,t,a){var r=a(2),n=a(1),o=t,i=o;o.CORS_W_CREDENTIALS=1,o.CORS_FLASH=2,o.CORS_WO_CREDENTIALS=3,o.CORS_FLASH_AND_WO_CREDENTIALS=4,o.USE_JSONP_AND_AJAX=5,o.USE_AJAX=6,o.USE_JSONP=7,o.ERR_NO_XDOMAIN_REQUEST=1,o.ERR_OPEN=2,o.ERR_SEND=3,o.ERR_AFTER_SEND=4,o.ERR_TIMEOUT=5,o.ERR_UNKNOWN=6,o.ERR_FLOAD_FAILED=7,o.ERR_FLOAD_ERROR=8,o.ERR_EXCEPTION_HEADER=9,o.ERR_BAD_RESPONSE=10;var s={banned:[],cache:{},get:function(e){function t(e,t){i.ajax({timeout:16e3,url:d,withCredentials:e,onLoad:function(){var e=this;if(e.status>=400)return o.onNonRetry(i.ERR_BAD_RESPONSE,{message:""});if(o.exceptionHeaders.length){for(var t=[],a=e.getAllResponseHeaders()||"",n=a.split("\n"),l=0,c=o.exceptionHeaders.length;c>l;l++)for(var u=0,p=n.length;p>u;u++)0===n[u].toLowerCase().indexOf(o.exceptionHeaders[l].toLowerCase())&&t.push(n[u]);return o.onNonRetry(i.ERR_EXCEPTION_HEADER,{message:t.join("\n")})}try{var v=!1;return-1!=e.responseText.indexOf("/vlog?vpaidEvent")&&(v=!0,s.players.logVastResponse=!0),s.players.logVastResponse&&(s.debugLog(s.players,"vastId "+o.vastId+" - xhr response to url "+d,!1),s.debugLog(s.players,e.responseText,!1)),v&&s.vastError(s.players,o.vastId,3,"lior test",null,s.playerData),"undefined"==typeof e.responseXML&&e.responseText&&(e.responseXML=r.parseTextToXML(e.responseText)),s.cb(null,e.responseXML,{players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler,withCredentials:e.withCredentials})}catch(g){return-1==g.message.indexOf("cross-origin")?s.vastError(s.players,o.vastId,3,"xhr onload JS exception: ",g,s.playerData):s.players.logVastResponse&&s.debugLog(s.players,"vastId "+o.vastId+" - xhr response to url "+d+" gave cross origin error",!1),s.cb(null,null,{players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler,withCredentials:e.withCredentials})}},onError:function(e,a){var r=this;switch(e){case i.ERR_NO_XDOMAIN_REQUEST:s.debugLog(s.players,"vastId "+o.vastId+" - old ie but no XDomainRequest",!1),t();break;case i.ERR_OPEN:s.debugLog(s.players,"vastId "+o.vastId+" - xhr open failed with error: "+a.message,!1),t();break;case i.ERR_SEND:s.debugLog(s.players,"vastId "+o.vastId+" - xhr send failed with error: "+a.message,!1),t();break;case i.ERR_AFTER_SEND:t();break;case i.ERR_TIMEOUT:s.debugLog(s.players,"vastId "+o.vastId+" - timeout error, url: "+d,!1),s.cb(null,null,{players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler});break;case i.ERR_UNKNOWN:if(-1==a.message.indexOf("101")&&2153644038!=a.result)return s.vastError(s.players,o.vastId,3,"vastURLHandler JS exception on stage ???: ",a,s.playerData),s.cb(null,null,{players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler,withCredentials:r.withCredentials});s.debugLog(s.players,"vastId "+o.vastId+" - xhr response gave cross origin exception",!1),t()}},externals:s}),s.players.logVastResponse&&s.debugLog(s.players,"vastId "+o.vastId+" - xhr request send called url "+d,!1)}function a(){i.flashAjax({url:d,onLoad:function(){},onError:function(e,t){switch(e){case i.ERR_FLOAD_FAILED:s.debugLog(s.players,"vastId "+s.playerData.vastId+" - fload failed - vpw disappeared: "+t.message,!1),s.playerData.tlvState=10,s.playerData.errorCount=s.playerData.errorCount+1,s.vpwException(s.players,s.playerData,"fload");break;case i.ERR_FLOAD_ERROR:s.debugLog(s.players,"vastId "+s.playerData.vastId+" - fload returned error: "+t.message,!1),s.cb(null,null,{players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler})}},externals:s})}var o=n.extend({vastId:null,url:"",flashSupport:!1,flashProxyObject:null,corsSupport:0,exceptionHeaders:[],onSuccess:function(){},onFailure:function(){},onNonRetry:function(){},externals:{players:{},playerData:{},fixURLPrm:function(){},debugLog:function(){},vastError:function(){},cb:function(){},vastURLHandler:null,vpwException:function(){}}},e),s=o.externals;s.players.logVastResponse&&s.debugLog(s.players,"vastId "+o.vastId+" - xhr request url "+o.url,!1);var l=o.url;if(-1!==l.indexOf("noad.xml"))return void s.cb(null,null,c);if(l=s.fixURLPrm(s.players.protocol,l)){var d=l;r.oldIE&&-1==l.indexOf(s.players.protocol)&&(d=s.players.protocol+l.substr(l.indexOf("/")),s.debugLog(s.players,"vastId "+o.vastId+" - old ie and different scheme, adjusting url to "+d,!1));var c={players:s.players,playerData:s.playerData,urlhandler:s.vastURLHandler};switch(o.corsSupport){case i.CORS_FLASH:a();break;case i.CORS_W_CREDENTIALS:case i.CORS_WO_CREDENTIALS:var u=o.corsSupport===i.CORS_W_CREDENTIALS;t(u,function(){s.debugLog(s.players,"vastId "+o.vastId+" - xhr error, fload not available",!1),u?(s.debugLog(s.players,"vastId "+o.vastId+" - xhr error, retrying without credentials, url: "+d,!1),i.FetchVastService.get(n.extend(o,{corsSupport:i.CORS_WO_CREDENTIALS}))):s.cb(null,null,c)});break;case i.CORS_FLASH_AND_WO_CREDENTIALS:break;default:var u=o.corsSupport!==i.CORS_FLASH_AND_WO_CREDENTIALS;t(u,function(){o.flashSupport?a():u?(s.debugLog(s.players,"vastId "+o.vastId+" - xhr error, retrying without credentials, url: "+d,!1),i.FetchVastService.get(n.extend(o,{corsSupport:i.CORS_WO_CREDENTIALS}))):s.cb(null,null,c)})}}}};o.FetchVastService=s,o.ajax=function(e){var t=n.extend({url:"",withCredentials:!1,method:"GET",postData:null,timeout:0,onLoad:function(){},onError:function(){}},e);try{var a=!1,o=r.createXMLHTTPObject();if(r.oldIE&&!o){if(!window.XDomainRequest)return t.onError.call(o,i.ERR_NO_XDOMAIN_REQUEST),null;o=new XDomainRequest,o.onprogress=function(){}}try{o.open(t.method,t.url)}catch(s){return t.onError.call(o,i.ERR_OPEN,s),null}"withCredentials"in o&&(o.withCredentials=t.withCredentials),"timeout"in o&&(o.timeout=t.timeout),o.onload=function(){a||(window.XDomainRequest&&o instanceof window.XDomainRequest&&(o.status=200,o.getResponseHeader=function(){return null},o.getAllResponseHeaders=function(){return null}),t.onLoad.call(o))},o.onerror=function(e){a=!0,t.onError.call(o,i.ERR_AFTER_SEND,{result:-1,message:""})};var l=null,d=[];if(t.postData){if("string"==typeof t.postData)l=t.postData;else{for(var c in t.postData)t.postData.hasOwnProperty(c)&&d.push([c,t.postData[c]].join("="));l=d.join("&")}o.setRequestHeader&&o.setRequestHeader("Content-type","application/x-www-form-urlencoded")}if(r.oldIE)setTimeout(function(){try{o.send(l)}catch(e){t.onError.call(o,i.ERR_SEND,e)}},0);else try{o.send(l)}catch(s){t.onError.call(o,i.ERR_SEND,s)}}catch(s){t.onError.call(o,i.ERR_UNKNOWN,s)}return o},o.flashAjax=function(e){function t(){if(2!==r.playerData.vpwLoaded)(new Date).getTime()-o>a.waitTimeout?a.onError(i.ERR_FLOAD_ERROR,{message:"Flash didnt load timeout"}):setTimeout(t,500);else{var e;try{e=r.playerData.flashElement[r.playerData.flashEICallbacks]("fLoad",a.url,a.timeout,r.players.playersStorageName,r.playerData.uniqId,s,r.players.floadSuccessCallbackFuncName,r.players.floadFailureCallbackFuncName)}catch(n){a.onError(i.ERR_FLOAD_FAILED,n)}""!==e&&a.onError(i.ERR_FLOAD_ERROR,{message:e})}}var a=n.extend({url:"",timeout:2e4,waitTimeout:5e3,onLoad:function(){},onError:function(){},externals:{players:{},playerData:{},cb:function(){}}},e),r=a.externals,o=(new Date).getTime(),s=r.playerData.floadCbs.length;r.playerData.floadCbs.push(r.cb),t()},o.JSONP=function(e){var t=n.extend({url:"",onLoad:function(e){},onError:function(){}},e),a="_"+(new Date).getTime(),o=document.createElement("script"),i=document.getElementsByTagName("head")[0]||document.documentElement;window[a]=function(e){try{o.parentNode}catch(a){}t.onLoad(e)};var s=t.url,l=s.indexOf("?");return-1==l?s+="?":l!==s.length-1&&(s+="&"),o.src=s+"callback="+a,r.msie&&r.msie.version<9?o.onreadystatechange=function(e){if(/loaded|complete/.test(o.readyState)){var a=o.readyState;o.children,"loaded"==a&&"loading"==o.readyState&&t.onError()}}:(o.onerror=function(){t.onError()},i.appendChild(o)),{script:o,uid:a}},o.GetPlayerVast=function(e){function t(e){if(s.push(e),s.length==d){var t=2===d?!s[0]&&!s[1]&&a.retries>0:!s[0]&&a.retries>0;t&&(a.retries--,setTimeout(function(){i.GetPlayerVast(a)},a.retryInterval))}}var a=n.extend({url:"",success:function(e,t,a){},preferredMethod:i.USE_JSONP_AND_AJAX,retryInterval:1e4,retries:2,externals:{players:{},debugLog:function(){},playerError:function(){}}},e),o=a.externals,s=[],l=!1,d=a.preferredMethod===i.USE_JSONP_AND_AJAX?2:1;o.debugLog(o.players,"gpv url: "+a.url,!1),o.players.gpvAttempt++,a.preferredMethod!==i.USE_AJAX&&a.preferredMethod!==i.USE_JSONP_AND_AJAX||(o.players.gsvXHR=i.ajax({url:a.url,method:"get",onLoad:function(){try{var e=this;o.debugLog(o.players,"sp callback from "+a.url,!1);var n=r.json_decode(e.responseText);l||(l=!0,a.success(o.players,n,i.USE_AJAX)),t(!0)}catch(s){t(!1),s.message&&-1===s.message.indexOf("Unexpected EOF")&&-1===s.message.indexOf("Unable to parse")&&o.playerError(o.players,3,"spcallback gave JS exception: "+s.message)}},onError:function(e){t(!1)}})),a.preferredMethod!==i.USE_JSONP&&a.preferredMethod!==i.USE_JSONP_AND_AJAX||i.JSONP({url:a.url,onLoad:function(e){l||(l=!0,a.success(o.players,e,i.USE_JSONP)),t(!0)},onError:function(){t(!1)}})},o.sendPixel=function(e,t,a){a===!0?(new Image).src=e:i.ajax({url:e,postData:t,method:t?"post":"get"})}},function(e,t){var a=t;a.ScriptPath=function(){try{throw new Error}catch(e){var t=e.stack.split("\n"),a=0;for(var r in t)if(t[r].match(/http[s]?:\/\//)){a=Number(r)+1;break}var n;t[a+1]&&(n=t[a+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=t[a].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||!t[a+1]||(n=t[a+1].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||(n=t[a].match(/((http[s]?:\/\/.+\/)([^\/]+\.js).*?):/)),n&&n[1]||!t[a+1]||(n=t[a+1].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/)),n&&n[1]||(n=t[a].match(/((\/\/.+\/)([^\/]+\.js).*?):\d+/));var o="";return n[1]&&(o=n[1]),o&&":"===o.substr(o.length-1)&&(o=o.substring(0,o.length-1)),o}},a.getProtocol=function(e){try{if(e&&0===e.toLowerCase().indexOf("https"))return"https:";if(document&&document.location&&0===document.location.protocol.indexOf("https"))return"https:";if(window.location&&0===window.location.protocol.indexOf("https"))return"https:";if(location&&0===location.protocol.indexOf("https"))return"https:"}catch(t){}return"http:"},a.isFileProtocol=function(){try{if(document&&document.location&&0===document.location.protocol.indexOf("file"))return!0;if(window.location&&0===window.location.protocol.indexOf("file"))return!0;if(location&&0===location.protocol.indexOf("file"))return!0}catch(e){return!0}return!1},a.getDetectedDomain=function(){var e="";try{if(parent!==window){if(e=document.referrer,window.location.ancestorOrigins){var t=window.location.ancestorOrigins[window.location.ancestorOrigins.length-1];t&&e.substring(0,t.length)!=t&&(e=t)}}else e=top.location.href}catch(a){}return e},a.buildUrl=function(e,t){var a=[];for(var r in t)if(t.hasOwnProperty(r)){var n=String(t[r]);if("extra"===r)for(var o=n.split("&"),i=0,s=o.length;s>i;i++)a.push(o[i]);else if(r&&r.length&&n.length){var l="";try{l=encodeURIComponent(n)}catch(d){l=escape(n)}a.push([r,l].join("="))}else r&&r.length?a.push(r+"="):n&&n.length&&a.push(n)}return[e,a.join("&")].join("")}},function(e,t,a){var r=a(6),n="__cedato_";t.Classes={closeButton:n+"close_button",skipButton:n+"skip_button",contentContainer:n+"content_container",contentVideo:n+"content_video",contentBanner:n+"content_banner",videoElement:n+"video_element",flashContainer:n+"flash_container",jsvpaidContainer:n+"jsvpaid_element"},t.Ids={rootContainer:n+"root_container"},t.init=function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=r,e||(e=document.getElementsByTagName("head")[0]),e.appendChild(t),r=null},t.fromObject=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e.style[a]=t[a])},t.assignClass=function(e,t){e.className+=" "+t},t.removeClass=function(e,t){var a=new RegExp("/\b"+t+"\b/"),r=e.className.replace(a,"");e.className!=r&&(e.className=r)}},function(e,t,a){t=e.exports=a(7)(),t.push([e.id,"#__cedato_root_container{background-color:#000;border:0 none;display:block;height:100%;margin:0;overflow:hidden;padding:0;position:relative;top:0;width:100%}#__cedato_root_container .__cedato_close_button{color:#aaa;cursor:pointer;font-size:12px;position:absolute;right:5px;top:5px;z-index:10012}#__cedato_root_container .__cedato_skip_button{color:#aaa;cursor:pointer;font-size:12px;position:absolute;right:5px;bottom:5px;z-index:10010}#__cedato_root_container .__cedato_content_container{background:#000;z-index:10001}#__cedato_root_container .__cedato_content_container,#__cedato_root_container .__cedato_content_container .__cedato_content_banner{width:100%;height:100%;top:0;left:0;position:absolute}#__cedato_root_container .__cedato_content_container .__cedato_content_video{height:100%!important;display:block;width:100%;position:relative;z-index:1}#__cedato_root_container .__cedato_flash_container{position:absolute;top:-1000px;z-index:1}#__cedato_root_container .__cedato_video_element{height:100%!important;width:100%;position:relative;top:0;left:0;background-color:#000}#__cedato_root_container .__cedato_jsvpaid_element{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;padding:0;margin:0}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var a=this[t];a[2]?e.push("@media "+a[2]+"{"+a[1]+"}"):e.push(a[1])}return e.join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];"number"==typeof o&&(r[o]=!0)}for(n=0;n<t.length;n++){var i=t[n];"number"==typeof i[0]&&r[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),e.push(i))}},e}},function(e,t){/*!
	* sandblaster
	* A client-side JavaScript library to detect if your code is running inside of a sandboxed iframe... and, if desired, might just be able to change that fact!
	* Copyright (c) 2014-2015 James M. Greene
	* Licensed MIT
	* http://jamesmgreene.github.io/sandblaster/
	* v1.1.1
	*/
!function(e,t){"use strict";function a(e){return{name:e.name,message:e.message,stack:e.stack}}function r(e,t){return(e||[]).concat(t||[]).filter(function(e,t,a){return a.indexOf(e)===t})}function n(){var t=!e.opener,a=!!(e.top&&e!=e.top||e.parent&&e!=e.parent);return t&&a}function o(e){var t;try{t="object"==typeof e&&null!==e&&1===e.nodeType&&/^I?FRAME$/.test(e.nodeName||"")&&!!e.hasAttribute&&!!e.getAttribute&&!!e.setAttribute}catch(a){t=!1}return t}function i(t){var r;try{r=e.frameElement,o(r)||(r=null)}catch(n){r=null,"function"==typeof t&&t(a(n))}return r}function s(e){var t;try{t=document.domain||null}catch(r){t=null,"function"==typeof e&&e(a(r))}return t}function l(){return{forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:!0,scripts:!0,topNavigation:null}}function d(e){var t,a=null;return null===e?a=l():"string"==typeof e&&(t=e.replace(/^\s+|\s+$/g,"").toLowerCase().split(/\s+/),a={forms:-1!==t.indexOf("allow-forms"),modals:-1!==t.indexOf("allow-modals"),pointerLock:-1!==t.indexOf("allow-pointer-lock"),popups:-1!==t.indexOf("allow-popups"),popupsToEscapeSandbox:-1!==t.indexOf("allow-popups-to-escape-sandbox"),sameOrigin:-1!==t.indexOf("allow-same-origin"),scripts:-1!==t.indexOf("allow-scripts"),topNavigation:-1!==t.indexOf("allow-top-navigation")}),a}function c(e,t){var a,n,o,i,s=!1;if(e&&"object"==typeof e&&t&&"object"==typeof t)for(a=r(Object.keys(e),Object.keys(t)),s=!0,n=0,o=a.length;o>n;n++)if(i=a[n],!e.hasOwnProperty(i)||!t.hasOwnProperty(i)||e[i]!==t[i]){s=!1;break}return s}function u(e,a){var r,n,i,s,l={sandboxed:t,sandboxAllowances:t,unsandboxable:t,resandboxable:t,errors:[]};if(o(e)){try{l.sandboxed=e.hasAttribute("sandbox")}catch(u){l.sandboxed=null,"function"==typeof a&&a(u)}if(l.sandboxed)try{r=e.getAttribute("sandbox")||""}catch(u){r=null,"function"==typeof a&&a(u)}else null===l.sandboxed&&(r=null);if(null!==r&&"string"!=typeof r||(l.sandboxAllowances=d(r)),l.sandboxed)try{e.removeAttribute("sandbox"),l.unsandboxable=!e.hasAttribute("sandbox")}catch(u){l.unsandboxable=!1,"function"==typeof a&&a(u)}if(l.unsandboxable&&"string"==typeof r)try{e.setAttribute("sandbox",r),n=e.hasAttribute("sandbox")}catch(u){n=!1,"function"==typeof a&&a(u)}if(n&&l.sandboxAllowances)try{i=e.getAttribute("sandbox")||""}catch(u){i=null,"function"==typeof a&&a(u)}else null===n&&(i=null);null!==i&&"string"!=typeof i||(i=d(i)),n&&(s=null,l.sandboxAllowances&&i&&(s=c(l.sandboxAllowances,i))),l.resandboxable=s}return l}function p(){var e=this;return e instanceof p?(e._initialState=e.detect(),void(e._unsandboxState=null)):new p}var v=Array.prototype.slice;p.prototype.detect=function(){var e,r,o,l={framed:!1,crossOrigin:null,sandboxed:null,sandboxAllowances:t,unsandboxable:t,resandboxable:t,sandboxable:t,errors:[]},d=function(e){l.errors.push(a(e))},c=function(e){r=a(e),l.errors.push(r)};try{l.framed=n(),l.framed?(e=i(c),null!=e?(l.crossOrigin=!1,o=u(e,d),l.sandboxed=o.sandboxed,l.sandboxAllowances=o.sandboxAllowances,l.unsandboxable=o.unsandboxable,l.resandboxable=o.resandboxable):(l.crossOrigin=!0,l.sandboxed=null,l.sandboxAllowances={forms:null,modals:null,pointerLock:null,popups:null,popupsToEscapeSandbox:null,sameOrigin:null,scripts:!0,topNavigation:null},l.unsandboxable=!1,l.resandboxable=!1,null===s(d)?(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!1):r&&("SecurityError"!==r.name?l.crossOrigin=null:/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase())&&(l.sandboxed=!0,l.sandboxAllowances.sameOrigin=!0))),l.sandboxable=l.resandboxable||l.framed===!0&&l.crossOrigin===!1&&(l.sandboxed===!1||l.sandboxAllowances.sameOrigin)||!1):(l.crossOrigin=t,l.sandboxed=t,l.errors=t)}catch(p){d(p)}return l},p.prototype.unsandbox=function(){var e,t,a=!1,r=this,n=r._initialState;if(n.framed===!1)a=!0;else if(n.crossOrigin===!1&&(e=r.detect(),a=e.sandboxed===!1,e.sandboxed&&e.unsandboxable&&(r._unsandboxState=e,t=i(function(){a=!1}))))try{t.removeAttribute("sandbox"),a=!t.hasAttribute("sandbox")}catch(o){a=!1}return a},p.prototype.resandbox=function(){var e=!1,t=this;return null!=t._unsandboxState&&(e=t.sandbox(t._unsandboxState.sandboxAllowances)),e===!0&&(t._unsandboxState=null),e},p.prototype.sandbox=function(e){var t,a,n,o,l,d,c,u=!1,p=this,v=p._initialState,g=[];if(e&&"object"==typeof e&&v.framed&&v.crossOrigin!==!1&&(n=p.detect(),(n.sandboxed===!1&&n.sandboxable||n.sandboxed&&n.unsandboxable)&&(o=n.sandboxAllowances,a=r(Object.keys(e),Object.keys(o||{})),a.forEach(function(t){(e[t]===!0||null==e[t]&&o&&o[t]===!0)&&g.push("allow-"+t.replace(/[A-Z]/g,"-$1").toLowerCase())}),g.length>0&&(d=i())))){l=-1===g.indexOf("allow-same-origin")||-1===g.indexOf("allow-scripts"),t=g.sort().join(" ");try{d.setAttribute("sandbox",t),u=l}catch(m){u=!1}if(d=i())try{c=(d.getAttribute("sandbox")||"").replace(/^\s+|\s+$/g,"").split(/\s+/).sort().join(" "),u=c===t||l&&(""===c||null===s())}catch(m){u=l}}return u},p.prototype.reload=function(){var e,t,a,r,n=!1,o=this,s=o._initialState;if(s.framed&&s.crossOrigin===!1&&(e=i()))try{e.parentNode&&e.parentNode.ownerDocument&&(t=v.call(e.attributes).map(function(e){return{name:e.name,value:e.value}}),a=e.parentNode.ownerDocument.createElement("iframe"),t.forEach(function(e){a.setAttribute(e.name,e.value)}),r=e.parentNode.replaceChild(a,e),n=e===r)}catch(l){n=!1}return n},e.sandblaster=new p}(window)},function(module,exports,__webpack_require__){function json_decode(str){return window.JSON&&JSON.parse?JSON.parse(str):eval("("+str+")")}function addEvent(e,t,a,r){"undefined"==typeof r&&(r=!1),e.addEventListener?e.addEventListener(t,a,r):e.attachEvent?e.attachEvent("on"+t,a):e[t]=a}function getVprUrl(e,t,a,r){var n;n="c"==r?"cdn1-m"+t.networkId+".algovid.tv":t.conf.mUrl,-1!==e.indexOf("track.eyeviewads.com")&&(n="m.algovid.com"),e=e.trim();var o=t.protocol+"//"+n+"/vpr/"+encodeURIComponent(encodeURIComponent(e))+"/a.jsv";return o}function createVideoElement(e,t){t||(t=document);var a=null;return e.usejsv&&CEDATO_JSV?(a=CEDATO_JSV.createVideoElement(),a.setAttribute("preload","auto")):e.hasVideoSupport&&(a=t.createElement("video")),a}function fileExtension(e){return e.split(".").pop().split(/\#|\?/)[0]}function isStreamingUrl(e){var t=e.split("/"),a=t[0].toLowerCase(),r=!("rtsp:"!==a&&"rtp:"!==a);if(!r){var n=fileExtension(e);"m3u8"!==n&&"m3u"!==n&&"swf"!==n||(r=!0)}return r}function getUrlVars(e,t){var a,r;a=t?{}:[];try{var n,o=e.slice(e.indexOf("?")+1).split("&");for(n=0;n<o.length;n++){r=o[n].split("="),t||a.push(r[0]);var i=r[1];t&&(i=decodeURISafe(i)),a[r[0]]||(a[r[0]]=i)}}catch(s){a={}}return a}function decodeURISafe(e){try{e=decodeURIComponent(e)}catch(t){try{e=unescape(e)}catch(t){}}return e}function fixURLPrm(e,t){t=t.trim();var a=t.split("//");return a.length>1?(a[0]=e,a.join("//")):!1}function logVastRequest(e,t){tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_REQUEST,e,t,{},debugLog),t.capType==CEDATO_CAP.CAP_TYPE.AD_REQUEST&&(t.allocatedQuota-=1)}function logVastLoaded(e,t,a){("undefined"==typeof a||0>a)&&(a="");var r=((new Date).getTime()-t.loadAdTime)/1e3;r=r.toFixed(1),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_LOADED,e,t,{time:r,memUsed:a},debugLog),isCedatox(t)&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SERVED_AND_START,e,{},{playerId:t.playerId},debugLog)}function tlv_logVastEvent(e,t,a,r,n){isCedatox(a)?(a.cedatoxPlayerId=null,a.cedatoxVastId=a.cxvid,a.chosenVastId=null,a.parentPlayerId=a.cxpid,CEDATO_EVENT_LOGGER.log(e,t,a,r,n),a.cedatoxPlayerId=a.playerId,a.cedatoxVastId=null,a.chosenVastId=a.vastId,a.parentPlayerId=null,CEDATO_UTILS.extend(r,{playerId:a.cxpid,vastId:a.cxvid}),CEDATO_EVENT_LOGGER.log(e,t,a,r,n)):CEDATO_EVENT_LOGGER.log(e,t,a,r,n)}function submitDebugLog(e){if(""!=e.debugLog){e.bSubmitted+=e.debugLog.length,(e.bSubmitted>5e5||(new Date).getTime()-e.startTime>18e4)&&(e.debugLog="last packet",e.keepDebugLog=!1),e.debugLogLastSubmitted=Number((new Date).getTime());var t=e.debugLog;e.debugLog="";var a=(new Date).getTime(),r=e.baseUrl+"/sdl?se="+encodeURIComponent(e.sessionId)+"&sid="+encodeURIComponent(e.subid)+"&domain="+encodeURIComponent(e.domain)+"&cb="+a+"&p="+e.playerId+"&pv="+e.playerVersion+"&r="+encodeURIComponent(e.debugLogReason);CEDATO_HTTP.sendPixel(r,t,!1)}}function submitDebugLogBuffer(e){if(e.debugLogBuffer.length<1e5)e.debugLog=e.debugLogBuffer,e.debugLogBuffer="";else{e.debugLog=e.debugLogBuffer.substr(e.debugLogBuffer.length-1e5);var t=e.debugLog.indexOf("\n");-1===t?e.debugLog="":e.debugLog=e.debugLog.substr(t+1),e.debugLogBuffer=""}}function isCedatox(e){return null!=e.cxpid&&null!=e.cxvid}function isCapped(e){return null!=e.allocatedQuota&&null!=e.capType}function initDebugLog(e,t,a,r,n){if(e.debugLog="",e.debugLogBuffer="",e.debugLogLastSubmitted=(new Date).getTime(),e.logDebugToConsole=t,e.keepDebugLog=a,e.keepDetailedDebugLog=r,e.logToHTML=n,e.debugLogBuffer="",e.bSubmitted=0,e.debugLogSubmittedDueToException=!1,n){var o=window.document.createElement("div"),i=window.document.createElement("pre");o.style.cssText="border: 1px solid; height: 300px; width: 1200px; resize: both; overflow: auto;",o.appendChild(i),window.document.body.appendChild(o),e.debugDocElement=i}}function debugLog(e,t,a){if(e&&(!a||e.keepDetailedDebugLog)){e.logDebugToConsole&&window.console&&window.console.log((new Date).getTime()+"	"+t),e.logToHTML&&(e.debugDocElement.innerHTML+=t+"<br>");var r;r=window.JSON&&window.JSON.stringify?JSON.stringify(t):'"'+t+'"';var n=(new Date).getTime()+"	"+r+"\n",o=n.length;if(o>1e5&&(n=(new Date).getTime()+"	truncated line\n",o=n.length),!e.keepDebugLog){if(e.debugLogBuffer&&e.debugLogBuffer.length>1e7)return;return void(e.debugLogBuffer+=n)}var i=e.debugLog.length;i>0&&i+o>1e5&&submitDebugLog(e),e.debugLog+=n,((new Date).getTime()-e.debugLogLastSubmitted>3e3||e.debugLog.length>1e5)&&submitDebugLog(e)}}function injectExtScr(e,t){try{var a=document.createElement("script"),r=document.getElementsByTagName("head")[0]||document.documentElement;a.setAttribute("type","text/javascript");var n=e;n=fixURLPrm(t.protocol,n);var o=(new Date).getTime();n=n.replace(/\[CB\]/g,o),n=n.replace(/\[DIVID\]/g,t.divId);var i="";t.callingFlashObject&&t.callingFlashObject.id&&(i=t.callingFlashObject.id),n=n.replace(/\[FLASHID\]/g,i),a.src=n,debugLog(t,"gpv requested script: "+n,!1),r.appendChild(a)}catch(s){}}function createVpaidJsIframe(){var e=document.createElement("iframe");return e.src="about:blank",e.width="100%",e.height="100%",e.id="vjs"+Math.floor(5e3*Math.random()),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.overflow="hidden",e}function createVpaidJSDiv(e,t,a){var r=document.createElement("div");return r.style.zIndex="0",r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.style.margin="0",r.style.padding="0",r.id="vpaidContainerDiv_"+a+"_"+Math.floor(5e3*Math.random()),r}function loadJSScript(e,t,a,r){var n=createVpaidJSDiv(a.width,a.height,r.vastId);r.jsVPAIDElementDiv=n,a.divElem.appendChild(n);var o=createVpaidJsIframe();r.jsVpaidFrame=o;var i=!1,s=!1,l=window,d=r.vastId+"_"+r.uniqId,c=function(u){if(u.origin===l.location.origin){var p=JSON.parse(u.data);if(p.id===d){var v=o.contentWindow&&o.contentWindow.document;if(!v)return!1;l.removeEventListener("message",c),v.body.style.margin="0",v.body.style.padding="0";var g;if(a.usejsv&&a.mainAutoplay){g=v.createElement("script"),g.setAttribute("type","text/javascript");var m=a.protocol+"//"+a.conf.pJsvUrl;g.src=m,g.addEventListener("load",function(){i=!0,i&&s&&t(a,r)},!1),v.body.appendChild(g)}else i=!0;g=v.createElement("script"),g.setAttribute("type","text/javascript"),g.src=e,g.attachEvent&&g.attachEvent("onreadystatechange",function(){"complete"!=g.readyState&&"loaded"!=g.readyState||t(a,r)}),g.addEventListener&&g.addEventListener("load",function(){s=!0,i&&s&&t(a,r)},!1);var h=v.createElement("div");h.id="vpaid-js-ad-elem",h.style.margin="0",h.style.padding="0",h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.left="0",h.style.top="0",r.vpaidJsIframeAdElem=h,n.appendChild(h),v.body.appendChild(g),r.companionHTML&&(r.companionsElementDiv=null,r.companionsElementDiv=v.createElement("div"),r.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+a.height+"px; z-index: 0; "),h.appendChild(r.companionsElementDiv),r.companionsElementDiv&&(debugLog(a,"vastId "+r.vastId+" - companionHTML: "+r.companionHTML,!1),r.companionsElementDiv.innerHTML=r.companionHTML))}}};window.cedatoWinId="cwi"+Math.floor(5e3*Math.random());var u,p;try{u=n.ownerDocument,p=u.defaultView||u.parentWindow,p.cedatoWinId!==window.cedatoWinId&&(l=p)}catch(v){}n.appendChild(o);var g=o.contentWindow&&o.contentWindow.document;if(!g)return!1;l.addEventListener("message",c);var m="";try{if(l.location.hostname){var h="http:";l.location.protocol&&(h=l.location.protocol),m=h+"//"+l.location.hostname}}catch(v){}debugLog(a,"vastId writing iframe content",!1),g.write('<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n</head>\n<body><script>var orig = window.location.origin;if(!orig||orig==\'null\'){orig=\''+m+'\'}parent.postMessage(\'{"event": "ready", "id": "'+d+"\"}', orig);\n</script>\n</body>\n</html>\n")}function playPlayer(e,t){try{debugLog(e,"vastId "+t.vastId+" - playPlayer",!1),debugLog(e,"playPlayer: hiding all vasts but "+t.vastId,!0);for(var a=0,r=e.plist.length;r>a;a++)e.plist[a].vastId==t.vastId&&e.plist[a].uniqId==t.uniqId||e.parallelStartAd&&5==e.plist[a].tlvState||hidePlayerData(e,e.plist[a]);if("flvpaid"==t.adType||"jsvpaid"==t.adType)t.durationKnown?debugLog(e,"vastId "+t.vastId+" - playPlayer: has already known duration of: "+t.duration,!1):(t.duration=60,debugLog(e,"vastId "+t.vastId+" - playPlayer: no known duration, setting to 60",!1));else if("video"==t.adType&&!t.durationKnown){t.durationKnown=!0;try{t.duration=t.videoElement.duration}catch(n){}debugLog(e,"vastId "+t.vastId+" - playPlayer: duration taken from video element: "+t.duration,!1)}if(t.vtClickThroughFunc=function(e,t){try{var a,t,r;this.playerData&&this.playerData.playersStorageName&&(t=this.playerData),a=window[t.playersStorageName],r=t.vastId,debugLog(a,"vastId "+r+" - tracker onClickthrough",!1),e&&window.open(e,"_blank"),a.apiInterface.trigger("click",{url:e,vastId:t.vastId})}catch(n){vastError(a,r,3,"tracker onClickthrough gave JS exception: ",n,t)}},t.vtFirstQuartileFunc=function(e){try{var t,e,a;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData),t=window[e.playersStorageName],a=e.vastId,debugLog(t,"vastId "+a+" - tracker on-firstQuartile",!1);var r;try{r=e.vastTracker.duration/4}catch(n){r=e.duration/4}r=r.toFixed(2),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_MIDS,t,e,{duration:r},debugLog)}catch(n){vastError(t,a,3,"tracker on firstQuartile gave JS exception: ",n,e)}},t.vtAdVideoStartFunc=function(e){try{var t,e,a;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData),t=window[e.playersStorageName],a=e.vastId,debugLog(t,"vastId "+a+" - tracker on-AdVideoStart",!1);var r;try{r=e.vastTracker.duration/4}catch(n){r=e.duration/4}r=r.toFixed(2),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_MIDS,t,e,{duration:r},debugLog)}catch(n){vastError(t,a,3,"tracker on AdVideoStart gave JS exception: ",n,e)}},t.vtMidPointFunc=function(e){try{var t,e,a;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData),t=window[e.playersStorageName],a=e.vastId,debugLog(t,"vastId "+a+" - tracker on-midpoint",!1);var r=e.duration/4;r=r.toFixed(2),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_MIDS,t,e,{duration:r},debugLog)}catch(n){vastError(t,a,3,"tracker onmidpoint gave JS exception: ",n,e)}},t.vtThirdQuartileFunc=function(e){try{var t,e,a;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData),t=window[e.playersStorageName],a=e.vastId,debugLog(t,"vastId "+a+" - tracker on-thirdQuartile",!1);var r=e.duration/4;r=r.toFixed(2),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_MIDS,t,e,{duration:r},debugLog)}catch(n){vastError(t,a,3,"tracker onthirdQuartile gave JS exception: ",n,e)}},t.vtCompleteFunc=function(e){try{var t,e,a;this.playerData&&this.playerData.playersStorageName&&(e=this.playerData),t=window[e.playersStorageName],a=e.vastId,debugLog(t,"vastId "+a+" - tracker on-complete",!1),t.anyPlaying=anyOtherPlaying(t,a),t.anyPlaying||showRotator(t);var r=e.duration/4;r=r.toFixed(2),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_END,t,e,{duration:r},debugLog),t.apiInterface.trigger("adcomplete",{vastId:a}),null!=e.startAdSwitcher&&(clearTimeout(e.startAdSwitcher),e.startAdSwitcher=null)}catch(n){vastError(t,a,3,"tracker on complete gave JS exception: ",n,e)}},t.vtErrorFunc=function(e){try{var t=window[this.playerData.playersStorageName];debugLog(t,"vast tracker on error vastId"+e.vastId,!1)}catch(a){vastError(t,e.vastId,3,"tracker onerror gave JS exception: ",a,e)}},t.skipVastTracker?debugLog(e,"vastId "+t.vastId+" - playPlayer: no need for our vastTracker",!1):(debugLog(e,"vastId "+t.vastId+" - playPlayer: initializing vastTracker",!1),null==t.creative.trackingEvents?(t.creative.trackingEvents=[],debugLog(e,"added trackingEvents",!1)):debugLog(e,"had trackingEvents",!1),t.vastTracker=new e.DMVAST.tracker(t.ad,t.creative),t.vastTracker.playerData=t,debugLog(e,"vastId "+t.vastId+" - playPlayer: vastTracker set",!1),!t.durationKnown&&t.vastTracker.duration&&t.vastTracker.duration>0&&(t.duration=t.vastTracker.duration,debugLog(e,"vastId "+t.vastId+" - playPlayer: duration from tracker: "+t.duration,!1)),t.vastTracker.playerId=e.playerId,t.vastTracker.subid=e.subid,t.vastTracker.domain=e.domain,t.vastTracker.vastId=t.vastId,t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration),debugLog(e,"vastId "+t.vastId+" - playPlayer: creating events",!1),t.vastTracker.on("clickthrough",t.vtClickThroughFunc),t.vastTracker.on("firstQuartile",t.vtFirstQuartileFunc),t.vastTracker.on("midpoint",t.vtMidPointFunc),t.vastTracker.on("thirdQuartile",t.vtThirdQuartileFunc),t.vastTracker.on("complete",t.vtCompleteFunc),t.vastTracker.on("error",t.vtErrorFunc),debugLog(e,"vastId "+t.vastId+" - playPlayer: events ready",!1)),e.scheduledPixelSent||(debugLog(e,"vastId "+t.vastId+" - playPlayer: first play - logging scheduled pixel",!1),e.scheduledPixelSent=!0,CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_SCHEDULED,e,{},{},debugLog)),debugLog(e,"vastId "+t.vastId+" - playPlayer: playing media",!1),e.parallelStartAd||logVastRequest(e,t),t.adImpressionCount=0,t.gotLastAdImpressionOn=null,t.adStartCount=0,t.startAdTime=(new Date).getTime(),"flvpaid"==t.adType||"jsvpaid"==t.adType){e.singleVPW?e.callingFlashObject&&"flvpaid"==t.adType?e.divElem.style.display="none":"jsvpaid"==t.adType:("flvpaid"==t.adType&&(t.flashElementDiv.style.zIndex="9999",t.flashElementDiv.style.position="relative",t.flashElementDiv.style.left="0px",t.flashElementDiv.style.top="0px"),"jsvpaid"==t.adType&&t.flashElementDiv&&(t.flashElementDiv.style.display="none"),e.rootDivElem.style.top="0px");var o,i;try{if(t.vpaidPlaying=1,t.tlvState=5,debugLog(e,"vastId "+t.vastId+" - startAd called, uniqId: "+t.uniqId,!1),e.apiInterface.trigger("adstartreq",{vastId:t.vastId}),"flvpaid"===t.adType&&(i="vpw disappeared",o=t.flashElement[t.flashEICallbacks]("vpwStartAd",t.uniqId)),"jsvpaid"===t.adType){i="external js exception";try{e.allowSound||!t.jsVPAIDElement.setAdVolume||e.usejsv||t.jsVPAIDElement.setAdVolume(0)}catch(n){}o=t.jsVPAIDElement.startAd(),("undefined"==typeof o||o)&&(o="1")}}catch(n){return vastError(e,t.vastId,5,"startAd failed - "+i+": "+n.message,!1,t),t.vpaidPlaying=0,t.tlvState=10,t.errorCount=t.errorCount+100,requeryVast(t,0),void("flvpaid"===t.adType&&vpwException(e,t,"startAd"))}if("1"!=o){t.vpaidPlaying=0;var s=e.parallelStartAd,l="no reason given";try{"flvpaid"==t.adType&&(l=t.flashElement[t.flashEICallbacks]("getLastError",t.uniqId)),"jsvpaid"==t.adType&&(l="external js expcetion")}catch(n){l="getLastError gave exception: "+n.message}return vastError(e,t.vastId,5,"startAd failed - "+l,!1,t,s),t.tlvState=10,t.errorCount=t.errorCount+100,"flvpaid"==t.adType&&loadVPW(e,t,!0),void requeryVast(t,0)}if(t.sureFastStart=t.expectedSureFastStart,e.parallelStartAd&&(null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),5==t.tlvState)){var d=function(e,t){t.startAdHalfStopper=null,debugLog(e,"vastId "+t.vastId+" - half stopper point, starting more if ready",!1),playNextVast(e,"any")};CEDATO_BROWSER.oldIE?t.startAdHalfStopper=setTimeout(function(){d(e,t)},7e3):t.startAdHalfStopper=setTimeout(d,7e3,e,t)}if(null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),5==t.tlvState){var c=2e4;t.longStartAd&&(c=35e3);var u=function(e,t){if("flvpaid"===t.adType)try{t.flashElement[t.flashEICallbacks]("vpwStopAd",t.uniqId)}catch(a){}else if("jsvpaid"===t.adType)try{t.jsVPAIDElement.stopAd()}catch(a){}else if("video"===t.adType)try{t.videoElement.pause()}catch(a){}t.startAdStopper=null,t.vpaidPlaying=0;var r=e.parallelStartAd;vastError(e,t.vastId,60,"gave up on startAd",!1,t,r),t.tlvState=10,t.errorCount=t.errorCount+100,"flvpaid"==t.adType&&loadVPW(e,t,!0),requeryVast(t,0),playNextVasts(e)};CEDATO_BROWSER.oldIE?t.startAdStopper=setTimeout(function(){u(e,t)},c):t.startAdStopper=setTimeout(u,c,e,t)}}else"video"==t.adType&&(e.apiInterface.trigger("adstartreq",{vastId:t.vastId}),t.videoElement.style.display="block",t.videoElement.style.zIndex="9999",t.tlvState=5,t.sureFastStart=!0,e.divElem.appendChild(t.videoElement),t.videoElement.play());debugLog(e,"vastId "+t.vastId+" - playPlayer: done",!1)}catch(n){vastError(e,t.vastId,3,"playPlayer issue: ",n,t)}}function hideCallingFlashObject(e,t){e.callingFlashObject&&!t.flashPrevStyle&&(t.flashPrevStyle={position:t.flashElement.style.position,top:t.flashElement.style.top,left:t.flashElement.style.left},t.flashElement.style.position="absolute",t.flashElement.style.top="-1000px",t.flashElement.style.left="-1000px",e.rootDivElem.style.top="0px",e.divElem.style.top="0px")}function restoreCallingFlashObjectStyle(e,t){e.callingFlashObject&&t.flashPrevStyle&&(t.flashPrevStyle.position&&(t.flashElement.style.position=t.flashPrevStyle.position),t.flashElement.style.top=t.flashPrevStyle.top,t.flashElement.style.left=t.flashPrevStyle.left,e.divElem.style.display="none",e.rootDivElem.style.display="none",t.flashPrevStyle=null)}function playNextVasts(e,t){if("undefined"==typeof t&&(t=!1),!e.autoplay&&!t)return debugLog(e,"manual mode - not trying to auto play",!1),!1;var a="any";return e.readyForStartAd||(a="1"),playNextVast(e,a)}function playNextVast(e,t){if(debugLog(e,"playNextVast called, group: "+t,!1),e.anyPlaying)return debugLog(e,"still playing previous media",!1),!1;if(e.parallelStartAd){for(var a=!1,r=0,n=e.plist.length;n>r;r++){var o=e.plist[r];if(5==o.tlvState&&o.sureFastStart){var i=((new Date).getTime()-o.startAdTime)/1e3;if(3>i)return debugLog(e,"vastId "+o.vastId+" - is sure fast starter and is trying to start - quiting",!1),!1;debugLog(e,"vastId "+o.vastId+" - is sure fast starter and is trying to start but passed grace time",!1)}}for(var r=0,n=e.plist.length;n>r;r++){var o=e.plist[r];if(debugLog(e,"vastId "+o.vastId+" tlvState is: "+o.tlvState,!0),4==o.tlvState)if("any"==t||o.group==t){if(debugLog(e,"vastId "+o.vastId+" tlvState is ready to play",!1),a=!0,playPlayer(e,o),e.anyPlaying)return!0;if(o.sureFastStart)return debugLog(e,"vastId "+o.vastId+" - sure fast start - breaking",!1),!0}else debugLog(e,"vastId "+o.vastId+" - is ready but on different group",!1)}return a}for(var s=!1,r=0,n=e.plist.length;n>r;r++){var o=e.plist[r];debugLog(e,"vastId "+o.vastId+" tlvState is: "+o.tlvState,!0),4==o.tlvState&&(s?o.errorCount<s.errorCount&&(s=o):s=o)}return s?(debugLog(e,"vastId "+s.vastId+" tlvState is ready to play",!1),e.anyPlaying=!0,"vpaid"==e.mode&&(e.autoplay=!1),playPlayer(e,s),!0):(debugLog(e,"no vast is ready to play",!0),!1)}function freezePlayers(e,t){if(debugLog(e,"freezing players",!1),e.frozen=!0,destroyAllPlayerDatas(e,t),t)debugLog(e,"leaving players objects for now",!1);else if(debugLog(e,"removing players objects",!1),null!=e.initialStartAd&&(clearTimeout(e.initialStartAd),e.initialStartAd=null),null!=e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),null!=e.reportVPWStateInterval&&(clearInterval(e.reportVPWStateInterval),e.reportVPWStateInterval=null),e.callingFlashObject)try{e.callingFlashObjectParent.removeChild(e.companionsRootDivElem),e.callingFlashObjectParent.removeChild(e.rootDivElem)}catch(a){debugLog(e,"removing root divs gave exception: "+a.message,!1)}}function adImpression(e,t,a,r){var n=getPlayerDataByUniq(e,t);if(!n)return debugLog(e,"adImpression called for a gone uniqId: "+t,!1),void playerError(e,3,"adImpression called for a gone uniqId");var o=n.vastId;if(debugLog(e,"vastId "+o+" - adImpression called for uniqId: "+t,!1),("undefined"==typeof r||0>r)&&(r=""),"jsvpaid"==n.adType?(n.jsVPAIDElementDiv.style.zIndex="10000",n.jsVPAIDElementDiv.style.position="absolute",n.vpaidJsIframeAdElem&&(n.vpaidJsIframeAdElem.style.zIndex="10000"),n.vpaidJsIframeVideo&&(n.vpaidJsIframeVideo.style.margin="0",n.vpaidJsIframeVideo.padding="0",n.vpaidJsIframeVideo.top="0px",n.vpaidJsIframeVideo.style.left="0px",n.vpaidJsIframeVideo.style.position="absolute"),e.callingFlashObject&&hideCallingFlashObject(e,n)):"flvpaid"!=n.adType||e.singleVPW?"video"==n.adType&&(n.videoElement.style.zIndex="10000",n.videoElement.style.position="absolute",e.callingFlashObject&&hideCallingFlashObject(e,n)):(n.flashElementDiv.style.zIndex="10000",n.flashElementDiv.style.position="absolute",n.flashElementDiv.style.left="0px"),e.contentUrlPlayer&&e.contentUrlPlayer.hideContent(),!e.anyAdPlayed){e.anyAdPlayed=!0;var i=((new Date).getTime()-e.startTime)/1e3;i=i.toFixed(1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,e,{},{},debugLog),0>i&&(e.debugLogReason="negative adplayed",submitDebugLogBuffer(e),submitDebugLog(e))}if(isCedatox(n)&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_ADPLAYED,e,{},{playerId:n.playerId},debugLog),null!=n.gotLastAdImpressionOn&&(new Date).getTime()-n.gotLastAdImpressionOn<3e3)return debugLog(e,"vastId "+o+" - second ad impression too soon - ignoring",!1),!0;if(e.submitDebugLogOnVastDisplayed!=n.vastId||n.keepDebugLog||(submitDebugLogBuffer(e),submitDebugLog(e),e.keepDebugLog=!0),n.skipVastTracker||null!=n.vastTracker){if(e.parallelStartAd&&e.anyPlaying&&6!=n.tlvState&&7!=n.tlvState){if(vastError(e,o,64,"stopped due to parallel double started",!1,n),"flvpaid"==n.adType)try{n.flashElement[n.flashEICallbacks]("vpwStopAd",n.uniqId)}catch(s){debugLog(e,"parallel dbl-started stopAd of flash vpaid "+n.vastId+" gave exception: "+s.message,!1)}else if("jsvpaid"==n.adType)try{n.jsVPAIDElement.stopAd()}catch(s){debugLog(e,"parallel stopAd of js vpaid "+n.vastId+" gave exception: "+s.message,!1)}else"video"==n.adType&&n.videoElement.pause();return n.tlvState=10,e.frozen||("flvpaid"==n.adType&&loadVPW(e,n,!0),requeryVast(n,0)),!1}if(n.tlvState=6,n.gotLastAdImpressionOn=(new Date).getTime(),e.parallelStartAd){e.anyPlaying=!0,"vpaid"==e.mode&&(e.autoplay=!1),debugLog(e,"parallel startAd mode - stopping any other opened startAd",!1),logVastRequest(e,n);for(var l=0,d=e.plist.length;d>l;l++){var c=e.plist[l];if(c.vastId!=o&&5==c.tlvState){if(debugLog(e,"vastId "+c.vastId+" - parallel startAd mode - stopping - vastId "+o+" started playing",!1),vastError(e,c.vastId,63,"stopped due to parallel started",!1,c),c.tlvState=10,"flvpaid"==c.adType)try{c.flashElement[c.flashEICallbacks]("vpwStopAd",c.uniqId)}catch(s){debugLog(e,"parallel stopAd of flash vpaid "+c.vastId+" gave exception: "+s.message,!1)}else if("jsvpaid"==c.adType)try{c.jsVPAIDElement.stopAd()}catch(s){debugLog(e,"parallel stopAd of js vpaid "+c.vastId+" gave exception: "+s.message,!1)}else"video"==c.adType&&c.videoElement.pause();hidePlayerData(e,c),"flvpaid"==c.adType&&loadVPW(e,c,!0),requeryVast(c,0)}}debugLog(e,"parallel startAd mode - stopping any other opened startAd - done",!1)}var u=0,p="",v="";try{for(var l=0,d=e.plist.length;d>l;l++){var c=e.plist[l];if("flvpaid"==c.adType&&c.flashElement&&c.flashEICallbacks)try{var g=c.flashElement[c.flashEICallbacks]("getMem");if(!isNaN(g)){u+=parseFloat(g),v=v+c.vastId+" - "+g+", ";break}v=v+c.vastId+" - NaN, "}catch(s){v=v+c.vastId+" - exception: "+s.message+", "}else v="flvpaid"!=c.adType?v+c.vastId+" - not flash, ":c.flashElement?c.flashEICallbacks?v+c.vastId+" - unknown reason, ":v+c.vastId+" - no callbacks, ":v+c.vastId+" - no flash element, "}p=u}catch(s){v="exception: "+s.message}debugLog(e,"memory check: "+v,!1);var i=((new Date).getTime()-n.startAdTime)/1e3;i=i.toFixed(1);var m=0;if("flvpaid"==n.adType&&(m=n.isIMA?2:1),"jsvpaid"==n.adType&&(m=n.isIMA?4:3),n.hasFlashVPAID&&n.hasJSVPAID&&(m=5),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_ADSTART,e,n,{time:i,roundNo:n.roundNo,memUsed:r,totalMemS:p,vastType:m},debugLog),n.capType==CEDATO_CAP.CAP_TYPE.AD_START&&(n.allocatedQuota-=1),e.apiInterface.trigger("adstart",{vastId:o}),n.adImpressionCount++,n.adImpressionCount>1?(vastError(e,n.vastId,61,"double impression: "+n.adImpressionCount,!1,n),logVastRequest(e,n)):n.skipVastTracker||n.vastTracker.load(),"vpaid"==e.mode)return debugLog(e,"vastId "+o+" - has calling VPAID object - calling events",!1),a&&e.vpaidObj.call("jsAdStarted",{},!0),e.vpaidObj.call("jsAdImpression",{},!0),freezePlayers(e,n.vastId),!0;if(e.curAdStarts++,e.maxAdStarts&&e.curAdStarts>=e.maxAdStarts)return debugLog(e,"vastId "+o+" - reached maximum number of allowed ad starts, freezing",!1),freezePlayers(e,n.vastId),!0;if(null!=n.sameVastIdLoader&&(clearTimeout(n.sameVastIdLoader),n.sameVastIdLoader=null),!e.frozen){var h=function(e,t){try{t.sameVastIdLoader=null,debugLog(e,"vastId "+t.vastId+" - same vastId loader",!1);var a=duplicatePlayerData(e,t);allocateAndFetchPlayerVast(e,a)}catch(r){vastError(e,t.vastId,3,"svi gave JS exception: ",r,t)}};CEDATO_BROWSER.oldIE?n.sameVastIdLoader=setTimeout(function(){h(e,n)},5e3):n.sameVastIdLoader=setTimeout(h,5e3,e,n)}if(null!=n.startAdSwitcher&&(clearTimeout(n.startAdSwitcher),n.startAdSwitcher=null),!e.allowLongImpressions){var f=function(e,t){try{vastError(e,t.vastId,62,"long impression",!1,t),t.startAdSwitcher=null,t.vpaidPlaying=0,t.tlvState=10,destroyPlayerData(e,t),e.anyPlaying=anyOtherPlaying(e,t.vastId),e.anyPlaying||showRotator(e),playNextVasts(e)}catch(a){vastError(e,t.vastId,3,"sas gave JS exception: ",a,t)}};CEDATO_BROWSER.oldIE?n.startAdSwitcher=setTimeout(function(){f(e,n)},6e4):n.startAdSwitcher=setTimeout(f,6e4,e,n)}}else debugLog(e,"vastId "+o+" - no vast tracker",!1),requeryVast(n,0);return!0}function prepareVideoElem(e,t){try{var a;a=createVideoElement(e),CEDATO_CSS.assignClass(a,CEDATO_CSS.Classes.videoElement),CEDATO_CSS.fromObject(a,{zIndex:(9994-t.uniqId).toString()}),t.firstPlayEventTriggered=!1;var r=function(){try{if(e.apiInterface.trigger("adplay",{vastId:t.vastId,playerId:e.playerId,subid:e.subid}),"vpaid"==e.mode){var r;r=t.duration?t.duration:a.duration,e.vpaidObj.call("jsAdDurationChange",{duration:r.toFixed(2)},!0)}if(debugLog(e,"vastId "+t.vastId+" - onplay",!1),t.firstPlayEventTriggered)return void debugLog(e,"vastId "+t.vastId+" - already handled play event",!1);if(t.firstPlayEventTriggered=!0,5!=t.tlvState)return void debugLog(e,"vastId "+t.vastId+" - invalid state, was probably stopped - "+t.tlvState,!1);if(!adImpression(e,t.uniqId,!0))return;"vpaid"==e.mode&&e.vpaidObj.call("jsAdVideoStart",{},!0),t.errorCount=0,debugLog(e,"vastId "+t.vastId+" - onplay done",!1)}catch(n){vastError(e,t.vastId,3,"video onplay gave JS exception: ",n,t)}};addEvent(a,"play",r);var n=function(){try{if(t.tlvState<3||10==t.tlvState||"video"!=t.adType)return;null!=t.vastTracker&&t.vastTracker.setProgress(a.currentTime);var r=a.duration-a.currentTime,n=a.duration;"vpaid"==e.mode&&(e.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:r.toFixed()},!0),a.currentTime.toFixed()==(n/4).toFixed()&&e.vpaidObj.call("jsAdFirstQuartile",{},!0),
a.currentTime.toFixed()==(n/3).toFixed()&&e.vpaidObj.call("jsAdMidpoint",{},!0),a.currentTime.toFixed()==(n/4*3).toFixed()&&e.vpaidObj.call("jsAdThirdQuartile",{},!0)),2>=r&&6==t.tlvState}catch(o){vastError(e,t.vastId,3,"video ontimeupdate gave JS exception: ",o,t)}};addEvent(a,"timeupdate",n);var o=function(a){try{debugLog(e,"vastId "+t.vastId+" - video onclick",!1),t.vastTracker&&t.vastTracker.click(),e.apiInterface.trigger("click",{url:a,vastId:t.vastId}),"vpaid"==e.mode&&e.vpaidObj.call("jsAdClickthrough",{url:a},!0)}catch(r){vastError(e,t.vastId,3,"video onclick gave JS exception: ",r,t)}};addEvent(a,"click",o);var i=function(a){try{if(t.tlvState<3||10==t.tlvState||"video"!=t.adType)return;debugLog(e,"vastId "+t.vastId+" - video onerror",!1);var r=!1;3==t.tlvState&&(r=!0),restoreCallingFlashObjectStyle(e,t),t.tlvState=10;var n=-1;a.target.error.code&&a.target.error.code&&(n=a.target.error.code),vastError(e,t.vastId,4,"video player error code: "+n,!1,t,r),playNextVasts(e),t.tlvState>=5?t.errorCount=t.errorCount+100:t.errorCount=t.errorCount+1,requeryVast(t,0)}catch(o){vastError(e,t.vastId,3,"video onerror gave JS exception: ",o,t)}};addEvent(a,"error",i);var s=function(){try{if(debugLog(e,"vastId "+t.vastId+" - video oncanplay",!1),"video"!=t.adType)return void debugLog(e,"vastId "+t.vastId+" - adType not video: "+t.adType,!1);if(t.tlvState>4)return void debugLog(e,"vastId "+t.vastId+" - video oncanplay but state is "+t.tlvState,!1);null!=t.playVideoRetry&&(clearInterval(t.playVideoRetry),t.playVideoRetry=null),t.durationKnown=!0;try{t.duration=a.duration,t.vastTracker&&(t.vastTracker.duration=t.duration,t.vastTracker.setDuration(t.duration))}catch(r){t.durationKnown=!1}var n=e.width,o=e.height;a.style.width="100%",a.style.height="100%",n||(n=e.width,o=e.height),n>e.width&&(o=o*e.width/n,n=e.width),o>e.height&&(n=n*e.height/o,o=e.height),n=Math.floor(n),o=Math.floor(o);var i=(e.height-o)/2;if(i=Math.floor(i),debugLog(e,"vastId "+t.vastId+" - video width: "+n+", height: "+o+", top: "+i,!1),a.style.cssText="background-color: black; width:100%; height:100%; position: relative; top: "+i+"px",t.tlvState=4,"vpaid"==e.mode)try{e.vpaidObj.call("jsAdReadyToStart",{},!0)}catch(r){vastError(e,t.vastId,3,"video oncanplay gave JS exception: ",r,t)}try{e.allowSound||e.usejsv||(a.volume=0)}catch(r){}playNextVasts(e)}catch(r){vastError(e,t.vastId,3,"video oncanplay gave JS exception: ",r,t)}};addEvent(a,"canplay",s);var l=function(){try{if(debugLog(e,"vastId "+t.vastId+" - video onended",!1),t.firedEvents&&t.firedEvents.complete)return void debugLog(e,"vastId "+t.vastId+" - dup video ended event",!1);if(t.firedEvents.complete=1,debugLog(e,"vastId "+t.vastId+" - video onended",!1),"vpaid"!==e.mode&&(e.anyPlaying=anyOtherPlaying(e,t.vastId),e.anyPlaying||showRotator(e)),t.vastTracker?(verifyPlayerProgress("firstQuartile",e,t),verifyPlayerProgress("midpoint",e,t),verifyPlayerProgress("thirdQuartile",e,t),t.vastTracker.complete()):vastError(e,t.vastId,3,"no vastTracker for ended",!1,t,!1,!1,"vastTracker error"),"vpaid"==e.mode&&(restoreCallingFlashObjectStyle(e,t),e.vpaidObj.call("jsAdComplete",{},!0),e.vpaidObj.call("jsAdStopped",{},!0),e.divElem.style.display="none"),CEDATO_BROWSER.oldIE?setTimeout(function(){destroyPlayerData(e,t)},3e3):setTimeout(destroyPlayerData,3e3,e,t),e.frozen)return void debugLog(e,"vastId "+t.vastId+" - frozen - finishing here",!1);e.readyForStartAd&&resetReadyForStartAd(e),playNextVasts(e)}catch(a){vastError(e,t.vastId,3,"video onended gave JS exception: ",a,t)}};addEvent(a,"ended",l)}catch(d){vastError(e,t.vastId,3,"video prepare gave JS exception: ",d,t)}return a}function verifyPlayerProgress(e,t,a){if(e&&t&&a&&a.vastTracker.quartiles&&a.vastTracker.quartiles[e]){var r=a.vastTracker.quartiles[e];(!a.vastTracker.progress||a.vastTracker.progress<=r)&&(debugLog(t,"vastId "+a.vastId+" - advancing progress accordingly",!1),a.vastTracker.setProgress(r))}}function vpwException(e,t,a){debugLog(e,"vastId "+t.vastId+" - "+a+" resulted in exception, vpw disappeared",!1),t.vpwLoadRetry>10?(vastError(e,t.vastId,25,a+" gave up on vpw",!1,t),debugLog(e,"vastId "+t.vastId+" - "+a+"  too many errors - giving up",!1),t.tlvState=10):(debugLog(e,"vastId "+t.vastId+" - "+a+"  - allowing vpw to reload",!1),loadVPW(e,t,!0),debugLog(e,"vastId "+t.vastId+" - "+a+"  - allowing vpw to reload - done",!1))}function jsVPAdLoadedFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdLoadedHandler(r,t.uniqId)},10):setTimeout(commonVpaidAdLoadedHandler,0,r,t.uniqId),debugLog(r,"vastId "+t.vastId+" - got js adLoaded event",!1)}catch(n){vastError(r,t.vastId,3,"jsVpaidAdLoaded callback gave JS exception: ",n,t)}}function jsVPAdErrorFunc(e,t){try{var a=window[t.playersStorageName];"undefined"==typeof e?e="no message":"string"!=typeof e&&(e=e.message?e.message:e.data&&e.data.message?e.data.message:"Couldnt extract error message");var r;r=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdErrorHandler(a,t.uniqId,e)},10):setTimeout(commonVpaidAdErrorHandler,0,a,t.uniqId,e),debugLog(a,"vastId "+t.vastId+" - got js adError event: "+e,!1)}catch(n){vastError(a,t.vastId,3,"jsVpaidAdError callback gave JS exception: ",n,t)}}function jsVPAdStartedFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdStartedHandler(r,t.uniqId)},0):setTimeout(commonVpaidAdStartedHandler,0,r,t.uniqId);try{r.allowSound||!t.jsVPAIDElement.setAdVolume||r.usejsv||t.jsVPAIDElement.setAdVolume(0)}catch(n){}debugLog(r,"vastId "+t.vastId+" - got js adStarted event: ",!1)}catch(n){vastError(r,t.vastId,3,"jsVpaidAdStarted callback gave JS exception: ",n,t)}}function jsVPAdImpressionFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdImpressionHandler(r,t.uniqId)},10):setTimeout(commonVpaidAdImpressionHandler,0,r,t.uniqId),debugLog(r,"vastId "+t.vastId+" - got js adImpression event: ",!1);try{r.allowSound||!t.jsVPAIDElement.setAdVolume||r.usejsv||t.jsVPAIDElement.setAdVolume(0)}catch(n){}}catch(n){vastError(r,t.vastId,3,"jsVpaidAdImpression callback gave JS exception: ",n,t)}}function jsVPAdVideoStartFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdVideoStartHandler(r,t.uniqId)},10):setTimeout(commonVpaidAdVideoStartHandler,0,r,t.uniqId);try{r.allowSound||!t.jsVPAIDElement.setAdVolum||r.usejsv||t.jsVPAIDElement.setAdVolume(0)}catch(n){}debugLog(r,"vastId "+t.vastId+" - got js AdVideoStart event",!1)}catch(n){vastError(r,t.vastId,3,"jsVPAdVideoStartFunc callback gave JS exception: ",n,t)}}function jsVPAdFirstQuartileFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdFirstQuartileHandler(r,t.uniqId)},10):setTimeout(commonVpaidAdFirstQuartileHandler,0,r,t.uniqId),debugLog(r,"vastId "+t.vastId+" - got js FirstQuartile event",!1)}catch(n){vastError(r,t.vastId,3,"jsVpaidAdFirstQuartile callback gave JS exception: ",n,t)}}function jsVPAdMidpointFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdMidpointHandler(r,t.uniqId)},10):setTimeout(commonVpaidAdMidpointHandler,0,r,t.uniqId),debugLog(r,"vastId "+t.vastId+" - got js midpoint event",!1)}catch(n){vastError(r,t.vastId,3,"jsVpaidAdMidpoint callback gave JS exception: ",n,t)}}function jsVPAdThirdQuartileFunc(e,t){try{var a,r=window[t.playersStorageName];a=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdThirdQuartileHandler(r,t.uniqId)},0):setTimeout(commonVpaidAdThirdQuartileHandler,10,r,t.uniqId),debugLog(r,"vastId "+t.vastId+" - got js adThirdQuartile event",!1)}catch(n){vastError(r,t.vastId,3,"jsVpaidAdThirdQuartile callback gave JS exception: ",n,t)}}function jsVPAdCompleteFunc(e,t){try{var a=window[t.playersStorageName];debugLog(a,"vastId "+t.vastId+" - got js adComplete event",!1);var r;r=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdCompleteHandler(a,t.uniqId)},0):setTimeout(commonVpaidAdCompleteHandler,10,a,t.uniqId)}catch(n){vastError(a,t.vastId,3,"jsVpaidAdComplete callback gave JS exception: ",n,t)}}function jsVPAdStoppedFunc(e,t){try{var a=window[t.playersStorageName];debugLog(a,"vastId "+t.vastId+" - got js adStopped event",!1);var r;r=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdStoppedHandler(a,t.uniqId)},10):setTimeout(commonVpaidAdStoppedHandler,0,a,t.uniqId)}catch(n){vastError(a,t.vastId,3,"jsVpaidAdStopped callback gave JS exception: ",n,t)}}function jsVPAdRemainingTimeChangeFunc(e,t){try{var a=window[t.playersStorageName];"undefined"==typeof e&&(e=!1);var r;try{r=t.jsVPAIDElement.getAdRemainingTime()}catch(n){r=!1}if(!r&&(r=e,!r))try{r=t.jsVPAIDElement.remainingTime}catch(n){}if(debugLog(a,"vastId "+t.vastId+" - got js adRemainingTimeChange event, remainingTime:"+r,!1),!r)return;var o;o=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdRemainingTimeChangeHandler(a,t.uniqId,r)},10):setTimeout(commonVpaidAdRemainingTimeChangeHandler,0,a,t.uniqId,r),debugLog(a,"vastId "+t.vastId+" - got js adRemainingTimeChange event, t:"+r,!1)}catch(n){vastError(a,t.vastId,3,"jsVpaidAdRemainingTimeChange callback gave JS exception: ",n,t)}}function jsVPAdDurationChangeFunc(e,t){try{var a=window[t.playersStorageName];"undefined"==typeof e&&(e=!1);var r;try{r=t.jsVPAIDElement.getAdDuration()}catch(n){r=!1}if(!r&&(r=e,!r))try{r=t.jsVPAIDElement.duration}catch(n){}if(debugLog(a,"vastId "+t.vastId+" - got js adDurationChange event, duration:"+r,!1),!r)return;var o;o=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdDurationChangeHandler(a,t.uniqId,r)},10):setTimeout(commonVpaidAdDurationChangeHandler,0,a,t.uniqId,r),debugLog(a,"vastId "+t.vastId+" - got js adDurationChange event, t:"+r,!1)}catch(n){vastError(a,t.vastId,3,"adDurationChange callback gave JS exception: ",n,t)}}function jsVPAdClickthruFunc(e,t){try{var a=window[t.playersStorageName];"undefined"==typeof e&&(e="");var r;r=CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdClickthruHandler(a,t.uniqId,e)},10):setTimeout(commonVpaidAdClickthruHandler,0,a,t.uniqId,e),debugLog(a,"vastId "+t.vastId+" - got js adClickthru event, url: "+e,!1)}catch(n){vastError(a,t.vastId,3,"jsVpaidAdClickthru callback gave JS exception: ",n,t)}}function jsVpaidLoaded(e,t){try{debugLog(e,"vastId "+t.vastId+" - VPAID JS script loaded",!1);var a=t.jsVpaidFrame;if(1==t.jsVPAIDType){if(!a||!a.contentWindow||!a.contentWindow.getVPAIDAd)return vastError(e,t.vastId,324,"couldn't find js vpaid module",!1,t),t.tlvState=10,t.errorCount=t.errorCount+1,void requeryVast(t,0);var r,n=a.contentWindow&&a.contentWindow.document;if(r=e.usejsv&&e.mainAutoplay?new a.contentWindow.video_jsv:n.createElement("video"),t.vpaidJsIframeVideo=r,r.setAttribute("preload","auto"),r.style.margin="0",r.style.padding="0",r.style.top="0px",r.style.left="0px",r.style.position="absolute",r.style.width="100%",r.style.height="100%",e.allowSound||e.usejsv||(r.volume=0),e.usejsv&&e.mainAutoplay){var o="";r.canPlayType=function(){return o&&o.length>8&&!isStreamingUrl(o)?"probably":""},r.proxyUrl=function(t){return o=getVprUrl(t,e)}}t.vpaidJsIframeAdElem.appendChild(r),e.usejsv&&e.mainAutoplay&&(t.vpaidJsIframeVideoCanvas=t.vpaidJsIframeVideo.getElementsByTagName("canvas")[0]),t.initAdEnvObject={},t.initAdEnvObject.slot=t.vpaidJsIframeAdElem,t.initAdEnvObject.videoSlot=t.vpaidJsIframeVideo,t.initAdEnvObject.videoSlotCanAutoPlay=!0,e.usejsv&&!e.mainAutoplay&&(t.initAdEnvObject.videoSlotCanAutoPlay=!1),t.jsVPAIDElement=a.contentWindow.getVPAIDAd()}if(!t.jsVPAIDElement)return vastError(e,t.vastId,325,"failed to create js vpaid module",!1,t),t.tlvState=10,t.errorCount=t.errorCount+1,void requeryVast(t,0);t.jsVPAIDElement.handshakeVersion&&t.jsVPAIDElement.handshakeVersion("2.0"),1==t.jsVPAIDType&&(t.jsVPAIDElement.subscribe(function(e){jsVPAdLoadedFunc(e,t)},"AdLoaded"),t.jsVPAIDElement.subscribe(function(e){jsVPAdErrorFunc(e,t)},"AdError"),t.jsVPAIDElement.subscribe(function(e){jsVPAdStartedFunc(e,t)},"AdStarted"),t.jsVPAIDElement.subscribe(function(e){jsVPAdImpressionFunc(e,t)},"AdImpression"),t.jsVPAIDElement.subscribe(function(e){jsVPAdVideoStartFunc(e,t)},"AdVideoStart"),t.jsVPAIDElement.subscribe(function(e){jsVPAdFirstQuartileFunc(e,t)},"AdVideoFirstQuartile"),t.jsVPAIDElement.subscribe(function(e){jsVPAdMidpointFunc(e,t)},"AdVideoMidpoint"),t.jsVPAIDElement.subscribe(function(e){jsVPAdThirdQuartileFunc(e,t)},"AdVideoThirdQuartile"),t.jsVPAIDElement.subscribe(function(e){jsVPAdCompleteFunc(e,t)},"AdVideoComplete"),t.jsVPAIDElement.subscribe(function(e){jsVPAdStoppedFunc(e,t)},"AdStopped"),t.jsVPAIDElement.subscribe(function(e){jsVPAdClickthruFunc(e,t)},"AdClickThru"),t.jsVPAIDElement.subscribe(function(e){jsVPAdRemainingTimeChangeFunc(e,t)},"AdRemainingTimeChange"),t.jsVPAIDElement.subscribe(function(e){jsVPAdDurationChangeFunc(e,t)},"AdDurationChange")),debugLog(e,"vastId "+t.vastId+" - VPAID JS element prepared",!1),commonVpaidLoadedFunc(e,t)}catch(i){var s=t.vastId;vastError(e,s,3,"jsVpaidLoaded callback gave JS exception: ",i,t)}}function initMediaLoad(e,t){if(debugLog(e,"vastId "+t.vastId+" - initMediaLoad",!1),t.tlvState=2,t.companionHTML)try{"jsvpaid"!=t.adType&&(t.companionsElementDiv||(t.companionsElementDiv=document.createElement("div"),t.companionsElementDiv.setAttribute("style","width:100%;height:100%;position:relative;top:-"+e.height+"px;  "),e.callingFlashObject?e.companionsDivElem.appendChild(t.companionsElementDiv):e.divElem.appendChild(t.companionsElementDiv)),t.companionsElementDiv&&(debugLog(e,"vastId "+t.vastId+" - companionHTML: "+t.companionHTML,!1),t.companionsElementDiv.innerHTML=t.companionHTML))}catch(a){}if(("flvpaid"==t.adType||"jsvpaid"==t.adType)&&(t.durationKnown=!1,e.thirdPartyTimeout&&(-1!=t.mediaURL.indexOf("liverail.com")&&(-1==t.mediaURL.indexOf("LR_TIMEOUT_ADSOURCE")&&(t.mediaURL+="&LR_TIMEOUT_ADSOURCE="+e.thirdPartyTimeout,debugLog(e,"vastId "+t.vastId+" - initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1)),-1==t.mediaURL.indexOf("LR_TIMEOUT_DELIVERY")&&(t.mediaURL+="&LR_TIMEOUT_DELIVERY="+e.thirdPartyTimeout,debugLog(e,"vastId "+t.vastId+" - initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1))),-1!=t.mediaURL.indexOf("adap.tv")&&-1==t.mediaURL.indexOf("breakLoadedTimeout")))){var r=1e3*e.thirdPartyTimeout;t.mediaURL+="&breakLoadedTimeout="+r,debugLog(e,"vastId "+t.vastId+" - initMediaLoad - added timeout to media file, new url: "+t.mediaURL,!1)}if("flvpaid"==t.adType){e.urlReplacer&&e.urlReplacer.vastId==t.vastId&&-1!=t.mediaURL.indexOf(e.urlReplacer.searchFor)&&(t.mediaURL=e.urlReplacer.replaceWith+t.mediaURL.substr(t.mediaURL.indexOf("?"))),debugLog(e,"vastId "+t.vastId+" - initMediaLoad - uniqId: "+t.uniqId+", flash loadAd with url "+t.mediaURL,!1);try{-1!==t.mediaURL.indexOf("[[IMPORT]]")&&(t.mediaURL=t.mediaURL.replace("[[IMPORT]]",e.protocol+"/")),t.flashElement[t.flashEICallbacks]("vpwLoadAd",t.mediaURL,t.isIMA,12e4,t.playersStorageName,t.uniqId,e.successCallbackFuncName,e.failureCallbackFuncName,e.adLoadedCallbackFuncName,e.adErrorCallbackFuncName,e.adStartedCallbackFuncName,e.adImpressionCallbackFuncName,e.adFirstQuartileEventCallbackFundName,e.adMidpointEventCallbackFuncName,e.adThirdQuartileEventCallbackFundName,e.adCompleteEventCallbackFuncName,e.adRemainingtimeChangeCallbackFuncName,e.adDurationChangeCallbackFuncName,e.adClickthroughCallbackFuncName,e.adSetCompanionsCallbackFuncName,e.allowSound,e.width,e.height)}catch(a){return t.tlvState=1,t.errorCount++,vastError(e,t.vastId,5,"loadAd failed - vpw disappeared: "+a.message+" ** "+t.flashEICallbacks,!1,t),void vpwException(e,t,"initMediaLoad")}}else if("jsima"===t.adType)e.divElem.appendChild(t.videoElement),t.googleIMA.requestAds();else if("jsvpaid"==t.adType)debugLog(e,"vastId "+t.vastId+" - initMediaLoad - loading JS script "+t.mediaURL,!1),loadJSScript(t.mediaURL,jsVpaidLoaded,e,t);else if("video"==t.adType)if(debugLog(e,"vastId "+t.vastId+" - initMediaLoad - initializing video url to "+t.mediaURL,!0),logVastLoaded(e,t),e.usejsv){var n=getVprUrl(t.mediaURL,e);t.videoElement.setAttribute("src",n),null!=t.playVideoRetry&&(clearInterval(t.playVideoRetry),t.playVideoRetry=null);var o=function(e,t){debugLog(e,"vastId "+t.vastId+" - jsv play video retry",!1);var a=getVprUrl(t.mediaURL,e);t.videoElement.setAttribute("src",a)};CEDATO_BROWSER.oldIE?t.playVideoRetry=setInterval(function(){o(e,t)},2e4):t.playVideoRetry=setInterval(o,2e4,e,t)}else t.videoElement.src=t.mediaURL,t.videoElement.preload="auto",t.videoElement.autoplay="",t.videoElement.controls=e.controlBar,t.videoElement.loop="",e.allowSound||e.usejsv||(t.videoElement.volume=0);debugLog(e,"vastId "+t.vastId+" - initMediaLoad - done",!0)}function requeryVast(e,t){var a=window[e.playersStorageName];if(a&&getPlayerDataByUniq(a,e.uniqId)){if(null!=e.requeryTimeout)return void debugLog(a,"vastId "+e.vastId+" - requery vast already scheduled - ignoring",!1);if(null!=e.startAdStopper&&(clearTimeout(e.startAdStopper),e.startAdStopper=null),null!=e.startAdHalfStopper&&(clearTimeout(e.startAdHalfStopper),e.startAdHalfStopper=null),null!=e.startAdSwitcher&&(clearTimeout(e.startAdSwitcher),e.startAdSwitcher=null),null!=e.playVideoRetry&&(clearInterval(e.playVideoRetry),e.playVideoRetry=null),null!=e.initAdThrottler&&(clearInterval(e.initAdThrottler),e.initAdThrottler=null),0!=e.status){try{e.flashElement&&e.flashEICallbacks&&e.flashElement[e.flashEICallbacks]("clearAd",e.uniqId)}catch(r){}"jsvpaid"!=e.adType&&"jsima"!=e.adType||destroyVpaidJsData(e),debugLog(a,"vastId "+e.vastId+" - scheduling requery vast",!1),0===t&&(t=e.freqRetry?e.errorCount<10?1e3+Math.floor(500*Math.random()):e.errorCount<100?2e3+Math.floor(500*Math.random()):e.errorCount<110?2e3+Math.floor(1500*Math.random()):1e4:1==e.errorCount?200:e.errorCount<4?1e3:e.errorCount<10?1e3*e.errorCount:e.errorCount<100?1e4:100==e.errorCount?2e3:e.errorCount<104?3e3:e.errorCount<110?6e3:3e4,t*=a.vastWaitFactor,debugLog(a,"vastId "+e.vastId+" - wait is set to "+t+", ec: "+e.errorCount,!1));var n=function(e,t){debugLog(e,"vastId "+t.vastId+" - requery",!1),t.requeryTimeout=null,allocateAndFetchPlayerVast(e,t)};CEDATO_BROWSER.oldIE?e.requeryTimeout=setTimeout(function(){n(a,e)},t):e.requeryTimeout=setTimeout(n,t,a,e)}}}function hidePlayerData(e,t){t.videoElement&&(t.videoElement.style.display="none"),null!=t.flashElementDiv&&(t.flashElementDiv.style.zIndex=(-1-t.uniqId).toString()),null!=t.jsVPAIDElementDiv&&(t.jsVPAIDElementDiv.style.zIndex=(1-t.uniqId).toString()),t.vpaidJsIframeAdElem&&(t.vpaidJsIframeAdElem.style.zIndex=(1-t.uniqId).toString()),t.vpaidJsIframeVideo&&(t.vpaidJsIframeVideo.style.zIndex=(1-t.uniqId).toString())}function scheduleInitMediaLoad(e,t){e.domReady?"flvpaid"==t.adType?2===t.vpwLoaded?(debugLog(e,"vastId "+t.vastId+" - dom is already ready and vpw is loaded - calling initMediaLoad",!0),initMediaLoad(e,t)):debugLog(e,"vastId "+t.vastId+" - dom is ready but vpw is not loaded yet - initMediaLoad will be called later",!1):(debugLog(e,"vastId "+t.vastId+" - dom is already and this is a video ad - calling initMediaLoad",!1),initMediaLoad(e,t)):debugLog(e,"vastId "+t.vastId+" - dom is not ready - initMediaLoad will be called later",!1)}function allocateAndFetchPlayerVast(e,t){isCapped(t)&&t.allocatedQuota<=0?CEDATO_CAP.getVastAllocation(e.baseUrl,t.vastId,function(a){null!=a&&CEDATO_UTILS.isNumeric(a)&&a>0?(debugLog(e,"vastId "+t.vastId+" - received "+a+" quota from server.",!1),t.allocatedQuota=a,fetch_player_vast(t)):(debugLog(e,"vastId "+t.vastId+" - did not receive a positive integer as the quota. Removing from list.",!1),destroyPlayerData(e,t,!0))}):fetch_player_vast(t)}function fetchPlayerVasts(e,t){for(var a=0,r=t.length;r>a;a++){var n=t[a],o=n.playerId;isCedatox(n)&&null==e.cedatoxPlayersToFetchesCount[o]&&(e.cedatoxPlayersToFetchesCount[o]=0),isCapped(n)&&CEDATO_CAP.capAllocated(e.baseUrl,n.vastId,n.allocatedQuota,n.capType),CEDATO_UTILS.setTimeout(fetch_player_vast,50*a,n)}}function fetch_player_vast(e){var t=window[e.playersStorageName];if(t.frozen)return void debugLog(t,"vastId "+e.vastId+" - fpv - frozen - quiting",!1);e.loadAdTime=(new Date).getTime(),e.floadCbs=[],e.roundNo++,e.initAdEnvObject=null;var a=0;if(e.maxFailedVastRetries>0&&(a=e.maxFailedVastRetries),t.maxFailedVastRetries>0&&(0==a||t.maxFailedVastRetries<a)&&(a=t.maxFailedVastRetries),a>0&&e.roundNo>a)return debugLog(t,"vastId "+e.vastId+" - crossed number of allowed failed retries: "+a,!1),void destroyPlayerData(t,e,!0);var r=e.vastURL,n=(new Date).getTime();if(r=r.replace(/\[CB\]/g,n),r=r.replace(/\[CACHE_BUSTER\]/g,n),r=r.replace(/\[CACHEBUSTING\]/g,n),r=r.replace(/\[WIDTH\]/g,t.width),r=r.replace(/\[HEIGHT\]/g,t.height),t.info&&(r=r.replace(/\[DEVICEOS\]/gi,encodeURIComponent(t.info.os)),r=r.replace(/\[DEVICEOSV\]/gi,encodeURIComponent(t.info.osv)),r=r.replace(/\[DEVICEMAKE\]/gi,encodeURIComponent(t.info.make)),r=r.replace(/\[DEVICEMODEL\]/gi,encodeURIComponent(t.info.model))),r=r.replace(/\[PAGE_TITLE\]/g,t.pageTitle),debugLog(t,"vastId "+e.vastId+" - fetch_player_vast, url: "+e.vastURL,!1),e.ad=null,e.creative=null,e.mediaURL="",e.isFlash=0,e.adType&&(e.previousAdType=e.adType),e.adType=null,e.vpaidPlaying=0,e.vastTracker=null,e.skipVastTracker=!1,e.hasFlashVPAID=!1,e.hasJSVPAID=!1,hidePlayerData(t,e),-1!=r.indexOf(".g.doubleclick.net")&&(e.isIMA=!0),e.isIMA){if(t.flashSupport)debugLog(t,"vastId "+e.vastId+" - is IMA go to flash SDK",!1),e.isFlash=1,e.adType="flvpaid",e.mediaURL=r,e.companionHTML="",e.tlvState=1,e.skipVastTracker=!0;else{debugLog(t,"vastId "+e.vastId+" - is IMA go to JS SDK",!1),e.isFlash=0,e.adType="jsima",e.mediaURL=r,e.companionHTML="",e.tlvState=1,e.skipVastTracker=!0,e.videoElement||(e.videoElement=prepareVideoElem(t,e));var o=new GoogleIMA(t,e,imaEventHandler);e.googleIMA=o}return void scheduleInitMediaLoad(t,e)}var i={};i.withCredentials=!0,i.players=t,i.playerData=e,i.urlhandler=vastURLHandler,t.DMVAST.client.get(r,i,function(t){try{var a=window[e.playersStorageName],r=e.vastId;if(debugLog(a,"vastId "+r+" - got response",!1),a.frozen)return void debugLog(a,"vastId "+r+" - fpv answer - frozen - quiting",!1);if(!t||!t.ads)return vastError(a,e.vastId,26,"empty vast response",!1,e,!1,!0),debugLog(a,"vastId "+r+" - empty response",!1),e.errorCount=e.errorCount+1,void requeryVast(e,0);debugLog(a,"vastId "+r+" - got response with data",!0),debugLog(a,t,!0);for(var n,o=!1,i=!1,s=!1,l="",d=0,c=0,u=!1,p="",v="",g=t.ads.length,m=0;g>m;m++){var h=t.ads[m];debugLog(a,"vastId "+r+" - got ad",!1),debugLog(a,h,!0);for(var f=0,y=h.creatives.length;y>f;f++){var E=h.creatives[f];switch(debugLog(a,"vastId "+r+" - got creative",!0),debugLog(a,E,!0),E.type){case"linear":debugLog(a,"vastId "+r+" - creative is linear with "+E.mediaFiles.length+" medias",!0);for(var b=0,T=E.mediaFiles.length;T>b;b++){var I=E.mediaFiles[b];if(debugLog(a,"vastId "+r+" - got media",!0),debugLog(a,I,!0),v+=I.mimeType+",",debugLog(a,"vastId "+r+" - got media - mimeType: "+I.mimeType,!1),"video/"==I.mimeType.substr(0,6)||"application/x-shockwave-flash"==I.mimeType||"application/javascript"==I.mimeType){if("application/javascript"==I.mimeType&&(e.hasJSVPAID=!0,n=!0),"video/"==I.mimeType.substr(0,6)){try{if(!a.usejsv&&!a.hasVideoSupport){debugLog(a,"vastId "+r+" - no video support for mimeType: "+I.mimeType,!1);continue}if(e.videoElement||(e.videoElement=prepareVideoElem(a,e)),!a.usejsv&&!e.videoElement.canPlayType(I.mimeType)){debugLog(a,"vastId "+r+" - unsupported mimeType: "+I.mimeType,!0);continue}}catch(A){}if(a.usejsv&&"video/webm"!=I.mimeType&&"video/mp4"!=I.mimeType&&"video/wmv"!=I.mimeType&&"video/flv"!=I.mimeType){debugLog(a,"vastId "+r+" - unsupported mimeType: "+I.mimeType,!0);continue}}if("application/x-shockwave-flash"==I.mimeType&&(e.hasFlashVPAID=!0),"application/x-shockwave-flash"!=I.mimeType||a.flashSupport){if("video/"==I.mimeType.substr(0,6)){if(I.deliveryType&&"streaming"==I.deliveryType||isStreamingUrl(I.fileURL)||I.fileURL.legnth<8||-1!==I.fileURL.indexOf("cdn.vdopia.com")){debugLog(a,"vastId "+r+" - dont allow streaming",!0);continue}var L=!0;if(0!=I.bitrate&&0!=d){if(L=!1,I.bitrate>d){debugLog(a,"vastId "+r+" - bitrate is higher than chosen: "+I.bitrate,!0);continue}I.bitrate==d?L=!0:debugLog(a,"vastId "+r+" - choosing bitrate "+I.bitrate+" over previously chosen bitrate "+d,!0)}else if(0!=c&&0!=I.width){L=!1;var S=I.width*I.height;if(S>c){debugLog(a,"vastId "+r+" - size is higher than chosen: "+I.mediaSize,!0);continue}S==c?L=!0:debugLog(a,"vastId "+r+" - choosing size "+S+" over previously chosen size "+c,!0)}if(L&&""!=l){if("video/webm"==l){debugLog(a,"vastId "+r+" - same speed but already chosen preferred webm over "+I.mimeType,!0);continue}if("video/ogg"==l&&"video/mp4"==I.mimeType){debugLog(a,"vastId "+r+" - same speed but already chosen preferred ogg over "+I.mimeType,!0);continue}if("video/3gp"==l&&"video/mp4"==I.mimeType){debugLog(a,"vastId "+r+" - same speed but already chosen preferred 3gp over "+I.mimeType,!0);continue}debugLog(a,"vastId "+r+" - choosing mimeType "+I.mimeType+" over previously chosen "+l,!0)}}var D=!0;if(1==e.vastPreferType?D=!0:2==e.vastPreferType&&(D=!1),-1!==I.fileURL.indexOf("cdn.altitude-arena.com")&&(D=!0),!a.callingFlashObject||"application/x-shockwave-flash"===I.mimeType){if("application/x-shockwave-flash"===I.mimeType){if("application/javascript"==l){if(!e.previousAdType&&!D){debugLog(a,"vastId "+r+" - preferring vpaidjs to flash",!0);continue}if(e.previousAdType&&"flvpaid"===e.previousAdType){debugLog(a,"vastId "+r+" - had flash before now trying JS ",!0);continue}}if(""!==l&&"application/javascript"!==l&&"application/x-shockwave-flash"!==l){debugLog(a,"vastId "+r+" - prefer video over flash",!0);continue}}if("application/javascript"===I.mimeType){if("application/x-shockwave-flash"===l){if(e.previousAdType&&"jsvpaid"==e.previousAdType){debugLog(a,"vastId "+r+" - preferring flash choice if previous is vpaidjs ",!0);continue}if(!e.previousAdType&&D){debugLog(a,"vastId "+r+" - preferring flash to vpaidjs",!0);continue}}if(""!==l&&"application/javascript"!==l&&"application/x-shockwave-flash"!==l){debugLog(a,"vastId "+r+" - prefer video over JS",!0);continue}}0!=I.bitrate?d=I.bitrate:0!=I.width&&(c=I.width*I.height),l=I.mimeType,o=m,i=f,s=b,u=!0,debugLog(a,"vastId "+r+" - chosen media",!1)}}else debugLog(a,"vastId "+r+" - flash mimetype but we don't have flash support",!0)}else debugLog(a,"vastId "+r+" - not a video mimeType: "+I.mimeType,!0)}break;case"non-linear":break;case"companion":for(var C=0,w=E.variations.length;w>C;C++){var _=E.variations[C];_.width==a.width&&_.height==a.height&&("image/jpeg"==_.type||(p=_.htmlResource))}}}if(u){try{var h=t.ads[o],E=h.creatives[i],I=E.mediaFiles[s];debugLog(a,"vastId "+r+" - chosen ad-creative-media",!1),debugLog(a,h,!0),debugLog(a,E,!0),debugLog(a,I,!0),e.adParameters=E.adParameters,1!=h.impressionURLTemplates.length||h.impressionURLTemplates[0]||(h.impressionURLTemplates=[]),e.ad=h,e.creative=E,"application/x-shockwave-flash"==l?(debugLog(a,"vastId "+r+" - media is flash",!1),e.isFlash=1,e.isJSVPaid=0,e.adType="flvpaid"):"application/javascript"==l?(debugLog(a,"vastId "+r+" - media is javascript",!1),e.isFlash=0,e.isJSVPaid=1,e.jsVPAIDType=n,e.adType="jsvpaid"):(debugLog(a,"vastId "+r+" - media is video",!1),e.isFlash=0,e.isJSVPaid=0,e.adType="video"),e.mediaURL=I.fileURL,e.mediaURL=e.mediaURL.trim(),a.usejsv||"flvpaid"==e.adType||(e.mediaURL=fixURLPrm(a.protocol,e.mediaURL)),e.companionHTML=p,e.tlvState=1}catch(A){return vastError(a,e.vastId,3,"fpv-chosen gave JS exception: ",A,e,!1,!0),e.errorCount=e.errorCount+1,void requeryVast(e,0)}try{scheduleInitMediaLoad(a,e)}catch(A){return vastError(a,e.vastId,3,"fpv-chosen-init2 gave JS exception: ",A,e,!1,!0),e.errorCount=e.errorCount+1,void requeryVast(e,0)}break}return vastError(a,e.vastId,27,"no suitable media: "+v,!1,e,!1,!0),debugLog(a,"vastId "+r+" - error - no suitable media",!1),a.DMVAST.util.track(h.errorURLTemplates,{ERRORCODE:403}),e.errorCount=e.errorCount+1,void requeryVast(e,0)}}catch(A){return vastError(a,e.vastId,3,"fpv gave JS exception: ",A,e,!1,!0),e.errorCount=e.errorCount+1,void requeryVast(e,0)}})}function imaEventHandler(e){var t=e.target;switch(e.type){case GOOGLE_IMA_EVENTS.SDK_LOADED:t.start(),commonVpaidLoadedFunc(t.players,t.playerData);break;case GOOGLE_IMA_EVENTS.COMPLETE:commonVpaidAdCompleteHandler(t.players,t.playerData.uniqID);break;case GOOGLE_IMA_EVENTS.ALL_ADS_COMPLETED:requeryVast(t.playerData,0);break;case GOOGLE_IMA_EVENTS.DURATION_CHANGE:commonVpaidAdDurationChangeHandler(t.players,t.playerData.uniqID,t.duration);break;case GOOGLE_IMA_EVENTS.AD_ERROR:commonVpaidAdErrorHandler(t.players,t.playerData.uniqID,t.msg);break;case GOOGLE_IMA_EVENTS.FIRST_QUARTILE:commonVpaidAdFirstQuartileHandler(t.players,t.playerData.uniqID);break;case GOOGLE_IMA_EVENTS.IMPRESSION:commonVpaidAdImpressionHandler(t.players,t.playerData.uniqID,null);break;case GOOGLE_IMA_EVENTS.LOADED:commonVpaidAdLoadedHandler(t.players,t.playerData.uniqID,null);break;case GOOGLE_IMA_EVENTS.MIDPOINT:commonVpaidAdMidpointHandler(t.players,t.playerData.uniqID);break;case GOOGLE_IMA_EVENTS.DURATION_CHANGE:commonVpaidAdRemainingTimeChangeHandler(t.players,t.playerData.uniqID,123);break;case GOOGLE_IMA_EVENTS.STARTED:t.players.contentUrlPlayer&&t.players.contentUrlPlayer.hideContent(),commonVpaidAdStartedHandler(t.players,t.playerData.uniqID);break;case GOOGLE_IMA_EVENTS.THIRD_QUARTILE:commonVpaidAdThirdQuartileHandler(t.players,t.playerData.uniqID);break;case GOOGLE_IMA_EVENTS.CLICK:commonVpaidAdClickthruHandler(t.players,t.playerData.uniqID,t.url)}}function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function getPlayerDataByUniq(e,t){for(var a=0,r=e.plist.length;r>a;a++)if(e.plist[a].uniqId==t)return e.plist[a];return null}function anyOtherPlaying(e,t){for(var a=0,r=e.plist.length;r>a;a++)if(e.plist[a].vastId!=t&&6==e.plist[a].tlvState)return!0;return!1}function callVPAIDInitAd(e,t){t.vastId;null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null);var a,r;try{if(debugLog(e,"vastId "+t.vastId+" - calling initAd, uniqId: "+t.uniqId,!1),t.tlvState=3,"jsima"==t.adType&&t.googleIMA)return;if("flvpaid"==t.adType&&(r="vpw disappeared","string"!=typeof t.adParameters&&(t.adParameters=""),a=t.flashElement[t.flashEICallbacks]("vpwInitAd",t.adParameters,t.uniqId)),"jsvpaid"==t.adType){r="external js exception";var n=!1;n={},t.adParameters?n.AdParameters=t.adParameters:n.AdParameters={},n===!1&&(n={}),a=t.jsVPAIDElement.initAd(e.width,e.height,"normal",4800,n,t.initAdEnvObject),e.usejsv&&e.mainAutoplay&&0==t.vpaidJsIframeVideo.getElementsByTagName("canvas").length&&t.vpaidJsIframeVideo.appendChild(t.vpaidJsIframeVideoCanvas),("undefined"==typeof a||a)&&(a="1")}}catch(o){return vastError(e,t.vastId,5,"initAd failed - "+r+": "+o.message,!1,t),t.tlvState=10,t.errorCount=t.errorCount+1,requeryVast(t,0),void("flvpaid"==t.adType&&vpwException(e,t,"initAd"))}if("1"==a)debugLog(e,"vastId "+t.vastId+" - initAd returned success",!1);else{var i="no reason given";try{"flvpaid"==t.adType&&(i=t.flashElement[t.flashEICallbacks]("getLastError",t.uniqId)),"jsvpaid"==t.adType&&(i="js vpaid error")}catch(o){i="getLastError gave exception: "+o.message}vastError(e,t.vastId,5,"initAd failed - "+i,!1,t,!1,!0),t.tlvState=10,t.errorCount=t.errorCount+1,"flvpaid"==t.adType&&loadVPW(e,t,!0),requeryVast(t,0)}}function getInitedVastsCount(e){for(var t=0,a=0,r=e.plist.length;r>a;a++)e.plist[a].tlvState>=3&&10!=e.plist[a].tlvState&&t++;return t}function canInitAd(e,t){for(var a="in group "+t.group+", ",r=!0,n=0,o=e.plist.length;o>n;n++)if("1"==e.plist[n].group&&e.plist[n].tlvState<3&&!e.plist[n].errorCount&&e.plist[n].roundNo<=1){r=!1;break}for(var i=!0,n=0,o=e.plist.length;o>n;n++)if("1"==e.plist[n].group&&e.plist[n].tlvState<6&&!e.plist[n].errorCount&&e.plist[n].roundNo<=1){
i=!1;break}if("1"==t.group&&t.errorCount<=1)return a+" and no/low error count";if(t.duplicatedNow)return t.duplicatedNow=!1,a+" just duplicated";if("1"!=t.group&&!i)return!1;if("1"!=t.group&&e.anyPlaying)return!1;var s=getInitedVastsCount(e);if(6>s){if("1"==t.group)return a+" and less than 6 total";if(r)return a+" and less than 6 total, all group 1 inited"}return!1}function commonVpaidLoadedFunc(e,t){null!=t.requeryTimeout&&(debugLog(e,"vastId "+t.vastId+" - cleared pending requery",!1),clearTimeout(t.requeryTimeout),t.requeryTimeout=null);var a=canInitAd(e,t);if(!a){debugLog(e,"vastId "+t.vastId+" - initAd throttled, we'll wait",!1);var r=function(e,t){try{var a=canInitAd(e,t);a&&(debugLog(e,"vastId "+t.vastId+" - initAd throttler passed in interval: "+a,!1),callVPAIDInitAd(e,t))}catch(r){vastError(e,t.vastId,3,"iat gave JS exception: ",r,t)}};return void(CEDATO_BROWSER.oldIE?t.initAdThrottler=setInterval(function(){r(e,t)},300):t.initAdThrottler=setInterval(r,300,e,t))}debugLog(e,"vastId "+t.vastId+" - initAd throttler passed: "+a,!1),callVPAIDInitAd(e,t)}function commonVpaidAdLoadedHandler(e,t,a){var r=getPlayerDataByUniq(e,t);if(!r)return void debugLog(e,"got adLoaded callback for a gone uniq",!1);if(r.firedEvents.AdLoaded)return void debugLog(e,"AdLoaded fired already",!1);r.firedEvents.AdLoaded=!0;var n=r.vastId;return("undefined"==typeof a||0>a)&&(a=""),debugLog(e,"vastId "+n+" - got vpaid adLoaded callback, uniqId: "+t+", mem used: "+a,!1),null!=r.requeryTimeout&&(debugLog(e,"vastId "+n+" - cleared pending requery",!1),clearTimeout(r.requeryTimeout),r.requeryTimeout=null),r.tlvState<2||10==r.tlvState?void debugLog(e,"vastId "+n+" - adLoaded on wrong state - ignoring it - "+r.tlvState,!1):r.tlvState>3&&10!=r.tlvState?void debugLog(e,"vastId "+n+" - second adLoaded event - ignoring it",!1):(r.tlvState=4,debugLog(e,"vastId "+n+" - marked as ready to play",!0),logVastLoaded(e,r,a),"vpaid"==e.mode&&e.vpaidObj.call("jsAdReadyToStart",{},!0),void playNextVasts(e))}function commonVpaidAdErrorHandler(e,t,a){var r=getPlayerDataByUniq(e,t);if(!r)return void debugLog(e,"got adError callback for a gone uniq",!1);restoreCallingFlashObjectStyle(e,r);var n=r.vastId;if(debugLog(e,"vastId "+n+" - got vpaid aderror callback, message: "+a,!1),r.tlvState<=2||10==r.tlvState)return void debugLog(e,"vastId "+n+" - vpaid aderror callback on invalid state - ignoring - "+r.tlvState,!1);var o=!1,i=!1;1==r.vpaidPlaying&&(r.vpaidPlaying=0,e.parallelStartAd?6!=r.tlvState&&7!=r.tlvState||(debugLog(e,"vastId "+n+" - was playing",!1),e.anyPlaying=anyOtherPlaying(e,n),e.anyPlaying||showRotator(e)):(debugLog(e,"vastId "+n+" - was playing",!1),e.anyPlaying=anyOtherPlaying(e,n),e.anyPlaying||showRotator(e)),null!=r.startAdHalfStopper&&(clearTimeout(r.startAdHalfStopper),r.startAdHalfStopper=null),null!=r.startAdStopper&&(clearTimeout(r.startAdStopper),r.startAdStopper=null),e.parallelStartAd&&(i=!0)),r.tlvState<4&&(o=!0),null!=r.startAdSwitcher&&(clearTimeout(r.startAdSwitcher),r.startAdSwitcher=null),null!=r.initAdThrottler&&(clearInterval(r.initAdThrottler),r.initAdThrottler=null);var s=22,l="";try{l=a.toLowerCase()}catch(d){}-1==l.indexOf("timeout")&&-1==l.indexOf("timed out")||(s=110),-1==l.indexOf("empty")&&-1==l.indexOf("3403")||(s=111),-1!=l.indexOf("domain")&&-1!=l.indexOf("block")&&(s=112),-1==l.indexOf("no ad")&&-1==l.indexOf("there was an error parsing the ad tag response - null, errno: 0")||(s=113),-1==l.indexOf("but the server returned a vast error")&&-1==l.indexOf("failed to parse liverail xml response")&&-1==l.indexOf("unknown liverail xml response type")||(s=114),-1==l.indexOf("security error")&&-1==l.indexOf("2048")||(s=115),-1==l.indexOf("2032")&&-1==l.indexOf("9408")&&-1==l.indexOf("error loading asset : ioerror")||(s=116),-1!=l.indexOf("1903")&&(s=117),-1!=l.indexOf("1902")&&(s=118),-1!=l.indexOf("volume violation")&&(e.debugLogReason="volume",submitDebugLogBuffer(e),submitDebugLog(e),e.keepDebugLog=!0,s=300),-1!=l.indexOf("non linear ads")&&(s=157),-1!=l.indexOf("adstart exception")&&(s=156),vastError(e,r.vastId,s,"onAdError on state "+r.tlvState+" : "+a,!1,r,i,o),r.tlvState>=5?r.errorCount=r.errorCount+100:r.errorCount=r.errorCount+1,null!=r.vastTracker&&r.vastTracker.errorWithCode(901),6==r.tlvState||7==r.tlvState?destroyPlayerData(e,r,!0):(r.tlvState=10,"flvpaid"==r.adType&&loadVPW(e,r,!0),requeryVast(r,0)),playNextVasts(e)}function commonVpaidAdStartedHandler(e,t){var a=getPlayerDataByUniq(e,t);return a?a.firedEvents.AdStarted?void debugLog(e,"AdStarted fired already",!1):(a.firedEvents.AdStarted=!0,a.firedEvents.AdLoaded||commonVpaidAdLoadedHandler(e,t,null),a.adStartCount++,a.adStartCount>1&&vastError(e,a.vastId,61,"double adstart: "+a.adStartCount,!1,a),void("vpaid"==e.mode&&e.vpaidObj.call("jsAdStarted",{},!0))):void debugLog(e,"got adStarted callback for a gone uniq",!1)}function commonVpaidAdImpressionHandler(e,t,a){var r=0,n=getPlayerDataByUniq(e,t);return n?n.firedEvents.AdImpression?void debugLog(e,"AdImpression fired already",!1):(n.firedEvents.AdImpression=!0,n.firedEvents.AdStarted||commonVpaidAdStartedHandler(e,t),("undefined"==typeof a||0>a)&&(a=""),debugLog(e,"vastId "+n.vastId+" - got flash impression callback, uniqId: "+t+", mem used: "+a,!1),10==n.tlvState||n.tlvState<5?void debugLog(e,"vastId "+n.vastId+" - got flash impression callback but in invalid state - ignoring - "+n.tlvState,!1):void(adImpression(e,n.uniqId,!1,a)&&(r=1,null!=n.startAdHalfStopper&&(clearTimeout(n.startAdHalfStopper),n.startAdHalfStopper=null),null!=n.startAdStopper&&(clearTimeout(n.startAdStopper),n.startAdStopper=null),n.errorCount=0))):void debugLog(e,"got adImpression callback for a gone uniq",!1)}function commonVpaidAdVideoStartHandler(e,t){var a=getPlayerDataByUniq(e,t);if(!a)return void debugLog(e,"got VPAID AdVideoStart callback for a gone uniq",!1);if(a.firedEvents.AdVideoStart)return void debugLog(e,"AdVideoStart fired already",!1);a.firedEvents.AdVideoStart=!0,a.firedEvents.AdImpression||commonVpaidAdImpressionHandler(e,t,null);var r=a.vastId;debugLog(e,"vastId "+r+" - got flash AdVideoStart callback, uniqId: "+t,!1),"vpaid"==e.mode&&e.vpaidObj.call("jsAdVideoStart",{},!0)}function commonVpaidAdFirstQuartileHandler(e,t){var a=getPlayerDataByUniq(e,t);if(!a)return void debugLog(e,"got flash first quartile callback for a gone uniq",!1);var r=a.vastId;if(debugLog(e,"vastId "+r+" - got flash adFirstQuartile callback, uniqId: "+t,!1),a.skipVastTracker)debugLog(e,"vastId "+r+" - skip vast tracker mode, calling directly",!1),a.vtFirstQuartileFunc(a);else if(a.vastTracker){if(a.vastTracker.quartiles&&a.vastTracker.quartiles.firstQuartile){var n=a.vastTracker.quartiles.firstQuartile;!a.vastTracker.progress||a.vastTracker.progress<n?(debugLog(e,"vastId "+r+" - advancing progress accordingly",!1),a.vastTracker.setProgress(n)):debugLog(e,"vastId "+r+" - progress is in the right place ("+a.vastTracker.progress+")",!1)}}else vastError(e,a.vastId,3,"no vastTracker for first quartile",!1,a,!1,!1,"vastTracker error");"vpaid"==e.mode&&e.vpaidObj.call("jsAdFirstQuartile",{},!0)}function commonVpaidAdMidpointHandler(e,t){var a=getPlayerDataByUniq(e,t);if(!a)return void debugLog(e,"got flash midpoint callback for a gone uniq",!1);var r=a.vastId;if(debugLog(e,"vastId "+r+" - got flash adMidpoint callback",!1),a.skipVastTracker)debugLog(e,"vastId "+r+" - skip vast tracker mode, calling directly",!1),a.vtMidPointFunc(a);else if(a.vastTracker){if(a.vastTracker.quartiles&&a.vastTracker.quartiles.midpoint){var n=a.vastTracker.quartiles.midpoint;!a.vastTracker.progress||a.vastTracker.progress<n?(debugLog(e,"vastId "+r+" - advancing progress accordingly",!1),verifyPlayerProgress("firstQuartile",e,a),a.vastTracker.setProgress(n)):debugLog(e,"vastId "+r+" - progress is in the right place",!1)}}else vastError(e,a.vastId,3,"no vastTracker for midpoint",!1,a,!1,!1,"vastTracker error");"vpaid"==e.mode&&e.vpaidObj.call("jsAdMidpoint",{},!0)}function commonVpaidAdThirdQuartileHandler(e,t){var a=getPlayerDataByUniq(e,t);if(!a)return void debugLog(e,"got flash third quartile callback for a gone uniq",!1);var r=a.vastId;if(debugLog(e,"vastId "+r+" - got flash adThirdQuartile callback",!1),a.skipVastTracker)debugLog(e,"vastId "+r+" - skip vast tracker mode, calling directly",!1),a.vtThirdQuartileFunc(a);else if(a.vastTracker){if(a.vastTracker.quartiles&&a.vastTracker.quartiles.thirdQuartile){var n=a.vastTracker.quartiles.thirdQuartile;!a.vastTracker.progress||a.vastTracker.progress<n?(debugLog(e,"vastId "+r+" - advancing progress accordingly",!1),verifyPlayerProgress("firstQuartile",e,a),verifyPlayerProgress("midpoint",e,a),a.vastTracker.setProgress(n)):debugLog(e,"vastId "+r+" - progress is in the right place",!1)}}else vastError(e,a.vastId,3,"no vastTracker for third quartile",!1,a,!1,!1,"vastTracker error");"vpaid"==e.mode&&e.vpaidObj.call("jsAdThirdQuartile",{},!0)}function commonVpaidAdCompleteHandler(e,t){var a=getPlayerDataByUniq(e,t);if(!a)return void debugLog(e,"got vpaid adComplete callback for a gone uniq",!1);restoreCallingFlashObjectStyle(e,a),hidePlayerData(e,a);var r=a.vastId;return debugLog(e,"vastId "+r+" - got vpaid adComplete callback",!1),6!=a.tlvState&&7!=a.tlvState?void debugLog(e,"vastId "+r+" - vpaid adcomplete callback on invalid state - ignoring - "+a.tlvState,!1):(a.tlvState=8,e.anyPlaying=anyOtherPlaying(e,r),e.anyPlaying||showRotator(e),null!=a.startAdSwitcher&&(clearTimeout(a.startAdSwitcher),a.startAdSwitcher=null),a.skipVastTracker?(debugLog(e,"vastId "+r+" - skip vast tracker mode, calling directly",!1),a.vtCompleteFunc(a)):null==a.vastTracker?vastError(e,a.vastId,3,"no vastTracker for complete",!1,a,!1,!1,"vastTracker error"):(verifyPlayerProgress("firstQuartile",e,a),verifyPlayerProgress("midpoint",e,a),verifyPlayerProgress("thirdQuartile",e,a),a.vastTracker.complete()),"vpaid"==e.mode&&(e.vpaidObj.call("jsAdComplete",{},!0),e.vpaidObj.call("jsAdStopped",{},!0)),CEDATO_BROWSER.oldIE?setTimeout(function(){destroyPlayerData(e,a)},3e3):setTimeout(destroyPlayerData,3e3,e,a),e.frozen?void debugLog(e,"vastId "+r+" - frozen - finishing here",!1):(e.readyForStartAd&&resetReadyForStartAd(e),void playNextVasts(e)))}function commonVpaidAdStoppedHandler(e,t){var a=getPlayerDataByUniq(e,t);return a?(restoreCallingFlashObjectStyle(e,a),debugLog(e,"vastId "+a.vastId+" - got flash adStopped callback",!1),void(6!=a.tlvState&&7!=a.tlvState||(debugLog(e,"triggering manual AdComplete",!1),commonVpaidAdCompleteHandler(e,t)))):void debugLog(e,"got flash adStopped callback for a gone uniq",!1)}function commonVpaidAdClickthruHandler(e,t,a){var r=getPlayerDataByUniq(e,t);return r?(e.apiInterface.trigger("click",{url:a,vastId:r.vastId}),debugLog(e,"vastId "+r.vastId+" - got flash click through callback",!1),r.skipVastTracker?(debugLog(e,"vastId "+r.vastId+" - skip vast tracker mode, calling directly",!1),r.vtClickThroughFunc(a,r)):null==r.vastTracker?vastError(e,r.playerData.vastId,3,"no vastTracker for click",!1,r,!1,!1,"vastTracker error"):r.vastTracker.click(),void("vpaid"==e.mode&&e.vpaidObj.call("jsAdClickthrough",{url:a},!0))):void debugLog(e,"got flash click callback for a gone uniq",!1)}function commonVpaidAdDurationChangeHandler(e,t,a){var r=getPlayerDataByUniq(e,t);return r?(debugLog(e,"vastId "+r.vastId+" - got vpaid ad duration time callback, t: "+a,!0),r.duration=a,r.durationKnown=!0,r.vastTracker&&(r.vastTracker.duration=r.duration,r.vastTracker.setDuration(r.duration)),void("vpaid"==e.mode&&e.vpaidObj.call("jsAdDurationChange",{duration:a},!0))):void debugLog(e,"got vpaid duration change callback for a gone uniq",!1)}function commonVpaidAdRemainingTimeChangeHandler(e,t,a){var r=getPlayerDataByUniq(e,t);return r?(debugLog(e,"vastId "+r.vastId+" - got flash ad remaining time callback, t: "+a,!0),void(!r.durationKnown||r.tlvState<6?(debugLog(e,"vastId "+r.vastId+" - got first flash ad remaining time callback, duration set to t: "+a,!0),r.duration=a,r.durationKnown=!0,r.vastTracker&&(r.vastTracker.duration=r.duration,r.vastTracker.setDuration(r.duration)),"vpaid"==e.mode&&e.vpaidObj.call("jsAdDurationChange",{duration:a},!0)):(r.vastTracker&&r.vastTracker.setProgress(r.duration-a),"vpaid"==e.mode&&e.vpaidObj.call("jsAdRemainingTimeChange",{remainingTime:a},!0)))):void debugLog(e,"got flash remaining callback for a gone uniq",!1)}function initFlashFunctions(e){if(e.anyVPWLoaded=0,e.reportVPWLoaded){e.reportVPWLoaded=!0,e.reportVPWLoadedCount=0,debugLog(e,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,e,{time:0,state:0},{},debugLog);var t=function(e){try{debugLog(e,"vpws 10 seconds interval",!1),e.reportVPWLoadedCount++;var t=10*e.reportVPWLoadedCount,a=!1;e.anyVPWLoaded>0||e.reportVPWLoadedCount>4?(debugLog(e,"vpws 10 seconds interval - time to stop",!1),a=!0):(debugLog(e,"vpws - reporting state 0",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,e,{time:t,state:0},{},debugLog)),a&&(clearInterval(e.reportVPWStateInterval),e.reportVPWStateInterval=null)}catch(r){playerError(e,3,"rvpwIntervalFunc gave JS exception: "+r.message)}};CEDATO_BROWSER.oldIE?e.reportVPWStateInterval=setInterval(function(){t(e)},1e4):e.reportVPWStateInterval=setInterval(t,1e4,e)}e.floadSuccessCallbackFuncName="flsc"+Math.floor(1000001*Math.random()),window[e.floadSuccessCallbackFuncName]=function(e,t,a,r){try{var n=window[e],o=getPlayerDataByUniq(n,t);if(!o)return void debugLog(n,"got fload success callback for a gone uniq",!1);var i=o.vastId;if(debugLog(n,"vastId "+i+" - got fload success callback "+a,!1),n.logVastResponse&&(debugLog(n,"vastId "+o.vastId+" - fload response:",!1),debugLog(n,r,!1)),!o.floadCbs[a])return void debugLog(n,"vastId "+i+" - fload success cb disappeared "+a,!1);var s={};s.players=n,s.playerData=o,s.urlhandler=vastURLHandler;var l;try{l=CEDATO_BROWSER.parseTextToXML(r)}catch(d){vastError(n,i,3,"fload success XML parse callback gave JS exception: "+r,d,o)}if(!l)return debugLog(n,"vastId "+i+" - fload failed - no xmlDocument",!1),o.floadCbs[a](null,null,s);CEDATO_BROWSER.oldIE?setTimeout(function(){o.floadCbs[a](null,l,s)},10):setTimeout(o.floadCbs[a],0,null,l,s)}catch(d){var n=window[e],o=getPlayerDataByUniq(n,t),i=o.vastId;vastError(n,i,3,"fload success callback gave JS exception: ",d,o)}},e.floadFailureCallbackFuncName="flfc"+Math.floor(1000001*Math.random()),window[e.floadFailureCallbackFuncName]=function(e,t,a,r,n){try{var o=window[e],i=getPlayerDataByUniq(o,t);if(!i)return void debugLog(o,"got fload failure callback for a gone uniq",!1);var s=i.vastId;if(debugLog(o,"vastId "+s+" - got fload failure callback "+a+", errorCode: "+r+", errorMessage: "+n,!1),!i.floadCbs[a])return void debugLog(o,"vastId "+s+" - fload failure cb disappeared "+a,!1);var l={};l.players=o,l.playerData=i,l.urlhandler=vastURLHandler,CEDATO_BROWSER.oldIE?setTimeout(function(){i.floadCbs[a](null,null,l)},10):setTimeout(i.floadCbs[a],0,null,null,l)}catch(d){var o=window[e],i=getPlayerDataByUniq(o,t),s=i.vastId;vastError(o,s,3,"fload failure callback gave JS exception: ",d,i)}},e.successCallbackFuncName="sc"+Math.floor(1000001*Math.random()),window[e.successCallbackFuncName]=function(e,t,a){try{var r=window[e],n=getPlayerDataByUniq(r,t);if(!n)return void debugLog(r,"got fload success callback for a gone uniq",!1);var o=n.vastId;("undefined"==typeof a||0>a)&&(a=""),debugLog(r,"vastId "+o+" - got flash success callback, uniqId: "+t+", mem used: "+a,!1),CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidLoadedFunc(r,n)},10):setTimeout(commonVpaidLoadedFunc,0,r,n)}catch(i){var r=window[e];if(r&&t){var n=getPlayerDataByUniq(r,t),o=n.vastId;vastError(r,o,3,"flash success callback gave JS exception: ",i,n)}}},e.failureCallbackFuncName="fc"+Math.floor(1000001*Math.random()),window[e.failureCallbackFuncName]=function(e,t,a,r){try{var n=window[e],o=getPlayerDataByUniq(n,t);if(!o&&n)return void debugLog(n,"got flash failure callback for a gone uniq",!1);var i=function(e,t,a,r,n,o){var i=t.vastId;debugLog(e,"vastId "+i+" - got flash failure callback, errorCode: "+n+", errorMessage: "+o,!1),t.tlvState=10,t.errorCount=t.errorCount+1,-1!=o.indexOf("#2035")&&(n=2035,o="URL not found"),-1!=o.indexOf("#2036")&&(n=2036,o="Load not completed"),vastError(e,i,n,"flash failure called: "+o,!1,t,!1,!0);try{t.flashElement[t.flashEICallbacks]("clearAd",t.uniqId)}catch(s){}loadVPW(e,t,!0),requeryVast(t,0)};CEDATO_BROWSER.oldIE?setTimeout(function(){i(n,o,e,t,a,r)},0):setTimeout(i,0,n,o,e,t,a,r)}catch(s){var n=window[e],o=getPlayerDataByUniq(n,t),l=o.vastId;vastError(n,l,3,"flash failure callback gave JS exception: ",s,o)}},e.adLoadedCallbackFuncName="al"+Math.floor(1000001*Math.random()),window[e.adLoadedCallbackFuncName]=function(e,t,a){try{var r=window[e],n=getPlayerDataByUniq(r,t),o=n.vastId;CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdLoadedHandler(r,t,a)},10):setTimeout(commonVpaidAdLoadedHandler,0,r,t,a)}catch(i){var r=window[e],n=getPlayerDataByUniq(r,t),o=n.vastId;vastError(r,o,3,"flash adLoaded callback gave JS exception: ",i,n)}},e.adStartedCallbackFuncName="al"+Math.floor(1000001*Math.random()),window[e.adStartedCallbackFuncName]=function(e,t){try{var a=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdStartedHandler(a,t)},10):setTimeout(commonVpaidAdStartedHandler,0,a,t)}catch(r){var n=getPlayerDataByUniq(a,t);vastError(a,n.vastId,3,"flash started callback gave JS exception: ",r,n)}},e.adImpressionCallbackFuncName="ai"+Math.floor(1000001*Math.random()),window[e.adImpressionCallbackFuncName]=function(e,t,a){try{var r=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdImpressionHandler(r,t,a)},10):setTimeout(commonVpaidAdImpressionHandler,0,r,t,a)}catch(n){var o=getPlayerDataByUniq(r,t);vastError(r,o.vastId,3,"flash impression callback gave JS exception: ",n,o)}},e.adErrorCallbackFuncName="ae"+Math.floor(1000001*Math.random()),window[e.adErrorCallbackFuncName]=function(e,t,a){try{var r=window[e],n=getPlayerDataByUniq(r,t);CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdErrorHandler(r,t,a)},50):setTimeout(commonVpaidAdErrorHandler,50,r,t,a)}catch(o){var n=getPlayerDataByUniq(r,t);vastError(r,n.vastId,3,"flash adError callback gave JS exception: ",o,n)}},e.adFirstQuartileEventCallbackFundName="afq"+Math.floor(1000001*Math.random()),window[e.adFirstQuartileEventCallbackFundName]=function(e,t){try{var a=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdFirstQuartileHandler(a,t)},10):setTimeout(commonVpaidAdFirstQuartileHandler,0,a,t)}catch(r){var n=getPlayerDataByUniq(a,t);vastError(a,n.vastId,3,"flash onFirstQuartile callback gave JS exception: ",r,n)}},e.adMidpointEventCallbackFuncName="am"+Math.floor(1000001*Math.random()),window[e.adMidpointEventCallbackFuncName]=function(e,t){try{var a=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdMidpointHandler(a,t)},10):setTimeout(commonVpaidAdMidpointHandler,0,a,t)}catch(r){var n=getPlayerDataByUniq(a,t);vastError(a,n.vastId,3,"flash onMidpoint callback gave JS exception: ",r,n)}},e.adThirdQuartileEventCallbackFundName="atq"+Math.floor(1000001*Math.random()),window[e.adThirdQuartileEventCallbackFundName]=function(e,t){try{var a=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdThirdQuartileHandler(a,t)},10):setTimeout(commonVpaidAdThirdQuartileHandler,0,a,t)}catch(r){var n=getPlayerDataByUniq(a,t);vastError(a,n.vastId,3,"flash onThirdQuartile callback gave JS exception: ",r,n)}},e.adCompleteEventCallbackFuncName="ac"+Math.floor(1000001*Math.random()),window[e.adCompleteEventCallbackFuncName]=function(e,t){try{var a=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdCompleteHandler(a,t)},0):setTimeout(commonVpaidAdCompleteHandler,0,a,t)}catch(r){var n=getPlayerDataByUniq(a,t);vastError(a,n.vastId,3,"flash onComplete callback gave JS exception: ",r,n)}},e.adClickthroughCallbackFuncName="acl"+Math.floor(1000001*Math.random()),window[e.adClickthroughCallbackFuncName]=function(e,t,a){try{var r=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdClickthruHandler(r,t,a)},10):setTimeout(commonVpaidAdClickthruHandler,0,r,t,a)}catch(n){var o=getPlayerDataByUniq(r,t);vastError(r,o.vastId,3,"flash onClickthrough callback gave JS exception: ",n,o)}},e.adSetCompanionsCallbackFuncName="sccl"+Math.floor(1000001*Math.random()),window[e.adSetCompanionsCallbackFuncName]=function(e,t,a){try{var r=window[e],n=function(e,t,a){var n=getPlayerDataByUniq(r,t);return n?(debugLog(r,"vastId "+n.vastId+" - got flash set companions HTML callback",!1),n.companionHTML=a,void(n.companionHTML&&n.companionsElementDiv&&(n.companionsElementDiv.innerHTML=n.companionHTML))):void debugLog(r,"got flash set companions callback for a gone uniq",!1)};CEDATO_BROWSER.oldIE?setTimeout(function(){n(e,t,a)},10):setTimeout(n,0,e,t,a)}catch(o){var i=getPlayerDataByUniq(r,t);vastError(r,i.vastId,3,"flash onSetCompanionsHTML callback gave JS exception: ",o,i)}},e.adRemainingtimeChangeCallbackFuncName="art"+Math.floor(1000001*Math.random()),window[e.adRemainingtimeChangeCallbackFuncName]=function(e,t,a){try{var r=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdRemainingTimeChangeHandler(r,t,a)},10):setTimeout(commonVpaidAdRemainingTimeChangeHandler,0,r,t,a)}catch(n){var o=getPlayerDataByUniq(r,t);vastError(r,o.vastId,3,"flash ad remaining time callback gave JS exception: ",n,o)}},e.adDurationChangeCallbackFuncName="ad"+Math.floor(1000001*Math.random()),window[e.adDurationChangeCallbackFuncName]=function(e,t,a){try{var r=window[e];CEDATO_BROWSER.oldIE?setTimeout(function(){commonVpaidAdDurationChangeHandler(r,t,a)},10):setTimeout(commonVpaidAdDurationChangeHandler,0,r,t,a)}catch(n){var o=getPlayerDataByUniq(r,t);vastError(r,o.vastId,3,"flash ad remaining time callback gave JS exception: ",n,o)}}}function errFullDetails(e){var t="";for(var a in e)e.hasOwnProperty(a)&&(t+="property: "+a+" value: ["+e[a]+"]\n");return t+="toString():  value: ["+e.toString()+"]"}function playerError(e,t,a,r){r&&(a+=errFullDetails(r)),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_PLAYER_ERROR,e,{errorCode:t,errorMessage:a},{},debugLog),debugLog(e,"errorCode "+t+" - "+a,!1),3!=t||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnPlayerError||(e.debugLogReason="player error",submitDebugLogBuffer(e),submitDebugLog(e),e.debugLogSubmittedDueToException=!0)}function vastError(e,t,a,r,n,o,i,s,l){if(e){var d,c="";if("undefined"!=typeof o&&o){if(3!=a&&o.errorCount>1)return;d=o.mediaURL,d="",c=o.tlvState>=5?((new Date).getTime()-o.startAdTime)/1e3:((new Date).getTime()-o.loadAdTime)/1e3,c=c.toFixed(1)}else d="";"undefined"==typeof i&&(i=!1),"undefined"==typeof s&&(s=!1),"undefined"==typeof l&&(l="vast error");n&&(r+=errFullDetails(n));var u={errorCode:a,errorMessage:r,mediaURL:d};i&&(u.logStartRequest=1),s&&(u.logLoadRequest=1),""!=c&&(u.time=c),tlv_logVastEvent(CEDATO_EVENT_LOGGER.E_VAST_ERROR,e,o,u,debugLog),debugLog(e,"vastId "+t+" - errorCode "+a+" - "+r,!1),3!=a||e.keepDebugLog||e.debugLogSubmittedDueToException||!e.submitDebugLogOnVastError||(e.debugLogReason=l,submitDebugLogBuffer(e),submitDebugLog(e),e.debugLogSubmittedDueToException=!0)}}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.split("MSIE")[1]);var a=e.indexOf("Trident/");if(a>0)return 11;var r=e.indexOf("Edge/");return r>0?12:!1}function waitForVPW(e,t){null!=t.vpwWaitFunc&&(clearInterval(t.vpwWaitFunc),t.vpwWaitFunc=null),t.vpwWaitRetries=0;var a=function(e,t){try{t.vpwWaitRetries++;var a=!1,r="";try{t.flashEICallbacks=t.flashElement.connectToJSPlayer(e.playersStorageName,e.vpPlayCallbackFuncName,e.vpStopCallbackFuncName,e.vpDebugCallbackFuncName,e.vpResizeAdCallbackFuncName,e.vpSetAdVolumeCallbackFuncName,e.vpPauseCallbackFuncName,e.vpResumeCallbackFuncName),t.flashEICallbacks&&""!=t.flashEICallbacks&&(a=!0,e.singleVPW&&(e.flashEICallbacks=t.flashEICallbacks))}catch(n){r=n.message}if(a){if(debugLog(e,"vastId "+t.vastId+" - vpw finished init",!1),clearInterval(t.vpwWaitFunc),t.vpwWaitFunc=null,t.vpwLoaded=2,t.vpwLoadRetry=0,e.anyVPWLoaded<2&&(e.anyVPWLoaded=2,e.reportVPWLoaded)){var o=((new Date).getTime()-e.startTime)/1e3;o=o.toFixed(1);var i=((new Date).getTime()-e.firstVPWInitTime)/1e3;i=i.toFixed(1),debugLog(e,"vpws - reporting state 2",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,e,{time:o,state:2,time2:i},{},debugLog)}if(null==e.fpwReadyTime){var o=((new Date).getTime()-e.startTime)/1e3;o=o.toFixed(1),e.fpwReadyTime=o}1==t.tlvState&&(debugLog(e,"vastId "+t.vastId+" - has schedule media load - calling now",!1),initMediaLoad(e,t))}else{var s=5;detectIE()&&(s=10),t.vpwWaitRetries>5*s&&(clearInterval(t.vpwWaitFunc),t.vpwWaitFunc=null,renewVPWVersionForIE(e),debugLog(e,"vastId "+t.vastId+" - vpw won't init on time, last error message: "+r,!1),loadVPW(e,t,!0))}}catch(n){playerError(e,3,"vpwWaitFunc gave JS exception: "+n.message,n)}};CEDATO_BROWSER.oldIE?t.vpwWaitFunc=setInterval(function(){a(e,t)},200):t.vpwWaitFunc=setInterval(a,200,e,t)}function createFlashElement(e,t){if(e.singleVPW&&!e.flashElement&&e.callingFlashObject&&(e.flashElement=e.callingFlashObject,debugLog(e,"using calling flash object as vpw",!1)),e.singleVPW&&e.flashElement)return debugLog(e,"vastId "+t.vastId+" - single vpw, using player vpw",!1),t.flashElement=e.flashElement,t.flashEICallbacks=e.flashEICallbacks,void(t.vpwLoaded=2);var a=t.vastId+"-"+Math.floor(1000001*Math.random()),r=document.createElement("div");r.id=a,e.singleVPW?e.flashElementDiv.appendChild(r):t.flashElementDiv.appendChild(r);var n="vpwid"+Math.floor(1000001*Math.random()),o=n,i={data:e.vpwURL+e.vpwVersion,width:e.width,height:e.height,id:n,name:o},s={flashvars:"",allowscriptaccess:"always",wmode:"opaque"};debugLog(e,"vastId "+t.vastId+" - vpw url: "+i.data,!1),t.flashElement=CEDATO_SWF.swfobject.createSWF(i,s,a),t.vpwLoaded=0,t.flashEICallbacks="",e.singleVPW&&(e.flashElement=t.flashElement)}function createRotator(e){if("vpaid"!=e.mode){var t=e.protocol+e.conf.content.defaultLoader;e.content&&e.content.loader_image_url&&(t=e.content.loader_image_url);var a=e.protocol+e.conf.content.playButton,r=[];if(e.content&&e.content.url&&1==e.content.type){var n=e.content.url;CEDATO_UTILS.isString(n)&&(n=n.split(","));for(var o=0,i=n.length;i>o;o++)e.usejsv&&e.mainAutoplay?r.push(getVprUrl(n[o],e,null,"c")):r.push(fixURLPrm(e.protocol,n[o]))}try{e.contentUrlPlayer=new CEDATO_CONTENT.ContentUnit({parentDiv:e.divElem,contentUrl:r,bannerUrl:t,clickUrl:e.content.click,playButtonUrl:a,autoPlay:!!e.content.autoplay,volume:e.allowSound?.8:0,loop:!!e.content.loop,controlBar:!!e.controlBar,videoSupport:e.hasVideoSupport,customCreateVideoElement:function(){return e.usejsv&&!e.mainAutoplay?document.createElement("video"):createVideoElement(e)},userStartPlayingCallback:function(){e.content.playFull&&0!==r.length||(e.content.autoplay=!0,e.autoplay=!0,playNextVasts(e,!0))},endContentVideoCallback:function(){e.content.playFull&&(e.anyPlaying||(e.autoplay=!0),e.usejsv&&!e.mainAutoplay&&e.contentUrlPlayer.hideContent(),playNextVasts(e,!0))},userClick:function(t){e.apiInterface.trigger("click",{url:e.content.click,vastId:null})},onError:function(t,a){debugLog(e,"Error loading content video: "+e.content.url+" msg:"+a,!1)}}),e.hasVideoSupport&&r.length&&e.skipButton&&showSkipButton(e)}catch(s){playerError(e,3,"createRotator rotatorDiv gave JS exception: "+s.message,s)}}}function showRotator(e){if("single"==e.mode)if(e.contentUrlPlayer)try{e.contentUrlPlayer.showContent()}catch(t){createRotator(e)}else createRotator(e)}function renewVPWVersionForIE(e){return detectIE()&&(!e.vpwVersionRenewed||((new Date).getTime()-e.vpwVersionRenewed)/1e3>10)?(e.vpwVersionRenewedCount?e.vpwVersionRenewedCount++:e.vpwVersionRenewedCount=1,e.vpwVersionRenewedCount>3?!1:(debugLog(e,"IE detected - using random vpw version",!1),e.vpwVersion=Math.floor(1000001*Math.random()),e.vpwVersionRenewed=(new Date).getTime(),!0)):!1}function waitForVPWLoad(e,t){t.vpwStartLoadTime=(new Date).getTime(),null!=t.flashInitialTimeout&&(clearInterval(t.flashInitialTimeout),t.flashInitialTimeout=null),null!=t.flashLoadCheckInterval&&(clearInterval(t.flashLoadCheckInterval),t.flashLoadCheckInterval=null),t.vpwLoaded=0,debugLog(e,"vastId "+t.vastId+" - loadVPW - setting FIT",!1);var a=function(e,t){try{if(t.flashElement&&"undefined"!=typeof t.flashElement.PercentLoaded){clearInterval(t.flashInitialTimeout),t.flashInitialTimeout=null,debugLog(e,"vastId "+t.vastId+" - vpw - started to load flash",!1),null!=t.flashLoadCheckInterval&&(clearInterval(t.flashLoadCheckInterval),t.flashLoadCheckInterval=null);var a=function(e,t){try{var a=0;if(t.flashElement&&"undefined"!=typeof t.flashElement.PercentLoaded&&t.flashElement.PercentLoaded()){var r=t.flashElement.PercentLoaded();if(100===r){if(a=1,clearInterval(t.flashLoadCheckInterval),t.flashLoadCheckInterval=null,debugLog(e,"vastId "+t.vastId+" - vpw - flash loaded",!1),t.vpwLoaded=1,e.anyVPWLoaded<1&&(e.anyVPWLoaded=1,e.reportVPWLoaded)){var n=((new Date).getTime()-e.startTime)/1e3;n=n.toFixed(1),e.firstVPWInitTime=(new Date).getTime(),debugLog(e,"vpws - reporting state 1",!1),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,e,{time:n,state:1},{},debugLog)}if(0==t.vastId){if(e.prevpwDiv){debugLog(e,"destroying pre vpw",!1);try{e.prevpwDiv.innerHTML="",e.prevpwDiv.parentNode.removeChild(e.prevpwDiv)}catch(o){}e.vpwCached=!0,e.prevpwDiv=null,postPrepareAllPlayerDatas(e)}}else a=2,waitForVPW(e,t)}}}catch(o){-1==o.message.indexOf("NPObject")&&-1==o.message.indexOf("defineGetter")}};CEDATO_BROWSER.oldIE?t.flashLoadCheckInterval=setInterval(function(){a(e,t)},400):t.flashLoadCheckInterval=setInterval(a,400,e,t)}else 0!=t.vastId&&(new Date).getTime()-t.vpwStartLoadTime>7e3&&(t.vpwLoadRetry++,clearInterval(t.flashInitialTimeout),renewVPWVersionForIE(e),loadVPW(e,t,!0))}catch(r){r.message&&-1==r.message.indexOf("NPObject")&&-1==r.message.indexOf("defineGetter")&&playerError(e,3,"flashInitialTimeout2 gave JS exception: "+r.message);var n=(new Date).getTime();0!=t.vastId&&n-t.vpwStartLoadTime>7e3&&(t.vpwLoadRetry++,clearInterval(t.flashInitialTimeout),t.flashInitialTimeout=null,debugLog(e,"vastId "+t.vastId+" - vpw timeouted starting to load",!1),loadVPW(e,t,!0))}};CEDATO_BROWSER.oldIE?t.flashInitialTimeout=setInterval(function(){a(e,t)},300):t.flashInitialTimeout=setInterval(a,300,e,t)}function loadVPW(e,t,a){if(!e.domReady)return void debugLog(e,"vastId "+t.vastId+" - loadVPW - called before dom ready",!1);if("undefined"!=typeof t.flashElement&&t.flashElement||(debugLog(e,"vastId "+t.vastId+" - flash disappeared",!1),createFlashElement(e,t)),a&&(debugLog(e,"vastId "+t.vastId+" - loadVPW - handling reload",!1),!e.singleVPW))try{var r=!1;try{t.flashElement&&t.flashEICallbacks&&(t.flashElement[t.flashEICallbacks]("clearAd",t.uniqId),r=e.reuseVPW)}catch(n){}if(!r){t.vpwLoaded=0,t.flashEICallbacks=null;try{CEDATO_SWF.swfobject.removeSWF(t.flashElement.id)}catch(n){debugLog(e,"vastId "+t.vastId+" - loadVPW - removeSWF failed",!1)}t.flashElementDiv.innerHTML="",t.flashElement=null,createFlashElement(e,t),debugLog(e,"vastId "+t.vastId+" - loadVPW - flash element created",!1)}}catch(n){debugLog(e,"vastId "+t.vastId+" - loadVPW - exception - element must have vanished - recreating",!1),t.flashElementDiv.innerHTML="",createFlashElement(e,t)}e.callingFlashObject||waitForVPWLoad(e,t),debugLog(e,"vastId "+t.vastId+" - loadVPW - done",!1)}function postPrepareAllPlayerDatas(e){if(debugLog(e,"post prepare",!1),!e.domReady)return void debugLog(e,"post prepare - dom not ready yet - we'll wait",!1);for(var t=0,a=e.plist.length;a>t;t++){var r=e.plist[t];postPreparePlayerData(e,r),1==r.tlvState&&("flvpaid"!=r.adType||2==r.vpwLoaded&&e.vpwCached&&"flvpaid"==r.adType?(debugLog(e,"vastId "+r.vastId+" has schedule media load - calling now",!1),initMediaLoad(e,r)):debugLog(e,"vastId "+r.vastId+" has schedule media load but it's flash and vpw is not ready",!1))}}function tlvPlayerDomLoaded(e,t){
if(0==e.domReadyTime)try{if(debugLog(e,"on dom load",!1),e.rootDivElem||(e.rootDivElem=document.getElementById(e.divId)),!e.rootDivElem){if(t>e.conf.maxDomLoadTimes)e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),playerError(e,6,"div element not found tlvPlayerDomLoaded: "+e.divId);else{debugLog(e,"domload timeout "+t+" retrying in "+e.conf.domLoadRetryTimeout,!1),e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null);var a=function(e,t){try{debugLog(e,"domload timeout",!1),e.domLoadTimeout=null,e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),tlvPlayerDomLoaded(e,t+1)}catch(a){}};CEDATO_BROWSER.oldIE?e.domLoadTimeout=setTimeout(function(){a(e,t)},e.conf.domLoadRetryTimeout):e.domLoadTimeout=setTimeout(a,e.conf.domLoadRetryTimeout,e,t)}return}e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null);var r=((new Date).getTime()-e.startTime)/1e3;r=r.toFixed(1),e.domReadyTime=r,debugLog(e,"ondomload - adding div",!1);var n=e.rootDivElem.offsetWidth,o=e.rootDivElem.offsetHeight;if(n&&o&&0!==n&&0!==o||(n=e.rootDivElem.clientWidth,o=e.rootDivElem.clientHeight),!n||!o||0===n||0===o){var i=e.rootDivElem.getBoundingClientRect();o=i.height,n=i.width}e.width=n,e.height=o,e.divElem=document.createElement("div"),e.divElem.id=CEDATO_CSS.Ids.rootContainer,e.rootDivElem.appendChild(e.divElem),e.closeButton&&showCloseButton(e),debugLog(e,"ondomload - creating rotator",!1),createRotator(e),e.domReady=!0,postPrepareAllPlayerDatas(e)}catch(s){playerError(e,3,"tlvPlayerDomLoaded gave JS exception: "+s.message,s)}}function resetReadyForStartAd(e){if(!e.frozen)if(e.parallelStartAd){for(var t=!0,a=0,r=e.plist.length;r>a;a++)if("1"==e.plist[a].group&&0==e.plist[a].errorCount){t=!1;break}if(t)return void debugLog(e,"all have errors, not reseting readyForStartAd",!1);debugLog(e,"reseting readyForStartAd",!1),e.readyForStartAd=!1,null!=e.initialStartAd&&(clearTimeout(e.initialStartAd),e.initialStartAd=null);var n=function(e){debugLog(e,"readyForStartAd",!1),e.readyForStartAd=!0,e.initialStartAd=null,playNextVasts(e)};CEDATO_BROWSER.oldIE?e.initialStartAd=setTimeout(function(){n(e)},12e3):e.initialStartAd=setTimeout(n,12e3,e)}else e.readyForStartAd=!0}function collapsePlayer(e){e.rootDivElem.parentNode.removeChild(e.rootDivElem)}function skipVideo(e){var t=getPlayingPlayerData(e);t?("vpaid"!==e.mode&&(e.anyPlaying=anyOtherPlaying(e,t.vastId),e.anyPlaying||showRotator(e)),"vpaid"==e.mode&&(restoreCallingFlashObjectStyle(e,t),e.vpaidObj.call("jsAdComplete",{},!0),e.vpaidObj.call("jsAdStopped",{},!0),e.divElem.style.display="none"),destroyPlayerData(e,t,!0),playNextVasts(e)):e.contentUrlPlayer.nextVideo()&&e.contentUrlPlayer.showContent()}function showCloseButton(e){var t=document.createElement("a");t.innerHTML="[x]",CEDATO_CSS.assignClass(t,CEDATO_CSS.Classes.closeButton),e.divElem.appendChild(t),addEvent(t,"click",function(){freezePlayers(e),collapsePlayer(e)})}function showSkipButton(e){var t=document.createElement("a");t.innerHTML="[skip]",CEDATO_CSS.assignClass(t,CEDATO_CSS.Classes.skipButton),e.divElem.appendChild(t),addEvent(t,"click",function(){skipVideo(e)})}function preparePlayerData(e,t,a){debugLog(e,"initializing player for vastId "+t.id+", url: "+t.url,!1);var r={};return r.videoElement=null,r.flashElement=null,r.jsVPAIDElement=null,r.jsVPAIDElementDiv=null,r.initAdEnvObject=null,r.companionsElementDiv=null,r.maxFailedVastRetries=0,r.adType=null,r.previousAdType=null,r.firedEvents={},r.vastPreferType=0,r.corsType=null,r.status=1,r.group=t.group,r.vastURL=t.url,r.vastId=t.id,t.pid?r.playerId=t.pid:r.playerId=e.playerId,t.mvr&&(r.maxFailedVastRetries=t.mvr),t.vt&&(r.vastPreferType=t.vt),t.ct&&(r.corsType=t.ct),t.cxvid&&(r.cxvid=t.cxvid),t.cxpid&&(r.cxpid=t.cxpid),t.capt&&(r.capType=t.capt,r.allocatedQuota=t.aq?t.aq:0),r.fetchesSinceInitPlayer=t.fetchesSinceInitPlayer?t.fetchesSinceInitPlayer:0,r.longStartAd=!!t.lsa,r.expectedSureFastStart=!!t.sff,r.expectedSureFastStart=!1,r.playersStorageName=e.playersStorageName,r.tlvState=0,r.vpwLoaded=0,r.vpwLoadRetry=0,r.errorCount=0,r.startAdStopper=null,r.startAdHalfStopper=null,r.startAdSwitcher=null,r.playVideoRetry=null,r.requeryTimeout=null,r.initAdThrottler=null,r.vpwWaitFunc=null,r.flashInitialTimeout=null,r.flashLoadCheckInterval=null,e.curUniq++,r.uniqId=e.curUniq,r.roundNo=0,r.freqRetry=e.usejsv,r.isIMA=!1,"undefined"!=typeof a&&a?e.plist.splice(a,0,r):e.plist.push(r),r}function postPreparePlayerData(e,t){e.vpwCached&&postPreparePlayerDataFlash(e,t)}function postPreparePlayerDataFlash(e,t){if(e.flashSupport){var a=!0;if(e.singleVPW)e.flashElementDiv?a=!1:(e.flashElementDiv=document.createElement("div"),e.flashElementDiv.style.zIndex="1",e.divElem.appendChild(e.flashElementDiv)),t.flashElementDiv=e.flashElementDiv;else{t.flashElementDiv=document.createElement("div"),t.flashElementDiv.style.position="absolute";try{t.flashElementDiv.style.top="-1000px"}catch(r){}t.flashElementDiv.style.zIndex="1",e.divElem.appendChild(t.flashElementDiv)}createFlashElement(e,t),null===t.flashElement?playerError(e,4,"failed to create flash element"):loadVPW(e,t,!1)}}function duplicatePlayerData(e,t){debugLog(e,"vastId "+t.vastId+" - duplicating player data",!1);var a=[];a.id=t.vastId,a.url=t.vastURL,a.group=t.group,a.lsa=t.longStartAd,a.pid=t.playerId,a.mvr=t.maxFailedVastRetries,a.vt=t.vastPreferType,a.ct=t.corsType,a.cxvid=t.cxvid,a.cxpid=t.cxpid,a.aq=t.allocatedQuota,a.capt=t.capType,a.fetchesSinceInitPlayer=t.fetchesSinceInitPlayer;for(var r=!1,n=0,o=e.plist.length;o>n;n++)if(e.plist[n].vastId==t.vastId){r=n;break}var i=preparePlayerData(e,a,r);return i.duplicatedNow=!0,e.domReady&&postPreparePlayerData(e,i),i}function destroyVpaidJsData(e){e.jsVPAIDElementDiv&&(e.jsVPAIDElementDiv.style.display="none");try{e.jsVPAIDElement&&(e.jsVPAIDElement.stopAd(),e.jsVPAIDElement.clearAd&&e.jsVPAIDElement.clearAd())}catch(t){}try{e.jsVPAIDElementDiv&&e.jsVPAIDElementDiv.parentNode.removeChild(e.jsVPAIDElementDiv)}catch(t){}e.jsVpaidFrame=null,e.vpaidJsIframeAdElem=null,e.vpaidJsIframeVideo=null,e.vpaidJsIframeVideoCanvas=null,e.jsVPAIDElement=null,e.jsVPAIDElementDiv=null}function destroyPlayerData(e,t,a){try{"undefined"==typeof a&&(a=!1);var r=t.vastId;debugLog(e,"vastId "+t.vastId+" - destroying player data, immediate: "+a,!1),t.destroyMe=!0;for(var n=null,o=0,i=e.plist.length;i>o;o++)if(e.plist[o].destroyMe){n=o;break}if(null===n)return!1;if(e.plist.splice(n,1),null!=t.flashInitialTimeout&&(clearInterval(t.flashInitialTimeout),t.flashInitialTimeout=null),null!=t.flashLoadCheckInterval&&(clearInterval(t.flashLoadCheckInterval),t.flashLoadCheckInterval=null),null!=t.requeryTimeout&&(clearInterval(t.requeryTimeout),t.requeryTimeout=null),null!=t.requeryTimeout&&(clearTimeout(t.startAdSwitcher),t.startAdSwitcher=null),null!=t.startAdHalfStopper&&(clearTimeout(t.startAdHalfStopper),t.startAdHalfStopper=null),null!=t.startAdStopper&&(clearTimeout(t.startAdStopper),t.startAdStopper=null),null!=t.sameVastIdLoader&&(clearTimeout(t.sameVastIdLoader),t.sameVastIdLoader=null),null!=t.startAdSwitcher&&(clearTimeout(t.startAdSwitcher),t.startAdSwitcher=null),null!=t.initAdThrottler&&(clearInterval(t.initAdThrottler),t.initAdThrottler=null),null!==t.playVideoRetry&&(clearInterval(t.playVideoRetry),t.playVideoRetry=null),t.videoElement&&t.videoElement.parentNode)try{t.videoElement.parentNode.removeChild(t.videoElement)}catch(s){debugLog(e,"ve removeChild gave exception: "+s.message,!1)}if("jsvpaid"==t.adType&&destroyVpaidJsData(t),e.flashSupport)if(e.singleVPW){var l=function(e,a){try{t.flashElement[t.flashEICallbacks]("removeVpaid",a)}catch(r){debugLog(e,"flash removeFunc gave exception: "+r.message,!1)}};a?l(e,t.uniqId):CEDATO_BROWSER.oldIE?setTimeout(function(){l(e,t.uniqId)},1e3):setTimeout(l,1e3,e,t.uniqId)}else{t.flashElementDiv&&(t.flashElementDiv.style.zIndex="0");try{t.flashElement&&t.flashEICallbacks&&t.flashElement[t.flashEICallbacks]("clearAd",t.uniqId)}catch(s){}var l=function(e,t,a){try{CEDATO_SWF.swfobject.removeSWF(a.id)}catch(r){}try{t&&t.parentNode.removeChild(t),t.innerHTML="",t=null}catch(r){debugLog(e,"removeFunc gave exception: "+r.message,!1)}};t.flashElementDiv&&t.flashElement&&(a?l(e,t.flashElementDiv,t.flashElement):CEDATO_BROWSER.oldIE?setTimeout(function(){l(e,t.flashElementDiv,t.flashElement)},1e3):setTimeout(l,1e3,e,t.flashElementDiv,t.flashElement))}try{t.companionsElementDiv&&(t.companionsElementDiv.parentNode.removeChild(t.companionsElementDiv),t.companionsElementDiv.innerHTML="",t.companionsElementDiv=null)}catch(s){debugLog(e,"remove companions div gave exception: "+s.message,!1)}}catch(s){vastError(e,r,3,"destroy player data exception: "+s.message,s,t,!1,!1,"destroy player")}}function destroyAllPlayerDatas(e,t){"undefined"==typeof t&&(t=!1),t?debugLog(e,"destroying all players except for vastId "+t,!1):debugLog(e,"destroying all players",!1);for(var a=!0;a;){a=!1;for(var r=0,n=e.plist.length;n>r;r++)if(e.plist[r].vastId!=t){destroyPlayerData(e,e.plist[r],!0),a=!0;break}}}function getFlashMovie(e){var t=-1!=navigator.appName.indexOf("Microsoft");return t?window[e]:document[e]}function prePrepareCallingFlashObject(e,t){var a=null;if(t){if(debugLog(e,"prepare calling flash object",!1),"null"!=t&&(a=getFlashMovie(t)),null==a){for(var r=document.getElementsByTagName("object"),n=0,o=r.length;o>n;n++)if(r[n].connectToJSPlayer){a=r[n];break}if(null==a)for(var r=document.getElementsByTagName("embed"),n=0,o=r.length;o>n;n++)if(r[n].connectToJSPlayer){a=r[n];break}}else debugLog(e,"got connceting clash object from prms",!1);if(null==a)return debugLog(e,"could not identify calling object",!1),!1;if(!a.connectToJSPlayer)return debugLog(e,"flash connect callback not found",!1),!1;e.allowLongImpressions=!0}e.callingFlashObject=a}function getPlayingPlayerData(e){for(var t=0,a=e.plist.length;a>t;t++)if(6==e.plist[t].tlvState)return e.plist[t];return!1}function resumePlayingPlayer(e,t){debugLog(t,e+" resume callback called",!1),t.autoplay=!0,t.autoplayOverwrite=!0;var a=getPlayingPlayerData(t);if(a){if(t.apiInterface.trigger("adplay",{vastId:a.vastId,playerId:t.playerId,subid:t.subid}),debugLog(t,e+" resume - got playing playerData, vastId: "+a.vastId,!1),"flvpaid"==a.adType){if(a.flashElement)try{a.flashElement[a.flashEICallbacks]("vpwResumeAd",a.uniqId)}catch(r){debugLog(t,e+" resume gave JS exception on flashElement pause: "+r.message)}}else if("jsvpaid"==a.adType)try{a.jsVPAIDElement.resumeAd()}catch(r){debugLog(t,e+" pause gave JS exception on vpaidjs pause: "+r.message)}else if("video"==a.adType)try{a.videoElement.play()}catch(r){debugLog(t,e+" resume gave JS exception on videoElement pause: "+r.message)}}else debugLog(t,e+" resume - no playing playerData",!1),t.contentUrlPlayer&&t.contentUrlPlayer.isVisible()?t.contentUrlPlayer.playContent():(playNextVasts(t,!0),t.anyPlaying||(t.autoplay=!0,t.autoplayOverwrite=!0),debugLog(t,"vp resume - no playing playerData",!1))}function playPlayingPlayer(e,t){t.apiInterface.trigger("adplay",{vastId:null,playerId:t.playerId,subid:t.subid}),t.autoplayOverwrite=!0,t.autoplay=!0,debugLog(t,e+" play callback called",!1),playNextVasts(t,!0),t.anyPlaying||(t.autoplay=!0)}function pausePlayingPlayer(e,t){t.autoplay=!1,t.autoplayOverwrite=!0,debugLog(t,e+" pause callback called",!1);var a=getPlayingPlayerData(t);if(a){if(t.apiInterface.trigger("adpause",{vastId:a.vastId,playerId:t.playerId,subid:t.subid}),a.isPaused=!0,debugLog(t,e+" pause - got playing playerData, vastId: "+a.vastId,!1),"flvpaid"==a.adType){if(a.flashElement)try{a.flashElement[a.flashEICallbacks]("vpwPauseAd",a.uniqId)}catch(r){debugLog(t,e+" pause gave JS exception on flashElement pause: "+r.message)}}else if("jsvpaid"==a.adType)try{a.jsVPAIDElement.pauseAd()}catch(r){debugLog(t,e+" pause gave JS exception on vpaidjs pause: "+r.message)}else if("video"==a.adType)try{a.videoElement.pause()}catch(r){debugLog(t,e+" pause gave JS exception on videoElement pause: "+r.message)}}else t.contentUrlPlayer&&t.contentUrlPlayer.isVisible()&&t.contentUrlPlayer.pauseContent(),debugLog(t,e+" pause - no playing playerData",!1)}function resizePlayer(e,t,a,r){if((e.width!=t||e.height!=a)&&(e.width=t,e.height=a,e.rootDivElem)){e.rootDivElem.style.width=t+"px",e.rootDivElem.style.height=a+"px";for(var n=0,o=e.plist.length;o>n;n++){var i=e.plist[n];switch(i.adType){case"flvpaid":if(i.flashElement)try{i.flashElement[i.flashEICallbacks]("vpwResizeAd",i.uniqId,t,a,r)}catch(s){}break;case"jsvpaid":if(i.jsVPAIDElement&&i.jsVPAIDElement.resizeAd)try{i.jsVPAIDElement.resizeAd(t,a,r)}catch(s){}break;case"video":}}}}function setPlayerVolume(e,t,a){e.allowSound=t>0,e.contentUrlPlayer&&e.contentUrlPlayer.setVolume(t);for(var r=0,n=e.plist.length;n>r;r++){var o=e.plist[r];switch(o.adType){case"flvpaid":if(o.flashElement&&o.flashEICallbacks)try{o.flashElement[o.flashEICallbacks]("vpwVolume",o.uniqId,t)}catch(i){}break;case"jsvpaid":if(o.jsVPAIDElement&&o.jsVPAIDElement.setAdVolume&&!e.usejsv)try{o.jsVPAIDElement.setAdVolume(t)}catch(i){}break;case"video":e.usejsv||("undefined"!=typeof a&&a?o.videoElement.muted=0==t:(o.videoElement.muted=!1,o.videoElement.volume=t))}}}function postPrepareCallingFlashObject(e){if(debugLog(e,"post prepare js callbacks",!1),e.vpDebugCallbackFuncName="vpd"+Math.floor(1000001*Math.random()),window[e.vpDebugCallbackFuncName]=function(e,t,a,r){try{var n=e.playersStorageName||e,o=window[n];if(""!=t)if(a){var i,s=t.split("\n"),l=s.length;for(i=0;l>i;i++)""!=s[i]&&debugLog(o,"flash: "+s[i],!1)}else debugLog(o,"flash: "+t,!1)}catch(d){}},"vpaid"==e.mode){if(e.vpPlayCallbackFuncName="vpp"+Math.floor(1000001*Math.random()),window[e.vpPlayCallbackFuncName]=function(e){try{var t=e.playersStorageName||e,a=window[t];playPlayingPlayer("vp",a)}catch(r){debugLog(a,"vp play gave JS exception: "+r.message)}},e.vpStopCallbackFuncName="vps"+Math.floor(1000001*Math.random()),window[e.vpStopCallbackFuncName]=function(e){try{var t=e.playersStorageName||e,a=window[t];debugLog(a,"vp stop callback called",!1),a.autoplay=!1,a.autoplayOverwrite=!0,freezePlayers(a,!1),a.vpaidObj.call("jsAdStopped",{},!0)}catch(r){debugLog(a,"vp stop gave JS exception: "+r.message)}},e.vpPauseCallbackFuncName="vpps"+Math.floor(1000001*Math.random()),window[e.vpPauseCallbackFuncName]=function(e){try{var t=e.playersStorageName||e,a=window[t];a.autoplay=!1,a.autoplayOverwrite=!0,debugLog(a,"vp pause callback called",!1),pausePlayingPlayer("vp",a)}catch(r){debugLog(a,"vp pause gave JS exception: "+r.message)}},e.vpResumeCallbackFuncName="vprs"+Math.floor(1000001*Math.random()),window[e.vpResumeCallbackFuncName]=function(e){try{var t=e.playersStorageName||e,a=window[t];debugLog(a,"vp pause callback called",!1),resumePlayingPlayer("vp",a)}catch(r){debugLog(a,"vp resume gave JS exception: "+r.message)}},e.vpInitAdCallbackFuncName="vpia"+Math.floor(1000001*Math.random()),window[e.vpInitAdCallbackFuncName]=function(e){var t=e.playersStorageName||e,a=window[t],r=e.slot;if(a.rootDivElem){var n=a.rootDivElem;n.parentNode.removeChild(n),r.parentNode.style.margin=0,r.parentNode.style.padding=0,r.appendChild(n)}else{var o=document.getElementById(a.divId);o.parentNode.removeChild(o),r.parentNode.style.margin=0,r.parentNode.style.padding=0,r.appendChild(o)}a.vpaidObj.call("jsAdReadyToStart",{},!0)},e.vpSetAdVolumeCallbackFuncName="vpsv"+Math.floor(1000001*Math.random()),window[e.vpSetAdVolumeCallbackFuncName]=function(e,t){var a=e.playersStorageName||e,r=window[a],t=e.volume||t||0;setPlayerVolume(r,t,!1),debugLog(r,"vpSetAdVolumeCallbackFuncName called",!1)},e.vpResizeAdCallbackFuncName="vprs"+Math.floor(1000001*Math.random()),window[e.vpResizeAdCallbackFuncName]=function(e,t,a,r){var n=e.playersStorageName||e,o=window[n];t=e.width||t,a=e.height||a,r=e.viewMode||r,resizePlayer(o,t,a,r),debugLog(o,"vpResizeAdCallbackFuncName called",!1)},e.vpExpandAdCallbackFuncName="vpex"+Math.floor(1000001*Math.random()),window[e.vpExpandAdCallbackFuncName]=function(e){var t=e.playersStorageName||e,a=window[t];e.expanded;debugLog(a,"vpExpandAdCallbackFuncName called",!1)},"vpaid"==e.mode){var t=document.createElement("div");t.setAttribute("id",e.divId);var a="0";if(e.callingFlashObject&&(a="-"+e.height),t.setAttribute("style","width:"+e.width+"px;height:"+e.height+"px;position:relative;top:"+a+"px;"),e.callingFlashObject){if(debugLog(e,"post prepare calling flash object",!1),e.flashEICallbacks=e.callingFlashObject.connectToJSPlayer(e.playersStorageName,e.vpPlayCallbackFuncName,e.vpStopCallbackFuncName,e.vpDebugCallbackFuncName,e.vpResizeAdCallbackFuncName,e.vpSetAdVolumeCallbackFuncName,e.vpPauseCallbackFuncName,e.vpResumeCallbackFuncName),!e.flashEICallbacks||""===e.flashEICallbacks)return debugLog(e,"flash connect callback returned an error",!1),!1;e.vpaidObj.initObj(e.callingFlashObject,"fl",e.playersStorageName,e.flashEICallbacks),debugLog(e,"js connected to flash successfully",!1);var r=e.callingFlashObject.parentNode||e.callingFlashObject.parentElement;e.callingFlashObjectParent=r,e.callingFlashObject.nextSibling?r.insertBefore(t,e.callingFlashObject.nextSibling):r.appendChild(t)}else if(e.jsCallingVpaid){var n=document.querySelector("body");n.appendChild(t),e.vpaidObj.register("inInitAd",window[e.vpInitAdCallbackFuncName],this),e.vpaidObj.register("inPlayAd",window[e.vpPlayCallbackFuncName],this),e.vpaidObj.register("inStopAd",window[e.vpStopCallbackFuncName],this),e.vpaidObj.register("inPauseAd",window[e.vpPauseCallbackFuncName],this),e.vpaidObj.register("inResumeAd",window[e.vpResumeCallbackFuncName],this),e.vpaidObj.register("inSetAdVolume",window[e.vpSetAdVolumeCallbackFuncName],this),e.vpaidObj.register("inResizeAd",window[e.vpResizeAdCallbackFuncName],this),e.vpaidObj.register("inExpandAd",window[e.vpExpandAdCallbackFuncName],this),e.vpaidObj.call("ready",{},!0)}}if(e.rootDivElem=document.getElementById(e.divId),!e.rootDivElem)return void playerError(e,6,"div element not found in post calling flash obj: "+e.divId);if(e.width=e.rootDivElem.clientWidth,e.height=e.rootDivElem.clientHeight,e.companionsRootDivElem=document.createElement("div"),e.companionsDivElem=document.createElement("div"),e.companionsDivElem.setAttribute("style","width:100%;height:100%;position:relative;top:0px; display: block;"),e.companionsRootDivElem.appendChild(e.companionsDivElem),e.callingFlashObject)r.insertBefore(e.companionsRootDivElem,t);else if(e.jsCallingVpaid){var n=document.querySelector("body");n.appendChild(e.companionsRootDivElem)}return!0}}function preparePreVPW(e){if(e.flashSupport){e.vpwVersion=2;var t="?";e.vpwURL=e.protocol+"//"+e.conf.sUrl+"/player/"+e.conf.flName+t+"v=",renewVPWVersionForIE(e),e.prevpwDiv=null,e.vpwCached=!0;try{if(e.callingFlashObject)debugLog(e,"calling flash object present, no pre-vpw needed",!1);else if(document&&document.body){debugLog(e,"appending vpw pre loader",!1),e.vpwCached=!1,e.prevpwDiv=document.createElement("div"),document.body.appendChild(e.prevpwDiv);var a="vpwp"+Math.floor(1000001*Math.random());e.prevpwDiv.innerHTML='<object id="'+a+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+e.vpwURL+e.vpwVersion+'" /><param name="allowScriptAccess" value="always"></param><param name="allowscriptaccess" value="always"></param><!--[if !IE]>--><object type="application/x-shockwave-flash" data="'+e.vpwURL+e.vpwVersion+'" width="1" height="1"><!--<![endif]--><!--[if !IE]>--></object><!--<![endif]--></object>';var r=CEDATO_SWF.swfobject.getObjectById(a);r?(e.prevpwPlayerData=[],e.prevpwPlayerData.vastId=0,e.prevpwPlayerData.flashElement=r,e.prevpwPlayerData.flashInitialTimeout=null,e.prevpwPlayerData.flashLoadCheckInterval=null,e.prevpwPlayerData.vpwWaitFunc=null,debugLog(e,"vpw pre loader flash element prepared",!1),waitForVPWLoad(e,e.prevpwPlayerData)):(e.prevpwDiv=null,e.vpwCached=!0,debugLog(e,"could not get vpw pre loader flash element",!1))}else debugLog(e,"no document.body",!1)}catch(n){}}}function gpvAnswerFunc(e,t,a){try{if(a?debugLog(e,"gpv answer from xhr",!1):debugLog(e,"gpv answer from script",!1),e.gpvM="2",a&&(e.gpvM="1"),e.gpvReturned=!0,a)try{document.getElementsByTagName("head")[0]||document.documentElement}catch(r){}else try{e.gsvXHR.abort()}catch(r){}var n=((new Date).getTime()-e.startTime)/1e3;n=n.toFixed(1),e.gpvTime=n,debugLog(e,t,!0),debugLog(e,"initializing players",!1),e.urlReplacer=null;for(var o=!1,i=!1,s=[],l=0,d=t.length;d>l;l++){var c=t[l];if("c"!=c.id)if("d"==c.c){for(var u=c.id,p=[],v=0,g=e.plist.length;g>v;v++)e.plist[v].vastId==u&&p.push(e.plist[v]);e.anyPlaying=p.length>0?!0:e.anyPlaying;for(var v=0,g=p.length;g>v;v++)destroyPlayerData(e,p[v],!0),e.anyPlaying=e.anyPlaying&&anyOtherPlaying(e,p[v]);o=!0,i=i||p.length>0}else s.push(preparePlayerData(e,c));else{if("d"==c.c){o=!0,destroyAllPlayerDatas(e),showRotator(e);continue}c.tpt&&(e.thirdPartyTimeout=c.tpt),e.vastWaitFactor=1,c.vwf&&(e.vastWaitFactor=c.vwf),e.maxFailedVastRetries=0,c.mvr&&(e.maxFailedVastRetries=c.mvr),c.mas&&(e.maxAdStarts=c.mas),c.scb&&(e.closeButton=!!c.scb),c.ssb&&(e.skipButton=!!c.ssb),c.sc&&(e.allowSound=c.sc),c.lc&&(e.noContentLoop=!c.lc),c.paf&&(e.adsAfterContent=c.paf,e.adsAfterContent&&(e.autoplayOverwrite||(e.autoplay=!1))),c.sdlr?e.debugLogReason=c.sdlr:e.debugLogReason="gpv","1"==c.sdl&&(debugLog(e,"gpv turned sdl on",!1),submitDebugLogBuffer(e),e.keepDebugLog=!0),"1"==c.lvr&&(e.logVastResponse=!0),"1"==c.sdlpe&&(e.submitDebugLogOnPlayerError=!0),"1"==c.sdlve&&(e.submitDebugLogOnVastError=!0),c.vd&&(e.submitDebugLogOnVastDisplayed=c.vd),c.content&&(e.content=c.content),c.ni&&(e.networkId=c.ni),e.autoplayOverwrite||(c.ap===!1?(e.autoplay=!1,e.mainAutoplay=!1):(e.autoplay=!0,e.mainAutoplay=!0)),c.rvu&&(e.urlReplacer=[],e.urlReplacer.vastId=c.rvu.v,e.urlReplacer.searchFor=c.rvu.s,e.urlReplacer.replaceWith=c.rvu.r,e.vpwURL&&(e.vpwURL=e.vpwURL.replace("v=","edl=2&v="))),void 0!==c.ruv&&(e.reuseVPW=!!c.ruv),c.ho&&1==c.ho&&(e.flashSupport=!1),c.as?e.allowSound=c.as:e.allowSound=!1,c.co?e.controlBar=c.co:e.controlBar=!1,c.content?(e.content.url=c.content.url,e.content.loader_image_url=c.content.loader_image_url,e.content.type=c.content.type,e.content.loop=!!(1*c.content.cl),e.content.click=c.content.click,e.content.playFull=!!(1*c.content.cpf),e.content.autoplay=c.ap,e.content.playFull&&!e.autoplayOverwrite&&(e.autoplay=!1)):(e.content.url="",e.content.loader_image_url="",e.content.type=0,e.content.loop=!0,e.content.click="",e.content.playFull=!1,e.autoplayOverwrite||(e.content.autoplay=!0,c.ap===!1&&(e.content.autoplay=!1)),e.skipButton=!1),c.is&&injectExtScr(c.is,e);for(var v=0,g=e.initOverrides.length;g>v;v++)switch(e.initOverrides[v].name){case"autoplay":e.autoplay=e.initOverrides[v].value,e.content.autoplay=e.initOverrides[v].value;break;case"contentUrl":e.content.type=1,e.content.url=e.initOverrides[v].value;break;case"contentClickUrl":e.content.click=e.initOverrides[v].value;break;case"rotate":e.content.maxAdStarts=e.initOverrides[v].value;break;case"allowSound":e.allowSound=e.initOverrides[v].value;break;case"skipButton":e.skipButton=e.initOverrides[v].value}e.initOverrides=[],e.gpvConfLoaded=!0}}if(o)i&&playNextVasts(e);else if(resetReadyForStartAd(e),"single"==e.mode&&e.flashSupport){e.domLoadTimeout=null;var m=function(){try{e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),tlvPlayerDomLoaded(e,1)}catch(t){playerError(e,3,"ondomload gave JS exception: "+t.message,t),debugLog(e,"ondomload gave JS exception: "+t.message,!1)}};CEDATO_SWF.swfobject.addDomLoadEvent(m);var h=function(e){try{debugLog(e,"domload timeout",!1),e.domLoadTimeout&&(clearTimeout(e.domLoadTimeout),e.domLoadTimeout=null),tlvPlayerDomLoaded(e,1)}catch(t){}};CEDATO_BROWSER.oldIE?e.domLoadTimeout=setTimeout(function(){h(e)},e.conf.domLoadInitTimeout):e.domLoadTimeout=setTimeout(h,e.conf.domLoadInitTimeout,e)}else CEDATO_BROWSER.oldIE?e.domLoadTimeout=setTimeout(function(){tlvPlayerDomLoaded(e,1)},0):e.domLoadTimeout=setTimeout(tlvPlayerDomLoaded,0,e,1);debugLog(e,"initiating fetch",!1),fetchPlayerVasts(e,s)}catch(r){playerError(e,3,"gpv gave JS exception: "+r.message,r)}}function initPlayer(e){function t(e){var a={p:i.join(","),cb:d,d:n.domain,sid:c,pv:u,w:b,h:T,f:W,dd:J,vs:G,sa:n.detect,extra:N};if(n.plist.length){a.av=[];for(var r=0,o=n.plist.length;o>r;r++)-1===a.av.indexOf(n.plist[r].vastId)&&a.av.push(n.plist[r].vastId);a.av=a.av.join(",")}var s=CEDATO_URLUTILS.buildUrl(n.baseUrl+"/player/gpv?",a);try{CEDATO_HTTP.GetPlayerVast({url:s,retryInterval:1e4,preferredMethod:e,retries:2,success:function(e,a,r){gpvAnswerFunc(e,a,r===CEDATO_HTTP.USE_AJAX),setTimeout(function(){e.autoplay===!0&&t(r)},Q)},externals:{players:n,debugLog:debugLog,playerError:playerError}})}catch(l){playerError(n,3,"init stage GetPlayerVast gave JS exception: "+l.message,l)}}try{window&&(window.onerror=function(e,t,a,r,o){try{if(-1!==t.indexOf("algovid")){debugLog(n,"Unhandeled exception "+e+" == "+t+" == "+a,!1)}}catch(i){}});var a,r=0,n={};if(a="object"===(typeof e).toLowerCase()?e:getUrlVars(e,!0),a.p&&a.sid){var o=a.p,i=[];i.push(o),-1!==o.indexOf(",")&&(i=o.split(","),o=i[0]);var s;a.d&&(s=a.d);var l,d=(new Date).getTime(),c=a.sid;l=a.did?a.did:a.cb?"video"+o+a.cb:"video"+o,CEDATO_CSS.init(document.getElementById(l));var u="103.46";a.pv?u=a.pv:a.playerVersion&&(u=a.playerVersion);var p="s8.algovid.com";a.mid&&(p=a.mid);var v=!1;void 0!==a.ruv&&(v=!!a.ruv);var g=!1,m=!1;2==a.cnl&&(g=!0),3==a.sl&&(g=!0,m=!0);var h=!1;1==a.sv&&(h=!0);var f=!0;0==a.ap&&(f=!1);var y=!1;!y&&detectIE()&&5==Math.floor(20*Math.random()),2==a.sdl&&(y=!0);var E;E=a.se?a.se:guid();var b=300,T=250;isNaN(a.w)||(b=a.w),isNaN(a.h)||(T=a.h);var I=!1;1==a.lvr&&(I=!0);var A,L=!1,S=[];1==a.app&&(L=!0);var D=!1;a.tpt&&(D=a.tpt);var C={d:!0,sid:!0,did:!0,p:!0,cb:!0,playerVersion:!0,mid:!0,cnl:!0,sv:!0,ap:!0,sdl:!0,se:!0,w:!0,h:!0,lvr:!0,app:!0,jsv:!0,ob:!0,pv:!0};if(L){var w=["appsu","appidfa","appv","appn","appb","appc","appaid"];for(A in w)w.hasOwnProperty(A)&&(C[w[A]]=!0,a[w[A]]&&S.push(w[A]+"="+encodeURIComponent(a[w[A]])));!a.d&&a.appn&&(s="app://"+encodeURIComponent(a.appn))}var _=!1;(1==a.jsv||L)&&(_=!0);var O=a.ob,R=a.job,k=!1;a.hasOwnProperty("muted")&&"0"==a.muted&&(k=!0);var P=!1;a.mas&&(P=a.mas);var x=!1;a.ho&&"1"==a.ho&&(x=!0);var V=!1,N="";for(var j in a)isNaN(j)&&!C[j]&&a.hasOwnProperty(j)&&(N=N+"&"+j+"="+a[j]);var U=!1;isNaN(a.scb)||1!=a.scb||(U=!0);var F=!1;isNaN(a.ssb)||1!=a.ssb||(F=!0);try{if(n.playerId=o,n.playerIds=i,n.subid=c,n.domain=s,n.sessionId=E,n.anyAdPlayed=!1,n.startTime=(new Date).getTime(),n.fpwReadyTime=null,n.scheduledPixelSent=!1,n.width=b,n.height=T,n.domReady=!1,n.domReadyTime=!1,n.anyPlaying=!1,n.divId=l,n.playerVersion=u,n.machineId=p,n.parallelStartAd=!0,n.usejsv=!1,n.gpvAttempt=0,n.autoplayOverwrite=!1,n.reuseVPW=v,n.delayedFetch={},n.delayedFetch.queue=[],n.delayedFetch.timer=null,n.gpvConfLoaded=!1,n.closeButton=U,n.skipButton=F,n.pageTitle=CEDATO_BROWSER.getPageTitle(),n.vpPlayCallbackFuncName=null,n.vpStopCallbackFuncName=null,n.vpDebugCallbackFuncName=null,n.vpResizeCallbackFuncName=null,n.vpVolumeCallbackFuncName=null,O||(n.info=CEDATO_DEVICE.getDeviceInfo()),n.initialStartAd=null,n.curUniq=0,n.logVastResponse=I,n.singleVPW=h,n.autoplay=f,n.allowLongImpressions=!1,n.reportVPWStateInterval=null,n.allowSound=k,n.adsAfterContent=!1,n.maxAdStarts=P,n.curAdStarts=0,n.noContentLoop=!1,n.gpvM="0",n.vpwCached=!0,n.mode="single",n.cedatoxPlayersToFetchesCount={},n.conf={},n.conf.flName="cedato_1.2.4.swf",n.conf.sUrl="c.algovid.com",n.conf.pJsvUrl=n.conf.sUrl+"/player/jsv_pure.js",n.conf.mUrl="mc.algovid.com",n.conf.maxDomLoadTimes=60,n.conf.domLoadRetryTimeout=200,n.conf.domLoadInitTimeout=500,n.conf.content={},n.conf.content.defaultLoader="//"+n.conf.sUrl+"/player/spinner.gif",n.conf.content.playButton="//"+n.conf.sUrl+"/player/play_button_gr.png",n.content={},(g||y)&&(n.debugLogReason="tag"),n.submitDebugLogOnPlayerError=!1,n.submitDebugLogOnVastError=!1,n.submitDebugLogOnVastDisplayed=!1,n.thirdPartyTimeout=D,n.plist=[],n.protocol=CEDATO_URLUTILS.getProtocol(n.domain),n.baseUrl=n.protocol+"//"+n.machineId,n.detect=CEDATO_DETECT_UTILS.getStatsParam(n),r=1,initDebugLog(n,g,y,m,!1),debugLog(n,"Tag: "+e,!1),debugLog(n,"player initialized. player version: "+n.playerVersion+", playerId: "+o+", subid: "+n.subid+", domain: "+n.domain+", singleVPW: "+n.singleVPW+", autoplay: "+n.autoplay+", width: "+n.width+", height: "+n.height,!1),debugLog(n,"ua: "+window.navigator.userAgent,!1),n.domainDetected=CEDATO_URLUTILS.getDetectedDomain(),debugLog(n,"domain detected: "+n.domainDetected,!1),n.domain?debugLog(n,"domain received in param: "+n.domain,!1):(n.domain=n.domainDetected,debugLog(n,"using detected domain: "+n.domain,!1)),n.hasVideoSupport=!0,CEDATO_BROWSER.oldIE&&(debugLog(n,"old ie",!1),CEDATO_BROWSER.msie.version<9&&(debugLog(n,"no video support",!1),n.hasVideoSupport=!1)),n.hasVideoSupport&&!CEDATO_BROWSER.supportsVideo()&&(debugLog(n,"no video support using test",!1),n.hasVideoSupport=!1),n.info?debugLog(n,"get device info returned mobile: "+n.info.mobile+", os: "+n.info.os+", osv: "+n.info.osv+", make: "+n.info.make+", model: "+n.info.model,!1):debugLog(n,"get device info failed",!1),c||playerError(n,6,"subid not defined"),l||playerError(n,6,"divId not defined"),o||playerError(n,6,"playerId not defined"),r=2,n.playersStorageName="tlvp"+Math.floor(1000001*Math.random()),window[n.playersStorageName]=n,(O||R)&&(n.mode="vpaid",n.vpaidObj=CEDATO_VPAID_OBJ.getVpaid(),n.autoplay=!1,n.autoplayOverwrite=!0),R&&(n.jsCallingVpaid=R,n.vpaidObj.initObj(R,"js",n.playersStorageName)),n.detect=CEDATO_DETECT_UTILS.getStatsParam(n),r=15,prePrepareCallingFlashObject(n,O),s=encodeURIComponent(s),r=3,r=41,CEDATO_ES5.include(),r=42,n.DMVAST=DMVAST,n.flashSupport=!1,_&&(n.flashSupport=!1,n.info.mobile=!0,n.usejsv=!0),r=5,O?n.flashSupport=!0:((CEDATO_URLUTILS.isFileProtocol()||CEDATO_BROWSER.nonFlashSandbox())&&(n.flashSupport=!1,x=!0),n.usejsv||n.info&&n.info.mobile||x?n.flashSupport=!1:n.flashSupport=CEDATO_SWF.swfobject.hasFlashPlayerVersion("10.0.1")),CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,n,{},{},debugLog),V=!0,n.info&&!n.info.mobile&&5==Math.floor(100*Math.random())&&(n.reportVPWLoaded=!0),n.flashSupport)initFlashFunctions(n);else if(n.usejsv||n.info&&n.info.mobile||x)n.usejsv=n.info.mobile,n.usejsv&&debugLog(n,"using jsv",!1),n.parallelStartAd=!1;else{if(CEDATO_SWF.swfobject.hasFlashPlayerVersion("6.0.0")){var M="",q="";try{M=navigator.userAgent(),q=CEDATO_SWF.swfobject.getFlashPlayerVersion()}catch(B){}playerError(n,2,"noflash old ver "+q+": "+M)}n.reportVPWLoaded&&CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_VPWS,n,{state:3},{},debugLog)}if(r=52,n.usejsv&&CEDATO_JSV){debugLog(n,"jsv loaded",!1);try{CEDATO_JSV.include()}catch(B){}n.hasVideoSupport=!0}if(r=53,preparePreVPW(n),r=54,postPrepareCallingFlashObject(n),r=55,r=6,debugLog(n,"calling gpv",!1),L){var H=S.join("&");H&&(N="&"+H)}n.gpvExtraParams=N,n.gpvReturned=!1;var W;W=n.flashSupport?"1":"0";var G;G=n.hasVideoSupport?"1":"0";var J="";n.domainDetected!==n.domain&&(J=encodeURIComponent(n.domainDetected)),r=56;var Q=6e5;t(CEDATO_HTTP.USE_JSONP_AND_AJAX),r=57,n.apiInterface=CEDATO_API.registerPlayer(l),n.initOverrides=[],n.apiInterface.on("_pause",function(){n.autoplay=!1,pausePlayingPlayer("api",n)}).on("_play",function(){n.contentUrlPlayer&&n.contentUrlPlayer.isVisible()?(n.autoplay=!0,n.contentUrlPlayer.playContent()):n.anyPlaying?resumePlayingPlayer("api",n):playPlayingPlayer("api",n)}).on("_overrideInit",function(e){var t=e.data;n.gpvConfLoaded===!1?("undefined"!=typeof t.autoplay&&n.initOverrides.push({name:"autoplay",value:!!t.autoplay}),"undefined"!=typeof t.contentUrl&&n.initOverrides.push({name:"contentUrl",value:String(t.contentUrl)}),"undefined"!=typeof t.contentClickUrl&&n.initOverrides.push({name:"contentClickUrl",value:String(t.contentClickUrl)}),"undefined"!=typeof t.rotate&&n.initOverrides.push({name:"rotate",value:Number(t.rotate)}),"undefined"!=typeof t.allowSound&&n.initOverrides.push({
name:"allowSound",value:!!t.allowSound})):("undefined"!=typeof t.contentUrl&&(n.contentUrlPlayer?n.contentUrlPlayer.setContentUrls(t.contentUrl):(n.content||(n.content={}),n.content.type=1,n.content.url=t.contentUrl)),"undefined"!=typeof t.allowSound&&n.allowSound!=t.allowSound&&setPlayerVolume(n,n.allowSound?1:0,!0))}).on("_sound",function(e){var t=e.data;switch(typeof t){case"boolean":setPlayerVolume(n,t?1:0,!0);break;case"number":t>=0&&1>=t&&setPlayerVolume(n,t,!0)}}).on("_resize",function(e){var t="normal";resizePlayer(n,e.data.width,e.data.height,t)}).on("_skip",function(e){skipVideo(n)}).on("_close",function(e){freezePlayers(n),collapsePlayer(n)}).on("_pauseads",function(e){n.autoplay=!1})}catch(B){playerError(n,3,"init stage "+r+" gave JS exception: "+B.message,B)}}}catch(z){n.playerId||(n.playerId="0"),n.machineId||(n.machineId="s8.algovid.com"),n.subid||(n.subid=""),n.playerVersion||(n.playerVersion="103.46"),n.sessionId||(n.sessionId="");try{r&&(r=r)}catch(X){r=0}0===r&&initDebugLog(n,!1,!1,!1,!1),playerError(n,3,"init error  gave JS exception: "+encodeURIComponent(z.message),z),V||CEDATO_EVENT_LOGGER.log(CEDATO_EVENT_LOGGER.E_START,n,{},{},debugLog)}}function getIndexses(e){return e?(e=e||"",{algovid:e.indexOf("algovid"),tlvmedia:e.indexOf("tlvmedia"),cedatoplayer:e.indexOf("cedato_player")}):!1}var CEDATO_JSV=null,CEDATO_SWF=null,CEDATO_API=__webpack_require__(13),CEDATO_BROWSER=__webpack_require__(2),CEDATO_CAP=__webpack_require__(14),CEDATO_CSS=__webpack_require__(5),CEDATO_DOM=__webpack_require__(18),CEDATO_CONTENT=__webpack_require__(15),CEDATO_DETECT_UTILS=__webpack_require__(16),CEDATO_DEVICE=__webpack_require__(17),CEDATO_ES5=__webpack_require__(19),CEDATO_EVENT_LOGGER=__webpack_require__(20),CEDATO_HTTP=__webpack_require__(3),CEDATO_URLUTILS=__webpack_require__(4),CEDATO_UTILS=__webpack_require__(1),CEDATO_VPAID_OBJ=__webpack_require__(12),DMVAST=__webpack_require__(10),GoogleIMAModule=__webpack_require__(11),GoogleIMA=GoogleIMAModule.GoogleIMA,GOOGLE_IMA_EVENTS=GoogleIMAModule.GOOGLE_IMA_EVENTS;__webpack_require__(8);var vastURLHandler=function(){function e(){}return e.xhr=function(){var e;return e=CEDATO_BROWSER.createXMLHTTPObject()},e.supported=function(){return!!this.xhr()},e.get=function(t,a,r){var n=a.players,o=a.playerData,i=CEDATO_HTTP.CORS_W_CREDENTIALS;CEDATO_URLUTILS.isFileProtocol()&&(i=CEDATO_HTTP.CORS_WO_CREDENTIALS),CEDATO_HTTP.FetchVastService.get({vastId:o.vastId,url:t,corsSupport:i,flashSupport:n.flashSupport,exceptionHeaders:[],onNonRetry:function(e,t){switch(e){case CEDATO_HTTP.ERR_BAD_RESPONSE:break;case CEDATO_HTTP.ERR_EXCEPTION_HEADER:}},externals:{players:n,playerData:o,fixURLPrm:fixURLPrm,debugLog:debugLog,vastError:vastError,cb:r,vastURLHandler:e,vpwException:vpwException}})},e}();exports.create=function(e){CEDATO_JSV=e.jsv,CEDATO_SWF=e.swf,CEDATO_API=window.CEDATO_API||CEDATO_API;var t,a="",r={};try{a=CEDATO_URLUTILS.ScriptPath(),r=getUrlVars(a,!0)}catch(n){a=""}if(t=null,t=getIndexses(a),!t||(-1===t.algovid||t.algovid>18)&&(-1===t.tlvmedia||t.tlvmedia>18)&&-1===t.cedatoplayer||!r.p){var o,i;try{i=document.getElementsByTagName("script"),o=i.length}catch(n){o=0,i=[]}if(o>0){for(var s=o-1;s>=0&&(a=i[s].src,t=null,t=getIndexses(a),!t||-1===t.algovid&&-1===t.tlvmedia&&-1===t.cedatoplayer);s-=1);r=getUrlVars(a,!0)}}r.ob||r.job||initPlayer(a),window.viddspPlayerInit=initPlayer,window.CEDATO_API=CEDATO_API}},function(e,t,a){var r,r;!function(t){e.exports=t()}(function(){return function e(t,a,n){function o(s,l){if(!a[s]){if(!t[s]){var d="function"==typeof r&&r;if(!l&&d)return r(s,!0);if(i)return i(s,!0);throw d=Error("Cannot find mmodule '"+s+"'"),d.code="MODULE_NOT_FOUND",d}d=a[s]={eexports:{}},t[s][0].call(d.eexports,function(e){var a=t[s][1][e];return o(a?a:e)},d,d.eexports,e,t,a,n)}return a[s].eexports}for(var i="function"==typeof r&&r,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,a){e=function(){return function(){this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[]}}(),this.extensions="",t.eexports=e},{}],2:[function(e,t,a){var r,n;r=e("./parser.coffee"),n=e("./util.coffee"),e=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,n){var o,i,s;if(i=+new Date,o=a.extend=function(e,t){var a,r;for(a in t)r=t[a],e[a]=r;return e},n||("function"==typeof t&&(n=t),s={}),s=o(this.options,t),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls)n(null);else{if(!(i-this.lastSuccessfullAd<this.cappingMinimumTimeInterval))return r.parse(e,s,function(e){return n(e)});n(null)}},function(){var t,a;a=n.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(r){t(e,r,{get:function(){return a.getItem(r)},set:function(e){return a.setItem(r,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.eexports=e},{"./parser.coffee":7,"./util.coffee":13}],3:[function(e,t,a){e=function(){return function(){this.id=null,this.height=this.width=0,this.companionClickThroughURLTemplate=this.staticResource=this.type=null,this.trackingEvents={}}}(),t.eexports=e},{}],4:[function(e,t,a){var r,n,o={}.hasOwnProperty,i=function(e,t){function a(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};r=function(){return function(){this.trackingEvents={}}}(),e=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[]}return i(t,e),t}(r),this.adParameters="",a=function(e){function t(){return n=t.__super__.constructor.apply(this,arguments)}return i(t,e),t}(r),r=function(e){function t(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return i(t,e),t}(r),t.eexports={VASTCreativeLinear:e,VASTCreativeNonLinear:a,VASTCreativeCompanion:r}},{}],5:[function(e,t,a){t.eexports={client:e("./client.coffee"),tracker:e("./tracker.coffee"),parser:e("./parser.coffee"),util:e("./util.coffee")}},{"./client.coffee":2,"./parser.coffee":7,"./tracker.coffee":9,"./util.coffee":13}],6:[function(e,t,a){e=function(){return function(){this.fileURL=this.id=null,this.deliveryType="progressive",this.codec=this.mimeType=null,this.height=this.width=this.maxBitrate=this.minBitrate=this.bitrate=0,this.maintainAspectRatio=this.scalable=this.apiFramework=null}}(),t.eexports=e},{}],7:[function(e,t,a){var r,n,o,i,s,l,d,c,u,p=[].indexOf||function(e){for(var t=0,a=this.length;a>t;t++)if(t in this&&this[t]===e)return t;return-1};n=e("./urlhandler.coffee"),c=e("./response.coffee"),o=e("./ad.coffee"),u=e("./util.coffee"),l=e("./creative.coffee").VASTCreativeLinear,s=e("./creative.coffee").VASTCreativeCompanion,d=e("./mediafile.coffee"),i=e("./companionad.coffee"),r=e("events").EventEmitter,e=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,a){return a||("function"==typeof t&&(a=t),t={}),this._parse(e,null,t,function(e,t){return a(t)})},e.vent=new r,e.track=function(e,t){return this.vent.emit("VAST-error",t),u.track(e,t)},e.on=function(e,t){return this.vent.on(e,t)},e.once=function(e,t){return this.vent.once(e,t)},e._parse=function(e,a,r,o){var i,s,l,d=this;for(o||("function"==typeof r&&(o=r),r={}),s=0,l=t.length;l>s;s++)i=t[s],e=i(e);return null==a&&(a=[]),a.push(e),n.get(e,r,function(t,r,n){var i,s,l,u,v,g;if(null!=t)return o(t);if(l=new c,null==(null!=r?r.documentElement:void 0)||"VAST"!==r.documentElement.nodeName)return o();for(g=r.documentElement.childNodes,u=0,v=g.length;v>u;u++)t=g[u],"Error"===t.nodeName&&l.errorURLTemplates.push(d.parseNodeText(t));for(v=r.documentElement.childNodes,r=0,u=v.length;u>r;r++)t=v[r],"Ad"===t.nodeName&&(i=d.parseAdElement(t),null!=i?l.ads.push(i):d.track(l.errorURLTemplates,{ERRORCODE:101}));for(s=function(e){var t,a,r;if(null==e&&(e=!1),l){for(r=l.ads,t=0,a=r.length;a>t;t++)if(i=r[t],null!=i.nextWrapperURL)return;return 0===l.ads.length&&(e||d.track(l.errorURLTemplates,{ERRORCODE:303}),l=null),o(null,l)}},t=l.ads.length;t--;)i=l.ads[t],null!=i.nextWrapperURL&&function(t){var r;return 10<=a.length||(r=t.nextWrapperURL,0<=p.call(a,r))?(d.track(t.errorURLTemplates,{ERRORCODE:302}),l.ads.splice(l.ads.indexOf(t),1),s(),void 0):(-1===t.nextWrapperURL.indexOf("://")&&(r=e.slice(0,e.lastIndexOf("/")),t.nextWrapperURL=""+r+"/"+t.nextWrapperURL),d._parse(t.nextWrapperURL,a,n,function(e,a){var r,n,o,i,c,u,p,v,g,m,h,f,y,E,b;if(n=!1,null!=e)d.track(t.errorURLTemplates,{ERRORCODE:301}),l.ads.splice(l.ads.indexOf(t),1),n=!0;else if(null==a)d.track(t.errorURLTemplates,{ERRORCODE:303}),l.ads.splice(l.ads.indexOf(t),1),n=!0;else for(l.errorURLTemplates=l.errorURLTemplates.concat(a.errorURLTemplates),i=l.ads.indexOf(t),l.ads.splice(i,1),y=a.ads,p=0,v=y.length;v>p;p++){if(c=y[p],c.errorURLTemplates=t.errorURLTemplates.concat(c.errorURLTemplates),c.impressionURLTemplates=t.impressionURLTemplates.concat(c.impressionURLTemplates),null!=t.trackingEvents)for(E=c.creatives,h=0,g=E.length;g>h;h++)if(r=E[h],"linear"===r.type)for(b=Object.keys(t.trackingEvents),f=0,m=b.length;m>f;f++)o=b[f],(u=r.trackingEvents)[o]||(u[o]=[]),r.trackingEvents[o]=r.trackingEvents[o].concat(t.trackingEvents[o]);if(null!=t.videoClickTrackingURLTemplates)for(m=c.creatives,g=0,o=m.length;o>g;g++)r=m[g],"linear"===r.type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates));l.ads.splice(i,0,c)}return delete t.nextWrapperURL,s(n)}))}(i);return s()})},e.childByName=function(e,t){var a,r,n,o;for(o=e.childNodes,r=0,n=o.length;n>r;r++)if(a=o[r],a.nodeName===t)return a},e.childsByName=function(e,t){var a,r,n,o,i;for(r=[],i=e.childNodes,n=0,o=i.length;o>n;n++)a=i[n],a.nodeName===t&&r.push(a);return r},e.parseAdElement=function(e){var t,a,r;for(r=e.childNodes,t=0,a=r.length;a>t;t++){if(e=r[t],"Wrapper"===e.nodeName)return this.parseWrapperElement(e);if("InLine"===e.nodeName)return this.parseInLineElement(e)}},e.parseWrapperElement=function(e){var t,a,r,n,o;for(t=this.parseInLineElement(e),a=this.childByName(e,"VASTAdTagURI"),null!=a?t.nextWrapperURL=this.parseNodeText(a):(a=this.childByName(e,"VASTAdTagURL"),null!=a&&(t.nextWrapperURL=this.parseNodeText(this.childByName(a,"URL")))),a=null,o=t.creatives,r=0,n=o.length;n>r;r++)if(e=o[r],"linear"===e.type){a=e;break}return null!=a&&(null!=a.trackingEvents&&(t.trackingEvents=a.trackingEvents),null!=a.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=a.videoClickTrackingURLTemplates)),null!=t.nextWrapperURL?t:void 0},e.parseInLineElement=function(e){var t,a,r,n,i,s,l,d,c,u;for(t=new o,d=e.childNodes,e=0,i=d.length;i>e;e++)switch(n=d[e],n.nodeName){case"Error":this.isUrl(n)&&t.errorURLTemplates.push(this.parseNodeText(n));break;case"Extensions":t.extensions=this.parseNodeText(n);break;case"Impression":this.isUrl(n)&&t.impressionURLTemplates.push(this.parseNodeText(n));break;case"Creatives":for(c=this.childsByName(n,"Creative"),n=0,s=c.length;s>n;n++)for(r=c[n],u=r.childNodes,r=0,l=u.length;l>r;r++)switch(a=u[r],a.nodeName){case"Linear":(a=this.parseCreativeLinearElement(a))&&t.creatives.push(a);break;case"CompanionAds":(a=this.parseCompanionAd(a))&&t.creatives.push(a)}}return t},e.parseCreativeLinearElement=function(e){var t,a,r,n,o,i,s,c,u,p;if(a=new l,a.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===a.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(t=e.getAttribute("skipoffset"),null==t?a.skipDelay=null:"%"===t.charAt(t.length-1)?(t=parseInt(t,10),a.skipDelay=t/100*a.duration):a.skipDelay=this.parseDuration(t),t=this.childByName(e,"VideoClicks"),null!=t)for(a.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(t,"ClickThrough")),r=this.childsByName(t,"ClickTracking"),o=0,p=r.length;p>o;o++)t=r[o],a.videoClickTrackingURLTemplates.push(this.parseNodeText(t));for(t=this.childByName(e,"AdParameters"),null!=t&&(a.adParameters=this.parseNodeText(t)),p=this.childsByName(e,"TrackingEvents"),t=0,o=p.length;o>t;t++)for(r=p[t],i=this.childsByName(r,"Tracking"),u=0,n=i.length;n>u;u++)s=i[u],r=s.getAttribute("event"),s=this.parseNodeText(s),null!=r&&null!=s&&(null==(c=a.trackingEvents)[r]&&(c[r]=[]),a.trackingEvents[r].push(s));for(t=this.childsByName(e,"MediaFiles"),e=0,c=t.length;c>e;e++)for(o=t[e],u=this.childsByName(o,"MediaFile"),r=0,p=u.length;p>r;r++)n=u[r],o=new d,o.id=n.getAttribute("id"),o.fileURL=this.parseNodeText(n),o.deliveryType=n.getAttribute("delivery"),o.codec=n.getAttribute("codec"),o.mimeType=n.getAttribute("type"),o.apiFramework=n.getAttribute("apiFramework"),o.bitrate=parseInt(n.getAttribute("bitrate")||0),o.minBitrate=parseInt(n.getAttribute("minBitrate")||0),o.maxBitrate=parseInt(n.getAttribute("maxBitrate")||0),o.width=parseInt(n.getAttribute("width")||0),o.height=parseInt(n.getAttribute("height")||0),(i=n.getAttribute("scalable"))&&"string"==typeof i&&(i=i.toLowerCase(),"true"===i?o.scalable=!0:"false"===i&&(o.scalable=!1)),(n=n.getAttribute("maintainAspectRatio"))&&"string"==typeof n&&(n=n.toLowerCase(),"true"===n?o.maintainAspectRatio=!0:"false"===n&&(o.maintainAspectRatio=!1)),a.mediaFiles.push(o);return a},e.parseCompanionAd=function(e){var t,a,r,n,o,l,d,c,u,p,v,g,m,h;for(a=new s,m=this.childsByName(e,"Companion"),d=0,u=m.length;u>d;d++){for(t=m[d],e=new i,e.id=t.getAttribute("id")||null,e.width=t.getAttribute("width"),e.height=t.getAttribute("height"),r=this.childsByName(t,"HTMLResource"),c=0,p=r.length;p>c;c++)n=r[c],e.type=n.getAttribute("creativeType")||0,e.htmlResource=this.parseNodeText(n);for(r=this.childsByName(t,"IFrameResource"),c=0,p=r.length;p>c;c++)n=r[c],e.type=n.getAttribute("creativeType")||0,e.iframeResource=this.parseNodeText(n);for(r=this.childsByName(t,"StaticResource"),c=0,p=r.length;p>c;c++)n=r[c],e.type=n.getAttribute("creativeType")||0,e.staticResource=this.parseNodeText(n);for(p=this.childsByName(t,"TrackingEvents"),c=0,n=p.length;n>c;c++)for(r=p[c],h=this.childsByName(r,"Tracking"),g=0,v=h.length;v>g;g++)o=h[g],r=o.getAttribute("event"),o=this.parseNodeText(o),null!=r&&null!=o&&(null==(l=e.trackingEvents)[r]&&(l[r]=[]),e.trackingEvents[r].push(o));e.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(t,"CompanionClickThrough")),a.variations.push(e)}return a},e.parseDuration=function(e){var t,a;return null==e?-1:(t=e.split(":"),3!==t.length?-1:(a=t[2].split("."),e=parseInt(a[0]),2===a.length&&(e+=parseFloat("0."+a[1])),a=parseInt(60*t[1]),t=parseInt(3600*t[0]),isNaN(t||isNaN(a||isNaN(e||a>3600||e>60)))?-1:t+a+e))},e.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},e.isUrl=function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?\/\/=]*)/i.test(this.parseNodeText(e))},e}(),t.eexports=e},{"./ad.coffee":1,"./companionad.coffee":3,"./creative.coffee":4,"./mediafile.coffee":6,"./response.coffee":8,"./urlhandler.coffee":10,"./util.coffee":13,events:14}],8:[function(e,t,a){e=function(){return function(){this.ads=[],this.errorURLTemplates=[]}}(),t.eexports=e},{}],9:[function(e,t,a){var r,n,o,i={}.hasOwnProperty,s=function(e,t){function a(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};r=e("./client.coffee"),o=e("./util.coffee"),n=e("./creative.coffee").VASTCreativeLinear,e=function(e){function t(e,t){var a,o,i;this.ad=e,this.creative=t,this.skipable=this.impressed=this.muted=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents="creativeView start firstQuartile midpoint thirdQuartile complete resume pause rewind skip closeLinear close".split(" "),i=t.trackingEvents;for(a in i)o=i[a],this.trackingEvents[a]=o.slice(0);t instanceof n?(this.setDuration(t.duration),this.skipDelay=t.skipDelay,this.linear=!0,this.clickThroughURLTemplate=t.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=t.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){r.lastSuccessfullAd=+new Date})}return s(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,a,r,n;if(a=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===a||this.skipable||(a>e?this.emit("skip-countdown",a-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&0<this.assetDuration){if(a=[],e>0)for(t in a.push("start"),r=Math.round(e/this.assetDuration*100),a.push("progress-"+r+"%"),n=this.quartiles)r=n[t],e>=r&&r+1>=e&&a.push(t);for(r=0,n=a.length;n>r;r++)t=a[r],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){return"number"==typeof e?this.skipDelay=e:void 0},t.prototype.load=function(){return this.impressed?void 0:(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t;return null!=(t=this.clickTrackingURLTemplates)&&t.length&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate?(this.linear&&(e={CONTENTPLAYHEAD:this.progressFormated()}),e=o.resolveURLTemplates([this.clickThroughURLTemplate],e)[0],this.emit("clickthrough",e)):void 0},t.prototype.track=function(e,t){var a,r;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),r=this.trackingEvents[e],a=this.emitAlwaysEvents.indexOf(e),null!=r?(this.emit(e,""),this.trackURLs(r)):-1!==a&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],a>-1&&this.emitAlwaysEvents.splice(a,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated()),o.track(e,t)},t.prototype.progressFormated=function(){var e,t,a,r;return a=parseInt(this.progress),e=a/3600,2>e.length&&(e="0"+e),t=a/60%60,2>t.length&&(t="0"+t),r=a%60,2>r.length&&(r="0"+t),a=parseInt(100*(this.progress-a)),""+e+":"+t+":"+r+"."+a},t}(e("events").EventEmitter),t.eexports=e},{"./client.coffee":2,"./creative.coffee":4,"./util.coffee":13,events:14}],10:[function(e,t,a){var r,n;n=e("./urlhandlers/xmlhttprequest.coffee"),r=e("./urlhandlers/flash.coffee"),a=function(){function t(){}return t.get=function(t,a,o){return o||("function"==typeof a&&(o=a),a={}),a.urlhandler&&a.urlhandler.supported()?a.urlhandler.get(t,a,o):"undefined"==typeof window||null===window?e("./urlhandlers/node.coffee").get(t,a,o):n.supported()?n.get(t,a,o):r.supported()?r.get(t,a,o):o()},t}(),t.eexports=a},{"./urlhandlers/flash.coffee":11,"./urlhandlers/xmlhttprequest.coffee":12}],11:[function(e,t,a){e=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,a){var r,n;return(n="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(n.async=!1,r=this.xdr(),r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.send(),r.onload=function(){return n.loadXML(r.responseText),a(null,n)}):a()},e}(),t.eexports=e},{}],12:[function(e,t,a){e=function(){function e(){}return e.xhr=function(){var e;return e=new window.XMLHttpRequest,"withCredentials"in e?e:void 0},e.supported=function(){return!!this.xhr()},e.get=function(e,t,a){var r;try{return r=this.xhr(),r.open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.send(),r.onreadystatechange=function(){return 4===r.readyState?a(null,r.responseXML):void 0}}catch(n){return a()}},e}(),t.eexports=e},{}],13:[function(e,t,a){e=function(){function e(){}return e.track=function(e,t){var a,r,n,o,i,s;for(r=this.resolveURLTemplates(e,t),s=[],o=0,i=r.length;i>o;o++)a=r[o],"undefined"!=typeof window&&null!==window&&(n=new Image,s.push(n.src=a));return s},e.resolveURLTemplates=function(e,t){var a,r,n,o,i,s,l,d;r=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING,l=0;for(d=e.length;d>l;l++)if(i=a=e[l]){for(n in t)s=t[n],a="["+n+"]",o="%%"+n+"%%",i=i.replace(a,s),i=i.replace(o,s);r.push(i)}return r},e.storage=function(){var e,t,a;try{a="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(r){a=null}return t=function(e){try{if(e.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==e.getItem("__VASTUtil__"))return!0}catch(t){return!0}return!1},(null==a||t(a))&&(e={},a={length:0,getItem:function(t){return e[t]},setItem:function(t,a){e[t]=a,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),a}(),e}(),t.eexports=e},{}],14:[function(e,t,a){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}t.eexports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,a,r,i;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(a=this._events[e],void 0===a)return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(t=arguments.length,r=Array(t-1),i=1;t>i;i++)r[i-1]=arguments[i];a.apply(this,r)}else if(o(a)){for(t=arguments.length,r=Array(t-1),i=1;t>i;i++)r[i-1]=arguments[i];for(a=a.slice(),t=a.length,i=0;t>i;i++)a[i].apply(this,r)}return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=void 0!==this._maxListeners?this._maxListeners:r.defaultMaxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var a,r,i;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=this._events[e],i=a.length,r=-1,a===t||n(a.listener)&&a.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(a)){for(;0<i--;)if(a[i]===t||a[i].listener&&a[i].listener===t){r=i;break}if(0>r)return this;1===a.length?(a.length=0,delete this._events[e]):a.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[e],n(t))this.removeListener(e,t);else for(;t.length;)this.removeListener(e,t[t.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){return e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}]},{},[5])(5)})},function(e,t){function a(e,t,a){if(!e||!t||!a)throw new Error("GoogleIMA arguments error players or playerData or playerCallbackFunction is undefined");return this.logPrefix="["+t.vastId+"][GoogleIMA]",this.players=e,this.playerData=t,this.playerCallbackFunction=a,this.adContainer=e.divElem,this.videoContent=t.videoElement,this.width=e.width,this.height=e.height,this.isGoogleLoaded=!1,this.arrStack=[],this.adDisplayContainer,this.adsLoader,this.adsRequest,this.adsManager,this.duration=30,this.msg="",this.clickUrl="",this.calbacks=[],this.isAdsRequested=!1,this.isStarted=!1,this.AD_ERROR=r.AD_ERROR,this.AD_BREAK_READY=r.AD_BREAK_READY,this.AD_METADATA=r.AD_METADATA,this.ALL_ADS_COMPLETED=r.ALL_ADS_COMPLETED,this.CLICK=r.CLICK,this.COMPLETE=r.COMPLETE,this.CONTENT_PAUSE_REQUESTED=r.CONTENT_PAUSE_REQUESTED,this.CONTENT_RESUME_REQUESTED=r.CONTENT_RESUME_REQUESTED,this.DURATION_CHANGE=r.DURATION_CHANGE,this.FIRST_QUARTILE=r.FIRST_QUARTILE,this.IMPRESSION=r.IMPRESSION,this.LINEAR_CHANGED=r.LINEAR_CHANGED,this.LOADED=r.LOADED,this.LOG=r.LOG,this.MIDPOINT=r.MIDPOINT,this.PAUSED=r.PAUSED,this.RESUMED=r.RESUMED,this.SKIPPABLE_STATE_CHANGED=r.SKIPPABLE_STATE_CHANGED,this.SKIPPED=r.SKIPPED,this.STARTED=r.STARTED,this.THIRD_QUARTILE=r.THIRD_QUARTILE,this.USER_CLOSE=r.USER_CLOSE,this.VOLUME_CHANGED=r.VOLUME_CHANGED,this.VOLUME_MUTED=r.VOLUME_MUTED,this.SDK_LOADED=r.SDK_LOADED,this.startTime=(new Date).getTime(),"undefined"==typeof google?this.inject(document,"script","google-ima-script"):(this.isGoogleLoaded=!0,void this.runScriptLoaded())}a.prototype={constructor:a,log:function(){},scriptLoaded:function(){this.log("scriptLoaded"),this.isGoogleLoaded=!0,this.runScriptLoaded()},runScriptLoaded:function(){this.log("runScriptLoaded"),this.init();for(var e;this.arrStack.length>0;)e=this.arrStack.shift(),e&&e.func(e.args)},storeForRun:function(e){return this.log("storeForRun",e),e?this.arrStack.push(e):void 0},inject:function(e,t,a){this.log("inject");var r,n=e.getElementsByTagName(t)[0];e.getElementById(a)||(r=e.createElement(t),r.id=a,r.onload=this.scriptLoaded.bind(this),r.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",n.parentNode.insertBefore(r,n))},init:function(){this.addEventListener(this.SDK_LOADED,this.playerCallbackFunction),this.addEventListener(this.COMPLETE,this.playerCallbackFunction),this.addEventListener(this.ALL_ADS_COMPLETED,this.playerCallbackFunction),this.addEventListener(this.DURATION_CHANGE,this.playerCallbackFunction),this.addEventListener(this.AD_ERROR,this.playerCallbackFunction),this.addEventListener(this.FIRST_QUARTILE,this.playerCallbackFunction),this.addEventListener(this.IMPRESSION,this.playerCallbackFunction),this.addEventListener(this.LOADED,this.playerCallbackFunction),this.addEventListener(this.MIDPOINT,this.playerCallbackFunction),this.addEventListener(this.STARTED,this.playerCallbackFunction),this.addEventListener(this.THIRD_QUARTILE,this.playerCallbackFunction),this.addEventListener(this.CLICK,this.playerCallbackFunction)},contentEndedListener:function(){this.adsLoader.contentComplete(),this.videoContent.onended=this.contentEndedListener.bind(this)},clear:function(){this.adsManager?this.adsManager.destroy():null,this.isStarted=!1,this.isAdsRequested=!1},createAdDisplayContainer:function(){return this.isGoogleLoaded?(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer),void this.adDisplayContainer.initialize()):this.storeForRun({func:this.createAdDisplayContainer.bind(this),args:null})},requestAds:function(){return this.log("requestAds "),this.isGoogleLoaded?void(this.isAdsRequested||(this.createAdDisplayContainer(),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setAutoPlayAdBreaks(!1),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.adTagUrl=this.playerData.mediaURL,this.adsRequest.linearAdSlotWidth=this.width,this.adsRequest.linearAdSlotHeight=this.height,this.adsLoader.requestAds(this.adsRequest),this.isAdsRequested=!0)):this.storeForRun({func:this.requestAds.bind(this),args:null})},onAdsManagerLoaded:function(e){this.log("onAdsManagerLoaded ",e);var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=e.getAdsManager(this.videoContent,t);var a=this.onAdEvent.bind(this),r=this.onAdProgressEvent.bind(this),n=this.onAdUserEvent.bind(this);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.adBreakReadyHandler.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,a),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,r),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,n),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,n);try{this.adsManager.init(this.width,this.height,google.ima.ViewMode.NORMAL),this.dispatchEvent(this.SDK_LOADED,this)}catch(o){
this.log("Error",o),this.videoContent.play()}},onAdEvent:function(e){this.log("onAdEvent ",e);var t=e.getAd();switch(e.type){case google.ima.AdEvent.Type.AD_METADATA:this.dispatchEvent(this.AD_METADATA,this);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.dispatchEvent(this.ALL_ADS_COMPLETED);break;case google.ima.AdEvent.Type.DURATION_CHANGE:this.duration=t.getDuration(),this.dispatchEvent(this.DURATION_CHANGE);break;case google.ima.AdEvent.Type.IMPRESSION:this.dispatchEvent(this.IMPRESSION);break;case google.ima.AdEvent.Type.LINEAR_CHANGED:this.dispatchEvent(this.LINEAR_CHANGED);break;case google.ima.AdEvent.Type.LOADED:this.dispatchEvent(this.LOADED);break;case google.ima.AdEvent.Type.LOG:this.dispatchEvent(this.LOG);break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:this.dispatchEvent(this.SKIPPABLE_STATE_CHANGED)}},onAdProgressEvent:function(e){switch(this.log("onAdProgressEvent "),e.type){case google.ima.AdEvent.Type.STARTED:this.dispatchEvent(this.STARTED);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.dispatchEvent(this.FIRST_QUARTILE);break;case google.ima.AdEvent.Type.MIDPOINT:this.dispatchEvent(this.MIDPOINT);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.dispatchEvent(this.THIRD_QUARTILE);break;case google.ima.AdEvent.Type.COMPLETE:this.dispatchEvent(this.COMPLETE)}},onAdUserEvent:function(e){this.log("onAdUserEvent ",e.type);e.getAd();switch(e.type){case google.ima.AdEvent.Type.CLICK:this.dispatchEvent(this.CLICK);break;case google.ima.AdEvent.Type.PAUSED:this.dispatchEvent(this.PAUSED);break;case google.ima.AdEvent.Type.RESUMED:this.dispatchEvent(this.RESUMED);break;case google.ima.AdEvent.Type.SKIPPED:this.dispatchEvent(this.SKIPPED);break;case google.ima.AdEvent.Type.USER_CLOSE:this.dispatchEvent(this.USER_CLOSE);break;case google.ima.AdEvent.Type.VOLUME_CHANGED:this.dispatchEvent(this.VOLUME_CHANGED);break;case google.ima.AdEvent.Type.VOLUME_MUTED:this.dispatchEvent(this.VOLUME_MUTED)}},start:function(){this.log("start "),this.isStarted||(this.adsManager.start(),this.isStarted=!0)},addEventListener:function(e,t){this.log("addEventListener ",e),this.calbacks[e]=t},dispatchEvent:function(e){this.log("dispatchEvent ",e),"function"==typeof this.calbacks[e]&&this.calbacks[e]({type:e,target:this})},onAdError:function(e){var t=e.getError();this.msg=t.getMessage(),this.log("onAdError ",this.msg),this.adsManager?this.adsManager.destroy():null,this.dispatchEvent(this.AD_ERROR)},onContentPauseRequested:function(){this.log("onContentPauseRequested "),this.dispatchEvent(this.CONTENT_PAUSE_REQUESTED),this.videoContent.pause()},onContentResumeRequested:function(){this.log("onContentResumeRequested "),this.dispatchEvent(this.CONTENT_RESUME_REQUESTED),this.videoContent.play()},adBreakReadyHandler:function(e){this.log("adBreakReadyHandler ",e)},contentEnded:function(){this.log("contentEnded "),this.adsLoader&&this.adsLoader.contentComplete()}};var r={AD_ERROR:"google.ima.AdErrorEvent.Type.AD_ERROR",AD_BREAK_READY:"google.ima.AdEvent.Type.AD_BREAK_READY",AD_METADATA:"google.ima.AdEvent.Type.AD_METADATA",ALL_ADS_COMPLETED:"google.ima.AdEvent.Type.ALL_ADS_COMPLETED",CLICK:"google.ima.AdEvent.Type.CLICK",COMPLETE:"google.ima.AdEvent.Type.COMPLETE",CONTENT_PAUSE_REQUESTED:"google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED",CONTENT_RESUME_REQUESTED:"google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED",DURATION_CHANGE:"google.ima.AdEvent.Type.DURATION_CHANGE",FIRST_QUARTILE:"google.ima.AdEvent.Type.FIRST_QUARTILE",IMPRESSION:"google.ima.AdEvent.Type.IMPRESSION",LINEAR_CHANGED:"google.ima.AdEvent.Type.LINEAR_CHANGED",LOADED:"google.ima.AdEvent.Type.LOADED",LOG:"google.ima.AdEvent.Type.LOG",MIDPOINT:"google.ima.AdEvent.Type.MIDPOINT",PAUSED:"google.ima.AdEvent.Type.PAUSED",RESUMED:"google.ima.AdEvent.Type.RESUMED",SKIPPABLE_STATE_CHANGED:"google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED",SKIPPED:"google.ima.AdEvent.Type.SKIPPED",STARTED:"google.ima.AdEvent.Type.STARTED",THIRD_QUARTILE:"google.ima.AdEvent.Type.THIRD_QUARTILE",USER_CLOSE:"google.ima.AdEvent.Type.USER_CLOSE",VOLUME_CHANGED:"google.ima.AdEvent.Type.VOLUME_CHANGED",VOLUME_MUTED:"google.ima.AdEvent.Type.VOLUME_MUTED",SDK_LOADED:"SDK_LOADED"};t.GOOGLE_IMA_EVENTS=r,t.GoogleIMA=a},function(e,t){function a(){this.type_="",this.obj={},this.flashEI="",this.eventsCallbacks_={},this.vpaidStatus="not_connected",this.globalCallbackName="";var e=this;this.playerID;var t=function(t,a,r){if(!this.eventsCallbacks_[t])throw Exception("no callback "+t);r?setTimeout(function(){e.eventsCallbacks_[t].call(e,a)},0):e.eventsCallbacks_[t].call(e,a)},a=function(){this.globalCallbackName="cpcb"+Math.floor(1000001*Math.random()),window[this.globalCallbackName]=t.bind(e)};a.call(this)}a.prototype={callObj:function(e,t){if("fl"==this.type_){try{var a=this.obj[this.flashEI](e,t)}catch(r){return null}return a}return this.obj.pEvent(e,t)},initObj:function(e,t,a,r){this.type_=t,"fl"==this.type_?(this.obj=e,r&&(this.flashEI=r)):window[e]&&(this.obj=window[e],this.vpaidStatus="connected",this.call("connect",{globalCallbackName:this.globalCallbackName,playersStorageName:a}))},getVpaidType:function(){return this.type_},call:function(e,t,a){return a?void setTimeout(this.callObj.bind(this),0,e,t):this.callObj(e,t)},register:function(e,t,a){var r=t.bind(a);this.eventsCallbacks_[e]=r}},t.getVpaid=function(){return new a}},function(e,t){function a(){var e=this,t={ready:[],click:[],adstart:[],adstartreq:[],adcomplete:[],adpause:[],adplay:[],_play:[],_pause:[],_sound:[],_resize:[],_skip:[],_close:[],_overrideinit:[],_pauseads:[]};e._ready=!1,e.on=function(a,r){var n=a.toLowerCase();return t[n]&&t[n].push(r),"ready"===n&&e._ready&&setTimeout(function(){e.trigger("ready")},0),e},e.off=function(a,r){var n=a.toLowerCase();if(t[n])if("function"==typeof r){var o=t[n].indexOf(r);o>=0&&t[n].splice(o,1)}else t[n]=[];return e},e.trigger=function(a,r){var n=a.toLowerCase();if(t[n]){for(var o=t[n].slice(),i=0,s=o.length;s>i;i++)if(t[n].indexOf(o[i])>-1){var l={};l.name=n,l.player=e,l.data="undefined"==typeof r?{}:r,o[i](l)}"ready"===n&&e.off("ready")}return e},e.play=function(){e.trigger("_play")},e.pause=function(){e.trigger("_pause")},e.overrideInitParams=function(t){e.trigger("_overrideInit",t)},e.sound=function(t){switch(typeof t){case"boolean":case"number":e.trigger("_sound",t);break;case"string":"on"!==t&&"off"!==t||e.trigger("_sound","on"===t)}},e.resize=function(t,a){var r=Number(t),n=Number(a);r>=0&&n>=0&&e.trigger("_resize",{width:r,height:n})},e.skip=function(){e.trigger("_skip")},e.close=function(){e.trigger("_close")},e.pauseAds=function(){e.trigger("_pauseads")}}var r={};t.API_VER="1.0.2",t.registerPlayer=function(e){return"undefined"==typeof r[e]?(r[e]=new a,r[e]._ready=!0):(r[e]._ready=!0,setTimeout(function(){r[e].trigger("ready")},0)),r[e]},t.getPlayer=function(e){return"undefined"==typeof r[e]&&(r[e]=new a),r[e]}},function(e,t,a){var r=a(3),n=a(4),o=t;o.CAP_TYPE=Object.freeze({AD_START:1,AD_REQUEST:2}),o.getVastAllocation=function(e,t,a){var o=n.buildUrl(e+"/get_vast_allocation?",{v:t});r.ajax({url:o,onLoad:function(){a(this.responseText)}})},o.capAllocated=function(e,t,a,r){(new Image).src=n.buildUrl(e+"/cap_allocated?",{v:t,aq:a,capt:r})}},function(e,t,a){var r=a(1),n=a(5),o=function(e){var t=this,a=r.extend({parentDiv:null,contentUrl:null,bannerUrl:"spinner.gif",playButtonUrl:"play_button_gr.png",clickUrl:"",autoPlay:!0,volume:0,loop:!0,controlBar:!1,videoSupport:!0,customCreateVideoElement:null,userStartPlayingCallback:function(e){},endContentVideoCallback:function(e){},userClick:function(e){},onError:function(e){}},e);this.currentVideoIndex=0,this.parentDiv=a.parentDiv,this.contentUrl=a.contentUrl,this.contentUrlList=r.isArray(this.contentUrl)?this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[],this.currentContentUrl=this.contentUrlList.length?this.contentUrlList[this.currentVideoIndex]:null,this.bannerUrl=a.bannerUrl,this.clickUrl=a.clickUrl,this.autoPlay=a.autoPlay,this.volume=1*a.volume,this.loop=a.loop,this.controlBar=a.controlBar,this.videoSupport=a.videoSupport,this.customCreateVideoElement=a.customCreateVideoElement,this.contentVideoLoop=!1,this.endCallbackTriggered=!1,this.onError=a.onError,this.playButtonUrl=a.playButtonUrl,this.callbacks={userStartPlaying:[a.userStartPlayingCallback],endContentVideo:[a.endContentVideoCallback]},this.loop&&(this.contentUrlList.push(this.currentContentUrl),this.contentVideoLoop=1==this.contentUrlList.length),this.container=document.createElement("div"),n.assignClass(this.container,n.Classes.contentContainer),this.parentDiv?this.parentDiv.appendChild(this.container):"",this.bannerOverlay=null,this.video=null,this.playOverlay=null,this.currentContentUrl&&this.videoSupport?this._createVideoPlayer():this._createBannerOverlay(),this.visible=!0,this.container.onclick=function(e){t.clickUrl&&!t.playOverlay&&(a.userClick(),window.open(t.clickUrl,"_blank"))}};o.prototype._createVideoPlayer=function(){this.video&&this.video.parentNode&&this.video.parentNode.removeChild(this.video);var e=this.customCreateVideoElement?this.customCreateVideoElement():document.createElement("video");e.src=this.currentContentUrl,e.controls=this.controlBar,e.autoplay=this.autoPlay,e.loop=!1,e.preload="auto",e.volume=this.volume,n.assignClass(e,n.Classes.contentVideo);var t=this;e.addEventListener("ended",function(a){if(t.contentVideoLoop&&e.play(),!t.endCallbackTriggered){for(var r=0,n=t.callbacks.endContentVideo.length;n>r;r++)t.callbacks.endContentVideo[r].call(t);t.endCallbackTriggered=!0}t.contentVideoLoop||t.nextVideo()},!1),e.addEventListener("error",function(e){var a="";switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:a="You aborted the video playback.";break;case e.target.error.MEDIA_ERR_NETWORK:a="A network error caused the video download to fail part-way.";break;case e.target.error.MEDIA_ERR_DECODE:a="The video playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:a="The video could not be loaded, either because the server or network failed or because the format is not supported.";break;default:a="An unknown error occurred."}t.onError(e,a)},!1),e.addEventListener("canplay",function(t){var a=e.videoWidth,r=e.videoHeight;e.canvas&&(a||(a=e.canvas.width,r=e.canvas.height),e.canvas.style.width="100%",e.canvas.style.height="100%")}),this.video=e,this.container?this.container.appendChild(e):"",this.autoPlay||this.controlBar||this._createPlayButtonOverlay()},o.prototype._createPlayButtonOverlay=function(){var e=document.createElement("div");e.style.display="table",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="10011",e.style.background="#000",e.style.cursor="pointer";var t=document.createElement("div");t.style.display="table-cell",t.style.verticalAlign="middle",t.style.textAlign="center";var a=new Image;a.src=this.playButtonUrl,a.style.width="auto",a.style.maxHeight=Math.round(.3*this.container.clientHeight)+"px",t.appendChild(a),e.appendChild(t),this.playOverlay=e,this.container&&this.container.appendChild(e);var r=this;e.onclick=function(e){r.playOverlay&&r.playOverlay.parentNode?r.playOverlay.parentNode.removeChild(r.playOverlay):"",r.playOverlay=null,r.playContent(),e.stopPropagation();for(var t=0,a=r.callbacks.userStartPlaying.length;a>t;t++)r.callbacks.userStartPlaying[t].call(r)}},o.prototype._createBannerOverlay=function(){var e=document.createElement("div");n.assignClass(e,n.Classes.contentBanner),n.fromObject(e,{background:"url("+this.bannerUrl+") no-repeat center center"}),this.bannerOverlay=e,this.container?this.container.appendChild(e):"",this.autoPlay||this._createPlayButtonOverlay()},o.prototype.nextVideo=function(){return this.currentVideoIndex!=this.contentUrlList.length-1?(this.currentContentUrl=this.contentUrlList[++this.currentVideoIndex],this.video.src=this.currentContentUrl,!0):this.loop?(this.currentVideoIndex=0,this.currentContentUrl=this.contentUrlList[this.currentVideoIndex],this.video.src=this.currentContentUrl,!0):!1},o.prototype.playContent=function(){this.video&&(this.video.paused&&this.playOverlay||this.video.play())},o.prototype.pauseContent=function(){this.video&&this.video.pause()},o.prototype.showContent=function(){this.container&&(this.visible=!0,this.container.style.zIndex="10001",this.container.style.display="",this.playContent())},o.prototype.hideContent=function(){this.container&&(this.visible=!1,this.container.style.zIndex="1",this.container.style.display="none",this.pauseContent())},o.prototype.setContentUrls=function(e){this.container&&(this.contentUrl=e,this.contentUrlList=r.isArray(this.contentUrl)?this.contentUrl.slice():this.contentUrl?[this.contentUrl]:[],this.currentContentUrl=this.contentUrlList.length?this.contentUrlList[this.currentVideoIndex]:null,this.video.src=this.currentContentUrl)},o.prototype.isVisible=function(){return this.visible},o.prototype.removeContent=function(){this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)},o.prototype.setVolume=function(e){this.volume=e,this.video&&(this.video.volume=e)},o.prototype.addEndContentVideoCallback=function(e){this.callbacks.endContentVideo.push(e)},o.prototype.addUserStartPlayingCallback=function(e){this.callbacks.userStartPlaying.push(e)},t.ContentUnit=o},function(e,t){t.getStatsParam=function(e){if(e){var t="h";"https:"===e.protocol&&(t="s");var a="h";if("vpaid"===e.mode&&(a="f",e.vpaidObj)){var r=e.vpaidObj.getVpaidType();switch(r){case"fl":a="f";break;case"js":a="j"}}var n="d";return e.info&&e.info.mobile&&(n="m"),t+a+n}}},function(e,t){t.getDeviceInfo=function(){var e,t={os:"",osv:"0",make:"",model:"",mobile:!1};try{e=navigator.userAgent,e||(e=window.navigator.userAgent)}catch(a){e=window.navigator.userAgent}var r,n;if(/iPod/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPod",t.mobile=!0;else if(/iPhone/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPhone",t.mobile=!0;else if(/iPad/i.test(e))t.os="iOS",t.osv=(e.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,"."),t.make="Apple",t.model="iPad",t.mobile=!0;else if(/Android/i.test(e)){if(t.os="Android",t.mobile=!0,r=/\Android.([\d\.]+).*;\s(\w*;\s)?(.*)\sBuild.*\)/i,n=r.exec(e)){t.osv=n[1]||"0";var o=n[3]||"";/HTC/i.test(o)?(t.make="HTC",r=/HTC\s(.*)/i,n=r.exec(o),t.model=n?n[1]:""):/ASUS/i.test(o)?(t.make="ASUS",r=/ASUS\s(.*)/i,n=r.exec(o),t.model=n?n[1]:""):/ALCATEL/i.test(o)?(t.make="ALCATEL",r=/ALCATEL\s(.*)/i,n=r.exec(o),t.model=n?n[1]:""):/BLU/i.test(o)?(t.make="BLU",r=/BLU\s(.*)/i,n=r.exec(o),t.model=n?n[1]:""):/ME17\d/i.test(o)?(t.make="ASUS",t.model=o):/Nexus/i.test(o)?(t.make="Google",t.model=o):/Lenovo/i.test(o)?(t.make="Lenovo",r=/Lenovo\s(.*)/i):/IdeaTab/i.test(o)?(t.make="Lenovo",t.model=o):/Huawei/i.test(e)?(t.make="Huawei",t.model=o):/SGP\d/i.test(o)?(t.make="Sony",t.model=o):/LT[1-9]\d/i.test(o)?(t.make="Sony",t.model=o):/HP/i.test(o)?(t.make="HP",r=/HP\s(.*)/i,n=r.exec(o),t.model=n?n[1]:""):/A1-/i.test(o)||/B11-/i.test(o)?(t.make="Acer",t.model=o):/GT-/i.test(o)?(t.make="Samsung",r=/(GT-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/SM-/i.test(o)?(t.make="Samsung",r=/(SM-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/SPH-/i.test(o)?(t.make="Samsung",r=/(SPH-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/SCH-/i.test(o)?(t.make="Samsung",r=/(SCH-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/SGH-/i.test(o)?(t.make="Samsung",r=/(SGH-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/DROID/i.test(o)?(t.make="Motorola",r=/(DROID.*)/i,n=r.exec(o),t.model=n?n[1]:""):/XT/i.test(o)?(t.make="Motorola",r=/(XT.*)/i,n=r.exec(o),t.model=n?n[1]:""):/LG-/i.test(o)?(t.make="LG",r=/(LG-.*)/i,n=r.exec(o),t.model=n?n[1]:""):/VS/i.test(o)?(t.make="LG",r=/(VS.*)/i,n=r.exec(o),t.model=n?n[1]:""):/Z[1-9]/i.test(o)?(t.make="ZTE",r=/(Z[1-9].*)/i,n=r.exec(o),t.model=n?n[1]:""):/NX[1-9]/i.test(o)?(t.make="NEXTBOOK",r=/(NX[1-9].*)/i,n=r.exec(o),t.model=n?n[1]:""):/C5[1-9]/i.test(o)?(t.make="Kyocera",r=/(C5[1-9].*)/i,n=r.exec(o),t.model=n?n[1]:""):t.model=o}}else/Windows.Phone/i.test(e)||/WPDesktop/i.test(e)?(t.os="WindowsPhone",t.osv=(e.match(/Windows.Phone\s([0-9]+\.[0-9])/)||[""])[1]||8,t.mobile=!0,/NOKIA/i.test(e)&&(t.make="Nokia",r=/NOKIA;\s(.*?)(;|\))/i,n=r.exec(e),t.model=n?n[1]:"")):/BlackBerry/i.test(e)||navigator.userAgent.match(/BB10/i)?(t.os="BlackBerry",e.indexOf("Version/")>=0?(r=/Version\/(.*?)\s/i,n=r.exec(e),t.osv=n?n[1]:""):(r=/BlackBerry.*\/(.*?)\s/i,n=r.exec(e),t.osv=n?n[1]:""),t.mobile=!0):/Windows/i.test(e)?(t.os="Windows",r=/Windows\sNT\s(.*?)(;|\)|\s)/i,n=r.exec(e),t.osv=n?n[1]:""):/Mac\sOS/i.test(e)&&(t.os="MacOS",r=/Mac\sOS\sX\s(.*?)(;|\)|\s)/i,n=r.exec(e),t.osv=n?n[1]:"");return t}},function(e,t){t.getSize=function(e){}},function(e,t){t.include=function(){try{Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,a=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.push(t);return a}),"function"!=typeof Object.create&&(Object.create=function(e,t){function a(){}if("object"!=typeof e)throw TypeError();a.prototype=e;var r=new a;if(e&&(r.constructor=a),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(r,t)}return r}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,a,r){if(e)try{return e(t,a,r)}catch(n){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,a,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,a,r.set),"value"in r&&(t[a]=r.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var a;for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&Object.defineProperty(e,a,t[a]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,a=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.push(t);return a}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw TypeError("Bind must be called on a function");var a=[].slice,r=a.call(arguments,1),n=this,o=function(){return n.apply(this instanceof t?this:e,r.concat(a.call(arguments)))};return t.prototype=n.prototype,o.prototype=new t,o}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if(0===a)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),isNaN(r)?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=a)return-1;for(var n=r>=0?r:Math.max(a-Math.abs(r),0);a>n;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if(0===a)return-1;var r=a;arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var n=r>=0?Math.min(r,a-1):a-Math.abs(r);n>=0;n--)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=arguments[1];for(r=0;a>r;r++)if(r in t&&!e.call(n,t[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=arguments[1];for(r=0;a>r;r++)if(r in t&&e.call(n,t[r],r,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=arguments[1];for(r=0;a>r;r++)r in t&&e.call(n,t[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();var r=[];r.length=a;var n,o=arguments[1];for(n=0;a>n;n++)n in t&&(r[n]=e.call(o,t[n],n,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,n=[],o=arguments[1];for(r=0;a>r;r++)if(r in t){var i=t[r];e.call(o,i,r,t)&&n.push(i)}return n}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===a&&1===arguments.length)throw TypeError();var r,n=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(n in t){r=t[n++];break}if(++n>=a)throw TypeError()}for(;a>n;)n in t&&(r=e.call(void 0,r,t[n],n,t)),n++;return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),a=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===a&&1===arguments.length)throw TypeError();var r,n=a-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(n in this){r=this[n--];break}if(--n<0)throw TypeError()}for(;n>=0;)n in t&&(r=e.call(void 0,r,t[n],n,t)),n--;return r}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}function t(e){return("000"+e).slice(-3)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+t(this.getUTCMilliseconds())+"Z"})}catch(e){}}},function(e,t,a){function r(e,t,a){for(var r=0,n=e.length;n>r;r++)if("undefined"!=typeof t[e[r]]&&null!==t[e[r]])switch(e[r]){case"flashSupport":a[e[r]]=t[e[r]]?"1":"0";break;default:a[e[r]]=t[e[r]]}}function n(e,t,a,n){r(e,t,n),r(e,a,n)}function o(e){var t={};for(var a in e)e.hasOwnProperty(a)&&"undefined"!=typeof g[a]&&(t[g[a]]=e[a]);return t}function i(e,t){for(var a in t)null!=g[a]&&e.push([a,String(t[a])].join("="))}var s=a(1),l=a(4),d=a(3),c=t,u=c;c.E_REQUEST="/vpx/requesti",c.E_LOADED="/vpx/loadedi",c.E_MIDS="/vpx/midsi",c.E_END="/vpx/endi",c.E_ADSTART="/vpx/starti",c.E_VAST_ERROR="/vpx/errori",c.E_START="/ppx/starti",c.E_SERVED_AND_START="/ppx/served_and_starti",c.E_VPWS="/ppx/vpwsi",c.E_ADPLAYED="/ppx/adplayedi",c.E_SCHEDULED="/ppx/scheduledi",c.E_PLAYER_ERROR="/ppx/errori",c.E_SUBMIT_DEBUG_LOG="sdl";var p={},v=1e4,g={subid:"sid",domain:"domain",sessionId:"se",playerVersion:"pv",timeFromStart:"s",flashSupport:"f",detect:"sa",vastId:"v",playerId:"p",memUsed:"m",time:"t",time2:"t2",duration:"d",gpvTime:"gt",fpwReadyTime:"ft",domReadyTime:"dt",gpvM:"gm",roundNo:"r",totalMemS:"tm",vastType:"y",state:"st",gpvAttempt:"ga",errorCode:"en",errorMessage:"em",mediaURL:"mu",logStartRequest:"ls",logLoadRequest:"lr",cedatoxPlayerId:"cxp",cedatoxVastId:"cxv",chosenVastId:"cv",parentPlayerId:"pp"},m=["cedatoxPlayerId","cedatoxVastId","chosenVastId","parentPlayerId"],h=["subid","domain","sessionId","playerVersion","timeFromStart","flashSupport","detect"];c.log=function(e,t,a,r,o){try{var s=!1,t=t||{},a=a||{},r=r||{};o=o||function(){};var l=[];i(l,t),i(l,a),i(l,r),o(t,"tlv_logEvent: "+e+"?"+l.join("&"),!1);var d=((new Date).getTime()-t.startTime)/1e3;d=d.toFixed(1);var c=e.substring(e.lastIndexOf("/")+1),g={name:c,common:{},extra:{}};switch(n(h,t,{},g.common),g.common.timeFromStart=d,e){case u.E_REQUEST:n(["playerId","vastId"].concat(m),a,r,g.extra);break;case u.E_LOADED:n(["playerId","vastId","memUsed","time"].concat(m),a,r,g.extra);break;case u.E_MIDS:n(["playerId","vastId","duration"].concat(m),a,r,g.extra);break;case u.E_END:n(["playerId","vastId"].concat(m),a,r,g.extra);var f=a.duration/4;g.extra.duration=f.toFixed(2),s=!0;break;case u.E_ADSTART:n(["playerId","vastId","time","roundNo","memUsed","totalMemS","vastType"].concat(m),a,r,g.extra),s=!0;break;case u.E_VAST_ERROR:n(["playerId","vastId","errorCode","errorMessage","mediaURL","logStartRequest","logLoadRequest","time"].concat(m),a,r,g.extra),s=!0;break;case u.E_START:n(["playerId"],t,r,g.extra),s=!0;break;case u.E_SERVED_AND_START:n(["playerId"],t,r,g.extra),s=!0;break;case u.E_SCHEDULED:n(["playerId","fpwReadyTime","gpvTime","domReadyTime","gpvM","gpvAttempt"],t,r,g.extra);var y=((new Date).getTime()-t.startTime)/1e3;g.extra.time=y.toFixed(1),s=!0;break;case u.E_ADPLAYED:n(["playerId"],t,r,g.extra);var y=((new Date).getTime()-t.startTime)/1e3;g.extra.time=y.toFixed(1),s=!0;break;case u.E_VPWS:n(["playerId"],t,r,g.extra),n(["time","state","time2"],a,r,g.extra),s=!0;break;case u.E_PLAYER_ERROR:n(["playerId"],t,r,g.extra),n(["errorCode","errorMessage"],a,r,g.extra),s=!0}var E=e.substring(0,e.lastIndexOf("/")),b=[t.protocol||"","//",t.machineId,E].join("");if("undefined"==typeof p[b]){var T={flushTimerId:null,events:[]};p[b]=T}0==p[b].events.length&&(p[b].flushTimerId=function(e){return setTimeout(function(){u.flushEvents(e)},v)}(b)),p[b].events.push(g),s&&u.flushEvents(b)}catch(I){}},window.URLS=[],c.flushEvents=function(e){if(e){var t=p[e].events;if(t.length)if(1==t.length)try{var a=t[0],r=[e,"/",a.name,"?"].join(""),n=s.extend(a.common,a.extra),i=o(n);i.cb=(new Date).getTime();var c=l.buildUrl(r,i);d.sendPixel(c,null,!0)}catch(v){}else try{for(var g={base:[e,"/multiple-events?"].join(""),common:{},eventsList:[],eventsData:[]},m=0,h=t.length;h>m;m++){var f={},a=t[m];if(0==m)g.common=a.common;else for(var y in a.common)a.common[y]!=g.common[y]&&(f[y]=a.common[y]);for(var y in a.extra)f[y]=a.extra[y];g.eventsList.push(a.name),g.eventsData.push(o(f))}for(var E=g.eventsList.join(","),b=[],m=0,h=g.eventsData.length;h>m;m++){var T=g.eventsData[m],I=[];for(var A in T)I.push([A,T[A]].join(":"));b.push(I.join(","))}var L=b.join("|"),c=l.buildUrl(g.base,s.extend({cb:(new Date).getTime(),events:E,data:L},o(g.common)));d.sendPixel(c,null,!0)}catch(v){}p[e].events=[],clearTimeout(p[e].flushTimerId)}else for(var S in p)u.flushEvents(S)}},function(e,t){var a=t;try{a.swfobject=function(){function e(){if(!W){try{var e=j.getElementsByTagName("body")[0].appendChild(f("span"));e.parentNode.removeChild(e)}catch(t){return}W=!0;for(var a=M.length,r=0;a>r;r++)M[r]()}}function t(e){W?e():M[M.length]=e}function r(e){if(typeof N.addEventListener!=_)N.addEventListener("load",e,!1);else if(typeof j.addEventListener!=_)j.addEventListener("load",e,!1);else if(typeof N.attachEvent!=_)y(N,"onload",e);else if("function"==typeof N.onload){var t=N.onload;N.onload=function(){t(),e()}}else N.onload=e}function n(){F?o():i()}function o(){var e=j.getElementsByTagName("body")[0],t=f(O);t.setAttribute("type",P);var a=e.appendChild(t);if(a){var r=0;!function(){if(typeof a.GetVariable!=_){var n=a.GetVariable("$version");n&&(n=n.split(" ")[1].split(","),Q.pv=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)])}else if(10>r)return r++,void setTimeout(arguments.callee,10);e.removeChild(t),a=null,i()}()}else i()}function i(){var e=q.length;if(e>0)for(var t=0;e>t;t++){var a=q[t].id,r=q[t].callbackFn,n={success:!1,id:a};if(Q.pv[0]>0){var o=h(a);if(o)if(!E(q[t].swfVersion)||Q.wk&&Q.wk<312)if(q[t].expressInstall&&l()){var i={};i.data=q[t].expressInstall,i.width=o.getAttribute("width")||"0",i.height=o.getAttribute("height")||"0",o.getAttribute("class")&&(i.styleclass=o.getAttribute("class")),o.getAttribute("align")&&(i.align=o.getAttribute("align"));for(var u={},p=o.getElementsByTagName("param"),v=p.length,g=0;v>g;g++)"movie"!=p[g].getAttribute("name").toLowerCase()&&(u[p[g].getAttribute("name")]=p[g].getAttribute("value"));d(i,u,a,r)}else c(o),r&&r(n);else T(a,!0),r&&(n.success=!0,n.ref=s(a),r(n))}else if(T(a,!0),r){var m=s(a);m&&typeof m.SetVariable!=_&&(n.success=!0,n.ref=m),r(n)}}}function s(e){var t=null,a=h(e);if(a&&"OBJECT"==a.nodeName)if(typeof a.SetVariable!=_)t=a;else{var r=a.getElementsByTagName(O)[0];r&&(t=r)}return t}function l(){return!G&&E("6.0.65")&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)}function d(e,t,a,r){G=!0,S=r||null,D={success:!1,id:a};var n=h(a);if(n){"OBJECT"==n.nodeName?(A=u(n),L=null):(A=n,L=a),e.id=x,(typeof e.width==_||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==_||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var o=Q.ie&&Q.win?"ActiveX":"PlugIn",i="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+o+"&MMdoctitle="+j.title;if(typeof t.flashvars!=_?t.flashvars+="&"+i:t.flashvars=i,Q.ie&&Q.win&&4!=n.readyState){var s=f("div");a+="SWFObjectNew",s.setAttribute("id",a),n.parentNode.insertBefore(s,n),n.style.display="none",function(){4==n.readyState?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}p(e,t,a)}}function c(e){if(Q.ie&&Q.win&&4!=e.readyState){var t=f("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=f("div");if(Q.win&&Q.ie)t.innerHTML=e.innerHTML;else{var a=e.getElementsByTagName(O)[0];if(a){var r=a.childNodes;if(r)for(var n=r.length,o=0;n>o;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function p(e,t,a){var r,n=h(a);if(Q.wk&&Q.wk<312)return r;if(n)if(typeof e.id==_&&(e.id=a),Q.ie&&Q.win){var o="";for(var i in e)e[i]!=Object.prototype[i]&&("data"==i.toLowerCase()?t.movie=e[i]:"styleclass"==i.toLowerCase()?o+=' class="'+e[i]+'"':"classid"!=i.toLowerCase()&&(o+=" "+i+'="'+e[i]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');n.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+o+">"+s+"</object>",B[B.length]=e.id,r=h(e.id)}else{var d=f(O);d.setAttribute("type",P);for(var c in e)e[c]!=Object.prototype[c]&&("styleclass"==c.toLowerCase()?d.setAttribute("class",e[c]):"classid"!=c.toLowerCase()&&d.setAttribute(c,e[c]));for(var u in t)t[u]!=Object.prototype[u]&&"movie"!=u.toLowerCase()&&v(d,u,t[u]);n.parentNode.replaceChild(d,n),r=d}return r}function v(e,t,a){var r=f("param");r.setAttribute("name",t),r.setAttribute("value",a),e.appendChild(r)}function g(e){var t=h(e);t&&"OBJECT"==t.nodeName&&(Q.ie&&Q.win?(t.style.display="none",function(){4==t.readyState?m(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function m(e){var t=h(e);if(t){for(var a in t)"function"==typeof t[a]&&(t[a]=null);t.parentNode.removeChild(t)}}function h(e){var t=null;try{t=j.getElementById(e)}catch(a){}return t}function f(e){return j.createElement(e)}function y(e,t,a){e.attachEvent(t,a),H[H.length]=[e,t,a]}function E(e){var t=Q.pv,a=e.split(".");return a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10)||0,a[2]=parseInt(a[2],10)||0,t[0]>a[0]||t[0]==a[0]&&t[1]>a[1]||t[0]==a[0]&&t[1]==a[1]&&t[2]>=a[2]}function b(e,t,a,r){if(!Q.ie||!Q.mac){var n=j.getElementsByTagName("head")[0];
if(n){var o=a&&"string"==typeof a?a:"screen";if(r&&(C=null,w=null),!C||w!=o){var i=f("style");i.setAttribute("type","text/css"),i.setAttribute("media",o),C=n.appendChild(i),Q.ie&&Q.win&&typeof j.styleSheets!=_&&j.styleSheets.length>0&&(C=j.styleSheets[j.styleSheets.length-1]),w=o}Q.ie&&Q.win?C&&typeof C.addRule==O&&C.addRule(e,t):C&&typeof j.createTextNode!=_&&C.appendChild(j.createTextNode(e+" {"+t+"}"))}}}function T(e,t){if(J){var a=t?"visible":"hidden";W&&h(e)?h(e).style.visibility=a:b("#"+e,"visibility:"+a)}}function I(e){var t=/[\\\"<>\.;]/,a=null!=t.exec(e);return a&&typeof encodeURIComponent!=_?encodeURIComponent(e):e}var A,L,S,D,C,w,_="undefined",O="object",R="Shockwave Flash",k="ShockwaveFlash.ShockwaveFlash",P="application/x-shockwave-flash",x="SWFObjectExprInst",V="onreadystatechange",N=window,j=document,U=navigator,F=!1,M=[n],q=[],B=[],H=[],W=!1,G=!1,J=!0,Q=function(){var e=typeof j.getElementById!=_&&typeof j.getElementsByTagName!=_&&typeof j.createElement!=_,t=U.userAgent.toLowerCase(),a=U.platform.toLowerCase(),r=a?/win/.test(a):/win/.test(t),n=a?/mac/.test(a):/mac/.test(t),o=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,i=!1,s=[0,0,0],l=null;if(typeof U.plugins!=_&&typeof U.plugins[R]==O)l=U.plugins[R].description,!l||typeof U.mimeTypes!=_&&U.mimeTypes[P]&&!U.mimeTypes[P].enabledPlugin||(F=!0,i=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof N.ActiveXObject!=_)try{var d=new ActiveXObject(k);d&&(l=d.GetVariable("$version"),l&&(i=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(c){}return{w3:e,pv:s,wk:o,ie:i,win:r,mac:n}}();(function(){Q.w3&&((typeof j.readyState!=_&&"complete"==j.readyState||typeof j.readyState==_&&(j.getElementsByTagName("body")[0]||j.body))&&e(),W||(typeof j.addEventListener!=_&&j.addEventListener("DOMContentLoaded",e,!1),Q.ie&&Q.win&&(j.attachEvent(V,function(){"complete"==j.readyState&&(j.detachEvent(V,arguments.callee),e())}),N==top&&!function(){if(!W){try{j.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),Q.wk&&!function(){return W?void 0:/loaded|complete/.test(j.readyState)?void e():void setTimeout(arguments.callee,0)}(),r(e)))})(),function(){Q.ie&&Q.win&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;e>t;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var r=B.length,n=0;r>n;n++)g(B[n]);for(var o in Q)Q[o]=null;Q=null;for(var i in a.swfobject)a.swfobject[i]=null;a.swfobject=null})}();return{registerObject:function(e,t,a,r){if(Q.w3&&e&&t){var n={};n.id=e,n.swfVersion=t,n.expressInstall=a,n.callbackFn=r,q[q.length]=n,T(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){return Q.w3?s(e):void 0},embedSWF:function(e,a,r,n,o,i,s,c,u,v){var g={success:!1,id:a};Q.w3&&!(Q.wk&&Q.wk<312)&&e&&a&&r&&n&&o?(T(a,!1),t(function(){r+="",n+="";var t={};if(u&&typeof u===O)for(var m in u)t[m]=u[m];t.data=e,t.width=r,t.height=n;var h={};if(c&&typeof c===O)for(var f in c)h[f]=c[f];if(s&&typeof s===O)for(var y in s)typeof h.flashvars!=_?h.flashvars+="&"+y+"="+s[y]:h.flashvars=y+"="+s[y];if(E(o)){var b=p(t,h,a);t.id==a&&T(a,!0),g.success=!0,g.ref=b}else{if(i&&l())return t.data=i,void d(t,h,a,v);T(a,!0)}v&&v(g)})):v&&v(g)},switchOffAutoHideShow:function(){J=!1},ua:Q,getFlashPlayerVersion:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},hasFlashPlayerVersion:E,createSWF:function(e,t,a){return Q.w3?p(e,t,a):void 0},showExpressInstall:function(e,t,a,r){Q.w3&&l()&&d(e,t,a,r)},removeSWF:function(e){Q.w3&&g(e)},createCSS:function(e,t,a,r){Q.w3&&b(e,t,a,r)},addDomLoadEvent:t,addLoadEvent:r,getQueryParamValue:function(e){var t=j.location.search||j.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return I(t);for(var a=t.split("&"),r=0;r<a.length;r++)if(a[r].substring(0,a[r].indexOf("="))==e)return I(a[r].substring(a[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(G){var e=h(x);e&&A&&(e.parentNode.replaceChild(A,e),L&&(T(L,!0),Q.ie&&Q.win&&(A.style.display="block")),S&&S(D)),G=!1}}}}()}catch(r){}}]);