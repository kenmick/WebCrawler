(function() {function aa(b,c){var d=new XMLHttpRequest;if(!("withCredentials"in d))throw Error();d.open("GET",b,!0);d.withCredentials=!0;d.onreadystatechange=function(){if(4===d.readyState)if(200<=d.status&&300>d.status){var b=d.responseText,b=window.JSON&&window.JSON.parse?JSON.parse(b):eval("("+b+")");c.o(b)}else c.error()};d.send()}
function ba(b,c){if("undefined"===typeof XDomainRequest)throw Error();var d=new XDomainRequest;d.timeout=3E3;d.onload=function(){var b=d.responseText,b=window.JSON&&window.JSON.parse?JSON.parse(b):eval("("+b+")");c.o(b)};d.onerror=c.error;d.ontimeout=c.error;d.onprogress=function(){};d.open("GET",b);d.send()}
function ca(b,c){function d(){try{delete window[f],g.src=null,e.removeChild(g)}catch(b){}clearTimeout(h)}var e=document.getElementsByTagName("head")[0],g=document.createElement("script"),f="jcb"+Math.round(1E20*Math.random());b+=(0<b.indexOf("?")?"&":"?")+"callback="+f;e.appendChild(g);g.src=b;var h=setTimeout(function(){c.error();d()},1E4);window[f]=function(b){c.o(b);d()}}
function da(b){var c={o:function(){},error:function(){}};try{aa(b,c)}catch(d){try{ba(b,c)}catch(e){ca(b,c)}}var g={o:function(b){c.o=b;return g},error:function(b){c.error=b;return g}};return g};function l(b){if(!b||"object"!==typeof b||"undefined"!==typeof window&&b===window)return!1;var c=b.length;return c&&1===b.nodeType?!0:"number"===typeof c&&(0===c||c-1 in b)}function p(b,c){if(b)if("[object Array]"!==Object.prototype.toString.apply(b)&&(b instanceof Function||"number"!==typeof b.length))for(var d in b)b.hasOwnProperty(d)&&c(b[d],d,b);else if(b.forEach)b.forEach(c);else{d=b.length;for(var e=0;e<d;e++)c(b[e],e,b)}}
function ea(b){var c=r;if(l(c))for(var d=c.length;0<=d;d--)c[d]===b&&c.splice(d,1)};var t={m:{insert:[],load:[],click:[],empty:[]}};t.l="http"+("https:"===window.location.protocol?"s":"")+"://";t.v={};t.A=function(b,c){t.v[b]=t.v[b]||c};t.set=function(b,c){return t.v[b]=c};t.get=function(b,c){return void 0!==t.v[b]?t.v[b]:c};t.bind=function(b,c){t.m[b]&&t.m[b].push(c)};t.J=function(b,c){if(t.m[b])for(var d=t.m[b],e=d.length+1;0<=e;e--)d[e]===c&&t.m[b].splice(e,1)};t.B=function(b,c){p(t.m[b],function(b){b.apply(null,c)})};t.refresh=function(){fa()};
t.update=function(b){p(r,function(c){b&&(c.b=b);if(c.a&&c.c){var d=c.c.a.a(c.b),d=u("div."+c.C,d),e=c.a.nextSibling;e&&(e=e.nextSibling,ga(e,d));ha(c)}ia(c)})};function ja(b,c,d){!1===d&&(d=new Date,d.setFullYear(d.getFullYear()+2));document.cookie=b+'="'+encodeURIComponent(c+"")+'"'+(d?"; expires="+d.toGMTString():"")+"; path=/"};function u(b,c){for(var d=!1,e=!1,g=!1,f="",h=0,k=c.length;h<k;h++){var m=c.charAt(h),n=0<h?c.charAt(h-1):null;e?"/"===m&&"*"===n&&(e=!1):d?"}"===m&&(d=!1):"*"===m&&"/"===n?(e=!0,g=!1):"{"===m?(d=!0,g=!1):(n=c.charCodeAt(h),48<=n&&57>=n||65<=n&&90>=n||97<=n&&122>=n||-1!==":.-_*#+>~()[]".indexOf(m)?(g||(f+=b+" "),g=!0):" "!==m&&(g=!1));f+=m}return f};function w(b){var c=document,d=c.createElement("div"),e=c.createDocumentFragment();for(d.innerHTML=b;c=d.firstChild;)e.appendChild(c);return e}
function x(b,c,d){c=c.toUpperCase();var e=[],g;if(b)if(document.getElementsByClassName){g=b.getElementsByClassName(d);b=0;for(var f=g.length;b<f;b++){var h=g.item(b);h.nodeName===c&&e.push(h)}}else if(document.querySelectorAll)for(c=b.querySelectorAll(c+"."+d),b=0,f=c.length;b<f;b++)e.push(c.item(b));else{g=b.getElementsByTagName(d);var k=new RegExp("\b"+d+"\b");b=0;for(f=g.length;b<f;b++){var h=g.item(b),m=h.className;m===c&&-1!==m.indexOf(d)&&k.test(m)&&e.push(h)}}return e}
function y(b,c){b.className+=" "+c}function C(b,c){b.className=b.className.replace(new RegExp("\\b"+c+"\\b"),"")}function D(b,c){return(new RegExp("\\b"+c+"\\b")).test(b.className)}function E(b,c,d){c.addEventListener?c.addEventListener(b,d,!1):c.attachEvent&&c.attachEvent("on"+b,d)}function F(b,c,d){c.removeEventListener?c.removeEventListener(b,d,!1):c.detachEvent&&c.detachEvent("on"+b,d)}
function ka(b,c){if(c.fireEvent)c.fireEvent("on"+b);else{var d=document.createEvent("Events");d.initEvent(b,!0,!0);c.dispatchEvent(d)}}function ga(b,c){if(b&&"STYLE"===b.nodeName)try{b.innerHTML=c}catch(d){b.styleSheet.cssText=c}}function la(b){return window.getComputedStyle?parseFloat((0,window.getComputedStyle)(b).fontSize):16}function G(b,c){if(window.getComputedStyle)return((0,window.getComputedStyle)(b)||{})[c];if(b.currentStyle)return b.currentStyle[c]}
function H(b,c){var d=b.getBoundingClientRect(),e=c.getBoundingClientRect();return[e.left-d.left,e.top-d.top]}function K(b){b.parentNode&&b.parentNode.removeChild(b)};function ma(){var b=w('<div class="dm-lightbox"><span class="dm-lightbox-close">&times;</span><div class="dm-lightbox-backdrop"></div><div class="dm-lightbox-overlay"><div class="dm-lightbox-content"><div class="dm-lightbox-header"><span class="dm-lightbox-title"></span></div><div class="dm-lightbox-body"></div></div></div></div>'),c=w('<style>.dm-lightbox-open {overflow: hidden;}.dm-lightbox {position: fixed;top: 0;right: 0;bottom: 0;left: 0;z-index: 2147483647;display: block;overflow: hidden;outline: 0;}.dm-lightbox-overlay {width: auto;margin-left: 10px;margin-right: 10px;position: fixed;top: 50%;left: 50%;transform: translate(-50%, -50%);-moz-transform: translate(-50%, -50%);-o-transform: translate(-50%, -50%);-webkit-transform: translate(-50%, -50%);-ms-transform: translate(-50%, -50%);-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=1, M12=0, M21=0, M22=1, SizingMethod="auto expand")";}@media (min-width: 768px) {.dm-lightbox-overlay {width: 600px;margin-left: auto;margin-right: auto;}}@media (min-width: 992px) {.dm-lightbox-overlay {width: 900px;}}.dm-lightbox-backdrop {position: absolute;top: 0;right: 0;left: 0;opacity: 0.7;background-color: #000;height: 100%;}.dm-lightbox-header {min-height: 35px;padding-left: 5px;padding-right: 5px}.dm-lightbox-close {position: absolute;top: -15px;right: 15px;cursor: pointer;font-weight: lighter;color: #999;font-size: 96px;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;line-height: 1;z-index: 100002;}.dm-lightbox-close:hover {color: white;}.dm-lightbox-content {position: relative;background-color: black;background-clip: padding-box;outline: 0;}.dm-lightbox-title {color: #ccc;font-weight: 200;font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;font-size: 16px;margin-top: 7px;margin-left: 5px;float: left;text-overflow: ellipsis;white-space: nowrap;overflow: hidden;width: 90%;}.dm-lightbox-body {position: relative;width: 100%;}.dm-lightbox-body:before {content: "";display: block;padding-top: 56.25%;}</style>');
document.head.appendChild(c);this.b=b.firstChild;this.c=this.b.getElementsByClassName("dm-lightbox-body")[0];this.j=this.b.getElementsByClassName("dm-lightbox-title")[0];this.h=this.b.getElementsByClassName("dm-lightbox-close")[0];this.g=this.b.getElementsByClassName("dm-lightbox-backdrop")[0];var d=this;this.a=function(b){if("click"==b.type||27==b.keyCode){for(C(document.body,"dm-lightbox-open");d.c.hasChildNodes();)d.c.removeChild(d.c.firstChild);document.getElementsByClassName("dm-lightbox").length&&
document.body.removeChild(d.b);F("click",d.g,d.a);F("click",d.h,d.a);F("keyup",document,d.a)}}};function L(b,c){var d={},e;if(b)for(e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);if(c)for(e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);return d};function na(b){this.b=b;this.a=null}function pa(b,c,d){qa(function(){var e=document.createElement("div");e.style["background-color"]="black";b.b.appendChild(e);b.a=DM.player(e,{width:"100%",height:"100%",video:c,params:d});y(b.a,"dm-player-iframe")})}
function qa(b){"DM"in window?b():(window.dmAsyncInit=function(){window.a=null;b()},function(){var b=document.createElement("script");b.async=!0;b.src=t.l+"api.dmcdn.net/all.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(b,d)}())};function M(b,c,d){var e,g=[];c||(c="&");d||(d="=");p(b,function(b,c){e=encodeURIComponent(c+"")+d;null!==b&&"undefined"!==typeof b&&(e+=encodeURIComponent(b+""));g.push(e)});g.sort();return g.join(c)};try{var N=window.localStorage}catch(ra){};function O(b){var c={};if(!window.JSON||!window.JSON.parse)return c;var d;d="pxl.frq."+b;var e;try{e=N.getItem(d)}catch(g){(d=decodeURIComponent(document.cookie).match("\\b"+d+'="([^;]*)\\b'))&&(d=d[1]),e=d}if(d=null!==e?e:void 0){c=JSON.parse(d);"object"!==typeof c&&(c={});if("_last"in c&&864E5<(new Date).getTime()-c._last){c={};b="pxl.frq."+b;try{N.removeItem(b)}catch(f){ja(b,"",new Date(0))}}delete c._last}return c};function P(b){var c=new Q;c.a=new Function("data","data = data ? data : {};var t=this;return ['"+(b?b:"").replace(/[\r\n]/g," ").replace(/([\\'])/g,"\\$1").replace(/\{\{if\s+(?:(not)\s+)?([a-zA-Z_]+(:?\|.*?)?)\s*\}\}/g,"',t.i('$1${$2}',function(){return['").replace(/\{\{\s*else\s*\}\}/g,"'].join('')},function(){return['").replace(/\{\{for\s+([a-zA-Z_]+)(?:\[(\d?:?\d?)\])?\s*\}\}/g,function(b,c,g){b=0;var f=-1;g&&(g=g.split(":"),1===g.length?(b=g[0],f=1):(b=""===g[0]?0:g[0],f=""===g[1]?-1:g[1]));return"',t.f(data,'"+
c+"',"+b+","+f+",function(data){return['"}).replace(/\{\{end\}\}/g,"'].join('')}),'").replace(/\$\{(\s*[a-zA-Z0-9_.]+\s*)}/g,"',t.s('$1' in data ? data['$1'] : ''),'").replace(/\$\{(\s*[a-zA-Z0-9_.]+\s*(?:\|\s*([a-zA-Z0-9_]+(?:\(\s*(?:(?:"[^"]*"|\\'[^']*\\'|[\d.]+)(?:\s*,\s*(?:"[^"]*"|\\'[^']*\\'|[\d.]+))*)?\s*\))?))+\s*)}/g,function(b,e){for(var g=e.split("|").reverse(),f=g.pop(),f="'"+f+"' in data?data['"+f+"']:''",h=!1;g.length;){var k=g.pop(),k=k.replace(/\\'/g,"'"),m=k.substr(0,(k.indexOf("(")+
1||k.length+1)-1),k=k.substring(k.indexOf("(")+1,k.lastIndexOf(")")).split(",");"safe"==m?h=!0:m in c.F&&(k=1===k.length&&""===k[0].split(" ").join("")?[]:k,k.unshift(f),f="t.F['"+m+"']("+k.join(",")+")")}return h?"',"+f+",'":"',t.s("+f+"),'"})+"'].join('')");return c}function Q(){this.a=function(){return""}}Q.prototype.i=function(b,c,d,e,g){if(!("false"===c||!c)===!b)return e();if(g)return g()};
Q.prototype.s=function(b){var c=document.createElement("div");c.innerHTML=b;return c.textContent||c.innerText||""};Q.prototype.f=function(b,c,d,e,g){var f=[],h=c in b?b[c]:[],k=h.length;0<=e&&(k=Math.min(e,k));for(e=d;e<k;e++){var m={};p(b,function(b,d){d!==c&&(m[d]=b)});p(h[e],function(b,c){m[c]=b});m.i=e-d;f.push(g(m))}return f.join("")};
Q.prototype.F={equals:function(b,c){return b==c?"1":""},"default":function(b,c){return void 0===b||null===b||""===b?c:b},format_duration:function(b){var c=Math.floor(b/3600),d=Math.floor(b/60)%60;b=Math.floor(b)%60;return(c?[c,(10>d?"0":"")+d,(10>b?"0":"")+b]:[d,(10>b?"0":"")+b]).join(":")},truncate:function(b,c){return b.substr(c)},replace:function(b,c,d,e){return b.replace(new RegExp(c,e),d)},resize:function(b,c,d,e){var g="fit"===e?"":"-f";return b.replace(/^(https?:\/\/.*?)(\.(?:jpe?g|webp))?$/,
function(b,e,k){b=window.devicePixelRatio;1<b&&(b=3<=b?3:2<=b?2:1.5,c*=b,d*=b);return e+"_"+parseInt(c,10)+"x"+parseInt(d,10)+g+(k?k:".jpeg")})},img:function(b){return"svg"in b&&document.implementation&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?b.svg:b.png}};var R=null,sa="",ta=null,S=null,T=[],U=!1,V=!1;function ua(b){V&&b&&b();b&&T.push(b);if(!U&&R){U=!0;window.PXLLayouts=function(b){sa=b.css;ta=b.images;S=b.layouts;V=!0;U=!1;p(T,function(b){b()});T=[];d.src=null;c.removeChild(d)};var c=document.getElementsByTagName("head")[0],d=document.createElement("script");c.appendChild(d);d.src=R}}function va(b,c){V?c(new wa(S[b])):ua(function(){c(new wa(S[b]))})}function wa(b){this.b=b.settings;this.a=P([sa,b.css].join(" "));this.c=P(b.tmpl)}
function xa(b,c,d,e,g){function f(b){return b&&b.length&&"%"===b[b.length-1]?c/(100/parseInt(b,10)):b?parseInt(b,10):c}function h(b){return b&&b.length&&b.indexOf("em")===b.length-2?parseFloat(b)*g:b?parseInt(b,10):0}g=g?g:16;var k=b.b;c=f(k.container_width);var m=f(k.min_width),n=f(k.max_width),q=h(k.height),z=h(k.height_add),A=k.hspace,A=A?parseInt(A,10):0;b=(b=k.vspace)?parseInt(b,10):0;var I=k.ratio,I=I?parseFloat(I):1,J=k.default_rows,J=J?parseInt(J,10):0,B=k=0,oa=0,v=0,v=Math.floor((c+A)/(m+
A)),k=m+(c-(m*v+A*(v-1)))/v;k>n&&(k=n);oa=(c-k*v)/Math.max(v-1,1);B=q?parseInt(q,10):k/I;z&&(B+=parseInt(z,10));d||(d=J);m=Math.floor(e/v);d||(d=m);d=Math.min(d,m);m=!1;n="div.dm-items{position:relative;height:"+(B*d+b*(d-1))+"px}\ndiv.dm-items div.dm-item{width:"+k+"px;height:"+B+"px}\n";for(q=0;q<e;q++)z=Math.floor(q/v),z<d?(n+="div.dm-item-"+q+"{position:absolute;top:"+z*(B+b)+"px;left:"+(q-z*v)*(k+oa)+"px}\n",m=!0):n+="div.dm-item-"+q+"{display:none}\n";m||(n+=".dm-widget{display:none}\n");return n}
;var ya={visitor_id:"i",placement:"p",positions:"n",categories:"c",channels:"C",channels_sort:"Cs",type:"T",url:"u",history:"H",thumbnail_density:"td",thumbnail_width:"tw",thumbnail_height:"th",thumbnail_crop:"tc",thumbnail_format:"tf"};
function za(b){for(var c={},d=0,e=b.length;d<e;d++){var g=b[d],f=g.name;0===f.indexOf("data-")&&(f=f.substr(5),f=f.split("-").join("_"),f=ya[f]||f,c[f]=g.value)}c.r=Math.random().toString(36).substr(2,5);t.get("debug")&&(c.debug=t.get("debug"));!c.td&&1<window.devicePixelRatio&&(c.td=window.devicePixelRatio);!c.tf&&t.get("use-webp")&&(c.tf="webp");c.u||(c.u=document.location.href);if(b=!c.H)a:{b=O("impression");for(var h in b)if(b.hasOwnProperty(h)){b=!0;break a}b=!1}b&&(c.H=M(O("impression"),"!",
"~"));return c}
function Aa(b,c){da(t.get("base_url")+"?"+M(b)).o(function(b){var e=b.units;b=b.style;if(!l(e)||0==e.length)if(t.B("empty"),!l(e))return;p(e,function(b){var c=M(b.parameters),d;"custom_video_url"in b?(d=b.custom_video_url,d=[d,-1===d.indexOf("?")?"?":"&",M({"dm:params":c})].join("")):"video_id"in b&&(d=[t.l,"www.dailymotion.com/video/",b.video_id,"?",c].join(""));c="tracker_domain"in b&&"tracker_id"in b?t.l+b.tracker_domain+"/ev/"+b.tracker_id+"/click"+(d?"?url="+encodeURIComponent(d):""):void 0;
b.target_url=c||d;!("channel_url"in b)&&"channel"in b&&(b.channel_url=[t.l,"www.dailymotion.com/",b.channel].join(""));b.track=function(b,c){if("tracker_domain"in this&&"tracker_id"in this){var d=t.l+this.tracker_domain+"/ev/"+this.tracker_id+"/"+b;c&&(d+=(0<d.indexOf("?")?"&":"?")+M(c));(new Image).src=d;if("impression"===b&&"video_id"in this){var e=this.video_id;if(window.JSON&&window.JSON.stringify){d=O(b);e in d?d[e]++:d[e]=1;d._last=(new Date).getTime();e="pxl.frq."+b;d=JSON.stringify(d);try{N.setItem(e,
d)}catch(f){ja(e,d,!1)}}}}}});c(e,b)})};function Ba(b){setTimeout(b,0)};var W={};var X=[],Y=null;function Ca(b,c){this.a=b;this.c=c;this.b=!1}function Da(b,c){var d=new Ca(b,c);X.push(d);1===X.length&&(Y=setInterval(Ea,1E3),Ea());return d}function Fa(b){for(var c=X.length-1;0<=c;c--)if(X[c]===b){X.splice(c,1);break}0==X.length&&clearInterval(Y)}function Ea(){for(var b=X.length-1;0<=b;b--){var c=X[b],d=Ga(c.a);d!=c.b&&(c.c(d),c.b=d)}}
function Ga(b){if(!b.getBoundingClientRect)return!0;var c=window,d=document.documentElement,e=c.innerWidth||d.clientWidth,d=c.innerHeight||d.clientHeight,c=b.getBoundingClientRect();if(0===c.top+c.right+c.bottom+c.left+c.width+c.height||0>c.top+.5*c.height||0>c.left+.5*c.width||c.bottom-.5*c.height>d||c.right-.5*c.width>e)return!1;for(var e=c.width/2,c=c.height/2,d=b.offsetTop,g=b.offsetLeft,f=b,h=f;null!==f&&9!==f.nodeType;){if("1"!==G(f,"opacity")||"none"===G(f,"display")||"hidden"===G(f,"visibility"))return!1;
if(b!==f){var k=G(f,"overflow"),m=G(f,"overflow-x"),n=G(f,"overflow-y");if("hidden"===k||"scroll"===k||"hidden"===m||"scroll"===m||"hidden"===n||"scroll"===n){k=f.scrollTop;m=f.scrollLeft;n=f.offsetHeight;if(g+e>f.offsetWidth+m||g+e<m||d+c>n+k||d+c<k)return!1;h.offsetParent===f&&(g+=f.offsetLeft,d+=f.offsetTop)}}h=f;f=f.parentNode}return!0};for(var Ha={set:t.set,bind:t.bind,unbind:t.J,refresh:t.refresh,update:t.update,version:function(b){b("0ceabab")}},Ia=window.PXLObject||"pxl",Ja=(window[Ia]||{}).q||[],Ka=window[Ia]=function(){var b=Array.prototype.slice.call(arguments),c=b.shift();(c=Ha[c])&&c.apply(t,b)},La;La=Ja.shift();)Ka.apply(null,La);t.A("base_url",t.l+"ad.pxlad.io/ad");t.A("static_base_url",t.l+"api.dmcdn.net/pxl/");t.A("layout_url",t.get("static_base_url")+"layouts.js");
if(0<=document.location.search.indexOf("pxldebug")){var Ma=document.location.search.match(/pxldebug(?:=([a-z]+))?/);t.set("debug",Ma[1]||"always")}(function(b,c){var d=new Image;d.onload=function(){c(0<d.width&&0<d.height)};d.onerror=function(){c(!1)};d.src="data:image/webp;base64,"+b})("UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",function(b){t.A("use-webp",b)});
(function(b){if("complete"===document.readyState)b();else{var c=function(){F("DOMContentLoaded",document,c);F("load",window,c);b()};E("DOMContentLoaded",document,c);E("load",window,c)}})(t.refresh);var r=[];function Z(b,c,d){this.g=b;this.c=c;this.b=d;this.C=this.h=this.a=null;this.G=!1;this.j=this.player=null;var e=this;this.w=function(){e.a&&e.c&&e.h!=e.a.clientWidth&&ia(e)}}Z.prototype.I=function(){F("resize",window,this.w);F("load",window,this.w);ea(this);Na(this,function(b,d){for(var e=X.length-1;0<=e;e--)X[e].a===d&&X.splice(e,1);0==X.length&&clearInterval(Y)});if(this.a&&this.a.parentNode){var b=this.a.nextSibling;b&&(b.nextSibling&&K(b.nextSibling),K(b));K(this.a);this.a=null}};
Z.prototype.remove=Z.prototype.I;function Oa(b,c){if(!b.G){b.G=!0;if("SCRIPT"==c.nodeName)b.D(P('{{for items}}<div class="dm-item">'+c.innerHTML+"</div>{{end}}").a({items:b.g}),"","",c);else if(b.c){var d=b.b?parseInt(b.b.rows,10):0,e=la(c);b.h=c.clientWidth;var d=xa(b.c,b.h,d?d:0,b.g.length,e),e=L(ta,{items:b.g}),e=L(e,b.b),e=b.c.c.a(e),g=b.c.a.a(b.b);b.D(e,g,d,c);E("resize",window,b.w);E("load",window,b.w)}else return;r.push(b);Ba(function(){t.B("load",[b])})}}
function ia(b){if(b.a&&b.c){var c=b.b?parseInt(b.b.rows,10):0,d=la(b.a);b.h=b.a.clientWidth;c=xa(b.c,b.h,c?c:0,b.g.length,d);c=u("div."+b.C,c);ga(b.a.nextSibling,c)}}function Pa(b){if(b.player){var c=b.player.b;b=c.style;for(var d=b.length-1;0<=d;d--)b.removeProperty(b[d]);p(["expand","inplace","lightbox"],function(b){C(c,"dm-player-"+b)})}}
function ha(b){if(b.a&&b.c){if(b.player){Pa(b);var c=b.player;c.a&&(K(c.a),c.a=null);b.player=null}b.b&&"player"in b.b&&!b.player&&((c=x(b.a,"div","dm-player").shift())||(c=x(b.a,"a","dm-player").shift()),c&&(b.player=new na(c)))}}
function Qa(b,c,d,e){if(!("video"in c)||"video_url"in c){var g=x(d,"a","dm-thumbnail").shift()||x(d,"div","dm-thumbnail").shift();g&&qa(function(){if(c.video_id){var f=H(d,g),h=document.createElement("video");h.src=c.video_url;h.muted=!0;var k={start:"ap_start",play:"ap_play",1:"ap_1s",2:"ap_2s",3:"ap_3s",5:"ap_5s",10:"ap_10s",15:"ap_15s",30:"ap_30s",complete:"ap_complete"};h.style.cssText=["position: absolute; z-index: 1000","top: "+f[1]+"px","left: "+f[0]+"px","width: "+g.offsetWidth+"px","height: "+
g.offsetHeight+"px","object-fit: cover; background-color: black"].join("; ");var m=document.createElement("img");m.src=t.get("static_base_url")+"equalizer.gif";m.style.cssText=["position: absolute; z-index: 1001","top: "+(f[1]+g.offsetHeight-25)+"px","left: "+(f[0]+g.offsetWidth-36)+"px","width: 26px; height: 15px"].join("; ");d.appendChild(h);var n=function(){d.removeChild(h);d.removeChild(m);e();h=null;delete c.video},q=function(b){b in k&&(c.track(k[b]),delete k[b])};E("click",h,function(e){h&&
n();Ra(b,e,c,d)});E("started",h,function(){q("start")});E("canplay",h,function(){c.playing&&c.video.play()});E("play",h,function(){h&&q("play");d.appendChild(m)});E("playing",h,function(){d.appendChild(m)});E("pause",h,function(){d.removeChild(m)});E("waiting",h,function(){d.removeChild(m)});E("timeupdate",h,function(){h&&q(Math.floor(h.currentTime))});E("ended",h,function(){h&&(q("complete"),n())});E("stopped",h,function(){h&&n()});E("error",h,function(){c.track("ap_error");n()});c.video=h;c.playing=
!1}})}}function Sa(b){Na(b,function(b){"video"in b&&(b=b.video,b.pause(),ka("stopped",b))})}
function Ra(b,c,d,e){if(b.player&&b.b&&"player"in b.b){var g=b.player.b,f=g.style,h=400<b.a.clientWidth;Pa(b);Sa(b);switch(b.b.player){case "inplace":if(h&&!D(g,"dm-thumbnail")){y(g,"dm-player-inplace");if(g=x(e,"a","dm-thumbnail").shift()||x(e,"div","dm-thumbnail").shift())h=f.display,f.display="none",e=H(b.a,g),f.position="absolute",f.left=e[0]+"px",f.top=e[1]+"px",f.width=g.offsetWidth+"px",f.height=g.offsetHeight+"px",f.display=h;break}case "expand":if(h){D(g,"dm-player-expandable")&&(y(g,"dm-player-expand"),
f.height=g.clientWidth/1.777+"px",e=b.player.b.getBoundingClientRect(),f=window.innerHeight||400,50>e.top||e.top>f/2)&&(e=H(document.body,b.player.b),window.scrollTo(0,e[1]-.15*f));break}case "lightbox":b.player&&(f=b.player,f.a&&(K(f.a),f.a=null),b.player=null);g=document.createElement("div");g.style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0";b.player=new na(g);b.j||(b.j=new ma);b.j.c.appendChild(g);b.j.j.innerHTML=d.title;f=b.j;y(document.body,"dm-lightbox-open");document.getElementsByClassName("dm-lightbox").length||
document.body.appendChild(f.b);E("click",f.g,f.a);E("click",f.h,f.a);E("keyup",document,f.a);break;default:return}if(f=d.video_id)b=b.player,e=L({related:0,autoplay:1},d.parameters),b.a?b.a.init(f,e):pa(b,f,e),d.track("click"),c.preventDefault()}}
Z.prototype.D=function(b,c,d,e){if(!this.a){if(c||d){var g=this.C="dm-"+Math.random().toString(36).substr(2,5);c=u("div."+g,c);d=u("div."+g,d);b='<div class="'+g+'">'+b+"</div><style>"+d+"</style><style>"+c+"</style>"}else b="<div>"+b+"</div>";e.parentNode.insertBefore(w(b),e.nextSibling);this.a=e.nextSibling;K(e);"console"in window&&"error"in window.console&&(b=x(this.a,"div","dm-item"),b.length!=this.g.length&&console.error("Invalid number of div.dm-item in the result found: "+b.length+" required: "+
this.g.length));ha(this);var f=this;Ba(function(){Na(f,function(b,c){t.B("insert",[b,c]);Ta(b,c,function(d){Ra(f,d,b,c)});var d=Da(c,function(c){c&&(b.track("impression"),Fa(d))}),e;if(e=f.b&&f.b.autoplay&&"mobile"!==f.b.player&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&D(c,"dm-autoplayable")&&"promoted"===b.type)"video/mp4; codecs=avc1.42E01E,mp4a.40.2"in W||(W["video/mp4; codecs=avc1.42E01E,mp4a.40.2"]=document.createElement("video").canPlayType("video/mp4; codecs=avc1.42E01E,mp4a.40.2")),
e=""!==W["video/mp4; codecs=avc1.42E01E,mp4a.40.2"];if(e){var g=Da(c,function(c){if("video"in b){var d=b.video;(b.playing=c)?(ka("started",d),d.play()):d.pause()}});Qa(f,b,c,function(){Fa(g)})}})})}};function Na(b,c){for(var d=x(b.a,"div","dm-item"),e=0,g=b.g.length;e<g;e++)c(b.g[e],d[e])}function Ta(b,c,d){if(c&&"target_url"in b)for(var e=b.target_url,g=c.getElementsByTagName("A"),f=0,h=g.length;f<h;f++){var k=g[f];k.href===e&&E("click",k,function(e){t.B("click",[b,c]);d(e)})}};function Ua(b){for(var c=document.body.getElementsByTagName("script"),d=[],e=0,g=c.length;e<g;e++){var f=c[e];"text/pxl-tmpl"===f.getAttribute("type")&&f.parentNode&&d.push(f)}p(d,function(c){b(c)})}function Va(b){var c=x(document.body,"div","dailymotion-widget");p(c,function(c){c.parentNode&&b(c)})}function Wa(b){var c={},d;for(d in b)0===d.indexOf("style_")&&(c[d.substr(6)]=b[d],delete b[d]);return c}
function fa(){Ua(function(b){var c=za(b.attributes);b.setAttribute("type","t");Aa(c,function(c){0===c.length?K(b):Oa(new Z(c),b)})});R=""+t.get("layout_url");Va(function(b){var c=za(b.attributes);c.n="16";var d=Wa(c);C(b,"dailymotion-widget");ua();Aa(c,function(c,g){if(0===c.length)K(b);else{g=L(g,d);var f=g.layout;f&&va(f,function(d){Oa(new Z(c,d,g),b)})}})})};})();//# sourceMappingURL=client.js.map
