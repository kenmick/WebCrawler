/*!
 * clearFormErrorMessage: used to clear form error meassge.
 */
define("site/uicc/_plugins.hoverintent",["jquery","jpmc/log","jpmc/topic"],function(a){var b=a;return b.fn.hoverIntent=function(c,d){var e={sensitivity:7,interval:100,timeout:0};e=b.extend(e,d?{over:c,out:d}:c);var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(a,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(h-f)+Math.abs(i-g)<e.sensitivity)return b(c).unbind("mousemove",j),c.hoverIntent_s=1,e.over.apply(c,[a]);h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(a,c)},e.interval)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,e.out.apply(b,[a])},m=function(c){var d=a.extend({},c),f=this;f.hoverIntent_t&&(f.hoverIntent_t=clearTimeout(f.hoverIntent_t)),c.type=="mouseenter"?(h=d.pageX,i=d.pageY,b(f).bind("mousemove.hoverIntent",j),f.hoverIntent_s!=1&&(f.hoverIntent_t=setTimeout(function(){k(d,f)},e.interval))):(b(f).unbind("mousemove.hoverIntent",j),f.hoverIntent_s==1&&(f.hoverIntent_t=setTimeout(function(){l(d,f)},e.timeout)))};return this.bind("mouseenter.hoverIntent",m).bind("mouseleave.hoverIntent",m)},a.fn.hoverIntent}),define("content/uicc/dynamic-button",["jquery"],function(a){var b={IEversion:null,getInternetExplorerVersion:function(){if(b.IEversion===null){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var c=navigator.userAgent,d=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");d.exec(c)!=null&&(a=parseFloat(RegExp.$1))}b.IEversion=a}},initDynamicallyAddedButtons:function(c){b.getInternetExplorerVersion(),a(c).each(function(){var c=a(this),d=c.attr("href"),e=c.html(),f=c.attr("data-accessible-text")||"";f&&(f="&nbsp;("+f+")");var g=c.attr("class"),h=c.attr("data-horizontalpos")||0,i=c.attr("data-verticalpos")||0,j=c.attr("data-class")||"",k=c.attr("target")||"",l;k!=""&&(k=' target="'+k+'"');var m;switch(j){case"positioned-link":if(!isNaN(h)||!isNaN(i))if(h!==0||i!==0){if(c.parent().is(".chaseui-linklist-items"))var n=c.parent().siblings(".chaseui-linklist-bullet");c.css({position:"relative",top:i+"px",left:h+"px",display:"inline-block"}).addClass(j),n&&n.css({position:"relative",top:i+"px",left:h+"px"}),c.css("text-decoration","underline").css("text-decoration","none"),b.IEversion!==null&&b.IEversion!==-1&&(n&&(c=c.add(n)),a(window).scroll(function(a){c.addClass("IEfix").removeClass("IEfix")}))}!isNaN(f)&&f!==""&&(l=c.html()+'</span><span class="accessible-text">'+f+"</span>",c.html(l));break;case"primary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"primary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"secondary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button lock":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="lock-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button magnifying-glass":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text"><span class="magnifying-glass-container"></span>'+e+'</span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;case"tertiary-button multi-select":m='<div class="sliding-button-container"><div class="sliding-button '+j+'" style="position: relative; top: '+i+"px; left: "+h+'px;"></div></div>',l='<span class="sliding-button-text">'+e+'<span class="multi-select-container"></span></span><span class="accessible-text">'+f+"</span>",c.html(l).addClass("sliding-button-href").wrap(m);break;default:}}),a("div.sliding-button").each(function(){var b=a(this),c=b.css("height");b.parent().css("height",c);var d=b.css("width");b.parent().css("width",d),b.parent().css("display","block")})}};return b}),function(a){define("content/uicc/accessible",["jquery"],function(a){var b={init:function(){this.doNavSkipLinks(),this.doSkipLinks(),this.insertSpanDataAccessibleText(a("body"))},insertSpanDataAccessibleText:function(b){var c=a("a[data-accessible-text]");b.find(c).each(function(){var b=a(this).attr("data-accessible-text");b&&(b="&nbsp;("+b+")"),b!==""&&a(this).hasClass("sliding-door-button")&&a(this).append('<span class="accessible-text">'+b+"</span>")})},doNavSkipLinks:function(){a("body").prepend('<a id="skipToMainContent" class="skiplink-nav-accessible-text chaseanalytics-track-link" data-pt-name="sl_maincontent" href="#main-content-section">Skip to Main Content</a>'),a(".megamenu-row1").prepend('<a class="skiplink-nav-accessible-text chaseanalytics-track-link" data-pt-name="sl_navigation" href="#main-content-section">Skip Navigation</a>'),a("body").delegate("a.skiplink-nav-accessible-text","focus",function(b){a(b.target).removeClass("skiplink-nav-accessible-text").addClass("skiplink-nav-accessible-absolute-text")}),a("body").delegate("a.skiplink-nav-accessible-absolute-text","blur",function(b){a(b.target).removeClass("skiplink-nav-accessible-absolute-text").addClass("skiplink-nav-accessible-text")}),a("body").delegate("a.skiplink-nav-accessible-absolute-text","click",function(a){a.preventDefault(),b.jumpToElement(this)})},doSkipLinks:function(){a("body").delegate("a.skiplink-accessible-text","focus",function(b){a(b.target).removeClass("skiplink-accessible-text").addClass("skiplink-accessible-absolute-text")}),a("body").delegate("a.skiplink-accessible-absolute-text","blur",function(b){a(b.target).removeClass("skiplink-accessible-absolute-text").addClass("skiplink-accessible-text")}),a("body").delegate("a.skiplink-accessible-absolute-text","click",function(a){a.preventDefault(),b.jumpToElement(this)})},jumpToElement:function(b){var c=a(b).attr("href");c=c.substring(c.indexOf("#")),a(c).attr("tabindex","0").focus()}};return b})}(),define("content/components/ads/service",["jquery","jpmc/cookie/persona","jpmc/log","jpmc/topic","jpmc/cookie/v1st","content/conf/appsconfig/clientconfig"],function(a,b,c,d,e,f){function i(){this.init=function(a,b,c,e,f){if(this.isDisabled)return;this.pageid=a,typeof b!="object"&&window.console&&console.log("[!!!WARNING!!!] [X+1 Service] Invalid impersonator parameters, ads will be shown for default user"),this.pfidoverride=b==undefined?null:b.pfid,this.segmentoverride=this.pfidoverride?b.segment:null,this.product=c,this.userType=e,this.dsoLibraryIds=f,d("personaUpdated").subscribe(function(){this.start()}),this.start()},this.start=function(){function c(a){var b=!!a;return b?(a+"").substr(0,5):b}function m(a,b){if(a==undefined)return;l.test(a)?k.data[b]=a:g.warn("["+a+"] accepts only alphanumeric");return}if(this.pageid=="undefined"){g.warn('Required parameter "pageid" not available, quitting service'),d("adError").publish("error");return}var i=this,j=b().read()||{},k={url:f.adServiceURL,dataType:"jsonp",jsonp:"_callback",timeout:f.timeout,data:{_o:f.XPOOrgID,_t:this.pageid,ssv_v1st:e().read()||"",ssv_pfid:this.pfidoverride||j.pfid||"",ssv_zip:c(j.zip)||"",ssv_cigseg:this.segmentoverride||j.segment||"",ssv_locale:j.locale||"",ssv_random:Math.floor(Math.random()*98+1),ssv_product:this.product||"",ssv_userType:this.userType||"",ssvm_lids:this.dsoLibraryIds||"",ssv_eci:j.ECI},error:function(a){g.timeEnd("X+1 Request"),g.warn("Timed out. Displaying default ads."),d("adError").publish("timeout")}},l=/^[0-9a-zA-Z]+$/;m(h.bu,"ssv_bu"),m(h.bi,"ssv_bi"),m(h.ad_id,"ssv_ad"),g.time("X+1 Request"),g.debug("Requesting ads for",i.pageid),a.ajax(k).done(function(a){g.timeEnd("X+1 Request"),d("adUpdate").publish(i.pageid,a)})}}var g=c("X+1 Service"),h=function(a){if(a=="")return{};var b={};for(var c=0;c<a.length;++c){var d=a[c].split("=");if(d.length!=2)continue;b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," "))}return b}(window.location.search.substr(1).split("&"));return new i}),define("content/conf/ads/size",[],function(){var a={"iab-pop-medrec":{width:300,height:250},"iab-pop-wideskyscraper":{width:160,height:600},"iab-pop-leaderboard":{width:728,height:90},"iab-pop-halfpage":{width:300,height:600},"iab-large-portrait":{width:300,height:1050},"iab-large-billboard":{width:970,height:250},"iab-small-rectangle":{width:180,height:150},"iab-small-button1":{width:120,height:90},"iab-small-button2":{width:120,height:60},"iab-small-microbar":{width:88,height:31},"pb-tile":{width:250,height:65},"pb-tile1":{width:232,height:100},"pb-tile2":{width:232,height:200},"pb-medrec":{width:226,height:157},"pb-halfpage":{width:720,height:360},"cig-navad":{width:155,height:90},"cig-banner":{width:379,height:75},"cig-widebanner":{width:530,height:75},"cig-tout":{width:46,height:88},"cig-halfpage":{width:720,height:700},"cig-marque":{width:572,height:150},"cig-masthead":{width:680,height:287},"cig-carousel":{width:867,height:200},"cig-smallmarquee":{width:350,height:150},"cig-hero-marquee":{width:600,height:250},banw:{width:575,height:350},ban:{width:375,height:35},rtnv1:{width:155,height:90},rtnv2:{width:155,height:90},nvann:{width:155,height:90},interstitial:{width:833,height:380},ur_primary_bnr:{width:894,height:392},ur_dual_bnr:{width:440,height:205},ur_quad_bnr:{width:219,height:195},ur_footer_bnr:{width:468,height:215},"ur-hero-main":{width:716,height:300},"ur-hero-travel":{width:650,height:325},"ur-tile-travel":{width:345,height:204},"pb-tile3":{width:474,height:200},"ur-tile-mobile":{width:575,height:223},"cig-hero-marquee2":{width:960,height:250},"cig-hero-marquee3":{width:930,height:490}};return a}),define("content/services/test-data-provider",["jpmc/log","jpmc/topic"],function(Logger,Topic){var logger=Logger("globalmodel");if(typeof CQ=="undefined")return logger.info("No CQ. No GDM"),{};var GlobalDataMgrFn=function(){};GlobalDataMgrFn.prototype=new CQ_Analytics.SessionStore,GlobalDataMgrFn.prototype.STOREKEY="GLOBALDATA",GlobalDataMgrFn.prototype.STORENAME="globaldata",GlobalDataMgrFn.prototype.init=function(){this.data={};for(var a in this.initProperty)this.data[a]=this.initProperty[a];this.fireEvent("update")},GlobalDataMgrFn.prototype.clear=function(){var a=new CQ_Analytics.SessionPersistence;a.remove(this.getStoreKey()),this.data=null,this.initProperty={}},GlobalDataMgrFn.prototype.getLabel=function(a){return a},GlobalDataMgrFn.prototype.getLink=function(a){return""};var GlobalDataMgr=new GlobalDataMgrFn;return GlobalDataMgrFn.prototype.configLoadFunction=function(){logger.debug("configLoadfunction of globalmodel"),this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName()));var uiConfig=CQ_Analytics.CCM.getUIConfig(this.getName());if(!uiConfig||!uiConfig.title)uiConfig=eval({title:"Global Data",mode:"textfield","jcr:primaryType":"nt:unstructured"});CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),uiConfig),GlobalDataMgr.addListener("update",function(){Topic.publish("globalDataUpdated",[""])}),CQ_Analytics.CCM.register(this)},GlobalDataMgr.configLoadFunction(),CQ_Analytics.ClickstreamcloudUI.addListener("editclick",function(){var a=function(a){if(a){var b=CQ_Analytics.ClickstreamcloudMgr.getEditConfig(a.getSessionStore().getName());b.sessionStore=a.getSessionStore(),CQ_Analytics.ClickstreamcloudEditor.register(b)}};CQ_Analytics.ClickstreamcloudEditor||(CQ_Analytics.ClickstreamcloudEditor=new CQ.personalization.EditableClickstreamcloud,a.call(this,CQ_Analytics.ProfileDataMgr),a.call(this,CQ_Analytics.PageDataMgr),a.call(this,CQ_Analytics.TagCloudMgr),a.call(this,CQ_Analytics.SurferInfoMgr),a.call(this,CQ_Analytics.EventDataMgr)),a.call(this,GlobalDataMgr),CQ_Analytics.ClickstreamcloudEditor.show()}),GlobalDataMgr}),define("content/services/cors",["jpmc/$","jpmc/util/object/extend","jpmc/util/lang/isPlainObject","jpmc/has/detect/native"],function(a,b,c,d,e){if(d("xhr")){var f=Array.prototype.slice,g="Content-Type",h="cors",i={xhrFields:{withCredentials:!0}},j;return a.ajaxPrefilter(function(a,c,e){if(a.dataType===h||a.crossDomain&&a.async&&a.dataType!=="script"&&a.dataType!=="jsonp"){a=b(!0,{},i,a);if(!d("xhr-cors"))return h}}),d("xhr-cors")||a.ajaxTransport(h,function(b,c,d){var f=function(){h=e},h;if(typeof XDomainRequest!="undefined")return h=new XDomainRequest,b.dataTypes.shift(),{send:function(e,i){var j=function(a,b,c,d){f(),i(a,b,c,d)};e[g]=b.contentType;var k=c.url,l=a(location).attr("protocol")+"//"+a(location).attr("host");e.Origin=l,b.timeout&&(h.timeout=b.timeout),c.data&&(requestSettings.data=c.data),h.onerror=function(){},h.ontimeout=function(){},h.onprogress=function(){},h.onload=function(){var a={},c=200,e="OK",f=b.contents,i=b.dataTypes,k={},l=b.mimeType||h.contentType||d.getResponseHeader(g)||d.getResponseHeader(g.toLowerCase()),m;while(i[0]==="*")i.shift();if(l){for(m in f)if(f[m]&&f[m].test(l)){i.unshift(m);break}}else i.unshift("text");b.dataType=i[0],a[i[0]]=h.responseText,j(c,e,a,k)},h.open(b.type,k),h.send()},abort:function(){f()}}}),a.corsAjax=function(d,f){c(d)?(f=d,d=e):(f=f||{},f.url=d);var g=b({dataType:"html"},f);return a.ajax(g)},a.corsAjax}}),define("content/services/contentprovider",["jquery","content/conf/appsconfig/clientconfig","content/services/cors"],function(a,b,c){var d=b.contentServer,e={settings:{cache:!0,remotePath:"/etc/xdm"},isCrossDomain:function(a){rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,ajaxLocParts=rurl.exec(a.toLowerCase()),parts=rurl.exec(document.location.protocol+"//"+document.location.host);var b=!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||(parts[1]==="http:"?80:443))==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443)));return b},load:function(a,f,g,h,i){var j=b.isAuthorMode,k=a;a.charAt(0)=="/"&&(k=d+a),k=k.replace("jcr:content","_jcr_content"),h||(h=0),j==null&&(j="false"),j=="true"&&(k.indexOf("?")===-1?k+="?wcmmode=disabled":k+="&wcmmode=disabled");var l=e.settings;l.error=function(){h>0?e.load(a,f,g,h-1,i):g()},c(k,l).then(function(a){e.isCrossDomain(k)&&(a=a.replace(/\"\//g,'"'+d+"/"),a=a.replace(/\'\//g,"'"+d+"/")),f(a)})},loadAd:function(a,b,c,d,f,g){var h=a.substring(a.lastIndexOf("/"),a.length),i=h.split(".");if(i.length>2){var j="";for(var k=1;k<i.length-1;k++)j+=i[k]+".";a=a.replace("."+j+"html","/_jcr_content/par."+j+"html")}else a.indexOf(".html")!=-1?a=a.replace(".html","/_jcr_content/adcreationcontainer/par.html"):a.indexOf(".htm")!=-1&&(a=a.replace(".htm","/_jcr_content/adcreationcontainer/par.html"));e.load(a,function(a){a=a.replace("${jpmcPageVar.clickThruUrl}",d),b(a)},c,f,g)},loadDisclosure:function(a,b,c,d,f){e.load(a,b,c,d,f)},loadSnippetContent:function(a,b,c,d,f){if(a.lastIndexOf("/")==a.length-1||a.indexOf(".htm")==-1)a.match("/content/dam")?a=a:a+="/_jcr_content/par.html";else{var g=a.substring(a.lastIndexOf("/"),a.length),h=g.split(".");if(h.length>2){var i="";for(var j=1;j<h.length-1;j++)i+=h[j]+".";a=a.replace("."+i+"html","/_jcr_content/par."+i+"html")}else a.indexOf(".html")!=-1?a=a.replace(".html","/_jcr_content/par.html"):a.indexOf(".htm")!=-1&&(a=a.replace(".htm","/_jcr_content/par.html"))}e.load(a,b,c,d,f)}};return e}),define("site/uicc/utils",["jquery","content/services/contentprovider","jqueryui"],function(a,b){var c={isIeVersion:function(){function c(c){return b[c]||(b[c]=a.browser.msie&&parseInt(a.browser.version,10)===c),b[c]}var b=[];b[6]=b[7]=b[8]=null,this.Six=function(){return c(6)},this.Seven=function(){return c(7)},this.Eight=function(){return c(8)}},hasClass:function(a,b){return a.indexOf(b)>=0},z:2e4,topZ:function(){return function(){return c.z++}},isDesignFamily:function(){var b,c;c={Mol:function(){return d(".chasejs-designfamily-mol")},BP:function(){return d(".chasejs-designfamily-blueprint")},LCOL:function(){return d(".chasejs-designfamily-lcol")},PSR:function(){return d(".chaseui-designfamilypart-psr")},MM:function(){return d(".chasejs-designfamily-mm")},CSR:function(){return d(".chasejs-designfamily-csr")},SWAT:function(){return d(".chasejs-designfamily-swat")}};var d=function(c){return typeof b=="undefined"&&a("body").is(c)?(b=c,!0):typeof b!="undefined"&&b==c};return c},sortItem:function(b,c){return a.trim(a(b).find("a").text())>a.trim(a(c).find("a").text())?1:-1},sortItem:function(b,c){return a.trim(a(b).find("a").text())>a.trim(a(c).find("a").text())?1:-1},sortList:function(b){a(b).children("li").sort(sortItem).appendTo(b).children("ul").each(function(){sortList(this)})},submitOnEnterLogonIE:function(b){"13"==b.keyCode&&a("a#logonButton").click()},getViewportHeight:function(){var b,c;return typeof window.innerWidth!="undefined"?(b=window.innerWidth,c=window.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(b=document.documentElement.clientWidth,c=document.documentElement.clientHeight):(b=document.getElementsByTagName("body")[0].clientWidth,c=document.getElementsByTagName("body")[0].clientHeight),c},getCsv:function(b,c){var d=a("#"+b),e="";d.find("thead tr, tbody tr").each(function(){var b=a(this).children().size();if(b>1){var c=0;a(this).find("th, td").each(function(){c++;var d=a(this);if(d.find(".chaseui-contexthelpcontainer").length){var f=a(d.html());f.find(".chaseui-contexthelpcontainer").remove(),d=f}var g=a.trim(d.text());g!=""&&(e+='"'+g+'"',c!=b&&(e+=","))}),e+="\n"}}),a('<form action="'+c+'" method="post"><textarea name="csvDataToDownload">'+e+"</textarea></form>").appendTo("body").submit().remove()},appendQueryParameters:function(a,b){a=""+a;var c,d,e=[];try{for(d in b)""+d!=""&&e.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));if(0==e.length)return a;var c=a.indexOf("?"),f="";return 0>c?f="?":1<a.length-c&&(f="&"),a+f+e.join("&")}catch(g){return a}},splitQueryString:function(a,b){try{if(typeof a=="string"){a.indexOf("?")===0&&(a=a.substring(1));var c,d,e={},f="&";b&&b.separator&&(f=b.separator);var g=a.split(f);for(c=0;c<g.length;c++)d=g[c].split("="),""!==d[0]&&(e[decodeURIComponent(d[0])]=decodeURIComponent(d[1]));return e}return""}catch(h){return{}}},isDate:function(a){var b,c;if(a.length!=10)return!1;var d=a.substring(3,5)-0,e=a.substring(0,2)-1,f=a.substring(6,10)-0;return a.substring(2,3)!="/"?!1:a.substring(5,6)!="/"?!1:f<999||f>3e3?!1:(c=(new Date(f,e,d)).getTime(),b=new Date,b.setTime(c),b.getFullYear()!=f?!1:b.getMonth()!=e?!1:b.getDate()!=d?!1:!0)},ismaxlength:function(a){var b=parseInt(a.attr("maxLength")),c=a.val().length,d=b-c,e=a.val().substring(0,b);d<0&&(d=0),b&&a.parent().find("span.chasejs-limitchars-remaining").html(d),a.val().length>=b&&a.val(e)},magnifyImage:function(b){var c=a("#"+b);c.hasClass("chaseui-islarge")?(c.removeClass("chaseui-islarge"),c.css({height:c.data("height"),width:c.data("width")})):(c.data({height:c.height(),width:c.width()}),c.addClass("chaseui-islarge"),c.css({height:800,width:800}))},IsMobileBrowser:function(){var a=arguments&&arguments.length==1?arguments[0]:navigator.userAgent,b=/${MOBILEBROWSERDETECTPATTERN}/,c=new RegExp(b);return c.match(a)},cssAsInt:function(a,b){var c=0;try{var d=a.css(b);d=d?parseInt(d,10):0,c=isNaN(d)?0:d}catch(e){}return d},renderWhiteSpaceHtml:function(a){var b="";if(isInteger(a))for(i=0;i<a;i++)b+="&nbsp;";return b},isInteger:function(a){var b;if(isNullOrEmpty(a))return isInteger.arguments.length==1?0:isInteger.arguments[1]==1;for(b=0;b<a.length;b++){var c=a.charAt(b);if(!isDigit(c))return!1}return!0},isNullOrEmpty:function(a){return typeof a=="undefined"||!a},isDigit:function(a){return a>="0"&&a<="9"},convertStringToBool:function(a){switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(string)}},convertStringToInt:function(a){return parseInt(a)},hasAttribute:function(b,c){return!isNullOrEmpty(b)&&c.length&&!isNullOrEmpty(b.attr(c))},preventTabOut:function(a){a.bind("keydown",function(b){if(b.keyCode===9){var c=a.find(":tabbable").not("object"),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}return!0})},getFirstContent:function(b){var c=b.find("*").contents().not('.accessible-text, [aria-hidden="true"]');for(var d=0,e=c.length;d<e;d++){var f=c[d],g=a(f);if(!f.disabled){if(/input|a|button|textarea/.test(f.nodeName)||g.attr("tabindex"))return g;if(f.nodeName==="IMG"&&g.attr("alt"))return g;if(f.nodeType===3&&a.trim(g.text())&&g.parent().not('.accessible-text, [aria-hidden="true"]').length)return g.parent()}}},getLastContent:function(b){var c=b.find("*").contents().not('.accessible-text, [aria-hidden="true"]'),d=c.length;for(var e=d-1;e>=0;e--){var f=c[e],g=a(f);if(!f.disabled){if(/input|a|button|textarea/.test(f.nodeName)||g.attr("tabindex"))return g;if(f.nodeName==="IMG"&&g.attr("alt"))return g;if(f.nodeType===3&&a.trim(g.text())&&g.parent().not('.accessible-text, [aria-hidden="true"]').length)return g.parent()[0].nodeName==="SUP"?g.parent().parent():g.parent()}}},setFocusOnFirstFocusable:function(b){a(b.find(":focusable").get().concat(b.filter("tabindex").get())).eq(0).focus()},getNextFocusable:function(c,d){var e=c.find(":focusable"),f=a.inArray(d[0],e)+1;return e[f]},getPrevFocusable:function(c,d){var e=c.find(":focusable"),f=a.inArray(d[0],e)-1;return e[f]},setFocusOnNextFocusable:function(a,b){var d=c.getNextFocusable(a,b);d&&d.focus()},clickCheckedRequiredDataAttr:function(){var b=a("form input[data-chase-conditional-required-element-id]");for(var c=0;c<b.length;c++){var d=a("#"+a(b[c]).attr("data-chase-conditional-required-element-id")),e=d.get(0)?d.get(0).tagName.toLowerCase():"";if(e=="input"){var f=new Array;f.push(d);if(d.attr("type").toLowerCase()=="radio"&&d.parent()!=null){var g=a("form input:radio[name="+d.attr("name")+"]");for(var h=0;h<g.length;h++){var i=a(g[h]);i.attr("id")!=d.attr("id")&&f.push(a(g[h]))}}for(var j=0;j<f.length;j++)f[j].bind("click",function(a){isCheckedRequiredDataAttr(this)})}else e=="select"&&d.bind("change",function(a){isCheckedRequiredDataAttr(this)})}},showAjaxSpinner:function(a,b){b=="formsubmit"?(a.hide().after('<div class="ajax-spinner" tabindex="-1">Submitting information.. <img width="80px" src="/etc/designs/chasecom/images/loadingAnimation.gif" alt="submitting information"/></div>'),a.next().focus()):b!="modalloading"},hideAjaxSpinner:function(a,b){b=="formsubmit"&&a.show().next(".ajax-spinner").remove()},addCommas:function(a){a+="",x=a.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1))x1=x1.replace(b,"$1,$2");return x1+x2},submitToServlet:function(c,d){var e=c.serialize(),f=c.attr("action");f&&a.ajax({type:"POST",processData:!1,url:f,data:e,success:function(e){var f=a(e).find("META")[0].getAttribute("CONTENT"),g=f.substring(f.indexOf("URL=")+4),h=document.createElement("a");h.href=g,g=h.pathname.substring(0,1)==="/"?h.pathname:"/"+h.pathname,b.loadSnippetContent(g,function(a){d.remove(),c.html(a)},function(a){d.remove(),c.html('<p style="color: red;">An error occured while submitting your information.</p>')})},error:function(){d.remove(),c.html('<p style="color: red;">An error occured while submitting your information.</p>')}})},decimalLimit:function(b){if(a(b).val().indexOf(".")!=-1&&a(b).val().split(".")[1].length>2){if(isNaN(parseFloat(b.value)))return;b.value=b.value.replace(/,/,""),b.value=parseFloat(b.value).toFixed(2)}return b},formatComma:function(a){var b=a.value+"";b=b.replace(/\,/g,""),x=b.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";var c=/(\d+)(\d{3})/;while(c.test(x1))x1=x1.replace(c,"$1,$2");a.value=x1+x2},displayDefaultError:function(a){var b=a.height(),d=c.isDesignFamily().BP()?610:a.width(),e='<div class="chaseui-ajaxloader" style="height:'+b+"px;width:"+d+'px;"><div class="chaseui-ajaxloadererror"><strong>We\'re unable to process your request.</strong> Our system is temporarily unavailable. We apologize for any inconvenience. Please try again later or <a href="#" onclick="openWindow(\'/Secure/Misc/ContactUs.aspx\'); return false;">Contact Us</a>. </div></div>';return e},applyClientUpdates:function(a){if(!a||c.isNullOrEmpty(a.Actions))return;for(var b=0;b<a.Actions.length;b++){var d=a.Actions[b];ClientUpdate(d)}},ClientUpdate:function(b){switch(b.Type){case 0:break;case 1:a(b.Selector).val(b.Data);break;case 2:a(b.Selector).html(b.Data);break;case 3:a(b.Selector).addClass(b.Data);break;case 4:a(b.Selector).removeClass(b.Data);break;case 5:hideModal({selector:b.Selector});break;case 6:a(b.Selector).show();break;case 7:a(b.Selector).hide();break;case 8:a(b.Selector).replaceWith(b.Data);break;case 9:a(b.Selector).append(b.Data);break;case 10:a(b.Selector).prepend(b.Data);break;case 11:var c=b.Data.split(",");a(b.Selector).attr(c[0],c[1]);break;case 12:a(b.Selector).removeAttr(b.Data);break;case 13:window.location.href=b.Data;break;case 14:a(b.Data).insertBefore(b.Selector);break;case 99:var d=a(".chasejs-default-error-container");d.length&&a(d[0]).html(b.Data);break;default:alert("unknown command for client:"+b.Type)}},showSpinnerDiv:function(a){if(!a||!a instanceof jQuery)return;var b=displaySpinnerDiv(a);b&&(a.children().hide(),a.append(b))},hideSpinnerDiv:function(b){if(!b||!b instanceof jQuery)return;b.children().show(),b.children(".chaseui-ajaxloader").filter(function(){return a(this).children(".chaseui-ajaxloadererror").length==0}).hide()}};return c}),define("site/uicc/chase.utils",["jquery","site/uicc/utils"],function(a,b){function c(a,b){var c=document.createElement("iframe");c.setAttribute("id",a),c.setAttribute("name",a),c.setAttribute("width","0"),c.setAttribute("height","0"),c.setAttribute("border","0"),c.setAttribute("style","width: 0px; height:0px; border: none;"),document.body.appendChild(c),document.getElementById(b).target=a}function d(){function f(c,d){$businessSelect=a(c);var e=$businessSelect.find("option:selected").attr("businessdetails");if(d==="from")var f=b.find(".chaseui-leftcolumn .chaseui-business-details");else var f=b.find(".chaseui-rightcolumn .chaseui-business-details");chasejax({url:e,success:function(a){f.html(a.businessdetails);if(a.Logo){var c=a.Logo[0];$imageContainer=b.find(".chaseui-image-uploader-container"),$imageContainer.find("img").replaceWith(c.image),$imageContainer.find("span.chaseui-button").removeClass("chaseui-submit-inactive-large").addClass("chaseui-previous-large").html(c.button)}d==="from"&&g()},spinner:f})}function g(){e.removeAttr("disabled"),b.find(".chaseui-rightcolumn DIV.chaseui-business-actions").removeClass("chaseutil-hide")}CHASE.Log("createInvoiceTemplate");var b=a("#create-invoice-business-wrapper"),c=a("#create-invoice-business-wrapper #chasejs-invoice-template-select"),d=a("#create-invoice-business-wrapper #chasejs-invoice-from-select"),e=a("#create-invoice-business-wrapper #chasejs-invoice-to-select");b.delegate("#chasejs-invoice-from-select","change",function(){f(this,"from")}),b.delegate("#chasejs-invoice-to-select","change",function(){f(this,"to")}),b.delegate("#chasejs-invoice-template-select","change",function(){var a=c.find("option:selected"),b=a.attr("setinvoicefrom");d.find("option").eq(b).attr("selected","selected"),d.trigger("change"),g()})}function e(){CHASE.Log("InitImgLoader"),a("div.chaseui-contentbody").delegate("input.chasejs-upload","change",function(){var c=a(this).attr("data-chase-img-uploader"),d=a(this).closest("form");d.ajaxForm({iframe:!0,dataType:"json",url:c,success:function(a){a!=null&&(b.hideSpinnerDiv(d),b.applyClientUpdates(a))},error:function(){b.hideSpinnerDiv(d);var a=b.displayDefaultError(d);d.html(a)},beforeSubmit:function(){b.showSpinnerDiv(d)}})})}function f(b){a("."+b).each(function(){var b=a(this);"none"!=b.css("display")&&b.toggle()})}function g(b){a("."+b).each(function(){var b=a(this);"none"==b.css("display")&&b.toggle()})}function h(){var a,b;return typeof window.innerWidth!="undefined"?(a=window.innerWidth,b=window.innerHeight):typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0?(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight):(a=document.getElementsByTagName("body")[0].clientWidth,b=document.getElementsByTagName("body")[0].clientHeight),b}function l(b,c){var d=a("#"+b),e="";d.find("thead tr, tbody tr").each(function(){var b=a(this).children().size();if(b>1){var c=0;a(this).find("th, td").each(function(){c++;var d=a(this);if(d.find(".chaseui-contexthelpcontainer").length){var f=a(d.html());f.find(".chaseui-contexthelpcontainer").remove(),d=f}var g=a.trim(d.text());g!=""&&(e+='"'+g+'"',c!=b&&(e+=","))}),e+="\n"}}),a('<form action="'+c+'" method="post"><textarea name="csvDataToDownload">'+e+"</textarea></form>").appendTo("body").submit().remove()}function m(a,b){a=""+a;var c,d,e=[];try{for(d in b)""+d!=""&&e.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));if(0==e.length)return a;var c=a.indexOf("?"),f="";return 0>c?f="?":1<a.length-c&&(f="&"),a+f+e.join("&")}catch(g){return a}}function n(){var a,b,c,d,e,f="http://www.example.com",g="space tilde~bang!at@hash#dollar$percent%caret^and&star*parens()curly{}square[]equal=colon:whack/comma,semi;question?plus+single'double\"backslash\\",h="space%20tilde~bang!at%40hash%23dollar%24percent%25caret%5Eand%26star*parens()curly%7B%7Dsquare%5B%5Dequal%3Dcolon%3Awhack%2Fcomma%2Csemi%3Bquestion%3Fplus%2Bsingle'double%22backslash%5C";a="Basic URL, appending one key-value pair.",b=f,c={foo:"bar"},d=f+"?foo=bar",e=m(b,c),assertTrue(a,e===d),a="Basic URL, appending three key-value pairs.",b=f,c={a:"b",c:"d",e:"f"},d=f+"?a=b&c=d&e=f",e=m(b,c),assertTrue(a,e===d),a="One of the values is an empty string.",b=f,c={a:"b",c:"",e:"f"},d=f+"?a=b&c=&e=f",e=m(b,c),assertTrue(a,e===d),a="One of the keys is an empty string.",b=f,c={a:"b","":"d",e:"f"},d=f+"?a=b&e=f",e=m(b,c),a+='expected"'+d+'" actual"'+e+'"',assertTrue(a,e===d),a="The only key is an empty string.",b=f,c={"":"bar"},d=f,e=m(b,c),assertTrue(a,e===d),a="Second arg is an empty object",b=f,c={},d=f,e=m(b,c),assertTrue(a,e===d),a="Missing second arg",b=f,d=f,e=m(b),assertTrue(a,e===d),a="Second arg is not an object",b=f,c="myString",d=f,e=m(b,c),assertTrue(a,e===d),a="Special characters in the value",b=f,c={a:g},d=f+"?a="+h,e=m(b,c),assertTrue(a,e===d),a="Special characters in the key",b=f,c={},c[g]="b",d=f+"?"+h+"=b",e=m(b,c),assertTrue(a,e===d),a="URL ends with a question mark.",b=f+"?",c={foo:"bar"},d=f+"?foo=bar",e=m(b,c),assertTrue(a,e===d),a="URL has a single-char query string.",b=f+"?x",c={foo:"bar"},d=f+"?x&foo=bar",e=m(b,c),assertTrue(a,e===d),a="URL has an existing query string of multiple items.",b=f+"?a=b&c=d",c={foo:"bar"},d=f+"?a=b&c=d&foo=bar",e=m(b,c),assertTrue(a,e===d)}function o(a,b){try{if(typeof a=="string"){a.indexOf("?")===0&&(a=a.substring(1));var c,d,e={},f="&";b&&b.separator&&(f=b.separator);var g=a.split(f);for(c=0;c<g.length;c++)d=g[c].split("="),""!==d[0]&&(e[decodeURIComponent(d[0])]=decodeURIComponent(d[1]));return e}return""}catch(h){return{}}}function p(){var a,b,c,d,e;a="Two pairs",b="a=b&c=d",d={a:"b",c:"d"},e=o(b),a="document.location.search",b="?a=b&c=d",d={a:"b",c:"d"},e=o(b),a="Two pairs with semicolon separator",b="a=b;c=d",c={separator:";"},d={a:"b",c:"d"},e=o(b,c),a="One pair",b="a=b",d={a:"b"},e=o(b),a="One pair with empty value",b="a=",d={a:""},e=o(b),a="Empty key should be ignored",b="=b&c=d",d={c:"d"},e=o(b),a="Ignore extra separators",b="&&a=b&&&c=d&&",d={a:"b",c:"d"},e=o(b),a="Ignore extra values past multiple equal signs",b="a==b&C=D=E&=&=",d={a:"",C:"D"},e=o(b),a="String with no equal sign should return no pairs",b="a",d={},e=o(b),a="Non-string arg should return no pairs",b=undefined,d={},e=o(b)}function q(b,c){var d;b.tagName?d=a(b):d=a("#"+b),c?d.removeAttr("disabled"):d.attr("disabled","disabled");if(d.is("select")){var e=d.next(".jqss-styledselect");c?e.removeClass("jqss-styledselect-disabled"):e.addClass("jqss-styledselect-disabled")}if(d.is(".datepicker")){var f=d.next(".ui-datepicker-trigger");c?f.removeClass("chaseutil-hide"):f.addClass("chaseutil-hide")}}function r(a){s(a,!1)}function s(b,c){$button=a("#"+b);if(!$button.length)return;c=c==undefined?!0:!!c,$button.hasClass("chasejs-button")&&(c?$button.removeClass("chaseui-button-disabled").removeClass("chaseui-buttonemphasized-disabled").removeClass("chaseui-buttoncalculate-disabled").removeClass("chaseui-buttonrecalculate-disabled").removeAttr("disabled").find("input").removeAttr("disabled"):($button.addClass("chaseui-button-disabled").attr("disabled","disabled").find("input").attr("disabled","disabled"),$button.hasClass("chaseui-buttonemphasized")?$button.addClass("chaseui-buttonemphasized-disabled"):$button.hasClass("chaseui-buttoncalculate")?$button.addClass("chaseui-buttoncalculate-disabled"):$button.hasClass("chaseui-buttonrecalculate")&&$button.addClass("chaseui-buttonrecalculate-disabled")))}function t(a,b){var c={" chaseui-submit-large ":" chaseui-submit-inactive-large "," chaseui-submit-all ":" chaseui-submit-inactive-small "," chaseui-previous-large ":" chaseui-previous-inactive-large "," chaseui-previous-small ":" chaseui-previous-inactive-small "},d,e;if(a.hasClass("chaseui-button"))d=a,a[0].tagName!=="BUTTON"&&(a=a.children("input"));else{if(a[0].tagName!=="INPUT")return;d=a.parent()}e=" "+d.attr("class")+" ";if(b){for(var f in c)e=e.replace(f,c[f]);a.attr("disabled","disabled")}else{for(var f in c)e=e.replace(c[f],f);a.removeAttr("disabled")}d.attr("class",e.replace(/^\s\s*/,"").replace(/\s\s*$/,""))}function u(b){a("#"+b).attr("checked","checked")}function v(a){return a.is('[value=""]')?!0:!1}function w(b,c){var d="chase_saved_style_visibility",e="select";try{if(x===b)return;"string"==typeof c&&(e+=":not("+c+" select)"),b?(a(e).each(function(){a(this).data(d,this.style.visibility),this.style.visibility="hidden"}),x=!0):(a(e).each(function(){this.style.visibility=a(this).data(d)}).removeData(d),x=!1)}catch(f){}}function y(a,b){isIeVersion.Six()&&w(a,b)}function z(a){if(typeof window.SuppressFlags!="undefined"&&window.SuppressFlags!=null&&typeof window.SuppressFlags[a]!="undefined"){var b=window.SuppressFlags[a];if(b===!0)return!0}return!1}function A(){a(".chasejs-checkall").click(function(){a(this).parents().find(":checkbox").attr("checked",!0)}),a(".chasejs-clearall").click(function(){a(this).parents().find(":checkbox").attr("checked",!1)})}function B(){var b=a("form input[data-chase-conditional-required-element-id]");for(var c=0;c<b.length;c++){var d=a("#"+a(b[c]).attr("data-chase-conditional-required-element-id")),e=d.get(0)?d.get(0).tagName.toLowerCase():"";if(e=="input"){var f=new Array;f.push(d);if(d.attr("type").toLowerCase()=="radio"&&d.parent()!=null){var g=a("form input:radio[name="+d.attr("name")+"]");for(var h=0;h<g.length;h++){var i=a(g[h]);i.attr("id")!=d.attr("id")&&f.push(a(g[h]))}}for(var j=0;j<f.length;j++)f[j].bind("click",function(a){C(this)})}else e=="select"&&d.bind("change",function(a){C(this)})}}function C(b){var c=a(b),d=c.get(0).tagName.toLowerCase(),e=c.attr("id");if(d==="input"){var f=a("input:text[data-chase-conditional-required-element-id="+e+"]"),g=a("input:text").filter(function(){return typeof a(this).attr("data-chase-was-disabled")!="undefined"}),h="checked";for(var i=0;i<g.length;i++)if(g[i]!==null){var l=a("#"+a(g[i]).attr("data-chase-was-disabled"));l&&!l.attr(h)&&this.disableEnabledInput(g[i])}for(j=0;j<f.length;j++)a(f[j])!==undefined&&a(f[j])!==null&&c.attr(h)&&this.enableDisabledInput(f[j].getAttribute("id"),e)}else if(d==="select"){var m=c.prop("selectedIndex"),n=a("input:text[data-chase-conditional-required-element-id="+e+"]");if(a(n)!==undefined&&a(n)!==null&&m>0&&c.val()==n.attr("data-chase-conditional-required-element-id-value"))for(j=0;j<n.length;j++)this.enableDisabledInput(n[j].getAttribute("id"),e);else for(k=0;k<n.length;k++)this.disableEnabledInput(n[k])}}function D(b,c){a("#"+b).removeClass("chaseui-disabled"),a("#"+b).removeAttr("disabled"),a("#"+b).attr("data-chase-was-disabled",c)}function E(b){chaseClientSideValidation.clearFailedValidationMessage(a(b)),a(b).addClass("chaseui-disabled"),a(b).attr("disabled","disabled"),a(b).val(""),a(b).removeAttr("data-chase-was-disabled")}function F(a){var b=a.find(".chasevalidation-validateifselected");return b.length&&!b.attr("checked")?!1:!0}function G(b,c){var d=a(b);if(typeof d!="undefined"&&d!=null){var e=d.attr("hoverClass");e!=null&&e.length&&(c?d.find("input:disabled").length||d.addClass(e):d.removeClass(e))}}function H(b,c){var d=a(c),e=d.parents("form"),f=e.find("div.chasejs-togglefeature-container"),g=!0,h=new Array,i=a(c).parent().find("input.chaseui-fielddate"),j=i.attr("value");if(j==""||j=="mm/dd/yyyy"||!I(j))i.addClass("chaseui-formerror"),h[h.length]="Please specify a valid date",b.stopPropagation?b.stopPropagation():b.returnValue=!1;else{i.removeClass("chaseui-formerror");var k,l,m=d.closest(".chasejs-togglefeature-container");m.length&&(l=m),l.find(".chaseui-formerror").length&&(g=!1,b.stopPropagation?b.stopPropagation():b.returnValue=!1),g&&(k=e.attr("id"),FlyoutFormSubmit(k))}handleFormErrors(b,f,h)}function I(a){var b,c;if(a.length!=10)return!1;var d=a.substring(3,5)-0,e=a.substring(0,2)-1,f=a.substring(6,10)-0;return a.substring(2,3)!="/"?!1:a.substring(5,6)!="/"?!1:f<999||f>3e3?!1:(c=(new Date(f,e,d)).getTime(),b=new Date,b.setTime(c),b.getFullYear()!=f?!1:b.getMonth()!=e?!1:b.getDate()!=d?!1:!0)}function J(a){var b=document.getElementById(a);while(b.hasChildNodes())b.removeChild(b.lastChild)}function K(a,b){var c=document.createTextNode(a),d=document.getElementById(b);d.appendChild(c)}function L(a){var b=parseInt(a.attr("maxLength")),c=a.val().length,d=b-c,e=a.val().substring(0,b);d<0&&(d=0),b&&a.parent().find("span.chasejs-limitchars-remaining").html(d),a.val().length>=b&&a.val(e)}function M(b){var c=a("#"+b);c.hasClass("chaseui-islarge")?(c.removeClass("chaseui-islarge"),c.css({height:c.data("height"),width:c.data("width")})):(c.data({height:c.height(),width:c.width()}),c.addClass("chaseui-islarge"),c.css({height:800,width:800}))}function N(){var a=arguments&&arguments.length==1?arguments[0]:navigator.userAgent,b=/${MOBILEBROWSERDETECTPATTERN}/,c=new RegExp(b);return c.match(a)}function O(){var a="Mozilla/5.0 (iPhone; U; CPU like Mac OS X; zh-tw) AppleWebKit/420.1 (KHTML, like Gecko) Version/3.0 Mobile/4A102 Safari/419.3",b="Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.7) Gecko/20091221 Firefox/3.5.7 (.NET CLR 3.5.30729)";assertTrue("Mobile browser user agent was not recognized as such. ["+a+"]",N(a)),assertFalse("Desktop browser user agent was not recognized as such. ["+b+"]",N(b))}function P(b,c,d,e,f){var g=a("#"+e),h=a("#"+c),i=a("#"+d),j=h.parents(".chasevalidation-daterange:visible"),k=b||window.event;ValidateDateRange(k,j);if(h.is(".chaseui-formerror")||i.is(".chaseui-formerror"))return!1;var l=h.attr("value")+" - "+i.attr("value"),m=h.attr("value")+" - "+i.attr("value");g.append("<option value="+l+" selected=selected>"+m+"</option>");if(f){var n=j.parents(".chaseui-flyoutnav:first").attr("id");a("#"+n).removeClass("chaseui-flyoutnav-expanded")}}function Q(a,b){var c=0;try{var d=a.css(b);d=d?parseInt(d,10):0,c=isNaN(d)?0:d}catch(e){}return d}function R(a){var b="";if(S(a))for(i=0;i<a;i++)b+="&nbsp;";return b}function S(a){var b;if(T(a))return S.arguments.length==1?0:S.arguments[1]==1;for(b=0;b<a.length;b++){var c=a.charAt(b);if(!V(c))return!1}return!0}function T(a){return typeof a=="undefined"||!a}function U(){var a,b=[["https://www.chase.com",!1],["",!0],[undefined,!0],[null,!0],[" blah blah",!1],[a,!0]],c=b.length;while(c--)assertTrue("isNullOrEmpty("+b[c][0]+") did not return ["+b[c][1]+"]",T(b[c][0])===b[c][1])}function V(a){return a>="0"&&a<="9"}function W(a){switch(a.toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(string)}}function X(a){return parseInt(a)}function Y(b){a(b).closest("tbody").children().removeClass("chaseui-shadedrow"),a(b).closest("tr").addClass("chaseui-shadedrow")}function Z(a,b){openWindow(a,b,"width=797,height=500,resizable=yes,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0,toolbar=1,location=1")}function $(a,b){openWindow(a,b,"width=1000,height=560,resizable=no,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0,toolbar=1,location=1")}function _(a,b){openWindow(a,b,"width=718,height=500,resizable=no,top=10,left=10,screenX=10,screenY=10,scrollbars=yes,titlebar=0")}function ab(){a("div.chaseui-interactive-formsteps li.chaseui-interactive-formstep span a").click(function(){a(this).closest("li.chaseui-interactive-formstep").addClass("chaseui-interactive-formstep-selected").siblings().removeClass("chaseui-interactive-formstep-selected")})}function bb(a){var b=new PersonalizationCookie;b.SetLocale(a+"_us"),b.Persist()}function cb(){function c(c){chasejax({url:c,$spinner:a("#GridContainer2"),success:function(a){b.applyClientUpdates(a),setTimeout(function(){cb()},0)}})}CHASE.Log("InitFlyoutGroupSelection"),a("table.chasejs-payee-group-grid:not(.chasejs-initialized)").each(function(){var b=a(this);$tempTable=b[0];var c=$tempTable.attributes;for(i=0;i<c.length;i++)c[i].name.indexOf("data-payeecount-")==0&&b.data(c[i].name,c[i].value);b.addClass("chasejs-initialized")}),a("DIV.chasejs-flyout-groupselection").each(function(){$flyout=a(this),$table=$flyout.parents("table.chaseui-grid"),$flyout.delegate("ul.chaseui-linklist a:not(.chaseui-eip-open)","click",function(b){b.preventDefault();var d=a(this),e=a(this).parent("LI"),f=d.parents("DIV.chaseui-flyoutnav"),g=d.attr("data-group-value"),h="data-payeecount-"+g,i=parseInt($table.data(h));e.is(".chasejs-removefromgroup")?c(d.attr("href")):i>=45?showModal({selector:"#max-payee-reached"},d.parents("DIV.chaseui-flyoutnav").find("DIV.chaseui-flyoutnavheader a")):c(d.attr("href"))})})}function db(){a(".chaseui-group-edit-actions a").live("click",function(){return $this=a(this),$groupContainer=$this.parents("DIV.chaseui-group"),$this.hasClass("chaseui-delete-group")?($groupContainer.addClass("chaseui-mark-for-delete"),$groupContainer.find("input[type=text]").attr("disabled","disabled"),$groupContainer.find("input.chasejs-boolean-markfordelete").val(!0),$groupContainer.find("a.chaseui-undo-groupdelete").focus()):$this.hasClass("chaseui-undo-groupdelete")&&($groupContainer.removeClass("chaseui-mark-for-delete"),$groupContainer.find("input[type=text]").removeAttr("disabled"),$groupContainer.find("input.chasejs-boolean-markfordelete").val(!1),$groupContainer.find("a.chaseui-delete-group").focus()),!1})}function eb(a,b){return!T(a)&&b.length&&!T(a.attr(b))}function fb(){function b(b,c){b.preventDefault();var d=a(c).attr("data-chase-ajaxurl"),e=a("#"+a(c).attr("data-case-contentid"));return chasejax({url:d,$spinner:a(".chaseui-button-ajaxspinner"),$errorContainer:e}),!1}CHASE.Log("initGetAdditionalBankDetails"),a("#chasejs-recipientbankrouting-number").bind("submit",function(a){b(a,this)})}function gb(){var b=a("div.chaseui-formlayout");b.find(".chaseui-formerror").not("label").each(function(){chaseClientSideValidation.clearFailedValidationMessage(a(this))})}function hb(){a("body").delegate("a.chasejs-exit-warning","click",function(b){b.preventDefault();var c=a(this).attr("href");return a("body").append('<div class="chaseui-modal chaseui-modal-widthsmall" id="modal-3rd-party-link-exit"><div class="chaseui-modalbackground"><div class="chaseui-modalforeground"><div class="chaseutil-hidevisual">Begin overlay</div><span class="chaseui-icon-container chaseui-modalcloseicon"><a class="chaseui-button chasejs-modalclose" href="#"><span class="chaseui-icons chaseui-button-icon"><img height="1" width="0" alt="Close overlay" name="Close" src="/etc/designs/chasecom/images/sprite_pnt.gif"></span></a></span><div id="modal-header-content" class="chaseui-modalheadernav"><h1>You&#39;re now leaving Chase</h1></div><div class="chaseui-modalbody"><p>Chase is not responsible for, and does not provide or endorse this third-party site&#39;s products, services or other content. Chase&#39;s privacy policy and security practices do not apply to the site you&#39;re about to enter, so please review the third party&#39;s privacy and security practices.</p><div class="chaseui-formnav chaseutil-clearfix"><div class="chaseui-formnav-border"><div class="chaseui-formnav-borderright"></div></div><span class="chaseui-button chaseui-cancel-large chasejs-modalclose"><input type="button" value="Cancel"></span><span class="chaseui-button chaseui-submit-large"><input type="button" value="Proceed" onclick="document.location.href=&#39;'+c+'&#39;"></span></div></div><div class="chaseutil-hidevisual">End overlay</div></div></div></div>'),showModal({selector:"#modal-3rd-party-link-exit"},this),!1})}function ib(b){if(isDesignFamily.MM()){if(b===""||typeof b=="undefined"||typeof b!="boolean")b=!1;a("html").data("toPrompt",b),a("#PageContentColumnMain").delegate("input, select, textarea ","change",function(){a("html").data("toPrompt",!0)}),a("#PageContentColumnMain").delegate(".chaseui-formnav input[type=button], .chaseui-formnav input[type=submit]","click",function(){a("html").data("toPrompt",!1)}),window.onbeforeunload=function(){if(a("html").data("toPrompt"))return"If you leave this page, any information you've entered will be lost."}}}function lb(b){var c=a(b).closest("tr");c.remove()}function mb(a){a.bind("keydown",function(b){if(b.keyCode===9){var c=a.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}return!0})}function nb(b){a(b.find(":focusable").get().concat(b.filter("tabindex").get())).eq(0).focus()}function ob(b,c){var d=b.find(":focusable"),e=a.inArray(c[0],d)+1;return d[e]}function pb(b,c){var d=b.find(":focusable"),e=a.inArray(c[0],d)-1;return d[e]}function qb(a,b){var c=ob(a,b);c&&c.focus()}var x=!1;window.clickCheckedRequiredDataAttr=B,window.isCheckedRequiredDataAttr=C,window.enableDisabledInput=D,window.disableEnabledInput=E,a(function(){var b=a(".chaseui-limitchars");b.each(function(b){L(a(this))}),a(".chaseui-limitchars").keyup(function(){L(a(this))})}),window.isNullOrEmpty=T;var jb=function(){var b=a("DIV.invoice-item-details TABLE.chaseui-grid:eq(0)");b.delegate("TBODY > TR","mouseenter mouseleave",function(){var b=a(this);b.hasClass("chaseui-highlight")?b.removeClass("chaseui-highlight"):b.addClass("chaseui-highlight")})},kb={itemGrid:function(){return a(".invoice-item-details .chaseui-invoiceitem-grid")},optionalGrid:function(){return a(".invoice-item-details .chasejs-invoice-optional-grid")},setupInvoiceCalculation:function(){var a=kb.itemGrid(),b=kb.optionalGrid();a.delegate("INPUT.chasejs-calculate-field","change",function(a){kb.calculateItemRowTotal(this)}),b.delegate("INPUT.chasejs-calculate-field, SELECT.chasejs-calculate-field","change",function(a){kb.calculateOptionalRowTotal(this)}),a.delegate("INPUT.chasejs-input-taxable","change",function(a){kb.taxableItemsChanged()})},calculateOptionalRowTotal:function(b){var c=a(b),d=c.parents("TR:eq(0)"),e=kb.getOptionalValueType(d),f=kb.getOptionalValue(d),g=kb.isOptionalTypeTax(d);if(e==="percentage"&&!g)var h=kb.calculatePercentage(f);else if(e==="percentage"&&g)var h=kb.calculateTaxPercentage(f);else var h=f;kb.updateRowTotalAmount(d,h),kb.updateInvoiceAmount()},getOptionalValueType:function(a){return a.find("SELECT.chasejs-calculate-field").val()},getOptionalValue:function(a){var b=a.find("INPUT.chasejs-calculate-field");return kb.getValueFromField(b)},isOptionalTypeTax:function(a){var b=a.find("SELECT.chasejs-fieldtype-tax");return b.length?!0:!1},calculatePercentage:function(a){var b=kb.optionalGrid(),c=b.find("SPAN.chasejs-subtotal").text(),d=0;return c=isNaN(c)?0:kb.convertToFloat(c),c>0&&a<=100&&(d=c*a/100),d},calculateTaxPercentage:function(b){var c=kb.itemGrid(),d=0,e=0;return c.find("TR").each(function(){$this=a(this);var b=kb.isItemTaxable($this),c=b?kb.getRowTotal($this)*1:0;c>0&&(d+=c)}),d=isNaN(d)?0:kb.convertToFloat(d),d>0&&b<=100&&(e=d*b/100),e},taxableItemsChanged:function(){var a=kb.optionalGrid(),b=a.find("SELECT.chasejs-fieldtype-tax");b.trigger("change")},isItemTaxable:function(a){var b=a.find("INPUT.chasejs-input-taxable:checked");return b.length?!0:!1},getRowTotal:function(a){var b=a.find("SPAN.chasejs-row-total").text();return b},calculateItemRowTotal:function(b){var c=a(b),d=c.parents("TR:eq(0)"),e=kb.getPriceFieldValue(d),f=kb.getQtyFieldValue(d),g=e*f;g=kb.convertToFloat(g),kb.updateRowTotalAmount(d,g),kb.updateSubtotal()},getPriceFieldValue:function(a){var b=a.find("input.chasejs-field-price");return kb.getValueFromField(b)},getQtyFieldValue:function(a){var b=a.find("input.chasejs-field-qty");return kb.getValueFromField(b)},updateRowTotalAmount:function(a,b){b=kb.convertToFloat(b);var c=a.find("SPAN.chasejs-row-total");c.html(b)},getValueFromField:function(a){var b=kb.convertToFloat(a.val());return isNaN(b)?0:b},updateSubtotal:function(){var b=0,c=kb.itemGrid(),d=kb.optionalGrid();c.find('TR:not(".chaseutil-hide") SPAN.chasejs-row-total').each(function(c){var d=a(this).text()*1;b+=d}),b=kb.convertToFloat(b),d.find("SPAN.chasejs-subtotal").html(b),kb.recalculatePercentageOptionalAmount()},recalculatePercentageOptionalAmount:function(){var b=kb.optionalGrid();b.find("SELECT").each(function(){var b=a(this).val();b==="percentage"&&a(this).trigger("change")})},updateInvoiceAmount:function(){var b=0,c=0,d=kb.optionalGrid(),e=d.find("SPAN.chasejs-subtotal").text()*1,f=d.find('TR:not(".chaseutil-hide") SPAN.chasejs-row-total');for(i=1;i<=3;i++){var g=f.eq(i).text()*1;c+=g}c-=f.eq(0).text()*1,b=e+c,b=kb.convertToFloat(b),a("DIV.invoice-item-details #chasejs-invoice-total").html(b)},convertToFloat:function(a){return a=parseFloat(a),a=a.toFixed(2),a}};window.preventTabOut=mb,window.setFocusOnFirstFocusable=nb,window.getNextFocusable=ob,window.getPrevFocusable=pb,window.setFocusOnNextFocusable=qb}),define("content/uicc/chase.plugin.floater",["jquery","jpmc/log","site/uicc/utils","site/uicc/chase.utils","site/uicc/_plugins.hoverintent"],function(a,b,c){var d=a,e=b("chase.plugin.floater");(function(a){var b="chaseFloater",d=[],f=function(d,f){var g,h,i={empty:{name:"empty"},initialized:{name:"initialized"},building:{name:"building"},hidden:{name:"hidden"},displayed:{name:"displayed"},removed:{name:"removed"}},j={floaterStates:i,floaterPositions:{"right-center":{my:"left center",at:"right center",collision:"flipfit flipfit"},"left-center":{my:"right center",at:"left center",collision:"flipfit flipfit"},"bottom-center":{my:"center top",at:"center bottom",collision:"flipfit flipfit"},"top-center":{my:"center bottom",at:"center top",collision:"flipfit flipfit"},"right-top":{my:"left top",at:"right top",collision:"flipfit flipfit"},"right-bottom":{my:"left bottom",at:"right bottom",collision:"flipfit flipfit"},"left-top":{my:"right top",at:"left top",collision:"flipfit flipfit"},"left-bottom":{my:"right bottom",at:"left bottom",collision:"flipfit flipfit"},"bottom-right":{my:"right top",at:"right bottom",collision:"flipfit flipfit"},"bottom-left":{my:"left top",at:"left bottom",collision:"flipfit flipfit"},"top-right":{my:"right bottom",at:"right top",collision:"flipfit flipfit"},"top-left":{my:"left bottom",at:"left top",collision:"flipfit flipfit"},viewportcenter:{my:"center",at:"center",collision:"fit",of:window,using:function(b){var c=a(this).css(b).offset(),d=a(window).scrollTop(),e=a(window).scrollLeft();c.top<d&&a(this).css("top",b.top-c.top+d),c.left<e&&a(this).css("left",b.left-c.left+e),a(window).height()<a(this).height()?a(this).addClass("overflow-y-hidden"):a(this).removeClass("overflow-y-hidden")}}},initialFloaterPosition:"right-center",floaterId:"chasejs-contexthelpfloater",floaterContentId:"chasejs-helpcontent-forajaxupdate",contentType:"ajax",ajaxContentUrl:"",ajaxContentUpdateMethodType:"jquery",managedContentProvider:{},staticContent:"",target:d,showArrow:!0,showBorder:!0,showOverlay:!1,floaterOffset:"0 0",appendNextTo:undefined,appendtoElement:"body",preventTabOut:!1,setFocus:!0,setFocusOnContent:!1,closeOnDomClick:!1,closeOnTargetClick:!1,displayOn:undefined,displayAs:"tooltip",floaterCssClass:"",floaterWidth:"auto",floaterCollision:undefined,onHoverDelay:300,removeFloaterDelay:400,arrowOffset:20,positionTarget:undefined,onShow:undefined,repositionOnScroll:!1},k=this;k.floaterState=i.empty,k.targetId=undefined;var l={init:function(a){k.instanceGuid=(new Date).getTime(),typeof a=="object"&&l.updateSettings(a),k.floaterState=i.initialized,k.targetId=d.attr("id")||"target-"+k.instanceGuid,j.displayOn&&(j.displayOn==="click"?j.displayAs==="tooltip"?d.click(l.showAsTooltip):j.displayAs==="modal"&&d.click(l.showAsModal):j.displayOn==="hover"?d.hoverIntent({over:l.showAsTooltip,out:l.invokeRemove,interval:j.onHoverDelay}):j.displayOn==="hoverandclick"&&(d.hoverIntent({over:l.showAsTooltip,out:l.invokeRemove,interval:j.onHoverDelay}),d.click(function(a){l.showOverlay(),l.showAsTooltip(a),l.bindOverlayEvents()})))},show:function(b){var c=a(l.buildFloaterTemplate());return typeof j.onShow=="function"&&c.bind("show.chasefloater",j.onShow),l.buildFloaterContent(c),j.contentType==="ajax"?l.updateFloaterAjaxContent(c):j.contentType==="static"&&c.trigger("show.chasefloater"),l.positionFloater(c,a(j.positionTarget)),l.bindFloaterEvents(c,b),k.floaterState=i.displayed,c},buildFloaterContent:function(b){var c="";if(j.contentType=="static")typeof j.staticContent=="function"?c=j.staticContent():c=j.staticContent;else{var d=a("#"+j.floaterContentId);d.length||(d=j.target.next()),c=d.html()}j.appendNextTo?b.insertAfter(j.appendNextTo):b.appendTo(j.appendtoElement),b.find("div.chaseui-contexthelpfloaterbody").append(c)},updateFloaterAjaxContent:function(b){var d=j.ajaxContentUrl,f=a("span.chasejs-contexthelp-closebody",b);switch(j.ajaxContentUpdateMethodType){case"managedContentProvider":var g=j.managedContentProvider;g.loadSnippetContent(d,function(a){f.html(a),l.floaterAjaxContentUpdateCallback(b,f),b.trigger("show.chasefloater")},function(){e.debug("failed to load content from "+d)});break;case"chasejax":chasejax({url:d,$spinner:f,$errorContainer:f,success:function(a){c.applyClientUpdates(a),l.floaterAjaxContentUpdateCallback(b,f),b.trigger("show.chasefloater")}});break;case"jquery":default:chasejax({url:d,$spinner:f,$errorContainer:f,dataType:"html",success:function(a){f.html(a),l.floaterAjaxContentUpdateCallback(b,f),b.trigger("show.chasefloater")}})}},buildFloaterTemplate:function(){k.floaterState=i.building;var a="",b='<div id="{0}" class="chaseui-contexthelpfloater chaseui-chasefloater {1}" data-chase-targetid="{2}" tabindex="{3}" {4}><div class="chaseui-cornertop"><div class="chaseui-cornertopleft"></div><div class="chaseui-cornertopright"></div></div><div class="chaseui-contexthelpfloaterarrow"></div><div class="chaseui-contexthelpfloaterbody"></div><div class="chaseui-cornerbottom"><div class="chaseui-cornerbottomleft"></div><div class="chaseui-cornerbottomright"></div></div></div>';return j.showBorder&&(a=j.floaterCssClass+" chaseui-chasefloater-border"),b.replace("{0}",j.floaterId).replace("{1}",a).replace("{2}",k.targetId).replace("{3}",-1).replace("{4}"," style='width:"+j.floaterWidth+"'")},remove:function(b){k.floaterState===i.displayed&&(a('div[data-chase-targetid="'+k.targetId+'"]').remove(),l.removeOverlay(),k.floaterState=i.removed,g=undefined,a("body").data("isModalOpen")==="true"&&a("body").data("isModalOpen","false"),b&&(j.target[0]===undefined?j.target.focus():j.target[0].focus()),k.triggerEvent="")},positionFloater:function(b,c){var d=j.floaterPositions[j.initialFloaterPosition],e=j.floaterOffset.split(" "),f=d.my.split(" ");if(j.showArrow){if(!/-center/.test(j.initialFloaterPosition))if(/left-|right-/.test(j.initialFloaterPosition)){var g=j.arrowOffset-c.height()*.5;g=g<0?0:g,/-top/.test(j.initialFloaterPosition)?d.offset=j.floaterOffset.split(" ")[0]+" -"+g:/-bottom/.test(j.initialFloaterPosition)&&(d.offset=j.floaterOffset.split(" ")[0]+" "+g)}else if(/top-|bottom-/.test(j.initialFloaterPosition)){var h=j.arrowOffset-c.width()*.5;h=h<0?0:h,/-left/.test(j.initialFloaterPosition)?d.offset="-"+h+" "+j.floaterOffset.split(" ")[1]:/-right/.test(j.initialFloaterPosition)&&(d.offset=h+" "+j.floaterOffset.split(" ")[1])}if(j.floaterOffset!=="0 0"){for(var i=0,k=e.length;i<k;i++)parseInt(e[i])>0&&(e[i]="+"+e[i]),parseInt(e[i])!==0&&(f[i]=f[i]+e[i]);d.my=f.join(" ")}b.position(a.extend({of:c},d)),b.offset().top<1&&b.css({top:0});var m=window.innerWidth?window.innerWidth:document.body.offsetWidth;b.offset().left+parseInt(j.floaterWidth)>m&&b.css({right:0,left:"auto"}),l.addFloaterArrow(b,c)}else b.position(a.extend({of:c},d))},addFloaterArrow:function(a,b){var c="",d="chaseui-contexthelpfloater-arrow",e=b.offset(),f=a.offset();/(left-|right-)/.test(j.initialFloaterPosition)?e&&f.left>e.left?c="left":c="right":/(top-|bottom-)/.test(j.initialFloaterPosition)&&(e&&f.top>e.top?c="top":c="bottom"),d+=c,a.removeClass("chaseui-contexthelpfloater-arrowtop").removeClass("chaseui-contexthelpfloater-arrowbottom").removeClass("chaseui-contexthelpfloater-arrowleft").removeClass("chaseui-contexthelpfloater-arrowright"),a.addClass(d),l.positionFloaterArrow(a,b,c)},positionFloaterArrow:function(a,b,c){var d=a.offset(),e=b.offset(),f=a.find("div.chaseui-contexthelpfloaterarrow");!/-center/.test(j.initialFloaterPosition)&&/none/.test(j.floaterCollision)?(/-left/.test(j.initialFloaterPosition)&&f.css("left",j.arrowOffset-f.width()*.5),/-right/.test(j.initialFloaterPosition)&&f.css("left",a.width()-j.arrowOffset-f.width()*.5),/-top/.test(j.initialFloaterPosition)&&f.css("top",j.arrowOffset-f.height()*.5),/-bottom/.test(j.initialFloaterPosition)&&f.css("top",a.height()-j.arrowOffset-f.height()*.5)):/(left|right)/.test(c)?f.css("top",l.getFloaterArrowOffsetTop(e.top,b.height(),d.top,a.height(),f.height())):/(top|bottom)/.test(c)&&f.css("left",l.getFloaterArrowOffsetLeft(e.left,b.width(),d.left,a.width(),f.width()))},getFloaterArrowOffsetTop:function(a,b,c,d,e){var f;return c>a&&c+d<a+b?f=c-a+.5*c:c<a&&c+d>a+b?f=a-c+.5*b:c>a&&c+d>a+b?f=b-.5*(a+b-c):f=a-c+.5*(c+d-a),f-e*.5},getFloaterArrowOffsetLeft:function(a,b,c,d,e){var f;return c>a&&c+d<a+b?f=c-a+.5*c:c<a&&c+d>a+b?f=a-c+.5*b:c>a&&c+d>a+b?f=b-.5*(a+b-c):f=a-c+.5*(c+d-a),f-e*.5},removeFloaterArrow:function(a){a.removeClass("chaseui-contexthelpfloater-arrowleft").removeClass("chaseui-contexthelpfloater-arrowright")},invokeShow:function(b){var d=null;j.target=a.contains(document,j.target[0])?j.target:b.currentTarget;if(typeof b!="undefined"){if(b.type==="click")try{b.preventDefault()}catch(e){}else b.type==="mouseenter"&&g&&(window.clearTimeout(g),g=undefined);k.triggerEvent!="click"&&(k.triggerEvent=b.type)}k.floaterState!==i.building&&k.floaterState!==i.displayed?d=l.show(b):(d=a("#"+j.floaterId),j.showArrow||l.removeFloaterArrow(d));if(!b||b&&b.type!="mouseenter")!j.setFocusOnContent&&j.setFocus&&setFocusOnFirstFocusable(d),j.preventTabOut&&c.preventTabOut(d);return j.showOverlay&&l.showOverlay(),d.css("zIndex",c.topZ()),testClass="testClass",d.find("div").addClass(testClass).removeClass(testClass),d},invokeRemove:function(a){if(a.type==="click")l.remove();else{if(!/mouseenter|mousemove/.test(k.triggerEvent)||a.relatedTarget&&a.relatedTarget.id==="chaseui-overlay")return;if(g===-9999){g=undefined;return}g=window.setTimeout(l.remove,j.removeFloaterDelay)}},cancelRemove:function(){try{g?(window.clearTimeout(g),g=undefined):g=-9999}catch(a){}},showAsModal:function(b){j.showArrow=!1,j.preventTabOut=!0,j.showOverlay=!0,j.initialFloaterPosition="viewportcenter";var c=l.invokeShow(b);return l.bindFloaterAsModalEvents(),a("body").data("isModalOpen","true"),c},showAsTooltip:function(a){var b=typeof a!="undefined"&&a.type==="click";if(b&&j.closeOnTargetClick&&k.floaterState===i.displayed)return l.remove(),a.preventDefault(),!1;j.preventTabOut=j.preventTabOut||b;var c=l.invokeShow(a);return c},floaterAjaxContentUpdateCallback:function(b,c){l.positionFloater(b,a(j.positionTarget)),j.setFocusOnContent&&setFocusOnFirstFocusable(c)},bindFloaterEvents:function(b,c){b.delegate("a.chaseui-button.chasejs-flyoutclose, button.chasejs-flyoutclose, a.chasejs-flyoutclose","click.chaseFloater",function(b){a.event.trigger("modalClose",[b]),b.preventDefault(),b.stopPropagation(),l.remove(!0)}),j.repositionOnScroll&&a(window).scroll(function(c){b.position(a.extend({of:a(j.positionTarget)},j.floaterPositions[j.initialFloaterPosition]))}),l.bindFloaterAsToolTipEvents(b,c)},bindFloaterAsToolTipEvents:function(b,c){c&&c.type!="click"&&b.hover(l.cancelRemove,l.invokeRemove),j.closeOnDomClick&&a(document).unbind("click.chaseFloater").bind("click.chaseFloater",function(c){!j.target.is(c.target)&&!j.target.has(c.target).length&&!b.has(c.target).length&&a("body").data("isModalOpen")!="true"&&l.remove()})},bindFloaterAsModalEvents:function(){j.closeOnDomClick&&l.bindOverlayEvents()},bindOverlayEvents:function(){j.closeOnDomClick&&a("#chaseui-overlay").one("click.chaseFloater",l.remove)},showOverlay:function(){h=a('<div id="chaseui-overlay" class="chaseui-overlay-modal" instance-id="'+k.instanceGuid+'"></div>').css({display:"block",zIndex:c.topZ()}).appendTo("body")},removeOverlay:function(){h&&h.remove(),a.event.trigger("mouseOutModalClose")},updateSettings:function(b){var c=b.initialFloaterPosition||j.initialFloaterPosition;b.floaterOffset&&(j.floaterPositions[c].offset=b.floaterOffset),b.floaterCollision&&(j.floaterPositions[c].collision=b.floaterCollision),j.positionTarget=b.positionTarget||j.target,a.extend(j,b)},destroy:function(){l.remove(),d.unbind(".hoverIntent"),d.removeData(b)}};return l.init(f),{remove:l.remove,invokeRemove:l.invokeRemove,showAsModal:l.showAsModal,showAsTooltip:l.showAsTooltip,updateSettings:l.updateSettings,destroy:l.destroy}};a.fn.chaseFloater=function(a){var c=this.data(b);return typeof c=="undefined"?(c=new f(this,a),this.data(b,c),d.push(c)):typeof a=="object"&&c.updateSettings(a),c},a.fn.chaseFloater.removeAll=function(){for(var a=0;a<d.length;a++)d[a].remove()},window.removeAllFloaters=a.fn.chaseFloater.removeAll})(a,a.chaseFloater)}),define("content/uicc/dynamic-modals",["jquery","content/services/contentprovider","content/conf/appsconfig/clientconfig","jqueryui/core","jqueryui/position","content/uicc/chase.plugin.floater"],function(a,b,c){var d=c.contentServer,e={init:function(c,d){d=d||".dynamically-built-ajax-modal-link",c.find(d).each(function(){var c=a(this),d;c.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>'),c.hasClass("modal-height-592")?d="modal-height-592":d="",d=c.attr("floaterCssClass")?d+" "+c.attr("floaterCssClass"):d,c.on("click",function(f){f.preventDefault();var g=c.attr("href"),h=0,i={};g.indexOf("#!")!=-1&&(h=g.split("#!"),a("#leftNav-deepLink").length?a("#leftNav-deepLink").attr("data-deepLink",h[1]):a("body").append("<span id='leftNav-deepLink' data-deepLink='"+h[1]+"'></span>"));var j=c.chaseFloater({managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",ajaxContentUrl:h?h[0]:g,showBorder:!0,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+d,closeOnDomClick:!1,floaterWidth:c.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,c,j),e.trackModalLoad(this,c,j);var a=$this.find("iframe");a.load(function(){a.contents().find("a.chasejs-modalclose").on("click",function(a){j&&j.remove()})})}});j.showAsModal(f)})})},triggerModal:function(b){e.init(a("body"),b),a(b).trigger("click")},existingContentModal:function(b,c,d){b=b||".dynamically-built-ajax-modal-link";var f="";d?f=a(c).parent().closest(d).parent().html():f=a(c).parent().html(),a(b).each(function(){var b=a(this),c;b.before('<span class="accessible-text">Opens Modal.</span>'),b.hasClass("modal-height-592")?c="modal-height-592":c="",b.on("click",function(a){a.preventDefault(),b.chaseFloater({contentType:"static",staticContent:f,showBorder:!0,closeOnDomClick:!1,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+c,floaterWidth:b.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,b),e.trackModalLoad(this,b)}}).showAsModal(a)})})},autoTriggerExistingContentModal:function(b,c,d){if(b){var f="",g="",h={},i=a(b);return d?f=a(c).closest(d).parent().html():f=a(c).parent().html(),i.hasClass("modal-height-592")?g="modal-height-592":g="",h=i.chaseFloater({contentType:"static",staticContent:f,showBorder:!0,closeOnDomClick:!1,floaterCssClass:"chaseui-dynamic-modal chaseui-modalbackground "+g,floaterWidth:i.attr("data-width")||"350px",onShow:function(){e.commonModalInit(this,i),e.trackModalLoad(this,i)}}),h.showAsModal(),h}},commonModalInit:function(b,c,d){var e=a(b);require(["content/uicc/dynamic-modules"],function(a){a.init(e)})},trackModalLoad:function(b,c,d){var e="",f=a(b),g=c.attr("data-title"),h=c.attr("data-pt-name"),i=c.attr("data-pt-description");if(i=="undefined"||i==null||i=="")i=c.clone().children("span.accessible-text").remove().end().text().replace(/\u00a0/g," ");if(g&&g!==""){var j='<div class="standard-overlay-header"><div class="standard-overlay-header-txt"><h1>'+g+'</h1></div><div class="clear"></div></div>';f.find(".chasejs-contexthelp-closebody").addClass("chaseui-modalbody-scroll").before(j),f.find(".ln-left-nav").triggerHandler("show.chasefloatertitle"),e=g}h&&h!==""&&(e=h),e!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackModalLoad&&CHASE.analytics.trackModalLoad(e,i)},openZipModalOnLoad:function(b,c){var d='<span id="chasejs-helpcontent-forajaxupdate" class="chaseui-contexthelpcontent"><span class="accessible-text">Begin Overlay.</span><a class="chaseui-button chasejs-flyoutclose chaseui-flyoutclose" href="#"><span class="chaseui-icons chaseui-button-icon"><img height="1" width="0" src="/etc/designs/chasecom/images/swat-sprite.png" alt="Close overlay"></span></a><span class="chasejs-contexthelp-closebody"><div class="chaseui-spinner chasejs-spinner"><img src="/etc/designs/chasecom/images/loader-gray-faster-40x40_v5.gif" alt="loading..."></div></span><span class="accessible-text">End Overlay.</span></span>',f='<a data-pt-name="zipcode" data-pt-description="EnterZipcode"><span>Enter Your ZIP Code</span></a>',g=a(".zipcode-head-area").parent().closest(".chaseui-icon-container").parent().html(),h=a("body");a("#chasejs-helpcontent-forajaxupdate").length||a("body").append(d);var i=h.chaseFloater({contentType:"static",staticContent:g,showBorder:!0,floaterCssClass:"chaseui-modalbackground ",closeOnDomClick:!1,floaterWidth:"350px",onShow:function(){var d=a(this);d.addClass("chsejs-invalidZip"),c?d.find("input.zipcode-field").val(c):d.find("input.zipcode-field").val("ZIP Code");var g=d.find("a.chaseui-button.chasejs-flyoutclose, button.chasejs-flyoutclose, a.chasejs-flyoutclose");g.undelegate().bind("click.invalidZip",function(a){d.closest(".chaseui-chasefloater").hasClass("chsejs-invalidZip")?location.href=b:i.remove()}),e.commonModalInit(this,a(f))}});return i.showAsModal(a("body")),a("#chaseui-overlay").css("opacity","0.7"),i}};return e}),define("content/uicc/dynamic-flyouts",["jquery","content/services/contentprovider","site/uicc/utils","content/uicc/chase.plugin.floater"],function(a,b,c){function e(b,c,d){if(c.keyCode===27||c.keyCode===9){c.stopPropagation(),c.preventDefault();if(c.keyCode===9){var e=b.find(":focusable"),f=a.inArray(c.target,e),g=c.shiftKey?e.filter(function(a){return a<f&&this.tabIndex>=0}).last():e.filter(function(a){return a>f&&this.tabIndex>=0}).first();g.length?g.focus():(d.focus(),d.trigger("click"))}else d.focus(),d.trigger("click")}}var d={init:function(c,e){e=e||".dynamically-built-ajax-flyout-link";var f={right:"20 0",left:"-30 0",top:"0 -20",bottom:"0 20"};c.find(e).each(function(c){var e=a(this),g={managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",ajaxContentUrl:e.attr("href"),showBorder:!0,floaterCssClass:"chaseui-modalbackground chaseui-dynamic-flyout",closeOnDomClick:!0,initialFloaterPosition:e.attr("data-arrowPos")||"bottom-center",floaterWidth:e.attr("data-width")||"350px",displayOn:"hoverandclick",floaterCollision:"fit flip",onShow:function(){d.commonFlyoutInit(this,e)}};g.floaterOffset=f[g.initialFloaterPosition.split("-")[0]],e.chaseFloater(g),e.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>')}),a("body").bind("mouseOutModalClose",function(){a("#chasejs-helpcontent-forajaxupdate").find(".standard-overlay-header").remove()})},initStatic:function(b,c){c=c||".chasejs-flyoutlink";var e={right:"20 0",left:"-30 0",top:"0 -20",bottom:"0 20"};b.find(c).each(function(b){var c=a(this),f={floaterId:"chasejs-contexthelpfloater",floaterCssClass:"chaseui-dynamic-flyout",contentType:"static",staticContent:c.next().html(),showBorder:!1,initialFloaterPosition:c.attr("data-arrowPos")||"bottom-center",floaterWidth:c.attr("data-width")||"350px",repositionOnScroll:!1,target:c,showBorder:!0,displayOn:"hoverandclick",floaterCollision:"flip fit",onShow:function(){a(this).find("div.zipcode-head-area div[class^=error]").hide();var b=c.attr("data-chase-zipcode");b?a("#"+f.floaterId).find("input.zipcode-field").val(b):a("#"+f.floaterId).find("input.zipcode-field").val("ZIP Code"),d.commonFlyoutInit(this,c)}};f.floaterOffset=e[f.initialFloaterPosition.split("-")[0]],c.chaseFloater(f)})},initFlyoutCombo:function(e,f){f=f||".dynamically-built-ajax-multiselect",e.find(f).each(function(e){var f=a(this),g=f.closest(".chase-button-container").is("[class*=translucent]"),h="0 0";g&&(h="-10px 11px");var i={floaterContentId:"chasejs-combo-forajaxupdate",managedContentProvider:b,ajaxContentUpdateMethodType:"managedContentProvider",removeCloseIcon:!0,ajaxContentUrl:f.attr("href"),showArrow:!1,setFocus:!1,showBorder:!0,floaterCssClass:"chaseui-modalcombo chaseui-dynamic-flyout",closeOnDomClick:!0,initialFloaterPosition:"bottom-left",floaterWidth:f.attr("data-width")||"228px",floaterOffset:h,floaterCollision:"fit flip",displayOn:"hoverandclick",onShow:function(b){var e=a(this),g=c.getFirstContent(e),h=c.getLastContent(e),i=function(a){a.preventDefault(),a.stopPropagation(),d.floaterInstanceCache.remove(f)};g.attr("tabindex","0"),h.attr("tabindex","0"),e.on("keydown.menuClose",function(a){a.keyCode===27&&i(a)}),g.on("keydown.dropdown",function(a){a.keyCode===9&&a.shiftKey&&i(a)}),h.on("keydown.dropdown",function(a){a.keyCode===9&&!a.shiftKey&&i(a)}),g.focus(),d.commonFlyoutInit(this,f)}};d.floaterInstanceCache=f.chaseFloater(i),f.append('<span class="accessible-text">&nbsp;(Opens Menu)</span>')})},commonFlyoutInit:function(b,c){var d="",e=a(b),f=c.attr("data-title"),g=c.attr("data-pt-name"),h=c.attr("data-pt-description");if(h=="undefined"||h==null||h=="")h=c.text().replace(/\u00a0/g," ");if(f&&f!==""){var i='<div class="standard-overlay-header"><div class="standard-overlay-header-txt"><h1>'+f+'</h1></div><div class="clear"></div></div>';e.find(".chasejs-contexthelp-closebody").prepend(i),e.find(".ln-left-nav").triggerHandler("show.chasefloatertitle"),d=f}g&&g!==""&&(d=g),d!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackHoverLoad&&CHASE.analytics.trackHoverLoad(d,h),require(["content/uicc/dynamic-modules"],function(a){a.init(e)})}};return d}),define("content/services/dynamic-weblink",["jpmc/$","content/conf/appsconfig/clientconfig","content/services/contentprovider","jpmc/ui/modal","jpmc/log"],function(a,b,c,d,e){var f=e("Weblinking Process");d.prototype.onDocumentClick=function(b,c){var d=this.content(),e=a(c.target);this.state.isDisplayed()&&this.current.positionTarget&&!e.is(this.current.positionTarget)&&!a.contains(this.current.positionTarget[0],e[0])&&!d.is(e)&&!a.contains(d[0],e[0])&&(this.$lastActive=null,this.hide())};var g=!!navigator.userAgent.match(/iPad|iPhone|iPod|iOS|Android|webOS|Fennec|Symbian|Windows Phone OS|Windows[ ]?CE|Device Software|Tablet OS|PalmOS|Opera Mini/i),h=function(){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}return a}(),i=function(a){h!==null&&h!==-1&&a&&a.siblings().length<1&&require(["site/lib/PIE"],function(){var b=a.children(".chase-button-glare");PIE.attach(a[0]),PIE.attach(b[0])})},j=function(b){disclosureContent="<div class='chaseui-weblink'>"+(b||r)+s+"</div>",v=new d,v.insert({size:"chaseui-modal-widthsmall",title:w,body:disclosureContent}),v.insertTo(weblinkContainer),v.render(),a("#wlButtonPanel a").each(function(b,c){$this=a(this),$this.off("mouseenter.buttonHover").on("mouseenter.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).addClass("button-hover")}),$this.off("mouseleave.buttonHover").on("mouseleave.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).removeClass("button-hover")}),i($this)}),a("#wlButtonPanel").on("click",function(b){var c=a(b.target).attr("data-class");c=="primary-button"?(b.preventDefault(),b.stopPropagation(),window.open(o),v.hide()):c=="tertiary-button"&&(b.preventDefault(),b.stopPropagation(),v.hide(),p.focus())}),v.show()},k=function(){v?v.show():n.loadSnippetContent(disclaimer_ContentURL,function(a){j(a)},function(){j()},1,m.timeout)},l={init:function(d,e,h,i){m=e||b,n=h||c,disclaimer_ContentURL=g?m.contentServer+m.mobileStandardDisclaimerMsg:m.contentServer+m.standardDisclaimerMsgLite,f.time("Weblinking process");var j=a(d||".background-wrapper"),l;d?l=j.find(a('a[href][href^="http"]')):l=a('a[href][href^="http"]');var q=m.whiteListedDomains&&m.whiteListedDomains.split(",").join("|")||"";l.each(function(){var b=a(this);if(b.attr("data-override-weblink")!="true"){var c=this.href;c=c.replace(/(\w)+(:\/\/)/,"").split("/")[0].split("?")[0];if(c.match(q))return}b.append('<span class="accessible-text">&nbsp;(Opens Overlay)</span>'),b.on("click",function(a){a.preventDefault(),g?window.open(disclaimer_ContentURL+"#!"+this.href):(o=this.href,p=this,k())})}),f.timeEnd("Weblinking process");if(i)return l}},m,n,o,p,q,r,s,t,u,v,w=b.customDisclaimerHeader||"You're Now Leaving Chase";if(!g){var x=document.compatMode,y=window.navigator.userAgent.indexOf("MSIE 8.0"),z='<div id="weblinkContainer" class="chaseui-managed-content"></div>';y>0&&x==="BackCompat"&&(z='<div id="weblinkContainer" class="chaseui-managed-content quirkmodecss"></div>'),q=a(z).appendTo(document.body),r="<p>Chase is not responsible for, and does not provide or endorse, this third-party site's products, services or other content. Chase's Privacy Notice and security practices do not apply to the site you're about to enter, so please review the third party's privacy and security practices.</p>",s='<div class="chaseui-fromnav" id="wlButtonPanel"><div class="chase-button-container weblink-cancel" style="float:left"><div class="inner-large"><a role="button" href="#" class="chase-button weblink-cancel tertiary-button large-button" data-background="none" data-decoration="none" data-size="large" data-type="tertiary-button" data-class="tertiary-button"><div class="chase-button-glare">&nbsp;</div>Cancel<span class="accessible-text">&nbsp;(Cancel and return to the current page)</span></a></div></div><div class="chase-button-container weblink-proceed" style=""><div class="inner-large"><a role="button" href="#" class="chase-button weblink-proceed primary-button large-button" data-background="none" data-decoration="none" data-size="large" data-type="primary-button" data-class="primary-button"><div class="chase-button-glare">&nbsp;</div>Proceed<span class="accessible-text">&nbsp;(Proceed - open page external to chase.com in a new window)</span></a></div></div></div>'}return l}),function(a){define("content/browser/dynamic",["jquery","jpmc/topic","content/uicc/dynamic-button","content/services/dynamic-weblink"],function(a,b,c,d){var e={nodeAdded:b("anchorLinkAdded"),broadcastAnchorLinks:function(b){var c;typeof b!="string"?c=b:c=a("."+b);var d=new Array;d[0]=c.find("a.chase-button, a.sliding-door-button"),d[0].length>0&&e.nodeAdded.publish(d)},dynamicWeblink:function(b){var c,e;typeof b!="string"?c=b:c=a("."+b),d.init(c)}};return e})}(),define("content/uicc/chase-buttons",["jquery","jpmc/topic","content/browser/dynamic"],function(a,b,c){var d={rgbaBrowser:null,IEversion:null,setButtonType:function(a){var b="";switch(a){case"positioned-link":b="positioned-link";break;case"primary-button":b="primary-button";break;case"secondary-button":b="secondary-button";break;case"tertiary-button":b="tertiary-button";break;default:buttonTypeStyle="primary-button"}return b},setButtonSize:function(a){var b="";switch(a){case"large":b="large-button";break;case"medium":b="medium-button";break;case"small":b="small-button";break;default:b="large-button"}return b},setButtonDecoration:function(a){var b="";switch(a){case"none":b="";break;case"lock":b='<span class="lock-container" alt=""></span>';break;case"magnifying-glass":b='<span class="magnifying-glass-container" alt=""></span>';break;case"envelope":b='<span class="envelope-container" alt=""></span>';break;case"leaf":b='<span class="leaf-container" alt=""></span>';break;case"right-arrow":b='<span class="right-arrow-container" alt=""></span>';break;case"plus-sign":b='<span class="plus-sign-container" alt=""></span>';break;case"pdf":b='<span class="pdf-container" alt=""></span>';break;default:b=""}return b},setMultiselectDecoration:function(a){var b="";return a.match("dynamically-built-ajax-multiselect")&&(b='<span class="multiselect-arrow"></span>'),b},buildButton:function(a,b){var c=b.attrClass,e=b.elementHTML,f=b.dataAccessibleText?'<span class="accessible-text">&nbsp;('+b.dataAccessibleText+")</span>":"";e='<div class="chase-button-glare">&nbsp;</div>'+d.setButtonDecoration(b.dataDecoration)+e+d.setMultiselectDecoration(c)+f,a.html(e),b.dataBackground==="translucent"?d.rgbaBrowser?a.wrap('<div class="chase-button-container css3-translucent '+b.dataSize+'" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"></div>'):(a.wrap('<div class="chase-button-container sprite-translucent '+b.dataSize+'" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"><div class="inner-large"></div></div>'),a.parent().before('<div class="left-door"></div>')):a.wrap('<div class="chase-button-container" style="top:'+b.dataVerticalPos+"px; left:"+b.dataHorizontalPos+'px"><div class="inner-large"></div></div>'),c+=" "+d.setButtonType(b.dataType),c+=" "+d.setButtonSize(b.dataSize),a.attr("class",c),a.attr("role",b.attrRole),d.attachHoverHandler(a),d.attachPIE(a)},ChaseButtonObject:function(a,b,c,d,e,f,g,h,i,j,k,l){this.attrHref=a,this.attrClass=b,this.attrRole=c,this.dataType=d,this.dataSize=e,this.dataDecoration=f,this.dataBackground=g,this.dataMultiselect=h,this.dataAccessibleText=i,this.dataHorizontalPos=j,this.dataVerticalPos=k,this.elementHTML=l},initButtons:function(b){d.checkSupportRgba(),d.getInternetExplorerVersion(),b.each(function(){$this=a(this);if(!$this.parent(".chase-button-container")[0]&&!$this.parent().parent(".chase-button-container")[0]){var b=parseInt($this.data("horizontalpos"))||0;b=b===-46?0:-46-$this.data("horizontalpos"),$this.closest(".multitask-ad").is("div")&&(b=-$this.data("horizontalpos"));var c=new d.ChaseButtonObject($this.attr("href")||"#",$this.attr("class")||"",$this.attr("role")||"button",$this.data("type")||"primary",$this.data("size")||"large",$this.data("decoration")||"none",$this.data("background")||"none",$this.data("multiselect")||"false",$this.data("accessible-text")||"",b,$this.data("verticalpos")||0,$this.html()||"");d.buildButton($this,c)}else d.attachHoverHandler($this),d.attachPIE($this)})},getInternetExplorerVersion:function(){if(d.IEversion===null){var a=-1;if(navigator.appName=="Microsoft Internet Explorer"){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");c.exec(b)!=null&&(a=parseFloat(RegExp.$1))}d.IEversion=a}},attachPIE:function(a){if(d.IEversion!==null&&d.IEversion!==-1)if(a&&a.siblings().length<1)require(["site/lib/PIE"],function(){var b=a.children(".chase-button-glare");PIE.attach(a[0]),PIE.attach(b[0])});else if(a&&a.siblings().length>1){var b=a.children(".chase-button-glare");a.removeClass("pie_first-child"),a.siblings().remove(),a.attr("_pieId",""),b.removeClass("pie_first-child"),b.siblings().remove(),b.attr("_pieId",""),d.attachPIE(a)}},attachHoverHandler:function(b){b.off("mouseenter.buttonHover").on("mouseenter.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).addClass("button-hover")}),b.off("mouseleave.buttonHover").on("mouseleave.buttonHover",function(b){var c=a(this);c.add(c.children(".chase-button-glare")).removeClass("button-hover")})},checkSupportRgba:function(){if(!d.rgbaBrowser){var a=document.createElement("div"),b="rgba(0,0,0,0.5)";try{a.style.color=b,d.rgbaBrowser=!0}catch(c){}}}};return a(function(){b.subscribe("anchorLinkAdded",function(b){var c=b[0].filter(a(".chase-button"));c.length>0&&d.initButtons(c)})}),d}),define("content/services/logininterstitial",["jquery","content/services/contentprovider","jpmc/topic","content/uicc/chase-buttons","jpmc/ui/modal","jpmc/util/string/trimLeft"],function(a,b,c,d,e,f){var g,h="",i=!1,j={init:function(a){var c=function(a){g=new e({size:"small"}),g.insert({title:"Log In or Enroll",body:f(a)}),g.render(),g.insertTo(document.body),d.initButtons(g.content().find(".chase-button"))},h=function(a){};b.loadSnippetContent(a,c,h,2),j.snippetLoaded=!0},show:function(a){i==1&&(window.location.href=a),j.snippetLoaded?(g.show(),document.cookie="preredirect="+escape(a)+"; path=/ ; domain=.chase.com"):window.location.href=a},snippetLoaded:!1,initElement:function(b,c){var d;c!=""&&(h=c),d=b.find('a[data-privatedestination][data-privatedestination="true"]'),d.each(function(){j.snippetLoaded==0&&h!=""&&j.init(h);var b=a(this);b.on("click",function(a){a.preventDefault(),j.show(b.attr("href"))});if(i==0){var c=b.find("span.accessible-text").html();c!="&nbsp;(Opens login overlay)"&&b.append('<span class="accessible-text">&nbsp;(Opens login overlay)</span>')}})}};return j}),define("content/uicc/dynamic-modules",["jpmc/$","content/uicc/dynamic-modals","content/uicc/dynamic-flyouts","content/uicc/accessible","content/uicc/dynamic-button","content/uicc/chase-buttons","content/services/dynamic-weblink","content/browser/dynamic","content/services/logininterstitial"],function(a,b,c,d,e,f,g,h,i){var j={init:function(f){d.insertSpanDataAccessibleText(f),b.init(f),c.init(f),c.initStatic(f),c.initFlyoutCombo(f),e.initDynamicallyAddedButtons(f.find(".sliding-door-button")),g.init(f),h.broadcastAnchorLinks(f),i.initElement(f,"");var j='<span id="chasejs-helpcontent-forajaxupdate" class="chaseui-contexthelpcontent" style="display:none;visibility:hidden"><span class="accessible-text">Begin Overlay.</span><!-- BEGIN close button --><a class="chaseui-button chasejs-flyoutclose chaseui-flyoutclose" href="#"><span class="chaseui-icons chaseui-button-icon"><img height="1" width="0" src="https://www.chase.com/etc/designs/chasecom/images/swat-sprite.png" alt="Close overlay"></span></a><!-- end close button --><!-- BEGIN flyout contents --><span class="chasejs-contexthelp-closebody"><div class="chaseui-spinner chasejs-spinner"><img src="https://www.chase.com/etc/designs/chasecom/images/loader-gray-faster-40x40_v5.gif" alt="loading..."></div></span><!-- end modal contents --><span class="accessible-text">End Overlay.</span></span>',k='<span id="chasejs-combo-forajaxupdate" class="chaseui-contexthelpcontent" style="display:none;visibility:hidden"><span class="accessible-text">Begin Menu.</span><!-- BEGIN flyout contents --><span class="chasejs-contexthelp-closebody"></span><!-- end modal contents --><span class="accessible-text">End Menu.</span></span>';!a("#chasejs-combo-forajaxupdate").length&&f.append(k),!a("#chasejs-helpcontent-forajaxupdate").length&&f.append(j)}};return j}),define("content/components/ads/placement",["jquery","jpmc/topic","jpmc/log","jpmc/timer","content/conf/ads/size","content/conf/appsconfig/clientconfig","content/services/contentprovider","content/services/test-data-provider","jpmc/ui/modal","content/uicc/dynamic-modules"],function(a,b,c,d,e,f,g,h,i,j){function t(c){var d=this;this.validateInput=function(){var a=!0;this.element.length||(k.log('[!!!WARNING!!!] [X+1 Ad Slots] Wrong Pid or Pid does not exits. Terminating slot ["',this.options.pid,'"]'),a=!1);if(this.width==0||this.height==0)k.log('[!!!WARNING!!!] [X+1 Ad Slots] Invalid size paramater "',this.options.size,'" Terminating slot ["',this.options.pid,'"]'),a=!1;return a},this.init=function(c){this.element=a("#"+c.pid),this.options=a.extend({},p,c),this.width=e[c.size]?e[c.size].width:0,this.height=e[c.size]?e[c.size].height:0,this.pidData={},this.isInterstitial=c.size=="interstitial";if(!this.isInterstitial&&!this.validateInput())return!1;if(this.options.isDisabled){k.info('In Emulation Mode ["',this.options.pid,'"]'),this.spinner.hide(this);return}k.info('Initializing Ad Slot for PID ["',this.options.pid,'"]');var d=this;this.adLabel="XPlusOne",this.spinner.show(this),b.subscribe("globalDataUpdated",function(){var a=d.options.pid+"_override",b=null;typeof CQ!="undefined"&&h&&(b=h.getProperty(a),k.debug("csOverrideVarValue : "+b));if(b!=null){var c={cid:b,url:""};d.adLabel="Global",d.getAd(c)}}),b.subscribe("adUpdate",function(a,b){d.spinner.show(d),d.adLabel="XPlusOne",d.pageId=a,b[d.options.pid]==undefined?(k.warn(d.adLabel,'decision not returned for PID ["',d.options.pid,'"]'),d.adDataFail({})):b[d.options.pid].cid?(d.pidData=b[d.options.pid],d.getAd(d.pidData)):(k.warn(d.adLabel,'cid not defined, applying default treatement to PID ["',d.options.pid,'"]'),d.pidData=b[d.options.pid],d.options.defaultTreatement.toLowerCase()=="hide"?(d.spinner.hide(d),d.element.hide()):d.adDataFail({}))}),b.subscribe("adError",function(a){d.adDataFail({})})},this.spinner={show:function(a){a.element.html("");if(a.isInterstitial||a.options.defaultView.toLowerCase()=="hide")return;a.element.css({background:'url("'+f.contentServer+'/etc/designs/chasecom/images/loading.gif") no-repeat scroll center center',border:"1px solid #D5DCE2",opacity:"0.75",overflow:"hidden",display:"block",width:a.width,height:a.height})},hide:function(a){if(a.isInterstitial)return;a.element.css({background:"none",opacity:"1",border:"none",display:"block",width:a.width,height:a.height,overflow:"visible"})}},this.loadImage=function(a){var b,c=this;b=document.createElement("img"),b.border=0,b.onerror=function(){b.onload=null,clearTimeout(d),c.adDataFail(a)},b.onload=function(){clearTimeout(d),b.onload=null,c.render(a,b)};var d=window.setTimeout(b.onerror,f.timeout);b.src=f.contentServer+a.cid},this.getAd=function(a,b){a.ctype&&(a.ctype=a.ctype.toLowerCase());var c=this,d=!!a.url&&!a.url=="",e=!!a.turl&&!a.turl=="",h=!!a.wa_aid,i=this.adLabel=="XPlusOne";d&&e&&h&&i&&(a.url=this.track(a.url,"jp_aid_a",a.creativeId||a.wa_aid));if(a.queryPassForward){var j=window.location.search.substr(1),k=a.url,l=k.match(/\?/)?"&":"?",n=f.excludedQueryPassforwardParams;if(j!="")if(n!=""&&n!=undefined){var o=n.split(",");j=j.split("&");var p={};if(j.length>0){for(var q=0;q<j.length;q++){var r=j[q].indexOf("=");p[j[q].substring(0,r)]=j[q].substring(r,j[q].length)}for(var q=0;q<o.length;q++)m[o[q]]!=undefined&&delete p[o[q]];for(var r in p)k=k+l+r+p[r]}}else k=k+l+j;a.url=k}if(a.ctype=="image"&&this.adLabel=="XPlusOne"){this.loadImage(a);return}var s=function(){c.render(c.pidData,arguments)},t=function(){c.adDataFail(arguments)};g.loadAd(a.cid,s,t,a.url)},this.track=function(a,b,c){var d=a.match(/\?/)?"&":"?";return a+=d+b+"="+c,this.adLabel=="XPlusOne"&&(a+="&jp_aid_p="+this.pageId+"/"+this.options.pid),window.CHASE&&window.CHASE.TagManager&&window.CHASE.TagManager.replacePlaceholder&&(a=window.CHASE.TagManager.replacePlaceholder(a,!1)),this[b]=c,a},this.adDataFail=function(a){this.options.defaultTreatement=this.options.defaultTreatement.toLowerCase();if(this.options.defaultTreatement!="hide"&&this.options.defaultAdURL!=""&&this.adLabel!="default"){k.warn("Failed to load",this.adLabel,'Ad, showing default Ad for PID["',this.options.pid,'"]'),this.adLabel="default",a.cid=this.options.defaultAdURL,a.turl=null,a.url=null,this.getAd(a,this.element);return}this.options.defaultTreatement!="hide"?(k.warn("Failed to load",this.adLabel,'Ad, Default Ad URL not provided, hiding ["',this.options.pid,'"]'),this.spinner.hide(this)):(k.warn("Failed to load",this.adLabel,'Ad, hiding ["',this.options.pid,'"]'),this.spinner.hide(this),this.element.hide())},this.render=function(b,c){function D(a){return l[a]?"width="+l[a].width+", height="+l[a].height+",toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes":(k.warn('Window size "',a,'" not found, will open ad in default size'),"")}function E(c){if(h){var i;i=document.createElement("img"),i.src=b.turl}x.isInterstitial&&a.isFunction(x.hide)&&x.hide(),d.adLabel=="XPlusOne"?CHASE.TagManager.insightAdClick(y,d.pageId,d.options.pid):CHASE.TagManager.insightAdClick(y);if(t)if(n=="modal"){c.preventDefault();var j=a(this).attr("href"),k=j.match("^(http[s]?)://([^/]+)","im");k!=null&&(j=j.replace(k[0],"")),g.loadSnippetContent(f.contentServer+j,function(a){s(a)},function(){},1,f.timeout),q.size="double-extra-large",q.title=u}else window.open(e,"popup",v),c.preventDefault();return}k.info("Displaying",this.adLabel,'Ad for PID ["',this.options.pid,'"]');var e=b.url,h=b.turl||!1,m=b.alttext||"",n=b.target&&b.target.toLowerCase()||"",o=this.adLabel=="XPlusOne",p=b.ctype=="image"&&o,r=b.ctype=="html",t=n=="window"||n=="modal",u=b.title||"",v=b.targetsize&&D(b.targetsize)||"",w=!!b.data,x=this.isInterstitial?new i({lazy:!0},{size:"double-extra-large",closeOnDocumentClick:!0}):this.element,y=o?b.creativeId?b.creativeId:b.wa_aid:this.options.defaultAdId,z=this.isInterstitial?"show":p?"append":"html",A;this.options.creativeId=b.creativeId,p?(c.setAttribute("alt",m),A=a("<a/>").attr("href",e).attr("target",n).attr("style","display:block;line-height:12px;").append(c)):A=c[0],w&&o&&r&&window.CHASE&&window.CHASE.TagManager&&window.CHASE.TagManager.replacePlaceholder&&(A=window.CHASE.TagManager.replacePlaceholder(c[0],b.data));var B=A;this.isInterstitial&&(x.insert({title:u,body:A}),x.insertTo(document.body),x.render(),x.isInterstitial=!0,B=""),x[z](B);var C=this.isInterstitial?a(".chaseui-modalbody").find("a"):this.element.find("a");!o&&C.attr("href")&&C.attr("href",this.track(C.attr("href"),"jp_aid_a",this.options.defaultAdId)),C.click(E),this.complete(),j.init(this.isInterstitial?a(".chaseui-modalbody"):this.element),this.spinner.hide(this)},this.complete=function(a){if(!window.CHASE||!window.CHASE.TagManager||!window.CHASE.TagManager.insightAdImpression){var b=this,c=a||0;c<=10?(k.log("Tagmanager Dependencies not loaded for [",this.options.pid,"] with ",this.adLabel,"Ad [",this.jp_aid_a,"], Retrying..."),setTimeout(function(){b.complete(c+1)},200)):k.log("Reached maximum efforts to load tagManager dependencies, Aborting Insight Impression Tracking....")}else this.jp_aid_a&&CHASE.TagManager.insightAdImpression(this.options.creativeId||this.jp_aid_a,this.pageId,this.options.pid),k.log("Impression tracked for [",this.options.pid,"] with ",this.adLabel,"Ad [",this.jp_aid_a,"]")},this.init(c)}var k=c("X+1 Ad Slots"),l={small:{width:200,height:200},medium:{width:980,height:600},large:{width:1006,height:600}},m=function(a){if(a=="")return{};var b={};for(var c=0;c<a.length;++c){var d=a[c].split("=");if(d.length!=2)continue;b[d[0]]=decodeURIComponent(d[1].replace(/\+/g," "))}return b}(window.location.search.substr(1).split("&")),n=m.debug,o=m.stopadclick,p={size:null,defaultTreatement:"hide",defaultAdURL:"",defaultView:"spinner"},q={},r=null,s=function(b){r=r||a('<div id="modalAdContainer"></div>').appendTo(document.body),r.html("");var c=new i({lazy:!0},{size:q.size||"double-extra-large",closeOnDocumentClick:!0});c.insert({title:q.title,body:b}),c.insertTo(r),c.render(),c.show(),a("#modalAdContainer .chasejs-modalclose").on("click",function(){a("#modalAdContainer .chaseui-modalbody").html("")}),delete q.size,delete q.title,j.init(r)};return t}),define("content/components/disclosure",["jquery","jpmc/log","jpmc/topic","content/services/contentprovider","content/uicc/dynamic-modules","site/uicc/utils"],function(a,b,c,d,e){var f=b("disclosure");f.debug("Loading disclosureArea");var g={disclosureCount:0,disclosureCtr:0,staticDisclosures:[],dynamicDisclosures:[],footNotes:[],footNotesData:[],footNoteNumbers:[],dynamicDisclosuresList:[],dynamicDiscloureCount:0,flag:0,footnote_start_number:0,noContentNoList:[],noContentUrlList:[],displayType:"bottom",sortAll:function(){g.addFootNoteData(),g.footNotesData.sort(g.compareDisclosure),g.staticDisclosures.sort(g.compareDisclosure),g.dynamicDisclosures.sort(g.compareDisclosure)},compareDisclosure:function(a,b){return!isNaN(a.id)&&!isNaN(b.id)?parseInt(a.id)-parseInt(b.id):!isNaN(a.id)&&isNaN(b.id)?1:isNaN(a.id)&&!isNaN(b.id)?-1:a.id==b.id?0:a.id>b.id?1:-1},addFootNoteData:function(){for(var a in g.footNotes)if(g.footNotes.hasOwnProperty(a)&&!g.footNotes[a].isHidden){var b={id:g.footNotes[a].footnote_number,content:g.footNotes[a].content};b!=null&&g.footNotesData.push(b)}},addStaticDisclosure:function(a,b){var c={id:b,content:a,displayed:"false"};g.staticDisclosures.push(c)},addDynamicDisclosure:function(a){g.dynamicDiscloureCount++;var b={id:g.dynamicDiscloureCount,content:a,displayed:"false"};g.dynamicDisclosures.push(b)},displayAll:function(){g.displayType=="top"?(g.displayStaticDisclosures(),g.displayFootNotesData()):(g.displayFootNotesData(),g.displayStaticDisclosures()),g.displayDynamicDisclosures(),g.insertFootnoteRefsIntoFooter(),e.init(a("#disclosure_area"))},displayDisclosures:function(b){if(b&&b.length>0){var c=a("#disclosure_area"),d=c.find("#static-disclosure"),e;d.length===0&&(d=a(document.createElement("div")).attr("id","static-disclosure"),c.append(d));for(var f=0;f<b.length;f++)if(b[f].displayed=="false"){var h=b[f].content;g.flag==0&&(a("#disclosure_area").prepend("<span class='accessible-text'>Footnotes</span>"),g.flag=1),d.append("<br>"+h),b[f].displayed="true"}}},displayDynamicDisclosures:function(){f.debug("inside displayDynamicDisclosures"),g.displayDisclosures(g.dynamicDisclosures)},displayStaticDisclosures:function(){g.displayDisclosures(g.staticDisclosures)},clearAll:function(){var b=a("#disclosure_area");b.find("#static-disclosure").remove(),b.find("#footnote-area").remove(),g.resetArray(g.staticDisclosures),g.resetArray(g.dynamicDisclosures),g.footNotesData=[]},resetArray:function(a){if(a&&a.length>0)for(var b=0;b<a.length;b++)a[b].displayed="false"},displayFootNotesData:function(){var b=g.footNotesData,c="",d="",e=[];if(b&&b.length>0)for(var f=0;f<b.length;f++){var h=b[f].id;b[f]!=null&&(c=b[f].id,d=b[f].content,c!=null&&d!=null&&d.length>0&&g.isFootNoteDisplayed(e,c)&&(a.inArray(c,g.noContentNoList)==-1&&g.displayFootNote(d,c),e.push(c)))}g.removingAnchorTags()},removingAnchorTags:function(){for(var b=0;b<g.noContentUrlList.length;b++){var c=g.footNotes[g.noContentUrlList[b]].associatedUUIDs.length;for(var d=0;d<c;d++){var e=a("#"+g.footNotes[g.noContentUrlList[b]].associatedUUIDs[d]);e.children("a").remove()}}},isFootNoteDisplayed:function(a,b){if(a!=null)for(var c=0;c<a.length;c++)if(a[c]==b)return!1;return!0},getFootnoteReference:function(a,b,d,e){f.debug("getFootnoteReference"),c.subscribe("footNoteStartNumberSet",function(c){b=="footnote"?g.handleFootnote(a,d,e):b=="disclosure"&&g.handleDisclosure(a)})},setFootNoteStartNumber:function(a){f.debug("setting footnote start number : "+a),a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")!=""&&!isNaN(a)?g.footnote_start_number=parseInt(a):g.footnote_start_number=1,c.publish("footNoteStartNumberSet",[""])},handleFootnote:function(a,b,c){f.debug("inside handleFootnote "+a);var e=g.footNotes[a];if(e){e.footnote_number==null&&(e.footnote_number=g.getNextValidFootNoteNumber(b));var h=!1;for(var i=0;i<g.footNotes[a].associatedUUIDs.length;i++)c===g.footNotes[a].associatedUUIDs[i]&&(h=!0);for(var i=0;i<g.footNotes[a].hiddenUUIDs.length;i++)c===g.footNotes[a].hiddenUUIDs[i]&&(h=!0);h||g.footNotes[a].associatedUUIDs.push(c),g.correctHref(c,e.footnote_number,a,!0),f.debug("same footnote : "+e.footnote_number)}else{f.debug("inside handleFootNote using footnote number : "+b);var j={};j.disclsoureType="footnote";if(b==null||b==""||b==0||b=="0")b=g.footnote_start_number++;j.footnote_number=g.getNextValidFootNoteNumber(b),isNaN(j.footnote_number)||g.footNoteNumbers.push(j.footnote_number),j.content="",j.isHidden=!1,j.associatedUUIDs=[],j.associatedUUIDs.push(c),j.hiddenUUIDs=[],g.footNotes[a]=j,f.debug("handleFootnote : "+a),d.loadDisclosure(a+"/jcr:content/par.html",function(b){var d=g.cleanCQscript(b);j.content=d,g.correctHref(c,j.footnote_number,a,!0)},function(b){j.content="<div><p>No Content Available</p></div>",g.noContentNoList.push(g.footNotes[a].footnote_number),g.noContentUrlList.push(a)},1)}},disclosureCountTracking:function(){g.disclosureCtr<g.disclosureCount&&g.disclosureCtr++,g.disclosureCtr==g.disclosureCount&&c.publish("disclosuresUpdated",[""])},getNextValidFootNoteNumber:function(b){var c;for(var d in g.footNotes){var e=g.footNotes[d];if(e!=null&&e.footnote_number==b)return c=g.footnote_start_number++,a.inArray(c.toString(),g.footNoteNumbers)!=-1&&(c=g.getNextValidFootNoteNumber(c)),c.toString()}return b},handleDisclosure:function(a){if(!g.dynamicDisclosuresList[a]&&!g.footNotes[a]){var b={};b.disclsoureType="disclosure",b.jsonpUrl=a,g.dynamicDisclosuresList[a]=b,f.debug("handleDisclosure : "+a),d.loadDisclosure(a+"/jcr:content/par.html",g.setDynamicDisclosure,g.errorFunc,1)}else g.disclosureCountTracking()},setDynamicDisclosure:function(a){var b=a;g.addDynamicDisclosure(b),g.disclosureCountTracking()},setStaticDisclosure:function(a,b){var c=a;g.addStaticDisclosure(c,b),g.disclosureCountTracking()},displayFootNote:function(b,c){var d=document.getElementById("footnote-area");if(!d||d.length==0){f.debug("footNoteArea UL not available, creating ul...");var e=document.createElement("ul");e.setAttribute("class","footnote-area"),e.setAttribute("id","footnote-area");var h=document.getElementById("disclosure_area");g.flag==0&&(a("#disclosure_area").prepend("<span class='accessible-text'>Footnotes</span>"),g.flag=1),h.appendChild(e)}var i="",j=document.createElement("li");j.setAttribute("class","footnote");var k="";k="<sup>"+c+"</sup>",a(j).html(b),document.getElementById("footnote-area").appendChild(j),a(j).find("p").first().prepend(k)},insertFootnoteRefsIntoFooter:function(){var b=a("#footnote-area").find(".footnote-caller > sup");b.length>0&&b.each(function(){var b=a(this);snippetUrl=b.attr("data-content-location");if(!snippetUrl||snippetUrl=="")snippetUrl=g.getSnippetByUUID(b.closest("span").attr("id"));if(snippetUrl){var c=g.footNotes[snippetUrl].footnote_number;b.siblings(".accessible-text").remove(),b.text(""+c),b.unwrap().unwrap()}})},getStaticDisclosure:function(a,b,c,e){f.debug("getStaticDisclosure"),d.loadDisclosure(a+"/jcr:content/par.html",function(a){g.setStaticDisclosure(a,e)},g.errorFunc,1)},correctHref:function(b,c,d,e){if(b){var f=a("#"+b);f.length>0&&f.children("a").attr("data-content-location",d)}for(var h=0,i=g.footNotes[d].associatedUUIDs.length;h<i;h++){var j=a("#"+g.footNotes[d].associatedUUIDs[h]);if(!j.closest(".footnote-area")[0]){var k=j.children("a");k.children("sup").text(""+c),k.off("click.disclosure").on("click.disclosure",function(a){g.showFootNoteModalContent(a,d)})}}e&&g.disclosureCountTracking()},showFootNoteModalContent:function(b,c){b.preventDefault();var d=a(this),f=g.footNotes[c].content,h=g.footNotes[c].footnote_number,i=/footnote-caller/i;_html="<div class='modal-static-content footnote-modal'><span class='accessible-text'>Begin Overlay.</span><a class='chaseui-button chasejs-flyoutclose chaseui-flyoutclose' href='#'><span class='chaseui-icons chaseui-button-icon'><img height='1' width='0' src='/etc/designs/chasecom/images/swat-sprite.png' alt='Close overlay' /></span></a>"+f+"</div><span class='accessible-text'>End Overlay.</span>",d.closest(".footnote-modal")[0]||d.chaseFloater({contentType:"static",staticContent:_html,showBorder:!0,floaterCssClass:"chaseui-footnotemodal-"+h,floaterWidth:"350px",closeOnDomClick:!1,onShow:function(){var c=a(this);c.find(".chasejs-flyoutclose").on("click.disclosure",function(){a(b.currentTarget).focus()}),c.find("p").first().prepend("<sup>"+h+"</sup>");if(i.test(f)){var d=c.find(".footnote-caller");d.each(function(){var b=a(this),c=b.parent().attr("id");a("#"+c).children("a").off("click.disclosure").on("click.disclosure",function(b){b.preventDefault();var c=a(this),d=c.children("sup").text(),e=c.attr("data-content-location"),f=g.footNotes[e].content,h="<div class='modal-static-content footnote-modal'><span class='accessible-text'>Begin Overlay.</span><a class='chaseui-button chasejs-flyoutclose chaseui-flyoutclose' href='#'><span class='chaseui-icons chaseui-button-icon'><img height='1' width='0' src='/etc/designs/chasecom/images/swat-sprite.png' alt='Close overlay' /></span></a>"+f+"</div><span class='accessible-text'>End Overlay.</span>";c.chaseFloater({contentType:"static",staticContent:h,showBorder:!0,floaterCssClass:"chaseui-footnotemodal-"+d,floaterWidth:"350px",closeOnDomClick:!1,onShow:function(){a(this).find("p").first().prepend("<sup>"+d+"</sup>")}}).showAsModal(b)})})}}}).showAsModal(b),e.init(a(".footnote-modal"))},cleanCQscript:function(b){var c=a(a.trim(b)),d=/CQ\.WCM\.edit/i,e="";if(c.last().is("script")&&d.test(c.last()[0].innerText)){c=c.slice(0,-1);for(var f=0;f<c.length;f++)e+=c[f].outerHTML}else e=b;if(c)return e},getSnippetByUUID:function(a){for(var b in g.footNotes)if(g.footNotes[b].hasOwnProperty("associatedUUIDs"))for(var c=0;c<g.footNotes[b].associatedUUIDs.length;c++)if(a===g.footNotes[b].associatedUUIDs[c])return b;return undefined},toggleFootnotesOnPage:function(){var b=!1;for(var c in g.footNotes){if(g.footNotes[c].hasOwnProperty("associatedUUIDs")){var d=[];for(var e=0,f=g.footNotes[c].associatedUUIDs.length;e<f;e++){var h=a("#"+g.footNotes[c].associatedUUIDs[e]);if(!h[0]){var i=g.footNotes[c].associatedUUIDs[e];g.footNotes[c].hiddenUUIDs.push(i),d.push(i)}}for(var j=0;j<d.length;j++){var k=a.inArray(d[j],g.footNotes[c].associatedUUIDs);g.footNotes[c].associatedUUIDs.splice(k,1)[0]}g.footNotes[c].associatedUUIDs.length===0&&(g.footNotes[c].isHidden=!0,b=!0)}if(g.footNotes[c].hasOwnProperty("hiddenUUIDs")){var l=[];for(var e=0,f=g.footNotes[c].hiddenUUIDs.length;e<f;e++){var h=a("#"+g.footNotes[c].hiddenUUIDs[e]);if(h[0]){var m=g.footNotes[c].hiddenUUIDs[e];g.footNotes[c].associatedUUIDs.push(m)}}for(var j=0;j<l.length;j++){var k=a.inArray(l[j],g.footNotes[c].hiddenUUIDs);g.footNotes[c].hiddenUUIDs.splice(k,1)[0]}g.footNotes[c].associatedUUIDs.length>0&&(g.footNotes[c].isHidden=!1,b=!0)}}b&&g.reNumberAll()},reNumberAll:function(){var a=1;g.footNoteNumbers=[],g.footnote_start_number=0;for(var b in g.footNotes)if(g.footNotes.hasOwnProperty(b)&&!g.footNotes[b].isHidden){g.footNotes[b].footnote_number=a.toString(),g.footNoteNumbers.push(a.toString());for(var c=0,d=g.footNotes[b].associatedUUIDs.length;c<d;c++)g.correctHref(null,a,b,!1);a++}g.footnote_start_number=a},errorFunc:function(a){f.debug("Disclosure Response Failure "),g.disclosureCountTracking()}};return a(function(){c.subscribe("disclosuresUpdated",function(){g.clearAll(),g.toggleFootnotesOnPage(),g.sortAll(),g.displayAll()})}),g}),define("site/components/categorylinks",["jquery","jpmc/log","jpmc/topic","jpmc/cookie/persona"],function(a,b,c,d){var e=b("categorylinks");e.debug("Loading categorylinks");var f={init:function(){var b=f.readCategoryFlag();f.setCategory(b),a(".static-nav-wrapper a").click(function(){f.setCategoryCookie(a(this).attr("data-category"))})},readCategoryFlag:function(){var b="personal",c=f.splitHref(location.href,3);return a(".categorylinks a").each(function(){var d=f.splitHref(a(this).attr("href"),3);d==c&&(b=a(this).attr("data-category"))}),b},splitHref:function(a,b){return a.split("/").length>=4&&(a=a.split("/")[b]),a},setCategory:function(b){var c;!b||b=="undefined"?c=a(".static-nav-wrapper a:first"):c=a('.static-nav-wrapper a[data-category="'+b+'"]'),a(".static-nav-wrapper a").each(function(){var b=a(this);b[0]===c[0]?c.addClass("selected").append('<span class="accessible-text">&nbsp;home page (current section)</span>'):b.append('<span class="accessible-text">&nbsp;home page</span>')})},setCategoryCookie:function(a){var b=d().read()||{};b.home=a,d().write(b),c.publish("personaUpdate",[b])}};return a(function(){f.init()}),e.debug("End of categorylinks"),f}),define("site/components/language-selector",["jquery","jpmc/log","jpmc/topic","jpmc/cookie/persona"],function(a,b,c,d){var e=b("language-selector");e.debug("Loading language-selector");var f={setLocale:function(a){var b=a.attr("data-locale"),e=d().read()||{};e.locale=b,d().write(e),c.publish("personaUpdate",[e])}};return f}),define("site/components/login",["jquery","jpmc/log","jpmc/cookie/persona","content/services/contentprovider","jpmc/event/handler","jpmc/uri","jpmc/util/function/bind","jpmc/cookie","content/conf/appsconfig/clientconfig"],function(a,b,c,d,e,f,g,h,j){function l(b,c,d,e,f){this.context=b,this.loginWithRandomizationValue=c,this.isRoutableLogin=d,this.baseLandingPageUrl=e,this.overrideBaseURL=f,this.varDOMAIN=".chase.com",this.varLOB="RBGLogon",this.varAjaxError="<div id='ajaxerror'><a href='https://chaseonline.chase.com/online/home/sso_co_home.jsp' class='outageLink'>this link</a></div>",this.vEditableOptionIndex_A=0,this.userIdText=a("input#usr_name").attr("placeholder")||a("input#usr_name_home").attr("placeholder")||a("input#interstitial_usr_name").attr("placeholder"),this.passwordText=a("input#usr_password").attr("placeholder")||a("input#usr_password_home").attr("placeholder")||a("input#interstitial_usr_password").attr("placeholder"),this.tokenText=a("input#usr_tokencode").attr("placeholder"),this.myarr=null,this._userId="",this._password="",this._token="",this._password_org="",this._lob="",this._cookieDomain="",this._reTryInterval=1e3,this._maxReTryCount=5,this.reTryCount=0,this.vEditableOptionText_A="--?--",this.vPreviousSelectIndex_A=0,this.vSelectIndex_A=0,this.vSelectChange_A="MANUAL_CLICK"}var k=b("Login");return l.prototype={init:function(b){var c=this,d=a(this.context),e=d.find(".user-name"),f=d.find(".user-password"),g=d.find(".user-token"),h=e.val(),i=f.val(),j=g.val(),k=d.find(".loginBtn .chase-button");k[0]||(k=d.find(".loginBtn input")),d.find(".field input").bind("keypress",function(a){if(a&&a.which===13)return k.trigger("click"),!1}),k.bind("click submit",function(a){a.preventDefault(),c.clickTarget=a.target;var h=e.val(),i=f.val(),j=typeof g.val()=="undefined"?"":g.val(),k=d.find(".user-remember").prop("checked");return i=i===c.passwordText?"":i,c.validateandsetcookie(h,i,j,k,".chase.com",b,d)}),c.initPlaceholder(),c.checkUserRemember()},initPlaceholder:function(){function d(a,b){a.show(),b.hide()}var b=this,c=a(this.context),f="placeholder"in document.createElement("input");if(!f)c.find("input.input-text").each(function(){var b=a(this),c=b.attr("placeholder");if(c){(b.val()===""||b.val()==c)&&b.val(c);if(b.is(":password")){var e=a("<input />",{"class":b.attr("class"),value:c,name:b.attr("name"),maxlength:b.attr("maxlength")});e.bind("focus.placehold",function(){d(b,e),b.focus()}),b.bind("blur.placehold",function(){b.val()===""&&d(e,b)}),b.hide().after(e)}b.hasClass("user-name")&&b.bind({"focusin.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"focus.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"blur.placehold":function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").val(c)}}),b.hasClass("user-password")&&b.bind({"focus.placehold":function(){b.val()==c?b.addClass("hasInput").val(""):b.select()},"blur.placehold":function(){b.val()==""||b.val()==c?b.removeClass("hasInput").val(c):b.val(b.val())}}),b.hasClass("user-token")&&b.bind({"focusin.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"focus.placehold":function(){(b.val()==""||b.val()==c)&&b.addClass("hasInput").val("")},"blur.placehold":function(){(b.val()==""||b.val()==c)&&b.removeClass("hasInput").val(c)}})}});else{var g=e({focusin:function(a,b){var c=a.attr("placeholder");(a.val()==""||a.val()==c)&&a.addClass("hasInput").attr("placeholder","")}}),h=e({focusout:function(a,b){var c=a.attr("placeholder");(a.val()==""||a.val()==c)&&a.removeClass("hasInput").attr("placeholder",a.data("holder"))}});c.find("input.input-text.user-name, input.input-text.user-password, input.input-text.user-token").each(function(){var b=a(this),c=b.attr("placeholder");b.data("holder",c)}),new g("input.input-text.user-name, input.input-text.user-password, input.input-text.user-token"),new h("input.input-text.user-name, input.input-text.user-password, input.input-text.user-token")}},validateAndSubmitFrame:function(){var b=this;this.reTryCount++;var c,d,e,f="COL",g="https://chaseonline.chase.com";this._token!=""&&(f="CCR",g="https://chaseonline.chase.com",document.cookie="_tmprsauser=1;path=/;domain="+this._cookieDomain),document.domain=this._cookieDomain.substring(1,this._cookieDomain.length),this._cookieDomain==".cardmemberservices.com"&&(f="CMS",g="https://online.cardmemberservices.com");try{var h=a(this.context),i=a(this.clickTarget).attr("data-pt-name");!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&i&&CHASE.analytics.trackCustomLink(i),document.all?(c=document.getElementById("loginframe"),d=c.contentDocument||c.contentWindow&&c.contentWindow.document,e=d.getElementById("login")):(c=window.frames.loginframe,d=c.document,e=d.login);var k=j.globalAPREnable;k=="true"||k!="false"&&b.loginWithRandomizationValue=="true"?(this._password=this.escapeBadJSONCharacters(this._password),this._password_org=this.escapeBadJSONCharacters(this._password_org),this.sendSubmitFrameMessage(f)):(e.auth_siteId.value=f,e.auth_userId.value=this._userId,e.auth_passwd.value=this._password,e.auth_passwd_org.value=this._password_org,e.auth_tokencode.value=this._token,e.LOB.value=this._lob,e.auth_externalData.value="LOB="+this._lob,e.submit())}catch(l){var m=l.message.toLowerCase();m.indexOf("denied")>=0?this.sendSubmitFrameMessage(f):this.handleValidateAndSubmitFrameError()}return!1},validateandsetcookie:function(a,b,c,d){var e=this.varDOMAIN,f=this.varLOB;validateandsetcookie(a,b,c,d,e,f)},setRoutableLoginCookie:function(){var a=location.href,b=f(a),c=this.getQueryObj(b.query(),"&"),d=this.getRoutableLoginCookieValue(c);this.setCookie("preredirect",d)},getRoutableLoginCookieValue:function(a){var b="";return this.overrideBaseURL=="true"?a.dest!=""&&a.dest!=undefined?b=a.dest:this.baseLandingPageUrl!=""&&this.baseLandingPageUrl!=undefined&&(b=this.baseLandingPageUrl):(this.baseLandingPageUrl!=""&&this.baseLandingPageUrl!=undefined&&(b=this.baseLandingPageUrl),a.dest!=""&&a.dest!=undefined&&(b.indexOf("?")!=-1?b=b+"&"+"DEST="+a.dest:b=b+"?"+"DEST="+a.dest)),a.ARN!=""&&a.ARN!=undefined&&b!=""&&(b.indexOf("?")!=-1?b=b+"&"+"ARN="+a.ARN:b=b+"?"+"ARN="+a.ARN),a.sig!=""&&a.sig!=undefined&&b!=""&&(b.indexOf("?")!=-1?b=b+"&"+"sig="+a.sig:b=b+"?"+"sig="+a.sig),b},setCookie:function(a,b){var c=g(h,this,a)();c.erase(),c.write(b)},getQueryObj:function(a,b){var c={},d,e;queryParts=a.split(b);for(var f=0;f<queryParts.length;f++){queryPart=queryParts[f];var g=queryPart.split("=");d=g[0],e=g[1],c[d]=e}return c},tokenValidation:function(a,b){var c="0123456789";if(a===b)this._token="";else{for(i=0;i<a.length;i++)if(!(c.indexOf(a.substring(i,i+1))>=0))return alert("Error Message LO114:\nThe User ID, Password, and/or token you entered is not valid.\nYour User ID and Password must consist only of letters and numbers.\nYour token must consist only of numbers."),!1;this._token=a}return!0},validateandsetcookie:function(a,b,c,d,e,f,g){var h=0,i="abcdefghijklmnopqrstuvwxyz0123456789_";e==null&&(e=this.varDOMAIN);if(this.reTryCount==0){if((a.length===0||a===this.userIdText)&&b.length===0)return alert("Error Message LO001:\nPlease enter both your User ID and Password."),g.find(".user-name").focus(),!1;if(a.length===0||a===this.userIdText)return alert("Error Message LO001:\nPlease enter your User ID."),g.find(".user-name").focus(),!1;if(a===b)return alert("Error Message LO001:\nPlease enter a Password that is different from your User ID."),g.find(".user-password").focus(),!1;if(a.length>32)return alert("Error Message LO001:\nThe User ID you entered is not valid. \nYour User ID needs to be less than 32 characters long."),g.find(".user-name").focus(),!1;if(a.length<=32)for(var j=0;j<a.length;j++)if(!(i.indexOf(a.substring(j,j+1).toLowerCase())>=0))return alert("Error Message LO001:\nThe User ID you entered is not valid. \nYour User ID can consist of only alphabets, numbers and the underscore (_) character."),g.find(".user-name").focus(),!1;if(b.length===0)return alert("Error Message LO001:\nPlease enter your Password."),g.find(".user-password").focus(),!1;if(b.length>32)return alert("Error Message LO001:\nThe Password you entered is not valid. \nYour Password needs to be less than 32 characters long."),g.find(".user-password").focus(),!1;if(c!=""){var k=this.tokenValidation(c,this.tokenText);if(!k)return!1}this.setRememberMeCookie(d,e),this._userId=a.toLowerCase(),this._password=b.toLowerCase(),this._password_org=b,this._lob=f,this._cookieDomain=e,this.isRoutableLogin=="true"&&this.baseLandingPageUrl!=""&&this.baseLandingPageUrl!=undefined&&this.setRoutableLoginCookie(),this.validateAndSubmitFrame()}return!1},sendSubmitFrameMessage:function(a){try{var b='[{"siteId": "'+a+'", "userId": "'+this._userId+'", "password": "'+this._password+'", "password_org": "'+this._password_org+'", "token": "'+this._token+'", "lob": "'+this._lob+'", "auth_externalData": "LOB='+this._lob+'", "parentWindowLocation": "'+document.location+'"}]',c=document.getElementById("loginframe").contentWindow,d=document.getElementById("loginframe").src;c.postMessage(b,d)}catch(e){this.handleValidateAndSubmitFrameError()}},escapeBadJSONCharacters:function(a){var b=a.replace(/\\/g,"\\\\");return b=b.replace(/\"/g,'\\"'),b},handleValidateAndSubmitFrameError:function(){var a=this,b="https://chaseonline.chase.com";document.domain=this._cookieDomain.substring(1,this._cookieDomain.length),this._cookieDomain==".cardmemberservices.com"&&(siteId="CMS",b="https://online.cardmemberservices.com"),this.reTryCount>=this._maxReTryCount?(b=b+"/Logon.aspx?error=L009&LOB="+this._lob+"&src="+encodeURIComponent(window.location.href),window.location.href=b):setTimeout(function(){a.validateAndSubmitFrame()},this._reTryInterval)},setRememberMeCookie:function(a,b){a==1?document.cookie="_tmprememberme=1;path=/;domain="+b:document.cookie="_tmprememberme=0;expires=0;path=/;domain="+b},readCookie:function(a){var b=a;if(document.cookie.length>0){begin=document.cookie.indexOf(b+"=");if(begin!=-1)return begin+=b.length+1,end=document.cookie.lastIndexOf("|"),end==-1&&(end=document.cookie.length),unescape(document.cookie.substring(begin,end))}return null},loadHomePageHeroSection:function(b,c){var e="",e;this.isKnownUser()?e=b:e=c,d.loadSnippetContent(e,function(b){a(".hero-section").html(b)},function(a){k.debug("Error in loading the hero section ",a)})},isKnownUser:function(){var a=c().read()||{},b=a.pfid||null,d=b?!0:!1;return d},isKnownUserRemember:function(){var b=a(this.context),c=0,d="";if(document.cookie.match("_rememberme")){d=this.readCookie("_rememberme");if(d==null||d.substr(0,1)==";")d="";c=d===""?0:1;var e=d.split("|");this.myarr=e[0]}return this.myarr!=null&&c==1?!0:!1},checkUserRemember:function(){var b=a(this.context),c=0,d="";if(document.cookie.match("_rememberme")){d=this.readCookie("_rememberme");if(d==null||d.substr(0,1)==";")d="";c=d===""?0:1;var e=d.split("|");this.myarr=e[0]}this.myarr!=null?(b.find(".forgotpass").css("display","block"),b.find(".forgotuidpass").css("display","none")):(b.find(".forgotuidpass").css("display","block"),b.find(".forgotpass").css("display","none")),this.myarr!=null&&c==1?(b.find(".user-name").val(this.myarr).addClass("hasInput"),b.find(".user-remember").prop("checked",!0)):this.myarr==null&&(b.find(".user-remember").prop("checked",!1),b.find(".user-name").removeClass("hasInput"));try{(this.myarr==null||this.myarr=="")&&b.find(".user-remember").prop("checked",!1)}catch(f){b.find(".user-remember").prop("checked",!1)}},doFocus:function(){var b=this,c=a(this.context);this.myarr==null?c.find(".user-name").focus():this.myarr!==null&&c.find(".user-password").focus()},bolInfoIconPopup:function(a){var b=window.open(a,"bol","scrollbars=yes,screenX=0,screenY=0,directories=0,height=300,width=500,location=no,menubar=no,resizable=yes,status=no,toolbar=no");b.focus()}},l}),define("site/components/mega-menu",["jquery","jpmc/log","jpmc/cookie/persona","jpmc/topic","site/uicc/_plugins.hoverintent"],function(a,b,c,d){var e={init:function(b,c){function i(b){try{var c=b.target,e=a(c).closest("[class^="+d.navRow+"]").attr("class");return e=e.substring(e.length-1),e}catch(f){}}function s(){l(),m(),n(),o()}function A(a){return typeof a=="undefined"||!a}function B(a,b){return!A(a)&&b.length&&!A(a.attr(b))}function F(b){var c=a(b.target),e=c.attr("data-json").split("~");if(e[0]==="primaryNav")var f=c.parent().siblings("."+d.secondaryNavLevel);else if(e[0]==="secondaryNav")var f=c.siblings("."+d.tertiaryNavLevel);else var f=c.siblings("."+d.quaternaryNavLevelItem);var g=e[1];a.ajax({url:g,dataType:"json",async:!1,beforeSend:function(){var a=G(f);f.empty().append(a).show()},success:function(a){try{var b=a.Actions[0].Data;setTimeout(function(){f.empty().append(b),c.removeAttr("data-json"),s()},1e3)}catch(d){}},error:function(a,b){var d='<div class="chaseui-ajaxloadererror"><strong>We\'re unable to process your request.</strong><p>Our system is temporarily unavailable. We apologize for any inconvenience.</p></p>Please try again later or <a onclick="openWindow(\'/Secure/Misc/ContactUs.aspx\'); return false;" href="#">Contact Us</a>.</p></div>';setTimeout(function(){f.empty().append(d)},1e3),c.removeAttr("data-json")}})}function G(a){var b=a.height(),c=a.width(),d;return b==0||c==0?d='<div class="chaseui-ajaxloader"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>':d='<div class="chaseui-ajaxloader" style="height:'+b+"px;width:"+c+'px;"><img alt="Please wait" src="/etc/designs/chasecom/images/loading.gif"></div>',d}var c=c||{},d=c.megaMenuSelectors||{navContainer:"megamenu-container",navRow:"megamenu-row",navRowOne:"megamenu-row1",navRowTwo:"megamenu-row2",primaryNavLevel:"megamenu-primary-navigation",primaryNavLevelItem:"megamenu-primary-navigation-item",secondaryNavLevel:"megamenu-secondary-navigation",secondaryNavLevelItem:"megamenu-secondary-navigation-item",tertiaryNavLevel:"megamenu-tertiary-navigation",tertiaryNavLevelItem:"megamenu-tertiary-navigation-item",quaternaryNavLevel:"megamenu-quaternary-navigation",quaternaryNavLevelItem:"megamenu-quaternary-navigation-item",navItemWrapper:"megamenu-nav-item-wrapper",navBadge:"chaseui-badge",navSpinner:"chaseui-megamenu-spinner"};c.tmout=c.tmout||1e3,c.row1_tertiary_left_offset=c.row1_tertiary_left_offset||0,c.row1_quaternary_left_offset=c.row1_quaternary_left_offset||0;var e="",f={},g=[{level:null},{level:null},{level:null},{level:null}],h={level:0,focus_stack:[]},j={timeout_reset_elements:null,setTimeout:function(){this.timeout_reset_elements=setTimeout(p,c.tmout)},clear_tmout:function(){clearTimeout(this.timeout_reset_elements)}},k=function(b){var c,e,g,h,i,k,l,m,n,o,s,t,x,y,z=[[d.primaryNavLevel,d.primaryNavLevelItem],[d.secondaryNavLevel,d.secondaryNavLevelItem],[d.tertiaryNavLevel,d.tertiaryNavLevelItem],[d.quaternaryNavLevel,d.quaternaryNavLevelItem]];c=a(b.target),i=c.attr("class")==undefined?"":c.attr("class"),m=c.attr("href")==undefined||c.attr("href")=="#"?!1:!0,m||b.preventDefault();for(var A=0;A<z.length;A++)c.closest("."+z[A][1]).size()>0&&(f.level=A);k=c.parents("."+z[f.level][1]),l=k.find("."+z[f.level+1][1]+":first-child > a").text().length==0?!1:!0;switch(f.level){case 0:n=c.closest("."+z[f.level][1]),o=n.parents("#"+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=n.attr("clicknstick")==undefined?!1:!0,g?(n.removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,p(b),j.clear_tmout()):h?(o.removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,p(b)):(o.removeAttr("clicknstick"),n.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,u(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+" .login-form div.field span").hasClass("title")?k.find("."+z[f.level+1][1]+" span.title").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;case 1:n=c.closest("."+z[f.level-1][1]),s=c.closest("."+z[f.level][1]),t=c.parents("."+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=s.attr("clicknstick")==undefined?!1:!0,g?(s.removeAttr("clicknstick"),f.IS_CNS_SEC=!1,q(b)):h?(t.removeAttr("clicknstick"),f.IS_CNS_SEC=!1,q(b)):(t.removeAttr("clicknstick"),n.attr("clicknstick","active"),s.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!0,f.IS_CNS_TER=!1,v(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;case 2:n=c.closest("."+z[f.level-2][1]),s=c.closest("."+z[f.level-1][1]),x=c.closest("."+z[f.level][1]),y=c.parents("."+z[f.level][0]).find("."+z[f.level][1]),h=i.indexOf("nav-nochildren")!=-1?!0:!1,g=x.attr("clicknstick")==undefined?!1:!0,g?(x.removeAttr("clicknstick"),f.IS_CNS_TER=!1,r(b)):h?(y.removeAttr("clicknstick"),f.IS_CNS_TER=!1,r(b),r(b)):(y.removeAttr("clicknstick"),n.attr("clicknstick","active"),s.attr("clicknstick","active"),x.attr("clicknstick","active"),f.IS_CNS_PRIM=!0,f.IS_CNS_SEC=!0,f.IS_CNS_TER=!0,w(b),l?k.find("."+z[f.level+1][1]+":first-child > a").focus():k.find("."+z[f.level+1][1]+':first-child [tabindex="0"]').focus());break;default:f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,q(b)}};a("body").bind("click",function(b){var c,e,g,h=[[d.primaryNavLevel,d.primaryNavLevelItem],[d.secondaryNavLevel,d.secondaryNavLevelItem],[d.tertiaryNavLevel,d.tertiaryNavLevelItem],[d.quaternaryNavLevel,d.quaternaryNavLevelItem]];e=!1,c=a(b.target);for(g=0;g<h.length;g++)c.closest("."+h[g][1]).size()>0&&(e=!0);e||(a("."+d.primaryNavLevelItem).removeAttr("clicknstick"),a("."+d.secondaryNavLevelItem).removeAttr("clicknstick"),a("."+d.tertiaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS=!1,f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,p(b))}),a("body").on("keyup",function(a){a.keyCode==27&&(h.level==3?(r(),h.level=h.level-1,h.focus_stack[2].focus()):h.level==2?(q(),h.level=h.level-1,h.focus_stack[1].focus()):h.level==1&&(p(),h.level=h.level-1,h.focus_stack[0].focus()))});var l=function(){for(mmIndex=1;mmIndex<3;mmIndex++){var b=a("."+d.navRow+mmIndex+" #"+d.primaryNavLevel+" > li").not(".initialized"),c=a("."+d.navRow+mmIndex+" ."+d.navItemWrapper+" a:nth-child(1)").not(".initialized"),e=a("."+d.navRow+mmIndex+" #"+d.primaryNavLevel).not(".initialized"),g=function(a){f.IS_CNS_PRIM||(j.clear_tmout(),u(a))};c.filter(".selected").children("span.accessible-text").text(",current section. Opens menu."),c.filter(".breadcrumb-element").children("span.accessible-text").text(",current section. Opens menu.");var h=function(b){var c=a(b.target).closest("li.megamenu-primary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()},i=function(a){j.clear_tmout()},l=function(a){f.IS_CNS_PRIM||j.setTimeout()};c.each(function(){var b=a(this);b.hoverIntent(g,h),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),e.each(function(){a(this).hoverIntent(i,l),a(this).addClass("initialized")}),b.each(function(){C(a(this)),a(this).addClass("initialized")})}},m=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" > div").not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevel+" span").not(".initialized"),h=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" > a").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" form *").not(".initialized"),l=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" .login a").not(".initialized"),m=a("."+d.navRow+mmIndex+" ."+d.secondaryNavLevelItem+" > p").not(".initialized"),n=function(a){f.IS_CNS_SEC||j.clear_tmout()},o=function(a){f.IS_CNS_SEC||(j.clear_tmout(),v(a))},p=function(b){var c=a(b.target).closest("li.megamenu-primary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(n,p),h.each(function(){var b=a(this);b.hoverIntent(o,a.noop),b.bind("keydown",function(a){E(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),a(this).addClass("initialized")}),l.each(function(){a(this).bind("keydown",function(a){E(a)}),a(this).addClass("initialized")}),m.each(function(){var b=a(this);b.bind("keydown",function(a){E(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},n=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" div").not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" span.megamenu-nav-item-subhead"),h=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevel+" a:nth-child(1)").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+"  > a").not(".initialized"),l=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" form").not(".initialized"),m=a("."+d.navRow+mmIndex+" ."+d.tertiaryNavLevelItem+" > p").not(".initialized"),n=function(a){f.IS_CNS_TER||j.clear_tmout()},o=function(a){f.IS_CNS_TER||j.clear_tmout()},p=function(a){f.IS_CNS_TER||(j.clear_tmout(),w(a))},q=function(b){var c=a(b.target).closest("li.megamenu-secondary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(n,q),e.each(function(){a(this).bind("keydown",function(a){tertiaryItemKeyDown(a)}),a(this).addClass("initialized")}),g.each(function(){a(this).bind("keydown",function(a){tertiaryItemKeyDown(a)})}),i.each(function(){var b=a(this);b.hoverIntent(p,a.noop),b.bind("keydown",function(a){tertiaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),a(this).addClass("initialized")}),m.each(function(){var b=a(this);b.bind("keydown",function(a){tertiaryItemKeyDown(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},o=function(){for(mmIndex=1;mmIndex<3;mmIndex++)if(a("."+d.navRow+mmIndex).size()>0){var b=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel),c=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" > li").not(".initialized"),e=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevelItem+" > a").not(".initialized"),f=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevelItem).not(".initialized"),g=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" div").not(".initialized"),h=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" span").not(".initialized"),i=a("."+d.navRow+mmIndex+" ."+d.quaternaryNavLevel+" p").not(".initialized"),l=function(a){j.clear_tmout()},m=function(b){var c=a(b.target).closest("li.megamenu-tertiary-navigation-item").attr("clicknstick")==undefined?!1:!0;c||j.setTimeout()};b.hoverIntent(l,m),e.each(function(){var b=a(this);b.bind("keydown",function(a){quaternaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),f.each(function(){var b=a(this);b.bind("keydown",function(a){quaternaryItemKeyDown(a)}),b.bind("click",function(a){j.clear_tmout(),k(a)}),b.addClass("initialized")}),i.each(function(){a(this).bind("keydown",function(a){quaternaryItemKeyDown(a)}),a(this).addClass("initialized")}),c.each(function(){C(a(this)),a(this).addClass("initialized")})}},p=function(b){try{q(b),a(".r1active").removeClass("r1active"),a(".r2active").removeClass("r2active"),a(".whiteborder").removeClass("chaseui-whiteborder"),a(".megamenu-no-separators").removeClass("megamenu-no-separators"),a("."+d.navRowOne+" ."+d.secondaryNavLevel).hide(),a("."+d.navRowTwo+" ."+d.secondaryNavLevel).hide(),a("."+d.navRowOne+" .primary-hoverclass").removeClass("primary-hoverclass"),a("."+d.navRowTwo+" .primary-hoverclass").removeClass("primary-hoverclass"),a("."+d.navRowTwo+" .primary-selected-hoverclass").removeClass("primary-selected-hoverclass")}catch(c){}},q=function(b){try{r(b),a("."+d.tertiaryNavLevel).hide(),a(".secondary-hoverclass").removeClass("secondary-hoverclass"),a("."+d.secondaryNavLevel).css("height","auto")}catch(c){}},r=function(b){try{a("."+d.quaternaryNavLevel).hide(),a(".tertiary-hoverclass").removeClass("tertiary-hoverclass")}catch(c){}},t=function(b){var c=b.width();a(b).find("DIV."+d.navBadge).length>0&&(c+=40,b.width(c).addClass("chasejs-maxed"))},u=function(b){try{p(b),q(b);var c=i(b),e=b.target;B(a(e),"data-json")&&F(b);var f=a(e).index(),g=a(e).closest("."+d.primaryNavLevelItem),k=g.attr("class"),l=g.find("."+d.secondaryNavLevel);l.width()<g.width()&&l.width(g.width()),a(".megamenu-row"+c).size()>0&&(a(e).hasClass("nav-nochildren")||(a(e).addClass("primary-hoverclass"),g.addClass("no-separators")),l.show()),j.clear_tmout(),h.level=1,h.focus_stack[0]=a(b.target)}catch(m){}},v=function(b){try{q(b),r(b);var e=x(b),f=a(e).closest("."+d.secondaryNavLevelItem);B(a(e),"data-json")&&F(b);var g=f.find("."+d.tertiaryNavLevel);a(e).hasClass("nav-nochildren")||a(e).addClass("secondary-hoverclass");var i=0;try{i=a(e).css("padding-left").split("px")[0]-0}catch(k){}g.css("left",a(e).width()+c.row1_tertiary_left_offset+"px").css("top",c.row1_tertiary_top_offset+"px").show(),g.hasClass("chasejs-maxed")||t(g),h.level=2,h.focus_stack[1]=a(b.target)}catch(l){}j.clear_tmout()},w=function(b){try{r(b);var e=b.target,f=a(e).closest("."+d.tertiaryNavLevelItem);B(a(e),"data-json")&&F(b);var g=f.find("."+d.quaternaryNavLevel);a(e).hasClass("nav-nochildren")||a(e).addClass("tertiary-hoverclass");var i=0;try{i=a(e).css("padding-left").split("px")[0]-0}catch(k){}f.closest("."+d.tertiaryNavLevel).show(),f.closest("."+d.secondaryNavLevelItem+" a:first").addClass("secondary-hoverclass"),g.css("left",a(e).width()+c.row1_quaternary_left_offset+"px").css("top",c.row1_quaternary_top_offset+"px").show(),g.hasClass("chasejs-maxed")||t(g),h.level=3,h.focus_stack[2]=a(b.target)}catch(l){}j.clear_tmout()},x=function(b){var c=a(b.target).attr("class").indexOf("badge")!=-1||a(b.target).attr("class").indexOf("number")!=-1?!1:!0,d=c==1?b.target:a(b.target).parents("a");return d},y=function(a){var b=a.attr("data-chase-navigation")=="updated"?a.width():a.width()+40;return a.attr("data-chase-navigation","updated"),b},z=function(b,c,e){var g=a(b.target),h=g.attr("data-chase-submenuitem-last")=="true"?!0:!1,i=g.attr("data-chase-submenuitem-first")=="true"?!0:!1;switch(c){case"secondary":if(h&&!e||i&&e)b.preventDefault(),g.parents("."+d.primaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,g.parents("."+d.primaryNavLevelItem).find("a.primary-hoverclass").focus(),p(b);break;case"tertiary":if(h&&!e||i&&e)b.preventDefault(),g.parents("."+d.secondaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,g.parents("."+d.secondaryNavLevelItem).find("a.secondary-hoverclass").focus(),g.parents("."+d.secondaryNavLevelItem).find("span.secondary-hoverclass").focus(),q(b);break;case"quaternary":if(h&&!e||i&&e)g.parents("."+d.tertiaryNavLevelItem).removeAttr("clicknstick"),f.IS_CNS_PRIM=!1,f.IS_CNS_SEC=!1,f.IS_CNS_TER=!1,b.preventDefault(),g.parents("."+d.tertiaryNavLevelItem).find("a.tertiary-hoverclass").focus(),r(b)}},C=function(b){var c,e,f,g,h,i,j,k,l="",m="";e=b.is(":first-child"),f=b.is(":last-child"),j=b.hasClass(d.primaryNavLevelItem),g=!1,h=!1,k=!1;for(i=0;i<b.children().length;i++){var n,o;n=b.children().eq(i),o=n.attr("class");if(o==undefined)break;k=o.indexOf("navigation")==-1&&n.css("font-size")!="0px"&&!n.is("a")?!0:!1,k?h||(h=n.find("a").html()!=null?!0:!1,m=h==1?n.find("a"):""):h||(h=n.is("a")==1?!0:!1,m=h==1?n:""),g||(g=o.indexOf("navigation")!=-1?!0:!1);if(l==""&&!j){l=o.indexOf("navigation")==-1&&n.css("font-size")!="0px"&&!n.is("a")?n:"";if(l!=""){h=!1;var p=l.find("a").not(".chase-button");for(var i=0;i<p.length;i++)p.eq(i).css("background-image","none"),i==p.length-1&&f&&p.eq(i).attr("data-chase-submenuitem-last","true")}}}!g&&m!=""&&(m.not(".chase-button").css("background-image","none"),m.addClass("nav-nochildren"));if(e)h?(m.attr("data-chase-submenuitem-first","true"),j&&b.addClass("first")):l!=""&&(l.attr("data-chase-submenuitem-first","true"),l.attr("tabindex","0"));else if(f)if(h){m.attr("data-chase-submenuitem-last","true");if(j){var q=a(".websiteFeeback").size()>0?!0:!1;q?b.addClass("feedback").prev().addClass("last"):b.addClass("last")}}else l!=""&&(l.attr("data-chase-submenuitem-last","true"),l.attr("tabindex","0"))},D=function(a,b){var c,e=[d.primaryNavLevelItem,d.secondaryNavLevelItem,d.tertiaryNavLevelItem,d.quaternaryNavLevelItem];return _getParentNavItem=a.parents("."+e[b]),c=_getParentNavItem.find("."+e[b+1]+":first-child  > a").text().length==0?!1:!0,c},E=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"secondary",b)}};tertiaryItemKeyDown=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"tertiary",b)}},quaternaryItemKeyDown=function(a){if(a.keyCode==9){var b=a.shiftKey;z(a,"quaternary",b)}},s()},showHideResolveSegment:function(){a("ul.megamenu-tertiary-navigation").css("visibility","hidden"),a("ul.megamenu-tertiary-navigation").prev().css("background-image","none").addClass("nav-nochildren"),a("ul.megamenu-quaternary-navigation").css("visibility","hidden"),a("ul.megamenu-quaternary-navigation").prev().css("background-image","none").addClass("nav-nochildren");var b=new Array,d=c().read()||{},e=d.pfid||null,f=e?"known":"unknown";b=f!=""?f.split(","):null;if(b!=null&&b.length>0){var g=a("ul.megamenu-primary-navigation li");a(g).each(function(c){a(this).addClass("limited");var d=a(this).attr("data-allowed-segments"),e=d!=""?d.split(","):null;if(e!=null)for(var f=0;f<b.length;++f)for(var g=0;g<e.length;++g)if(e[g]==b[f]){a(this).removeClass("limited"),a(this).addClass("visible"),ulElement=a(this).parent(),ulElement.css("visibility","visible"),ulElement.prev().css("background-image","").removeClass("nav-nochildren"),f=b.length;break}})}},showNavigationBreadcrumb:function(){var b=document.getElementById("disableMegamenuHighlightingId"),c=document.getElementById("selectedMenuId").value;if(b)var e=b.value;if(c!="")var f="-"+c;else var f=0;e=="false"&&a("a#primaryMenu"+f+"").addClass("breadcrumb-element"),d.subscribe("breadcrumbTitleLoaded",function(){e=="false"&&a("a#primaryMenu"+f+"").removeClass("breadcrumb-element");if(a("a#primaryMenu"+f+"").html()!=null){var b="";document.getElementById("data-pt-name").value!=""?b="mm_"+document.getElementById("data-pt-name").value:b=document.getElementById("data-pt-name").value,a(a(a("a#primaryMenu"+f+"").parent()).parent()).parent().after('<li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper"><span aria-hidden="true" class="breadcrumb-separator" data-item-mm="-1">&gt;</span></div></li><li class="megamenu-primary-navigation-item"><div class="megamenu-nav-item-wrapper secondCrumb"><a class="chaseanalytics-track-link breadcrumb-element" data-item-mm="-1" href="'+document.getElementById("breadCrumbPage").value+'" jp_ltg="'+document.getElementById("jp_ltg").value+'" data-pt-name='+b+">"+document.getElementById("breadCrumbTitle").value+'<span class="accessible-text">, current sub-section.</span></a></div></li>')}})}};return e}),define("site/components/mvtmodel",["jpmc/log"],function(Logger){var logger=Logger("mvtmodel");if(typeof CQ=="undefined")return logger.info("No CQ. No MVTDM"),{};var MvtDataMgrFn=function(){};MvtDataMgrFn.prototype=new CQ_Analytics.SessionStore,MvtDataMgrFn.prototype.STOREKEY="MVTDATA",MvtDataMgrFn.prototype.STORENAME="mvtdata",MvtDataMgrFn.prototype.init=function(){logger.debug("mvtmodel.init"),this.data={};for(var a in this.initProperty)this.data[a]=this.initProperty[a];this.fireEvent("update")},MvtDataMgrFn.prototype.clear=function(){logger.debug("mvtmodel.clear");var a=new CQ_Analytics.SessionPersistence;a.remove(this.getStoreKey()),this.data=null,this.initProperty={}},MvtDataMgrFn.prototype.getLabel=function(a){return a},MvtDataMgrFn.prototype.getLink=function(a){return""},MvtDataMgrFn.prototype.configLoadFunction=function(){logger.debug("mvtmodel.configLoadFunction"),this.loadInitProperties(CQ_Analytics.CCM.getInitialData(this.getName()));var uiConfig=CQ_Analytics.CCM.getUIConfig(this.getName());if(!uiConfig||!uiConfig.title)uiConfig=eval({title:"MVT Data",mode:"textfield","jcr:primaryType":"nt:unstructured"});CQ_Analytics.ClickstreamcloudUI.register(this.getSessionStore(),uiConfig),CQ_Analytics.CCM.register(this)};var MvtDataMgr=new MvtDataMgrFn;return MvtDataMgr.configLoadFunction(),CQ_Analytics.ClickstreamcloudUI.addListener("editclick",function(){logger.debug("mvtmodel.editclick");var a=function(a){if(a){var b=CQ_Analytics.ClickstreamcloudMgr.getEditConfig(a.getSessionStore().getName());b.sessionStore=a.getSessionStore(),CQ_Analytics.ClickstreamcloudEditor.register(b)}};CQ_Analytics.ClickstreamcloudEditor||(CQ_Analytics.ClickstreamcloudEditor=new CQ.personalization.EditableClickstreamcloud,a.call(this,CQ_Analytics.ProfileDataMgr),a.call(this,CQ_Analytics.PageDataMgr),a.call(this,CQ_Analytics.TagCloudMgr),a.call(this,CQ_Analytics.SurferInfoMgr),a.call(this,CQ_Analytics.EventDataMgr)),a.call(this,MvtDataMgr),CQ_Analytics.ClickstreamcloudEditor.show()}),MvtDataMgr}),define("site/components/search",["jquery","jpmc/log"],function(a,b){var c=b("search"),d={encodeURIComponent:window.encodeURIComponent,location:window.location,screen:window.screen,callLegacySearch:function(b){var c="/ccp/index.jsp?pg_name=ccpmapp/generic/shared/page/chase_search&q=";return d.location.href.indexOf(".chase.com")<0&&(c="https://www.chase.com/ccp/index.jsp?pg_name=ccpmapp/generic/shared/page/chase_search&q="),b=a.trim(b),b==""||b==" "?(c+="&emptyQueryText=true",d.location.href=c,!1):(c+=d.encodeURIComponent(d.removeSpecialChar(b)),c+="&emptyQueryText=false",d.location.href=c,!1)},redirectToResultsPage:function(b,c,e){var f="";if(c.indexOf("/index.jsp")==-1){if(c.indexOf("?")!=-1){var g=c.split("?");g[0].lastIndexOf(".html")==-1?f=g[0]+".html":f=g[0],f+="?"+g[1]}else c.lastIndexOf(".html")==-1?f=c+".html":f=c;return f.indexOf("?")!=-1?f+="&q=":f+="?q=",b=a.trim(b),b==""||b==" "?(d.location.href=f,!1):(f+=d.encodeURIComponent(d.removeSpecialChar(b)),e!=""&&e!="null"&&e!="undefined"&&(f+="&site="+e),d.location.href=f,!1)}d.callLegacySearch(b)},removeSpecialChar:function(a){var b="";for(var c=0,d=a.length;c<d;c++){if(a.charCodeAt(c)>255)continue;b+=a.charAt(c)}return b},init:function(b,e,f){c.debug("Start"),a("#searchfield").val()!=b&&a("#searchfield").val()!=""&&a("#searchfield").addClass("hasInput"),a("#searchfield").focus(function(c){a("#searchfield").val()==b?a("#searchfield").addClass("hasInput").val(""):a("#searchfield").addClass("hasInput")}),a("#searchfield").blur(function(c){a("#searchfield").val().replace(/^\s+/,"").replace(/\s+$/,"")==""&&a("#searchfield").removeClass("hasInput").val(b)}),a("#swatsearchid").unbind("click"),a("#swatsearchid").click(function(c){c.preventDefault();var g=a("#searchfield").val();if(g==b||g=="")return alert('If you would like to use our Search feature to find something on our website, please enter a word or phrase into the box below and click "Search" when you are finished.'),!1;d.redirectToResultsPage(g,e,f)}),a("#searchfield").keyup(function(c){if(c.keyCode==13){var g=a("#searchfield").val();if(g==b||g=="")return alert('If you would like to use our Search feature to find something on our website, please enter a word or phrase into the box below and click "Search" when you are finished.'),!1;d.redirectToResultsPage(g,e,f)}}),a("#search_form").submit(function(a){return!1})}};return d}),define("site/components/offercode",["jquery","jpmc/log","jpmc","jpmc/cookie","jpmc/uri","content/conf/appsconfig/clientconfig","jpmc/util/function/bind"],function(a,b,c,d,e,f,g){var h=b("offercode"),i={offerCodeValue:"",offerCodeServerName:"",offerCodeCookie:{},setOfferCode:function(){var a={};a.offercode=i.offerCodeValue,i.offerCodeCookie().write(a)},modifyLink:function(a){var b=a.attr("href"),c=i.offerCodeCookie().read();b.indexOf(b.length-1)=="/"&&(b=b.substring(0,b.length-2)),c.offercode!="null"&&c.offercode!=undefined&&(b.indexOf("?")==-1?b=b+"?offercode="+c.offercode:b=b+"&offercode="+c.offercode,a.attr("href",unescape(b)))},initCookie:function(){c.cookie=c.cookie||{};var b=function(a){var b={},c=a?a.split("&"):[],d;for(var e=0,f=c.length;e<f;e++)d=c[e].split("="),b[d[0]]=d[1];return b},e=g(d,this,"chaseoffercode");i.offerCodeCookie=c.cookie.OfferCodeCookie=function(){return{erase:function(){e().erase()},read:function(a){var c=e().read(),d=a?c:b(c);return d},write:function(b){var c=a.isPlainObject(b)?a.param(b):b;e().write(c)}}}},init:function(){b=window.location.href;var b=e(b),c=i.getQueryObj(b.query()),h=g(d,this,"chaseoffercode")().read();if(c.offercode||h!="null"&&h!=undefined)c.offercode&&(i.offerCodeValue=c.offercode),i.initCookie(),i.offerCodeValue!=""&&i.offerCodeValue!="null"&&i.setOfferCode(),i.offerCodeServerName=f.offerCodeServerName,a(function(){i.initLinks(a("body"))})},getQueryObj:function(a){var b={},c,d;queryParts=a.split("&");for(var e=0;e<queryParts.length;e++){queryPart=queryParts[e];var f=queryPart.split("=");c=f[0],d=f[1],b[c]=d}return b},initLinks:function(b){b.find('a[href*="'+i.offerCodeServerName+'"]').each(function(){i.modifyLink(a(this))})}};return i});if(typeof deconcept=="undefined")var deconcept=new Object;typeof deconcept.util=="undefined"&&(deconcept.util=new Object),typeof deconcept.SWFObjectUtil=="undefined"&&(deconcept.SWFObjectUtil=new Object),deconcept.SWFObject=function(a,b,c,d,e,f,g,h,i,j,k){if(!document.getElementById)return;this.DETECT_KEY=k?k:"detectflash",this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY),this.params=new Object,this.variables=new Object,this.attributes=new Array,a&&this.setAttribute("swf",a),b&&this.setAttribute("id",b),c&&this.setAttribute("width",c),d&&this.setAttribute("height",d),e&&this.setAttribute("version",new deconcept.PlayerVersion(e.toString().split("."))),this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion(),f&&this.addParam("bgcolor",f);var l=h?h:"high";this.addParam("quality",l),this.setAttribute("useExpressInstall",g),this.setAttribute("doExpressInstall",!1);var m=i?i:window.location;this.setAttribute("xiRedirectUrl",m),this.setAttribute("redirectUrl",""),j&&this.setAttribute("redirectUrl",j)},deconcept.SWFObject.prototype={setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]},getVariables:function(){return this.variables},getVariablePairs:function(){var a=new Array,b,c=this.getVariables();for(b in c)a.push(b+"="+c[b]);return a},getSWFHTML:function(){var a="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&this.addVariable("MMplayerType","PlugIn"),a='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"',a+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var b=this.getParams();for(var c in b)a+=[c]+'="'+b[c]+'" ';var d=this.getVariablePairs().join("&");d.length>0&&(a+='flashvars="'+d+'"'),a+="/>"}else{this.getAttribute("doExpressInstall")&&this.addVariable("MMplayerType","ActiveX"),a='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',a+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var e=this.getParams();for(var c in e)a+='<param name="'+c+'" value="'+e[c]+'" />';var f=this.getVariablePairs().join("&");f.length>0&&(a+='<param name="flashvars" value="'+f+'" />'),a+="</object>"}return a},write:function(a){if(this.getAttribute("useExpressInstall")){var b=new deconcept.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(b)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var c=typeof a=="string"?document.getElementById(a):a;return c.innerHTML=this.getSWFHTML(),!0}return this.getAttribute("redirectUrl")!=""&&document.location.replace(this.getAttribute("redirectUrl")),!1}},deconcept.SWFObjectUtil.getPlayerVersion=function(){var a=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var b=navigator.plugins["Shockwave Flash"];b&&b.description&&(a=new deconcept.PlayerVersion(b.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else{try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{var c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new deconcept.PlayerVersion([6,0,21]),c.AllowScriptAccess="always"}catch(d){if(a.major==6)return a}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(d){}}c!=null&&(a=new deconcept.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(",")))}return a},deconcept.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0]):0,this.minor=a[1]!=null?parseInt(a[1]):0,this.rev=a[2]!=null?parseInt(a[2]):0},deconcept.PlayerVersion.prototype.versionIsValid=function(a){return this.major<a.major?!1:this.major>a.major?!0:this.minor<a.minor?!1:this.minor>a.minor?!0:this.rev<a.rev?!1:!0},deconcept.util={getRequestParameter:function(a){var b=document.location.search||document.location.hash;if(b){var c=b.substring(1).split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return c[d].substring(c[d].indexOf("=")+1)}return""}},deconcept.SWFObjectUtil.cleanupSWFs=function(){if(window.opera||!document.all)return;var a=document.getElementsByTagName("OBJECT");for(var b=0;b<a.length;b++){a[b].style.display="none";for(var c in a[b])typeof a[b][c]=="function"&&(a[b][c]=function(){})}},deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){};if(typeof window.onunload=="function"){var a=window.onunload;window.onunload=function(){deconcept.SWFObjectUtil.cleanupSWFs(),a()}}else window.onunload=deconcept.SWFObjectUtil.cleanupSWFs};if(typeof window.onbeforeunload=="function"){var oldBeforeUnload=window.onbeforeunload;window.onbeforeunload=function(){deconcept.SWFObjectUtil.prepUnload(),oldBeforeUnload()}}else window.onbeforeunload=deconcept.SWFObjectUtil.prepUnload;Array.prototype.push==null&&(Array.prototype.push=function(a){return this[this.length]=a,this.length});var getQueryParamValue=deconcept.util.getRequestParameter,FlashObject=deconcept.SWFObject,SWFObject=deconcept.SWFObject;define("site/uicc/swfobject_1_4_4",function(){}),define("site/components/flashplayer",["jquery","jpmc/topic","site/uicc/swfobject_1_4_4"],function(a,b,c){function d(b,c,e,f,g,h,i,j){this.flash_path=b,this.poster_path=c,this.flash_width=e,this.flash_height=f,this.bgcolor=i,this.wmode=h,this.contextcontainer="#"+g,this.flashId=g,this.function_name=j,this.isShowHTMLPlayer=!1,this.HAS_VALID_FLASH_VERSION=!1,this.init=function(){var b=this;try{var c=new SWFObject(b.projector_path,"projector","256px","22px","9",b.bgcolor);d.HAS_VALID_FLASH_VERSION=c.installedVer.versionIsValid(c.getAttribute("version"))}catch(e){d.HAS_VALID_FLASH_VERSION=!1}try{var f=document.createElement("audio"),g=document.createElement("video");d.isShowHTMLPlayer={audio:f.play?!0:!1,video:g.play?!0:!1}}catch(e){}try{if(d.HAS_VALID_FLASH_VERSION)this.twfEmbedflash(b.flash_path,b.poster_path,b.flash_width,b.flash_height,b.wmode,b.bgcolor,b.contextcontainer,b.flashId,b.function_name);else{var h=a(this.contextcontainer).closest(".chaseflash");h.find("img").attr("src",b.poster_path).css("opacity","1"),h.find("#image").css({"z-index":"0",position:"relative"}),h.find("#flashContent").css("display","none")}}catch(e){}},this.twfEmbedflash=function(b,c,d,e,f,g,h,i,j){try{var d=(d||833)-0,e=(e||496)-0,k=new SWFObject(b,i,d,e,"9",g);k.addParam("salign","lt"),k.addParam("allowScriptAccess","always"),k.addParam("flashVars","lang=Eng&param="+j),k.addParam("allowfullscreen","true"),k.addParam("wmode",f),h=h.replace(".","\\.");var l=a(".customflashplayer",h).attr("id");b&&k.write(l)}catch(m){}},this.init()}return d}),define("site/services/segment-loader",["jquery","jpmc/log","jpmc/topic","content/services/test-data-provider","jpmc/cookie/persona","jpmc/cookie/v1st","content/conf/appsconfig/clientconfig","jpmc/cookie/zipcode","json"],function(a,b,c,d,e,f,g,h,i){function l(a){var b=!!a;return j.debug("retVal = "+b),b?(a+"").substr(0,5):b}var j=b("segment-loader");j.debug("loading segment-loader");if(typeof CQ_Analytics=="undefined")return{};var k={segmentsPublished:!1,segments:{},originalSegments:{},areSegmentsSet:!1,isBlocked:!1,setOriginalSegments:function(a){k.originalSegments=a},getOriginalSegments:function(){return k.originalSegments},setSegments:function(a){k.segments=a},getSegments:function(){return k.segments},segmentContains:function(a){var b;b=k.getSegments();if(b)for(var c=0;c<b.length;c++){var d=b[c];if(d==a)return!0}return!1},processResolvedSegments:function(a){var b=a.ResponseCode;j.debug("ResponseCode : "+b);if(b==1){j.debug("Resolved Segments : "+a.Nodes);var d=a.Nodes;j.debug("settings segments .. "),k.setSegments(d),k.setOriginalSegments(d)}else j.debug("Error : "+a.ResponseCodeDesc);CQ_Analytics.SegmentMgr&&(CQ_Analytics.SegmentMgr.fireEvent("update"),k.areSegmentsSet=!0,k.segmentsPublished||(c.publish("SegmentsLoaded",[]),k.segmentsPublished=!0))},loadSegments:function(){if(g.segmentServiceURL){j.debug("clientconfig obj == "),j.debug(g);var b=g.segmentServiceURL,d="",h=f().read()||{};d=h.value,j.debug("V1st = "+d),k.writePersona();var i=e().read()||{};ssvpfid=i.pfid||"null",eci=i.ECI||"",ssvzipoverride=l(i.zip)||"",j.debug("ssvzipoverride = "+ssvzipoverride),ssvcigseg=i.segment||"",ssvlocale=i.locale||"",j.debug("ssvpfid = "+ssvpfid),j.debug("eci = "+eci),j.debug("ssvzipoverride = "+ssvzipoverride),j.debug("ssvcigseg = "+ssvcigseg),j.debug("ssvlocale = "+ssvlocale);var m;eci=="null"?m="?_u=":m="?_u="+eci,b=b.replace("?_u=[ECI]",m);var n="{";n+='"UserAgent":"",',n+='"GUID":"'+ssvpfid+'",',n+='"IPAddress":"",',n+='"XP_UID":"",',n+='"URL":"'+encodeURIComponent(location.href)+'",',n+='"Referrer":"'+encodeURIComponent(encodeURIComponent(document.referrer))+'",',n+='"ForceUIDMatch":false,',n+='"CreateXPUID":true,',n+='"Data":{',n+='"ssv_pfid":"'+ssvpfid+'",',n+=d?'"ssv_v1st":"'+d+'",':"",n+='"ssv_zip":"'+ssvzipoverride+'",',n+='"ssv_product":"",',n+='"ssv_locale":"'+ssvlocale+'",',n+='"ssv_cigseg":"'+ssvcigseg+'"}',n+="}",errorHandler=function(){k.isBlocked=!0,k.segmentsPublished||(c.publish("SegmentsLoadedError",[]),k.segmentsPublished=!1)};var o=2e3,p=setTimeout(errorHandler,o),q=a.ajax({type:"GET",url:b,async:!1,dataType:"jsonp",data:"RequestObject="+n});q.done(function(a){clearTimeout(p),k.processResolvedSegments(a),k.isBlocked=!1}),q.fail(function(a,b){j.error("Error in retrieving resolved segments"+b),c.publish("SegmentsLoaded",[]),k.segmentsPublished=!0,k.isBlocked=!1})}},writePersona:function(){j.debug("writePersona called");var a=e().read()||{},b=h().read()||{};b&&a.zip!==b.zipcode&&(j.debug("locale.zipcode = "+b.zipcode),a.zip=b.zipcode,j.debug("persona.zip = "+a.zip),e().write(a),c.publish("personaUpdate",[a]))}};return k.loadSegments(),c.subscribe("personaUpdate",function(){k.segmentsPublished=!1,k.loadSegments()}),c.subscribe("globalDataUpdated",function(){if(k.isBlocked){k.loadSegments();return}var a="segments_override",b=d.getProperty(a);if(b!=null){var e=[],f=b.split(",");if(f)for(var g=0;g<f.length;g++)j.debug(f[g]),e.push(f[g]);k.setSegments(e)}else k.setSegments(k.getOriginalSegments());j.debug("SegmentManager.areSegmentsSet : "+k.areSegmentsSet),k.areSegmentsSet&&CQ_Analytics.SegmentMgr&&(CQ_Analytics.SegmentMgr.fireEvent("update"),k.segmentsPublished||(c.publish("SegmentsLoaded",[]),k.segmentsPublished=!0))}),j.debug("end of loading segmentmanger"),k}),require(["jquery","jpmc/log","site/components/mvtmodel","site/services/segment-loader"],function(a,b,c,d){var e=b("commonjs");e.debug("loading common.js");if(typeof CQ=="undefined")return e.info("No CQ. No Common"),{};CQ.chase={},CQ.chase.common={},CQ.chase.common.SegmentManager={},CQ.chase.common.SegmentManager.segmentContains=function(a){return d.segmentContains(a)},CQ.chase.common.mvt={},CQ.chase.common.mvt.resolveMvt=function(a){e.debug("inside resolveMvt == "+a);var b=c.getProperty("MVTVar2");return b&&b==a?!0:!1},e.debug("end of loading common.js")}),define("site/uicc/common",function(){}),define("site/components/zip-update",["jquery","jpmc/cookie/persona","jpmc/cookie/zipcode","jpmc/topic","content/services/test-data-provider","content/conf/appsconfig/clientconfig","content/uicc/dynamic-modals","jpmc/log","site/services/segment-loader","site/uicc/utils"],function(a,b,c,d,e,f,g,h,i,j){function v(){var c=f.isAuthorMode,e=f.defaultZipGateURL,h=a("#restrictedRetailMarket").val(),j=a("#isPreview").val(),l="false";if(c=="false"||j=="DISABLED")l="true";k.debug("restrictedMarket: ",h);if(h!=""&&h=="true"&&l=="true"){var n=0,o=i.segments;k.debug("resolveSegments: ",o);var o=i.segments,p=a("#pageStdSegments").val();k.debug("pageSegments: ",p);if(p!=null){var q=p.split(",");for(var r=0;r<q.length;r++)if(!a.isEmptyObject(o)&&a.inArray(q[r],o)!=-1){n=1,s?w():a("#chasejs-contexthelpfloater").length&&a("#chasejs-contexthelpfloater").find(".chasejs-flyoutclose").trigger("click"),a("div.zipcode-head-area div[class^=error]").hide();break}if(n&&t!=4)isZipCodeKeyedIn&&x("EnterZipCode","outoffootprint match found call");else{m=b().read()||{};var v=m.zip;s||(s=g.openZipModalOnLoad(e,v),u.settings.objZipFlyout&&u.settings.objZipFlyout.trigger("click")),v&&(a("#chasejs-contexthelpfloater").find(".chasejs-spinner").parent().parent().remove(),d.publish("localeError",[t]),isZipCodeKeyedIn&&x("ErrorZipCode","outoffootprint matchnot found call")),a(".chaseui-overlay-modal").css({opacity:.7,"-ms-filter":"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)",filter:"alpha(opacity=70)","-webkit-opacity":.7})}}}else w(),isZipCodeKeyedIn&&x("EnterZipCode","Non-restricted market analytics call")}function w(){s&&(s.remove(),s=!1)}function x(a,b){a=r?a:"Hover"+a,k.log("***** Analytics description = ",a,": called by ",b),a!==""&&!!window.CHASE&&!!window.CHASE.analytics&&!!window.CHASE.analytics.trackCustomLink&&CHASE.analytics.trackCustomLink(a)}var k=h("zipcode"),l=c().read()||{},m=b().read()||{},n=l.zipcode,o=m.zip,p=n||o,q=n===o,r=!0,s=isZipCodeKeyedIn=!1,t=0,u={settings:{objModal:0,objZipFlyout:0},isRestrictedMarket:function(){var b=a("#restrictedRetailMarket").val();return b!=""&&b=="true"?1:0},publishLocale:function(a){d.publish("localeUpdate",[a])},setZipCode:function(b,c){b.length>5&&(b=b.substring(0,5)),a.ajax({url:f.zipcodeServiceURL,data:{zipcode:b},dataType:"jsonp",success:function(e){if(e.valid){a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length&&(r=!1);if(c)if(!u.isRestrictedMarket())c.trigger("click");else if(s){var f=a("<div />");a("#chasejs-contexthelpfloater").find(".chaseui-contexthelpfloaterbody").prepend(f),a(f).append('<div style="position:absolute;width:100%;height:100%;background-color:#fff;"><div class="chaseui-spinner chasejs-spinner"><img src="/etc/designs/chasecom/images/loader-gray-faster-40x40_v5.gif" alt="loading..."></div></div>'),a(f).css({"background-color":"#fff","z-index":j.topZ(),position:"absolute",width:"100%",height:"100%"})}u.publishLocale(e)}else d.publish("localeError",[b]),a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length&&(r=!1),x("ErrorZipCode","ajax data invalid call")}})},zipIndexOfFirstNotIn:function(a,b){var c;for(c=0;c<b.length;c++){var d=b.charAt(c);if(a.indexOf(d)==-1)return c}return-1},zipIsComposedOfChars:function(a,b){return u.zipIndexOfFirstNotIn(a,b)==-1},isValidZipCode:function(a){var b=a+"";return isNaN(a||typeof a=="undefined")?!1:a.length<5||a.length>5||!u.zipIsComposedOfChars("0123456789",b)?!1:!0},toggleQA:function(b){var c=a(b.target).parent().next();c.css("display").indexOf("block")==-1?(c.show().prop("aria-hidden","false"),a(b.target).parent().addClass("right-link-selected").prop("tabindex",-1).find("span.accessible-text").html("&nbsp;(Hides content below)").focus()):(c.hide().prop("aria-hidden","true"),a(b.target).parent().removeClass("right-link-selected").find("span.accessible-text").html("&nbsp;(Shows content below)")),b.preventDefault(),c.prop("tabindex",-1).focus()},updateLinkText:function(b){b.length>5&&(b=b.substring(0,5));var c=a("a.chase-zipcode-link"),d=c.parent().find("> :first-child");c.prev().hasClass("chaseui-link-style-normal")?c.html('<span style="padding-left: 0;">'+b+'</span><span class="accessible-text">&nbsp;(Opens overlay.)</span>'):(c.prop("data-chase-zipcode",b),c.html('<span class="chaseui-link-style-normal" style="padding-right: 0;">This information is for</span> <span style="padding-left: 0; padding-right: 0;">'+b+'</span><span class="accessible-text">&nbsp;(Opens overlay to change zip code)</span>'))},publishZipUpdate:function(a){d.publish("zipcodeUpdate",[a])},init:function(){var b=a(document);p?a("input.zipcode-field").attr("value",p):a("input.zipcode-field").attr("value","ZIP Code"),b.on("focus","input.zipcode-field",function(b){a(this).val("")}),b.on("click","div.zipcode-head-area .zipcode-values a",function(b){b.preventDefault();var c=a(this).closest("div.zipcode-head-area"),d=c.find("input.zipcode-field"),e=d.val()||"";isZipCodeKeyedIn=!0,a("div.zipcode-head-area div[class^=error]").hide(),u.isValidZipCode(e)?(u.settings.objZipFlyout=a(this).closest("#chasejs-contexthelpfloater").find(".chasejs-flyoutclose"),u.setZipCode(e,u.settings.objZipFlyout),a("input.zipcode-field").attr("value",e)):(c.find(".error-0").show().prop("tabindex",-1).focus(),a("#chasejs-contexthelpfloater").parent().find(".chaseui-dynamic-flyout").length&&(r=!1),x("ErrorZipCode","zipcode init onclick call"))}),b.on("keydown","input.zipcode-field",function(b){b.keyCode==13&&a(b.target).closest("div.zipcode-head-area").find(".zipcode-values a").trigger("click")}),b.on("click","div.zipcode-head-area .qlink",function(a){u.toggleQA(a)});if(!p){var c=a("#restrictedRetailMarket").val(),d=a("#disableZipCode").val();k.debug("restrictedMarket  = "+c),k.debug("the disableZipCode is"+d),c!="true"&&d!="true"&&a.get(f.geoipServiceURL,"jsonp").complete(function(b){if(b&&b.responseText!=null){var c=null,d=a.parseJSON(b.responseText);d&&d.postalCode&&(c=d.postalCode),k.debug("geozipcode = "+c),c?(k.debug("calling  setZipCode"),u.setZipCode(c)):k.debug("no valid zip from geolocation service, geozipcode = "+c)}}).error(function(){})}else!q&&n?u.publishLocale(l):(u.updateLinkText(p),u.publishZipUpdate({zipcode:p}))}};return d.subscribe("SegmentsLoaded",function(){t=3,v()}),d.subscribe("SegmentsLoadedError",function(){t=4,v()}),d.subscribe("localeUpdate",function(f){if(f){var g=f.zipcode,h=f.state,i=0,j=f.county;g&&e.setProperty("zipcode",g),h&&e.setProperty("state",h);var k=b().read()||{},l=c().read()||{};l.zipcode!==g&&j&&h&&(l.zipcode=g,l.county=j,l.state=h,c().write(l)),k.zip!==g&&(k.zip=g,b().write(k),d.publish("personaUpdate",[k]),i=1,u.publishZipUpdate(f)),i?"":v(),u.updateLinkText(g),a("input[name=zipcodeField]").val(g)}}),d.subscribe("localeError",function(b){b==1?a("div.zipcode-head-area .error-1").show().prop("tabindex",-1).focus():b==3?a("#chasejs-contexthelpfloater").find("div.zipcode-head-area .error-3").show().prop("tabindex",-1).focus():b==4?a("#chasejs-contexthelpfloater").find("div.zipcode-head-area .error-4").show().prop("tabindex",-1).focus():a("div.zipcode-head-area .error-2").show().prop("tabindex",-1).focus()}),d.subscribe("block-for-zip-handler",function(a){s=g.autoTriggerExistingContentModal(a,".zipcode-head-area",".chaseui-icon-container")}),u}),define("site/services/devicedetector",["jquery"],function(a){var b={ua:"",init:function(a){b.ua=navigator.userAgent,b.isMobile(b.ua.toLowerCase())&&location.replace(a)},isMobile:function(a){var c=a.indexOf("mobile")>-1,d=a.indexOf("android")>-1,e=a.indexOf("phone")>-1,f=b.androidTablet(a),g=a.indexOf("ipad")>-1;return f||g?!1:c&&!g||d&&!f||e?!0:!1},androidTablet:function(a){if(a.indexOf("android")>-1&&!(a.indexOf("mobile")>-1))return!0}};return b}),define("site/services/check-xfs",["content/conf/appsconfig/clientconfig"],function(a){var b={init:function(){var c=b.getHostnameFromURL(document.referrer),d=a.XFSWhiteListedDomains?a.XFSWhiteListedDomains:"",e=!0,f=d.split(",");for(i=0;i<f.length;i++)if(c&&c.indexOf(f[i])!=-1){e=!1;break}e&&(top.location=self.location)},getHostnameFromURL:function(a){var b=a.split("/")[2];return b}};return b})