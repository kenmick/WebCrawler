!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;a=m=this,b=function(){return this.g_ad_height=a.allyes_ad_height||null,this.g_ad_width=a.allyes_ad_width||null,this.g_ad_siteid=a.allyes_siteid||null,this.g_ad_channelid=a.allyes_channedid||null,this.g_ad_adspaceid=a.allyes_adspaceid||null,this.g_ad_hideclose=a.allyes_hideclose,this.g_ad_host=a.allyes_host_addr||null,this.g_ad_output=a.allyes_output||1,this.g_ad_render_type=a.allyes_render||0,this.g_allyesAdFrame=m.document.createElement("iframe"),this.g_ad_frame_ready=!1,this.g_buyer_id=null,this.g_distribute=null,this.g_distribute_type=null,this.g_impression_id=null,this.g_callback_name=null,this.g_ad_url=a.allyes_page_url||null,this.dom_ready=!1,this.is_in_iframe=m.top!==m.self,this.script_tag=null,this.g_ad_cross_domain=a.allyes_cross_domain||null,a.allyes_ad_height=null,a.allyes_ad_width=null,a.allyes_siteid=null,a.allyes_channedid=null,a.allyes_adspaceid=null,a.allyes_host_addr=null,a.allyes_output=null,a.allyes_render=null,a.allyes_page_url=null,a.allyes_cross_domain=null,this},d=function(a,b,c){return null!=b.attachEvent?b.attachEvent("on"+a,c):b.addEventListener(a,c,!1)},l=function(a,b,c){return null!=b.detachEvent?b.detachEvent("on"+a,c):b.removeEventListener(a,c,!1)},i=function(a){var b,c,d,e;return(b=/^(https?):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/.test(a))?(e=a.split("/"),c=e[2],d=c.split(":")[0],{host:c,hostname:d}):null},b.prototype={constructor:b,getCurrentScript:function(){var a,b;return a=m.document.getElementById(["allyes_mm_ad",this.g_ad_siteid,this.g_ad_channelid,this.g_ad_adspaceid].join("_")),a||(b=m.document.getElementsByTagName("script"),b&&b.length&&(a=b[b.length-1])),this.script_tag=this.script_tag||a,a},makeAdFrame:function(a){var b,c,e,f,g,h,i,j,k,l,n,o,p,q=this;return c=this.g_ad_height,e=this.g_ad_width,a&&(this.g_allyesAdFrame.src=a),this.g_allyesAdFrame.id=this.g_callback_name,this.g_allyesAdFrame.frameBorder=0,this.g_allyesAdFrame.scrolling="no",this.g_allyesAdFrame.allowTransparency="true",this.g_allyesAdFrame.width=e+"px",this.g_allyesAdFrame.height=c+"px",b="background:transparent;margin:0;padding:0;position:absolute;top:0;left:0;",this.g_allyesAdFrame.style.cssText=b,1===this.g_ad_output?(l="display:block;border:none;margin:0;padding:0;position:relative;visibility:visible;background:transparent;width:"+e+"px;height:"+c+"px;",k=m.document.createElement("ins"),k.style.cssText=l,o="display:inline-block;border:none;margin:0;padding:0;position:relative;visibility:visible;background:transparent;width:"+e+"px;height:"+c+"px;",n=m.document.createElement("ins"),n.style.cssText=o,k.appendChild(this.g_allyesAdFrame),n.appendChild(k),n):2===this.g_ad_output?(p="display:block;border:none;margin:0;padding:0;position:fixed;bottom:0;right:0;z-index:999999;visibility:visible;background:transparent;width:"+e+"px;height:"+c+"px;_position:absolute;_top:expression(eval(document.documentElement.clientHeight+document.documentElement.scrollTop-"+c+"));_left:expression(eval(document.documentElement.clientWidth+document.documentElement.scrollLeft-"+e+"));",j=m.document.createElement("ins"),j.style.cssText=p,g="display:block;position:relative;border:none;margin:0;padding:0;visibility:visible;background:transparent;width:"+e+"px;height:"+c+"px;",f=m.document.createElement("div"),f.style.cssText=g,i="display:none;cursor:pointer;width:34px;height:19px;border:none;margin:0;padding:0;position:absolute;top:0;right:0;z-index:99999;background:transparent url(http://1.qtmojo.cn/mediamax/close_btn.gif) no-repeat;",h=m.document.createElement("div"),h.style.cssText=i,f.appendChild(h),f.appendChild(this.g_allyesAdFrame),j.appendChild(f),d("click",h,function(){return q.g_allyesAdFrame.parentNode.removeChild(q.g_allyesAdFrame),j.style.display="none"}),j):void 0},makeHtml:function(a){var b;return b=['<!DOCTYPE html><html style="text-align: center;"><head>'],b.push('<meta http-equiv="Content-Type" content="text/html; charset=utf-8">'),b.push("<title>Allyes MediaMax Ad</title>"),b.push('<script>window._pass_traffic=function(){window.parent.document.getElementById("'+this.g_callback_name+'").parentNode.parentNode.style.display="none";}</script>'),b.push('</head><body style="padding:0;margin:0;border:0;background:transparent;display:inline-block;" scroll="no">'),b.push(a),b.push("</body></html>"),b=b.join("")},makeAdRequestUrl:function(){var b,c,d;return b=this.g_ad_host||"",d=[this.g_ad_siteid||"",this.g_ad_channelid||"",this.g_ad_adspaceid||""].join("_"),this.g_callback_name=this.g_callback_name||["allyes_show_ads_",parseInt(1e7*Math.random(),10),(new Date).getTime()].join(""),c=["http://",b,"/x?_t=8&_m=",d,"&_k=",this.g_callback_name,"&_page=",m.encodeURIComponent(this.g_ad_url),"&_rt=",this.g_ad_render_type,"&_pf=",m.encodeURIComponent(m.navigator.platform),"&_h=",window.screen.height,"&_w=",window.screen.width,"&_pxr=",window.devicePixelRatio],null!=this.g_buyer_id&&null!=this.g_distribute&&null!=this.g_distribute_type&&(c[2]="/x?_t=10&_m=",c[9]=1,c.splice(10,0,"&_by=",this.g_buyer_id,"&_dis=",this.g_distribute,"&_dt=",this.g_distribute_type,"&_imd=",this.g_impression_id)),a[this.g_callback_name]=a[this.g_callback_name]||j,c.join("")},insertAdScript:function(){var a;return a=m.document.createElement("script"),a.type="text/javascript",a.charset="utf-8",a.src=this.makeAdRequestUrl(),a},isAccess:function(a){var b;try{return!!a.location.href||""===a.location.href}catch(c){return b=c,!1}},getOriginWindow:function(a){for(;this.isAccess(a.parent)&&a!==a.parent;)a=a.parent;return{win:a}},setPageUrl:function(){var a;return null==this.g_ad_url&&(this.is_in_iframe?(a=this.getOriginWindow(m),this.g_ad_url=a.win===m.top?a.win.location.href:a.win.document.referrer):this.g_ad_url=m.location.href),this},sendRequest:function(a,b){var c;return c=m.document.createElement(b),"iframe"===b&&(c.src=a,c.width=0,c.height=0,c.marginHeight=0,c.marginWidth=0,c.frameBorder=0,c.style.cssText="position:absolute;top:0px;left:0px;"),c},setCloseBtnStatus:function(a){return this.g_allyesAdFrame.previousSibling.style.display=a},cacheReq:function(){return/MSIE/.test(navigator.userAgent)?(document.write('<script type="text" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>'),document.write('<script type="text" src="http://cpro.baidustatic.com/cpro/ui/c.js"></script>')):void 0}},c=new b,e=null,c.cacheReq(),j=function(b,d,e,f,g){var h,i,j,k,l,n;return""===b?!1:(c.g_buyer_id=c.g_buyer_id||d,c.g_distribute=c.g_distribute||e,c.g_distribute_type=c.g_distribute_type||f,c.g_impression_id=c.g_impression_id||g,n=m.screen.width>m.document.body.offsetWidth?m.screen.width:m.document.body.offsetWidth,2===c.g_ad_output&&/google_ad/i.test(b)&&n-2*c.g_ad_width<1025?!1:(k=function(){var a,d,e,f,g,h,i;a=c.g_allyesAdFrame.contentWindow;try{i=c.g_ad_cross_domain||m.document.domain}catch(j){g=j,i=""}try{return a.document.open(),a.document.write(c.makeHtml(b)),a.document.close()}catch(j){return g=j,f=document.getElementsByTagName("base"),e=f.length,0!==e&&(d=f[e-1],h=d.target,d.target="_self"),c.g_allyesAdFrame.src="javascript:void((function(){document.open();document.domain='"+i+"';document.write('"+c.makeHtml(b)+"');})())",0!==e&&(d.target=h),setTimeout(function(){return a.document.close()},5e3)}},c.g_ad_frame_ready?k():("head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()?function(){return c.dom_ready?(null!=m.document.body.firstChild?m.document.body.insertBefore(c.makeAdFrame(),m.document.body.firstChild):m.document.body.appendChild(c.makeAdFrame()),c.g_ad_frame_ready=!0,k()):(setTimeout(arguments.callee,50),!1)}():(1===c.g_ad_output?c.script_tag.parentNode.insertBefore(c.makeAdFrame(),c.script_tag):2===c.g_ad_output&&(m.document.body.insertBefore(c.makeAdFrame(),m.document.body.firstChild),/smjs.qtmojo.com/i.test(b)?(c.setCloseBtnStatus("none"),a.allyesAdResize=function(a,b){a>c.g_ad_width?a=c.g_ad_width:0>a&&(a=0),b>c.g_ad_height?b=c.g_ad_height:0>b&&(b=0),c.g_allyesAdFrame.parentNode.style.width=a+"px",c.g_allyesAdFrame.parentNode.style.height=b+"px",c.g_allyesAdFrame.parentNode.parentNode.style.cssText="display:block;overflow:hidden;border:none;margin:0;padding:0;position:fixed;bottom:0;right:0;z-index:999999;visibility:visible;background:transparent;width:"+a+"px;height:"+b+"px;_position:absolute;_top:expression(eval(document.documentElement.clientHeight+document.documentElement.scrollTop-"+b+"));_left:expression(eval(document.documentElement.clientWidth+document.documentElement.scrollLeft-"+a+"));",c.g_allyesAdFrame.style.cssText="background:transparent;margin:0;padding:0;position:absolute;bottom:0;right:0;"}):c.setCloseBtnStatus("block")),c.g_ad_frame_ready=!0,k()),h=c.g_allyesAdFrame.contentWindow,null!=c.g_buyer_id&&null!=c.g_distribute&&null!=c.g_distribute_type?(null==h._return_allyes&&(h._return_allyes=function(){var a;return a=c.g_allyesAdFrame.parentNode.parentNode,1===c.g_ad_output&&"head"!==c.script_tag.parentNode.nodeName.toLocaleLowerCase()?c.script_tag.parentNode.removeChild(a):1===c.g_ad_output&&"head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()?m.document.body.removeChild(a):2===c.g_ad_output&&m.document.body.removeChild(a),c.g_ad_frame_ready=!1,h._return_allyes=null,c.script_tag.parentNode.insertBefore(c.insertAdScript(),c.script_tag)}),j=!1,i=function(a){var b,c,d,e,f;f=function(){return j=!0,clearInterval(l),h._return_allyes()};try{if(a.frames.length>=7)return f(),j}catch(g){b=g}for(d=0,e=a.length;e>d;d++){c=a[d];try{if(c.frames.length>=7){f();break}0!==c.frames.length&&arguments.callee(c.frames)}catch(g){b=g}}return j},l=setInterval(function(){return j?void 0:i(h)},50),setTimeout(function(){var a;try{return clearInterval(l)}catch(b){a=b}},3e4)):void 0)))},k=function(a){var b;c.g_allyesAdFrame=m.document.createElement("iframe");try{if(1===c.g_ad_output&&"head"!==c.script_tag.parentNode.nodeName.toLocaleLowerCase()?c.script_tag.parentNode.removeChild(e):1===c.g_ad_output&&"head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()?m.document.body.removeChild(e):2===c.g_ad_output&&m.document.body.removeChild(e),3===a.length&&""!==a[2])return j(window.decodeURIComponent(a[2]));if(7===a.length)return j(window.decodeURIComponent(a[2]),a[3],a[4],a[5],a[6])}catch(d){b=d}},window.postMessage||"ifeng.com"!==m.document.domain&&"sohu.com"!==m.document.domain&&"letv.com"!==m.document.domain&&null==c.g_ad_cross_domain||(c.g_ad_render_type=1),c.setPageUrl().getCurrentScript(),h=c.g_ad_url?i(c.g_ad_url):null,h&&/netease.com|163.com|sohu.com/.test(h.hostname)?c.script_tag.parentNode.appendChild(c.sendRequest("http://wmcdn.qtmojo.cn/adxcm_base.htm","iframe")):c.script_tag.parentNode.appendChild(c.sendRequest("http://wmcdn.qtmojo.cn/adxcm_base_mm.htm","iframe")),function(){var a,b,f,g;if("head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()&&!c.dom_ready)return setTimeout(arguments.callee,50),!1;if(0===c.g_ad_render_type){f=c.makeAdRequestUrl(),e=c.makeAdFrame(),window.postMessage?d("message",window,function(a){var b,d;return b=a.data,console.log(c),/MSIE/.test(navigator.userAgent)&&"string"==typeof a.data&&(b=b.split(",")),d=parseInt(b[0],10),console.log(b),console.log(d),a.origin==="http://"+c.g_ad_host&&0===d&&b[1]===c.g_callback_name?k(b):a.origin==="http://"+c.g_ad_host&&1===d&&b[1]===c.g_callback_name&&0===c.g_ad_hideclose?c.setCloseBtnStatus("none"):2===c.g_ad_output&&a.origin==="http://"+c.g_ad_host&&1===d&&b[1]===c.g_callback_name?c.setCloseBtnStatus("block"):void 0}):(g=window.setInterval(function(){var a,b,d;if(d=c.g_allyesAdFrame.contentWindow.frames,d.length>0)try{if(b=d[0].name.split(","),b[0]=window.parseInt(b[0],10),b){if(0===b[0]&&b[1]===c.g_callback_name)k(b);else{if(1===b[0]&&b[1]===c.g_callback_name&&0===c.g_ad_hideclose)return c.setCloseBtnStatus("none");2===c.g_ad_output&&1===b[0]&&b[1]===c.g_callback_name&&c.setCloseBtnStatus("block")}return clearInterval(g)}}catch(e){a=e;try{return d[0].location.replace("about:blank")}catch(e){a=e}}},50),window.setTimeout(function(){return window.clearInterval(g)},1e4)),1===c.g_ad_output&&"head"!==c.script_tag.parentNode.nodeName.toLocaleLowerCase()?c.script_tag.parentNode.insertBefore(e,c.script_tag):1===c.g_ad_output&&"head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()?null!=m.document.body.firstChild?m.document.body.insertBefore(e,m.document.body.firstChild):m.document.body.appendChild(e):2===c.g_ad_output&&m.document.body.insertBefore(e,m.document.body.firstChild),a=document.getElementById(c.g_callback_name);try{a.contentWindow.document.open(),a.contentWindow.document.write(c.makeHtml()),a.contentWindow.document.close()}catch(h){b=h}return a.src=f}return 1===c.g_ad_render_type?c.script_tag.parentNode.insertBefore(c.insertAdScript(),c.script_tag):void 0}(),g=function(){return c.dom_ready?void 0:(l("readystatechange",document,f),l("load",m,f))},f=function(a){return"load"===a.type||"complete"===document.readyState?(g(),c.dom_ready=!0):void 0},"head"===c.script_tag.parentNode.nodeName.toLocaleLowerCase()&&("complete"===document.readyState?setTimeout(f,0):(d("readystatechange",document,f),d("load",m,f),function(){var a;try{document.documentElement.doScroll("left")}catch(b){return a=b,setTimeout(arguments.callee,50),!1}return g(),c.dom_ready=!0}()))}.call(this);