/*!CK:1661218889!*//*1441807832,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dIzlj"]); }

__d("BoostedComponentRef",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={WWW_ADD_WEBSITE_CONFIRMATION_UPSELL:"www_add_website_confirmation_upsell",WWW_AD4AD_RHC:"www_ad_4_ad_rhc",WWW_AUTO_OPEN_LINK:"www_auto_open_link",WWW_AYMT_UNKNOWN:"www_aymt_unknown",WWW_AYMT_MEGAPHONE:"www_aymt_megaphone",WWW_AYMT_HOMEPAGE_PANEL:"www_aymt_homepage_panel",WWW_CCTA_ADMIN_MENU:"www_ccta_admin_menu",WWW_CCTA_ADMIN_UNIT_NUX:"www_ccta_admin_unit_nux",WWW_CCTA_CREATE_SUCCESS_DIALOG:"www_ccta_create_success_dialog",WWW_CONSOLIDATE_ENTRY_POINT:"www_consolidate_entry_point",WWW_CONTEXTUAL_DIALOG:"www_contextual_dialog",WWW_IMAGE_REJECT_PANEL:"www_image_reject_panel",WWW_LHS_TAB_EDIT_VIEW:"www_lhs_tab_edit_view",WWW_PAGES_ABOUT_SECTION_EDIT_VIEW:"www_pages_about_section_edit_view",WWW_PAGES_BROWSER:"www_pages_browser",WWW_PAGES_BUILD_AUDIENCE_DROPDOWN:"www_pages_build_audience_dropdown",WWW_PAGES_INSIGHTS:"www_pages_insights",WWW_PAGES_MANANGER_COLLAPSE_LINK:"www_pages_manager_collapse_link",WWW_PAGES_MANAGER_EDIT_MENU:"www_pages_manager_edit_menu",WWW_PAGES_MANAGER_REDESIGN:"www_pages_manager_redesign",WWW_PAGES_SPRINGBOARD:"www_pages_springboard",WWW_PAGES_TIMELINE_ABOUT_SECTION:"www_pages_timeline_about_section",WWW_PAUSE_UPSELL:"www_pause_upsell",WWW_PAGES_TIMELINE_LHS:"www_pages_timelines_lhs",WWW_PLAYGROUND:"www_playground",WWW_PYMA:"www_pyma",MBASIC_PROFILE_SUMMARY:"mbasic_profile_summary",MSITE_ACTIVITY:"msite_refresh_activity_tab",MSITE_ADS_MANAGER:"msite_ads_manager",MSITE_CCTA_ADMIN:"msite_ccta_admin",MSITE_INSIGHTS_TAB:"msite_insights_tab",MSITE_PAGE:"msite_refresh_page_tab",MSITE_SOCIAL_CONTEXT:"msite_social_context",PROMOTE_ACTION_BUTTON:"promote_action_button",CONTEXTUAL_ITEM:"contextual_item",NATIVE_AYMT_MEGAPHONE:"native_aymt_megaphone"};},null,{});
__d("FBFeedLocations",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NEWSFEED:1,GROUP:2,GROUP_PERMALINK:3,COMMUNITY:4,PERMALINK:5,SHARE_OVERLAY:6,PERMALINK_STREAM:7,GROUP_PINNED:8,FRIEND_LIST:9,TIMELINE:10,HASHTAG_FEED:11,TOPIC_FEED:12,PAGE:13,NOTIFICATION_FEED:14,GROUP_REPORTED:15,GROUP_PENDING:16,PAGES_FEED_IN_PAGES_MANAGER:17,TICKER_CLASSIC:18,PAGES_SUGGESTED_FEED_IN_PAGES_MANAGER:19,SEARCH:20,GROUP_SEARCH:21,NO_ATTACHMENT:22,EMBED:23,EMBED_FEED:24,ATTACHMENT_PREVIEW:25,STORIES_TO_SHARE:26,PROMPT_PERMALINK:27,TREND_HOVERCARD:28,LIKE_BOX:29,OPEN_GRAPH_PREVIEW:30,HOTPOST_IN_PAGES_FEED:31,SCHEDULED_POSTS:32,TIMELINE_NOTES:33,PAGE_INSIGHTS:34,COMMENT_ATTACHMENT:35,PAGE_TIMELINE:36,GOODWILL_THROWBACK_PERMALINK:37,AGGREGATED_STORY_DIALOG:38,LIKE_CONFIRM:39,GOODWILL_THROWBACK_PROMOTION:40,SPACES_FEED:41,BROWSE_CONSOLE:42,GROUP_FOR_SALE_COMPACT:43,ENTITY_FEED:44,GROUP_FOR_SALE_DISCUSSION:45,PAGES_CONTENT_TAB_PREVIEW:46,GOODWILL_THROWBACK_SHARE:47,TIMELINE_VIDEO_SHARES:48,EVENT:49,PAGE_PLUGIN:50,SRT:51,PAGES_CONTENT_TAB_INSIGHTS:52,ADS_PE_CONTENT_TAB_INSIGHTS:53,PAGE_ACTIVITY_FEED:54,VIDEO_CHANNEL:55,POST_TO_PAGE:56,GROUPS_GSYM_HOVERCARD:57,GROUP_POST_TOPIC_FEED:58,FEED_SURVEY:59,PAGES_MODERATION:60,SAVED_DASHBOARD:61,PULSE_SEARCH:62};},null,{});
__d("PageInsightsPostFields",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CAPTION:"caption",CREATION_TIME:"created_time",DESCRIPTION:"description",ID:"id",IDENTIFIER:"identifier",IS_HOT:"is_hot",LINK:"link",MESSAGE:"message",NAME:"name",PICTURE:"picture",PRIVACY:"privacy",PRIVACY_COUNTRIES:"privacy_countries",PRIVACY_CITIES:"privacy_cities",PRIVACY_DESCRIPTION:"privacy_description",PRIVACY_LOCALES:"privacy_locales",PRIVACY_POST_TARGETING:"privacy_post_targeting",PROPERTY:"properties",STATUS_TYPE:"status_type",STYLE:"style",TYPE:"type"};},null,{});
__d("PagesInsightsDataPayloadTypes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PAGE_ADMIN_SUMMARY_DATA:"page_admin_summary_data",PAGE_POST_REACH_DATA:"page_post_reach_data",POST_DETAILS_DATA:"post_details_data",POST_FOOTER_DATA:"post_footer_data",REQUEST_PAGE_ADMIN_SUMMARY_DATA:"request_page_admin_summary_data",REQUEST_PAGE_POST_REACH_DATA:"request_page_post_reach_data",REQUEST_POST_DETAILS_DATA:"request_post_details_data",REQUEST_POST_FOOTER_DATA:"request_post_footer_data"};},null,{});
__d("PagesMessagingConst",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LOAD_MESSAGE_THREAD_URI:"\/ajax\/pages\/messages\/load_message_thread.php",ASYNC_ENDPOINT:"\/ajax\/messaging\/async.php",UNANSWERED_FILTER:"unanswered"};},null,{});
__d('BoostedComponentTooltip',['BoostedComponentAppID','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();'use strict';var j={getByAppID:function(k){switch(k){case h.BOOSTED_CCTA:return i._("Get people you care about to visit your call to action");case h.BOOSTED_LOCAL_AWARENESS:return i._("Connect with more people in your local area");case h.BOOSTED_PAGELIKE:return i._("Promote your Page to get more Likes");case h.BOOSTED_WEBSITE:return i._("Get people you care about to visit your website");default:return null;}}};f.exports=j;},null);
__d('BoostedComponentStore',['BoostedComponentConfig'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={};i.stores={};i.getConfig=function(j){var k=new h(j),l=k.getContextStore(),m=l.getAppID();if(!this.stores[m])this.stores[m]={};var n=l.getPageID();if(!this.stores[m][n])this.stores[m][n]=k;return this.stores[m][n];};f.exports=i;},null);
__d('BoostedComponentDialogWidget.react',['BoostedComponentAppID','BoostedComponentDialogMixin','BoostedComponentRef','BoostedComponentStore','BoostedComponentTooltip','Link.react','React','ReactDOM','Set','SubscriptionsHandler','Tooltip','XUIButton.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();'use strict';var u=n.PropTypes,v=n.createClass({displayName:'BoostedComponentDialogWidget',mixins:[i],statics:{_upsells:{},init:function(w,x){var y=w.appID,z=w.placement;if(!v._upsells[y])v._upsells[y]={};if(v._upsells[y][z])o.unmountComponentAtNode(v._upsells[y][z]);v._upsells[y][z]=x;o.render(n.createElement(v,{configData:w.configData,placement:w.placement,buttonLabel:w.buttonLabel,ineligibleTooltip:w.ineligibleTooltip}),x);}},propTypes:{configData:u.object.isRequired,placement:u.string.isRequired,buttonLabel:u.string.isRequired,ineligibleTooltip:u.object,linkStyle:u.object},componentWillMount:function(){this._config=k.getConfig(this.props.configData);this._subscriptions=new q();this._subscriptions.addSubscriptions(this._config.getAdStatusStore().subscribe('change',(function(){return this.forceUpdate();}).bind(this)),this._config.getDialogUIStore().subscribe('change',(function(){if(this._config.getContextStore().getPlacement()===this.props.placement)this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},componentDidMount:function(){var w=l.getByAppID(this._config.getContextStore().getAppID());if(this.props.ineligibleTooltip)w=this.props.ineligibleTooltip;if(w&&!this._shouldRenderLink()&&!this._shouldRenderDiv())r.set(o.findDOMNode(this.refs[this._getWidgetRef()]),w,'above','center');if(this._config.getDialogUIStore().getAutoOpenDialog())this.onTriggerAutoOpen();},componentDidUpdate:function(){this.renderDialog();},render:function(){if(!this._shouldRenderLink()){if(this._shouldRenderDiv())return (n.createElement('div',{onClick:this.onUpsellButtonClick,onMouseEnter:this.onMouseEnter},this.props.buttonLabel));return (n.createElement(s,{className:this._getButtonClass(),label:this.props.buttonLabel,onClick:this.onUpsellButtonClick,onMouseEnter:this.onMouseEnter,disabled:!!this.props.ineligibleTooltip,ref:this._getWidgetRef(),use:this._config.getAdStatusStore().getShouldEdit()?"default":"confirm",size:'large'}));}if(!this.props.ineligibleTooltip)return (n.createElement(m,{onClick:this.onUpsellButtonClick,onMouseEnter:this.onMouseEnter,style:this.props.linkStyle},this.props.buttonLabel));return (n.createElement('span',null,this.props.buttonLabel));},_getButtonClass:function(){if(this._config.getContextStore().getAppID()===h.BOOSTED_LOCAL_AWARENESS)return null;if(this._config.getContextStore().getAppID()===h.BOOSTED_WEBSITE&&this.props.placement===j.WWW_PAGES_SPRINGBOARD)return "_39ox";switch(this.props.placement){case j.WWW_PAGES_MANAGER_REDESIGN:return "_598l";case j.WWW_PAUSE_UPSELL:case j.WWW_PAGES_TIMELINE_LHS:case j.WWW_PAGES_SPRINGBOARD:return "_598m";}return null;},_getWidgetRef:function(){return 'button';},_shouldRenderLink:function(){return (new p([j.WWW_ADD_WEBSITE_CONFIRMATION_UPSELL,j.WWW_CCTA_ADMIN_UNIT_NUX,j.WWW_PAGES_MANANGER_COLLAPSE_LINK]).has(this.props.placement));},_shouldRenderDiv:function(){return (new p([j.WWW_CCTA_ADMIN_MENU]).has(this.props.placement));}});f.exports=v;},null);
__d('validateDeepLink',['AdsCreationConfig','URIRFC3986','arrayContains','trim'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=h.deepLinkBlacklist.map(function(n){return new RegExp(k(n,'/'));});function m(n){n=n.toLowerCase();var o=n.indexOf('://');if(o===-1)return false;var p=n.slice(0,o);if(p&&p.contains('.')){if(!/^[a-z0-9][a-z0-9+-.]*$/.test(p))return false;}else{var q=i.parse(n);if(!q.scheme||!/^([a-z][a-z0-9+-.]*):/i.test(n))return false;}if(j(['http','https'],p))return true;var r=l.some(function(s){return s.test(n);});return !r;}f.exports=m;},null);
__d('InsightsInfoTip.react',['Image.react','React','ReactDOM','Tooltip','cx','ix','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'InsightsInfoTip',propTypes:{alignH:o.oneOf(['center','left','right']),position:o.oneOf(['above','below','left','right'])},getDefaultProps:function(){return {alignH:'right',position:'above'};},_setTooltip:function(){k.set(j.findDOMNode(this.refs.root),j.findDOMNode(this.refs.tooltip).cloneNode(true),this.props.position,this.props.alignH);},componentDidMount:function(){this._setTooltip();},componentDidUpdate:function(q){this._setTooltip();},componentWillUnmount:function(){if(this.refs.icon)k.remove(j.findDOMNode(this.refs.icon));},render:function(){var q=m('/images/hubble/info/info-flat_s.png'),r=null;if(!this.props.noImage)r=i.createElement(h,{className:"_5j1g",src:q,ref:'icon'});var s=n("_5j1f",this.props.className);return (i.createElement('span',{className:s,ref:'root'},this.props.children,r,i.createElement('div',{className:"_5j1h"},i.createElement('div',{className:"_5j1i",ref:'tooltip'},this.props.tip))));}});f.exports=p;},null);
__d('InsightsLegendKey.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'InsightsLegendKey',render:function(){if(this.props.children.length!==2)return;var l=j("_kz-",this.props.className);return (h.createElement('div',{className:l},this.props.children[0],h.createElement('span',{className:"_kdk"},this.props.children[1])));}});f.exports=k;},null);
__d('InsightsLegend_DEPRECATED.react',['React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=h.createClass({displayName:'InsightsLegend',render:function(){var l=this.props.layout||k.layout.FLOATED,m=j("_1ovd"+(l==k.layout.FLOATED?' '+"_1ove":''),this.props.className);return (h.createElement('div',{className:m},this.props.children));}});k.layout={FLOATED:'floated',STACKED:'stacked'};f.exports=k;},null);
__d('HubbleSecondaryMetricGroup.react',['React','ReactChildren','cloneWithProps','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.createClass({displayName:'HubbleSecondaryMetricGroup',render:function(){var n=this.props.children,o=(1/i.count(n)*100).toFixed(1)+'%';n=i.map(n,function(q){if(q)return j(q,{className:"_5fbx",style:{width:o}});return q;});var p=l("_5fby",this.props.className);return (h.createElement('div',{className:p},h.createElement('div',{className:"_5fbz"},n)));}});f.exports=m;},null);
__d('DevappSwitchButton.react',['React','cx','guid','fbt'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m='yesno',n='onoff',o='io',p='yes',q='no',r=h.createClass({displayName:'DevappSwitchButton',propTypes:{labels:l.oneOf([m,n,o]),size:l.oneOf(['normal','small','x-small']),use:l.oneOf(['default','blue']),checked:l.bool,disabled:l.bool,onChange:l.func,onClick:l.func},_getLabel:function(s){switch(this.props.labels){case n:return s==p?k._("ON"):k._("OFF");case o:return s==p?'I':'O';default:return s==p?k._("YES"):k._("NO");}},render:function(){var s=j(),t=h.createElement('input',babelHelpers._extends({},this.props,{type:'checkbox',id:s,defaultValue:'1'}));return (h.createElement('div',{className:"_59fh"+(this.props.size=='small'?' '+"_5a89":'')+(this.props.size=='x-small'?' '+"_2lrd":'')+(this.props.use=='blue'?' '+"_2lrc":'')},t,h.createElement('label',{htmlFor:s},h.createElement('div',{className:"_59fi"},this._getLabel(p)),h.createElement('div',{className:"_59fj"}),h.createElement('div',{className:"_59fk"},this._getLabel(q)))));}});f.exports=r;},null);
__d('PrettyNum',['InsightsNumUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){'use strict';this.radix=k||10;if(typeof j==='number'){this.value=j;}else this.value=parseFloat(j,this.radix);this.effective=m||2;if(l||l===0){this.precision=l;}else this.precision=this.$PrettyNum1();}i.prototype.$PrettyNum1=function(){'use strict';if(this.value%1===0)return 0;var j=parseInt(this.value,this.radix);if(j!==0)return 2;var k=Math.abs(this.value%1);return this.effective-Math.ceil(Math.log(k)/Math.log(this.radix));};i.prototype.toPretty=function(){'use strict';if(this.precision===0){var j=parseInt(this.value,10);return this.longForm?h.prettyInt(j):h.prettyShortInt(j);}else return h.prettyFloat(parseFloat(this.value.toFixed(this.precision),this.radix));};i.prototype.toPrettyPercentage=function(){'use strict';var j=this.value*100;return h.prettyFloat(parseFloat(j.toFixed(this.precision),this.radix))+'%';};i.prototype.toPrettyCurrency=function(j){'use strict';if(this.precision===0){return h.prettyShortCurrency(j,this.value);}else return h.prettyCurrency(j,this.value);};i.prototype.enableLongForm=function(){'use strict';this.longForm=true;return this;};f.exports=i;},null);
__d('PagesInsightsDataDispatcher',['ReactDispatcher'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();f.exports=new h();},null);
__d('PagesInsightsRequest',['AsyncRequest'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={sendRequest:function(j){new h(j).send();},getRequest:function(j){return new h(j);}};f.exports=i;},null);
__d("XPagesInsightsPageDataController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/insights\/page_data\/",{page_id:{type:"Int",required:true},request_payload_type:{type:"Enum",required:true,enumType:1}});},null,{});
__d('PagesInsightsPageDataStore',['FluxStore','PagesInsightsDataDispatcher','PagesInsightsDataPayloadTypes','PagesInsightsRequest','XPagesInsightsPageDataController'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m,n,o={};m=babelHelpers.inherits(p,h);n=m&&m.prototype;p.prototype.__onDispatch=function(q){'use strict';switch(q.type){case j.REQUEST_PAGE_ADMIN_SUMMARY_DATA:case j.REQUEST_PAGE_POST_REACH_DATA:if(!(q.pageID in o))this.$PagesInsightsPageDataStore1(q.pageID,q.type);break;case j.PAGE_ADMIN_SUMMARY_DATA:case j.PAGE_POST_REACH_DATA:o[q.pageID]=babelHelpers._extends({},o[q.pageID],q.data);this.__emitChange();break;}};p.prototype.$PagesInsightsPageDataStore1=function(q,r){'use strict';k.sendRequest(l.getURIBuilder().setInt('page_id',q).setEnum('request_payload_type',r).getURI());};p.prototype.getPageData=function(q){'use strict';return o[q]||{};};function p(){'use strict';m.apply(this,arguments);}f.exports=new p(i);},null);
__d('Circle.art',['React','ReactART'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=h.PropTypes,k=i.Path,l=i.Shape,m=h.createClass({displayName:'Circle',propTypes:{radius:j.number.isRequired},render:function(){var n=this.props.radius,o=k().moveTo(0,-n).arc(0,n*2,n).arc(0,n*-2,n).close();return h.createElement(l,babelHelpers._extends({},this.props,{d:o}));}});f.exports=m;},null);
__d('Sprite.art',['getStyleProperty'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={},j=null,k=/url\(([^)]*)\)/;function l(o){var p=o.match(k);return p?p[1]:null;}function m(o){return parseFloat(o)||null;}function n(o){var p=o?o.split(' '):[];if(p.length!=2)return [null,null];return [m(p[0]),m(p[1])];}f.exports={get:function(o){if(o in i)return i[o];if(!j)j=document.createElement('i');j.className=o;document.body.appendChild(j);var p=h(j,'backgroundImage'),q=h(j,'backgroundSize'),r=h(j,'backgroundPosition'),s=h(j,'width'),t=h(j,'height');document.body.removeChild(j);return i[o]={boxSize:[m(s),m(t)],imageSize:n(q),offset:n(r),uri:l(p)};}};},null);
__d('CSSBackgroundPattern.art',['Sprite.art'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';function i(j){this.$CSSBackgroundPattern1=j;}i.prototype.applyFill=function(j){var k=h.get(this.$CSSBackgroundPattern1),l=k.uri,m=k.boxSize[0],n=k.boxSize[1],o=k.offset[0],p=k.offset[1];if(m===null||n===null)j.fillImage(l,m,n,o,p);};f.exports=i;},null);
__d('SpectrumGuide.react',['React','ReactART','SpectrumDataVisualization','SpectrumUtilities'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=i.Path,m=i.Shape,n=h.PropTypes,o=h.createClass({displayName:'SpectrumGuide',mixins:[j.Mixin],propTypes:{x:n.number.isRequired,color:n.string},getX:function(){return j.getX(this.props.scaleX,this.props.x);},render:function(){var p=this.props.theme.guide,q=k.getOuterRange(this.props.scaleY),r=q[0],s=q[1],t=this.getX(),u=l().moveTo(t,r).lineTo(t,s);return (h.createElement(m,{d:u,stroke:this.props.color||p.color,strokeWidth:p.width}));}});f.exports=o;},null);
__d('SpectrumLines',['Circle.art','React','ReactART','SpectrumGuide.react','d3/scale/ordinal','SpectrumDataVisualization','SpectrumUtilities'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o=j.Path,p=j.Group,q=j.ClippingRectangle,r=j.Shape,s=n.forEachVector,t=n.compose,u=n.findEdges,v=i.PropTypes,w=2,x=i.createClass({displayName:'SpectrumLines',mixins:[m.Mixin],propTypes:{useClosestXAxisTooltip:v.bool},statics:{getExtentY:function(y){var z=m.getDefaultExtentY(y);z[0]=Math.min(z[0],0);return z;},getExtentX:function(y){return m.getDefaultExtentX(y);},getMarkerRadius:function(y){return y.highlightWidths[0]+w;},getGutter:function(y,z){var aa=x.getMarkerRadius(z.lines);return {bottom:aa,left:aa,right:aa,top:aa};}},getDefaultProps:function(){return {useClosestXAxisTooltip:false};},handleEvent:function(y){var z=null;if(y.type==='mousemove'){z=this.props.onRequestFocus;}else if(y.type==='click'){z=this.props.onClick;}else return;if(!!this.props.ignoreMouseEvents)return;var aa=this.findEdges(y.x,y.y);if(aa.right<y.hitRegionRight)y.hitRegionRight=aa.right;if(aa.left>y.hitRegionLeft)y.hitRegionLeft=aa.left;if(aa.bottom<y.hitRegionBottom)y.hitRegionBottom=aa.bottom;if(aa.top>y.hitRegionTop)y.hitRegionTop=aa.top;if(aa.bestDatum.valueX!=null&&(this.props.useClosestXAxisTooltip||aa.bestDistanceToPoint<20)){var ba=this.props.titles,ca=m.getScaleX(this.props),da=ca.rangeBand?ca.rangeBand():0,ea={rect:{left:ca(aa.bestDatum.valueX),right:ca(aa.bestDatum.valueX)+da,top:this.props.scaleY(aa.bestDatum.valueY),bottom:this.props.scaleY(aa.bestDatum.valueY)},target:this,title:ba&&ba[aa.lineIndex]||'',lineIndex:aa.lineIndex};ea=babelHelpers._extends({},ea,aa.bestDatum);if(z)z(ea);y.stopPropagation();}else if(z)z(null);},findEdges:function(y,z){var aa=m.getValueXAccessor(this.props),ba=m.getValueYAccessor(this.props),ca=m.getScaleX(this.props),da=this.props.scaleY,ea=this.props.partialValue||function(){},fa=function(oa,pa){return m.getX(ca,aa(oa,pa));},ga=t(da,ba),ha=this.props.data,ia=null,ja={},ka=null;function la(oa,pa){return {dataPoint:oa,index:pa,isPartial:ea(oa,pa),valueX:aa(oa,pa),valueY:ba(oa,pa)};}function ma(oa){function pa(qa,ra){function sa(ta,ua,va,wa){var xa=fa(ta,ua),ya=ga(ta,ua),za=fa(va,wa),ab=ga(va,wa),bb=oa(xa,ya,za,ab);if(bb){ia=ra;if(bb==1||bb==3){ja=la(ta,ua);xa-=y;ya-=z;ka=Math.sqrt(xa*xa+ya*ya);}else{ja=la(va,wa);za-=y;ab-=z;ka=Math.sqrt(za*za+ab*ab);}}}s(qa,sa);}ha.forEach(pa);}var na=u(y,z,ma);na.lineIndex=ia;na.bestDatum=ja;na.bestDistanceToPoint=ka;return na;},shouldComponentUpdate:function(y){return this.hasDataChanged(y)||this.hasFocusChanged(y)||this.hasDimensionsChanged(y);},hasHighlightDetailsChanged:function(y,z){return (y.valueX!==z.valueX||y.valueY!==z.valueY||y.lineIndex!==z.lineIndex);},render:function(){if(!this.props.data.length)return i.createElement(p,null);var y=m.getValueXAccessor(this.props),z=m.getValueYAccessor(this.props),aa=this.props.partialValue||function(){},ba=m.getScaleX(this.props),ca=this.props.scaleY,da=function(ra,sa){return m.getX(ba,y(ra,sa));},ea=t(ca,z),fa=this.props.data;if(!Array.isArray(fa)||!Array.isArray(fa[0]))throw new Error('Invalid data shape provided to SpectrumLines. '+'A two dimensional array was expected.');var ga=this.uid,ha=this.props.theme.lines,ia=fa.some(function(ra){return ra.some(function(sa,ta){return ta>0&&Math.abs(da(sa,ta)-da(ra[ta-1],ta-1))<x.getMarkerRadius(ha);});});if(ia)ha.markers=false;var ja=ha.colors.copy?ha.colors:l().range(ha.colors),ka=ha.widths.copy?ha.widths:l().range(ha.widths),la=this.props.focus;if(la&&la.target!=null&&la.target!==this)la=null;var ma=ha.highlightWidths.copy?ha.highlightWidths:l().range(ha.highlightWidths),na;if(ha.markerWidths){na=ha.markerWidths.copy?ha.markerWidths:l().range(ha.markerWidths);}else na=ka;function oa(ra,sa){var ta=ra.map(function(ib,jb){var kb=null;if(z(ib,jb)!=null)kb=ea(ib,jb);return [da(ib,jb),kb];}),ua=false;if(la)if(la.lineIndex===sa){ua=true;}else if(la.target==null)ua=ra.some(function(ib,jb){return (la.valueX==y(ib,jb)&&la.valueY==z(ib,jb));});var va=ja(ga+sa);if(la&&!ua)va=ha.fadeOutColor;function wa(ib,jb){if(jb<=0)return null;return ya(ib[jb],ib[jb-1]);}function xa(ib,jb){if(jb>=ib.length-1)return null;return ya(ib[jb],ib[jb+1]);}function ya(ib,jb){if(ib[1]==null||jb[1]==null)return null;var kb=(ib[0]+jb[0])*.5,lb=(ib[1]+jb[1])*.5;return [kb,lb];}var za=o(),ab=o();for(var bb=0;bb<ta.length;bb++){var cb=wa(ta,bb),db=xa(ta,bb),eb=aa(ra[bb],bb)?za:ab,fb=[];if(cb)fb.push(cb);fb.push(ta[bb]);if(db)fb.push(db);for(var gb=0;gb<fb.length;gb++){var hb=fb[gb];if(gb===0){eb.moveTo(hb[0],hb[1]);}else eb.lineTo(hb[0],hb[1]);}}return (i.createElement(p,{key:sa},i.createElement(r,{d:ab,stroke:va,strokeWidth:ka(ga+sa)}),i.createElement(r,{d:za,stroke:va,strokeWidth:ka(ga+sa),strokeDash:ha.partialStrokeDashes})));}function pa(ra,sa){function ta(ua,va){var wa=n.getOuterRange(ba);if(da(ua,va)<wa[0]||da(ua,va)>wa[1])return;var xa=y(ua,va),ya=z(ua,va);if(xa==null||ya==null)return null;var za=la&&la.valueX+''==xa+''&&la.valueY+''==ya+'';if(!za&&!ha.markers)return null;var ab=za?ma(ga+va):na(ga+va);if(!ab)return null;var bb=ja(ga+sa),cb=ha.markerColor;if(la&&la.lineIndex!=sa)bb=ha.fadeOutColor;if(this.props.focus&&this.props.focus.target!==this)bb=cb=ha.fadeOutColor;var db=za&&this.props.showGuide?i.createElement(k,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,theme:this.props.theme,x:xa}):null;return (i.createElement(p,{key:va},db,i.createElement(h,{radius:w,stroke:bb,strokeWidth:ab*2,x:da(ua,va),y:ea(ua,va)}),i.createElement(h,{radius:w,fill:cb,x:da(ua,va),y:ea(ua,va)})));}return ra.map(ta,this);}var qa=m.getClippingRectangleDimensions(this.props);return (i.createElement(p,null,i.createElement(q,{x:qa.x,y:0,width:qa.width,height:this.props.height},fa.map(oa)),fa.map(pa,this)));}});f.exports=x;},null);
__d('SpectrumStackedAreas',['CSSBackgroundPattern.art','SpectrumDataVisualization','d3/scale/ordinal','React','ReactART','SpectrumUtilities'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.Path,o=l.Group,p=l.ClippingRectangle,q=l.Shape,r=m.forEachVector,s=m.findEdges,t=4,u=t*2;function v(y){return y.y0;}function w(y){if(y.y==null)return null;return y.y+y.y0;}var x=k.createClass({displayName:'SpectrumStackedAreas',mixins:[i.Mixin],statics:{getExtentY:function(y){var z=x.getStackedData(y),aa=y.base,ba=aa==null?Math.min.apply(null,z[0].map(v)):aa=='bottom'?Math.min.apply(null,z[0].map(w)):aa,ca=Math.max.apply(null,z[z.length-1].map(w));return [ba,ca];},getStackedData:function(y){var z=i.getValueXAccessor(y),aa=i.getValueYAccessor(y),ba=y.partialValue||function(){return false;},ca=y.data.map(function(ja){return ja.map(function(ka,la){return {x:z(ka,la),y:aa(ka,la),y0:0,isPartial:ba(ka,la)};});}),da=y.offset||ca[0].map(function(ja){return 0;}),ea=ca.map(function(){return [];});for(var fa=0;fa<ca[0].length;++fa){var ga=da[fa];for(var ha=0;ha<ca.length;++ha){var ia=ca[ha][fa];ea[ha][fa]=babelHelpers._extends({},ia,{y0:ga});ga+=ia.y;}}return ea;},getGutter:function(y,z){var aa=z.areas.hoverBubbleStrokeWidth+t;return {bottom:aa,left:aa,right:aa,top:aa};}},getTotalYGivenX:function(y){var z=x.getStackedData(this.props),aa=z[z.length-1];for(var ba=0;ba<aa.length;++ba)if(aa[ba].x===y)return w(aa[ba]);},getOffsetX:function(){var y=i.getScaleX(this.props);return y.rangeBand?y.rangeBand()/2:0;},formatDatum:function(y,z){var aa=this.props.titles,ba=i.getScaleX(this.props),ca=ba.rangeBand?ba.rangeBand():0,da={areaIndex:z,rect:{left:ba(y.valueX),right:ba(y.valueX)+ca,top:y.top,bottom:y.bottom},target:this,title:aa&&aa[z]||'',total:this.getTotalYGivenX(y.valueX),valueX:y.valueX,valueY:y.valueY,isPartial:y.isPartial};return da;},handleEvent:function(y){if(y.type!='mousemove')return;if(this.props.ignoreMouseEvents)return;var z=i.getScaleX(this.props),aa=m.getOuterRange(z);if(y.x<aa[0]||y.x>aa[1])return;var ba=this.findEdges(y.x,y.y);if(ba.right<y.hitRegionRight)y.hitRegionRight=ba.right;if(ba.left>y.hitRegionLeft)y.hitRegionLeft=ba.left;if(ba.bottom<y.hitRegionBottom)y.hitRegionBottom=ba.bottom;if(ba.top>y.hitRegionTop)y.hitRegionTop=ba.top;if(ba.bestDatum.valueX!=null&&ba.bestDatum.valueY!=null){ba.bestDatum.isPartial=ba.isPartial;var ca=this.formatDatum(ba.bestDatum,ba.areaIndex);ca.allData=ba.allData.map(this.formatDatum,this);if(this.props.onRequestFocus)this.props.onRequestFocus(ca);y.stopPropagation();}},findEdges:function(y,z){var aa=i.getScaleX(this.props),ba=this.props.scaleY,ca=x.getStackedData(this.props),da=null,ea={},fa=[];function ga(ja){return {bottom:ba(ja.y0),isPartial:ja.isPartial,top:ba(ja.y0+ja.y),valueX:ja.x,valueY:ja.y};}function ha(ja){function ka(la,ma){function na(oa,pa,qa,ra){var sa=i.getX(aa,oa.x),ta=i.getX(aa,qa.x),ua=ba(oa.y0),va=ba(qa.y0),wa=ja(sa,ua,ta,va);if(wa==1||wa==2||wa&&ma===0){da=ma;if(wa==1||wa==3){ea=ga(oa);fa[ma]=ea;}else{ea=ga(qa);fa[ma]=ea;}}ua=ba(oa.y0+oa.y);va=ba(qa.y0+qa.y);wa=ja(sa,ua,ta,va);if((wa==3||wa==4)&&(oa.y||qa.y)){da=ma;if(wa==3){ea=ga(oa);fa[ma]=ea;}else{ea=ga(qa);fa[ma]=ea;}}}r(la,na);}ca.forEach(ka);}var ia=s(y,z,ha);ia.areaIndex=da;ia.bestDatum=ea;ia.top=ea.top;ia.bottom=ea.bottom;ia.allData=fa;return ia;},shouldComponentUpdate:function(y){return this.hasDataChanged(y)||this.hasFocusChanged(y)||this.hasDimensionsChanged(y);},hasHighlightDetailsChanged:function(y,z){var aa=y.rect,ba=z.rect;return (aa.left!==ba.left||aa.right!==ba.right||aa.top!==ba.top||aa.bottom!==ba.bottom);},getPartialBoxPath:function(y){var z=i.getScaleX(this.props),aa=this.props.scaleY,ba=y.map(function(ma,na){var oa=null,pa=null;if(ma.y!=null){oa=aa(ma.y+ma.y0);pa=aa(ma.y0);}return [i.getX(z,ma.x),pa,oa];});function ca(ma,na){if(na<=0)return null;return ea(ma[na],ma[na-1]);}function da(ma,na){if(na>=ma.length-1)return null;return ea(ma[na],ma[na+1]);}function ea(ma,na){if(ma[1]==null||na[1]==null)return null;var oa=(ma[0]+na[0])*.5,pa=(ma[1]+na[1])*.5,qa=(ma[2]+na[2])*.5;return [oa,pa,qa];}var fa=n();for(var ga=0;ga<ba.length;ga++)if(y[ga].isPartial){var ha=ca(ba,ga),ia=da(ba,ga),ja=ha?ha:ba[ga];fa.moveTo(ja[0],ja[1]);var ka,la;if(ha){ka=ba[ga][0]-ha[0];fa.line(ka,ba[ga][1]-ha[1]);}if(ia){la=ia[0]-ba[ga][0];fa.line(la,ia[1]-ba[ga][1]);fa.line(0,ia[2]-ia[1]);fa.line(-la,ba[ga][2]-ia[2]);}else fa.line(0,ba[ga][2]-ba[ga][1]);if(ha){fa.line(-ka,ha[2]-ba[ga][2]);}else fa.line(0,ba[ga][1]-ba[ga][2]);fa.close();}return fa;},render:function(){var y=x.getStackedData(this.props),z=i.getScaleX(this.props),aa=this.props.scaleY,ba=this.props.offset||'zero',ca=this.props.height,da=this.props.width,ea=this.props.focus;if(ea&&ea.target!==this)ea=null;var fa=this.props.theme.areas,ga=j().range(fa.colors),ha=this.getPartialBoxPath;function ia(la,ma){var na=ma<y.length-1?.5:0,oa=ha(la),pa=k.createElement(q,{d:oa,fill:new h(fa.partialOverlayClass),x:0,y:0,width:da,height:ca}),qa=function(xa){return aa(la[xa].y0);},ra=function(xa){return aa(la[xa].y0+la[xa].y)-na;},sa=function(xa){return i.getX(z,la[xa].x);},ta=n(),ua=function(xa,ya){var za;ta.moveTo(sa(xa),ra(xa));for(za=xa+1;za<ya;za++)ta.lineTo(sa(za),ra(za));for(za=ya-1;za>=xa;za--)ta.lineTo(sa(za),qa(za));ta.close();},va;for(var wa=0;wa<la.length;wa=va+1){for(va=wa;va<la.length&&la[va].y!=null;va++);if(wa+1<va)ua(wa,va);}return (k.createElement(o,{key:ma},k.createElement(q,{d:ta,fill:ga(ma)}),pa));}function ja(){if(!ea)return null;if(!fa.hover)return null;var la=Math.round(ea.rect.left),ma=Math.round(ea.rect.right),na=Math.round(ea.rect.top),oa=Math.round(ea.rect.bottom),pa=aa.range(),qa=Math.round(Math.max(pa[0],pa[1])),ra=aa.domain(),sa=Math.round(Math.min(ra[0],ra[1]))>0&&ba=='zero',ta=Math.round((la+ma)/2),ua=n().moveTo((la+ma)/2,na).lineTo((la+ma)/2,oa),va=n();if(oa!=qa||sa)va=n().moveTo(la,qa).lineTo(ma,qa);var wa,xa;if(oa-na>8||sa){wa=n().moveTo(ta,na-t).arc(0,u,t).arc(0,-u,t).close();xa=n().moveTo(ta,oa-t).arc(0,u,t).arc(0,-u,t).close();}else{wa=n().moveTo(ta-t,na).arc(u,0,t).lineTo(ta+t,oa).arc(-u,0,t).close();xa=n();}if(sa)xa=n();return (k.createElement(o,null,k.createElement(q,{d:va,stroke:fa.hover,strokeWidth:fa.hoverBubbleStrokeWidth}),k.createElement(q,{d:ua,stroke:fa.hover,strokeWidth:fa.hoveBarStrokeWidth}),k.createElement(q,{d:wa,stroke:fa.hover,fill:fa.hoverFill,strokeWidth:fa.hoverBubbleStrokeWidth}),k.createElement(q,{d:xa,stroke:fa.hover,fill:fa.hoverFill,strokeWidth:fa.hoverBubbleStrokeWidth})));}var ka=i.getClippingRectangleDimensions(this.props);return (k.createElement(o,null,k.createElement(p,{x:ka.x,y:ka.y,width:ka.width,height:ka.height},y.map(ia)),ja()));}});f.exports=x;},null);
__d('HubbleConstants',['PageInsightsPostFields'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={DEFAULT_SECTION:'navOverview',NAV_SECTIONS:{IN_STORE:'navInStore',LIKES:'navLikes',OVERVIEW:'navOverview',PEOPLE:'navPeople',POSTS:'navPosts',REACH:'navReach',VISITS:'navVisits',WIFI:'navWifi',VIDEOS:'navVideos'},SCROLL_TARGETS:{ENGAGEMENT:'engagement'},PIPELINE_DAILY:'pipe_daily',PIPELINE_WEEKLY:'pipe_weekly',PIPELINE_MONTHLY:'pipe_monthly',PIPELINE_LIFETIME:'pipe_lifetime',PIPELINE_DEMO:'pipe_demo',PERIOD_DAY:'day',PERIOD_WEEK:'week',PERIOD_28_DAYS:'days_28',PERIOD_LIFETIME:'lifetime',SERIES_AREA:'area',SERIES_LINE:'line',SEC_IN_MIN:60,DAYS_PER_WEEK:7,SORT_BY_DATE:'date',SORT_BY_REACH:'reach',SORT_BY_CLICKS:'clicks',SORT_BY_LCS:'lcs',REQ_PREMIUM_VIDEO:'premium_video',REQ_PUBLISHED:'published',REQ_SMART_PUBLISHING:'smart_publishing',REQ_UNPUBLISHED:'unpublished',REQ_VIDEO:'video',TABLE_PAGE_SIZE:10,FACEBOOK_DEMOGRAPHICS:{F:{ageBuckets:{'13-17':7.2,'18-24':14.4,'25-34':11.8,'35-44':6.2,'45-54':3.6,'55-64':1.9,'65+':1.1},total:46.2},M:{ageBuckets:{'13-17':7.7,'18-24':17.9,'25-34':14.8,'35-44':7,'45-54':3.6,'55-64':1.6,'65+':1.3},total:53.8},total:100},MIN_WIFI_USERS_COUNT:100,POSTS_TABLE_FIELDS:[h.CAPTION,h.CREATION_TIME,h.DESCRIPTION,h.ID,h.IDENTIFIER,h.MESSAGE,h.NAME,h.PICTURE,h.PRIVACY,h.STATUS_TYPE,h.TYPE]};f.exports=i;},null);
__d('InsightsUtils',['d3/time/day','UTCUtils','invariant'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=24*60*60,l=25*60*60,m=-1*8*60*60*1000,n={dateToSeconds:function(o){if(o instanceof Date)return parseInt(o.getTime()/1000,10);return o;},_isEmpty:function(o){return Object.keys(o).length===0;},_isKeyed:function(o){for(var p=0;p<o.length;++p){if(typeof o[p].value!=='object')return false;if(!this._isEmpty(o[p].value))return true;}return true;},formatInsightsResponse:function(o){var p=-Infinity,q=null,r=0,s=null,t=false,u=0,v=null,w=0,x=Infinity,y=o.data.length,z=null,aa=null,ba={};for(var ca=0;ca<y;++ca){s=o.data[ca];t=this._isKeyed(s.values);x=Math.min(x,s.values[0].end_time-k);p=Math.max(p,s.values[o.data[ca].values.length-1].end_time);ba[s.name]=ba[s.name]||{};if(t){ba[s.name][s.period]=v={};for(var da=0;da<s.values.length;++da){aa=s.values[da];Object.keys(aa.value).forEach(function(ea){if(!v.hasOwnProperty(ea))ba[s.name][s.period][ea]=null;});}}else ba[s.name][s.period]=null;}w=Math.round((p-x)/k);for(ca=0;ca<y;++ca){r=x;s=o.data[ca];t=this._isKeyed(s.values);u=0;z=s.period+'_timestamps';q=n.fillArray(w,null);ba[s.name][z]=q;if(!t)ba[s.name][s.period]=n.fillArray(w,null);for(da=0;da<s.values.length;++da){aa=s.values[da];if(aa.end_time-r>l)u+=Math.round((aa.end_time-r)/k)-1;if(t){v=ba[s.name][s.period];Object.keys(v).forEach(function(ea){if(v[ea]===null)v[ea]=n.fillArray(w,null);v[ea][da+u]=aa.value[ea]||0;});}else if(typeof aa.value==='object'){ba[s.name][s.period][da+u]=0;}else ba[s.name][s.period][da+u]=aa.value;ba[s.name][z][da+u]=aa.end_time;r=aa.end_time;}}return {endTime:n.pacificSecondsToUTCDate(p),seriesLength:w,startTime:n.pacificSecondsToUTCDate(x+k),values:ba};},formatParams:function(o){var p=babelHelpers._extends({},o);p.date_format='U';if(o.since)p.since=this.utcDateToPacificSeconds(o.since);if(o.until)p.until=this.utcDateToPacificSeconds(o.until);return p;},localTimeToPacificDate:function(o){return new Date(o.getTime()+i.offsetFromPacificTime(o));},pacificSecondsToUTCDate:function(o){var p=o*1000;return new Date(p+i.getPacificOffsetAt(p));},utcDateToPacificSeconds:function(o){return this.dateToSeconds(o)-Math.round(i.getPacificOffsetAt(o)/1000);},utcTimeToPacificDay:function(o){return new Date(h.utc.floor(o).getTime()-i.getPacificOffsetAt(o));},pstTimeToUTCDay:function(o){return h.utc.floor(new Date(o.getTime()+m));},utcTimeToPST:function(o){return new Date(h.utc.floor(o).getTime()-m);},getMostRecentPacificDayBegin:function(o){var p=o.getTime(),q=p+i.getPacificOffsetAt(p),r=h.utc.floor(new Date(q)).getTime(),s=new Date(r-i.getPacificOffsetAt(r));return s;},fillArray:function(o,p){var q=new Array(o);for(var r=0;r<o;)q[r++]=p;return q;},getRangeIndices:function(o,p){return [n.millisecondsToDays(p.since-o)+1,n.millisecondsToDays(p.until-o)];},millisecondsToDays:function(o){var p=1000*60*60*24;return Math.round(o/p);},sliceData:function(o,p,q){var r=n.getRangeIndices(p,q);return o.slice(r[0],r[1]+1);},moveRange:function(o,p){var q=p||-7;return {since:h.utc.offset(o.since,q),until:h.utc.offset(o.until,q)};},chartHasDataToRender:function(o){return o.lines&&o.lines.length||o.areas&&o.areas.length;}};f.exports=n;},null);
__d('MercuryPagesChannelHandler',['ChannelConstants','MercuryActionType','MercuryChannelHandler','MercuryPayloadSource','MessagingEvent','MessagingRealtimeConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n,o;n=babelHelpers.inherits(p,j);o=n&&n.prototype;p.prototype.__markAsSeen=function(q,r){'use strict';if(this.isPayloadForCurrentInstance(r))o.__markAsSeen.call(this,q,r);};p.prototype.__updateModelsFromMercuryPayload=function(q,r){'use strict';if(this.isPayloadForCurrentInstance(r))o.__updateModelsFromMercuryPayload.call(this,q,r);};p.prototype.__handleMessagingPayload=function(q,r){'use strict';if(this.isPayloadForCurrentInstance(r)){o.__handleMessagingPayload.call(this,q,r);this.__handlePageMessagingPayload(q,r);}};p.prototype.__handlePageMessagingPayload=function(q,r){'use strict';switch(r.obj.event){case l.CHANGE_PAGE_THREAD_FLAG:this.$MercuryPagesChannelHandler1(q,r);break;case l.CREATE_PAGE_ADMIN_NOTE:this.$MercuryPagesChannelHandler2(q,r);break;}};p.prototype.getRouting=function(){'use strict';return {pages_messaging:this.__handleMessagingPayload};};p.prototype.__getMessagingPayloadType=function(){'use strict';return h.getArbiterType('pages_messaging');};p.prototype.__getMercuryPayloadType=function(){'use strict';return null;};p.prototype.__getInboxPayloadType=function(){'use strict';return null;};p.prototype.$MercuryPagesChannelHandler1=function(q,r){'use strict';var s={action_type:i.CHANGE_FLAG,action_id:null,mark_as_flag:r.obj.flagged,other_user_fbid:r.obj.other_user_fbid};this.__payloadPreprocessor.handleUpdate({actions:[s],payload_source:k.CLIENT_CHANNEL_MESSAGE});};p.prototype.$MercuryPagesChannelHandler2=function(q,r){'use strict';var s={action_type:i.CREATE_PAGE_ADMIN_NOTE,message_id:r.obj.message_id,note:r.obj.note,other_user_fbid:r.obj.other_user_fbid};this.__payloadPreprocessor.handleUpdate({actions:[s],payload_source:k.CLIENT_CHANNEL_MESSAGE});};p.prototype.isPayloadForCurrentInstance=function(q){'use strict';var r=q.obj[m.VIEWER_FBID]+'',s=o.getInstanceFBID.call(this)+'';return r===s;};function p(){'use strict';n.apply(this,arguments);}f.exports=p;},null);
__d('MercuryThrottler',['Map','MercurySingletonMixin','emptyFunction','invariant'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l={NORMAL:0,QUEUEING:1,FLUSHING:2};function m(n){this.$MercuryThrottler1=n;this.$MercuryThrottler2=new h();this.$MercuryThrottler3=Date.now();this.$MercuryThrottler4=0;this.$MercuryThrottler5=l.NORMAL;this.$MercuryThrottler6=0;}m.prototype.setMinThresholdDuration=function(n){this.$MercuryThrottler4=n;};m.prototype.setQueueResetDuration=function(n){this.$MercuryThrottler6=n;};m.prototype.registerHandlerType=function(n,o,p,q){if(!p)p=j.thatReturns;this.$MercuryThrottler2.set(n,{handler:o,instance:q,perBatchPostProcessHandler:p,queuedPayloads:[]});};m.prototype.$MercuryThrottler7=function(){this.$MercuryThrottler5=l.FLUSHING;this.$MercuryThrottler2.forEach(function(n,o,p){var q={fbid:this.$MercuryThrottler1,type:o,flushed_message_count:n.queuedPayloads.length,min_threshold_duration:this.$MercuryThrottler4,queue_reset_duration:this.$MercuryThrottler6};n.queuedPayloads.map(this.notifyHandler,this);n.perBatchPostProcessHandler({flushMetrics:q});n.queuedPayloads=[];},this);this.$MercuryThrottler5=l.NORMAL;};m.prototype.$MercuryThrottler8=function(){if(this.$MercuryThrottler5===l.NORMAL){var n=Date.now()-this.$MercuryThrottler3;if(n<this.$MercuryThrottler4){this.$MercuryThrottler5=l.QUEUEING;setTimeout(this.$MercuryThrottler7.bind(this),this.$MercuryThrottler6);}}this.$MercuryThrottler3=Date.now();};m.prototype.notifyHandler=function(n){var o=n.type,p=n.payload;!this.$MercuryThrottler2.has(o)?k(0):undefined;var q=this.$MercuryThrottler2.get(o);this.$MercuryThrottler8();switch(this.$MercuryThrottler5){case l.NORMAL:case l.FLUSHING:q.handler.call(q.instance,o,p);break;case l.QUEUEING:q.queuedPayloads.push({type:o,payload:p});break;default:k(0);}if(this.$MercuryThrottler5===l.NORMAL)q.perBatchPostProcessHandler({});};Object.assign(m,i);f.exports=m;},null);
__d('CctaAppListActionTypes',['AdsDispatchActionTypeUtils'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i='CCTA_APPLIST_',j={UPDATE_FROM_SERVER:null},k=h.createActionTypeMap(i,j);f.exports=k;},null);
__d('CctaDeleteDialog.react',['CctaDialogActionTypes','CctaLabels','CustomCTALogger','CctaAppDispatcher','LayerFadeOnHide','LoadingIndicator.react','PagesEventType','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','cx','fbt','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';var y=c('CctaConstants').DialogVersion,z=o.PropTypes;w=babelHelpers.inherits(aa,o.Component);x=w&&w.prototype;function aa(ba){x.constructor.call(this,ba);this.state={disableConfirmButton:false};this.onDeleteButtonClick=this.onDeleteButtonClick.bind(this);this.renderSubmittingIndicator=this.renderSubmittingIndicator.bind(this);if(this.props.promoting){this.title=i.DELETE_DURING_PROMOTION_DIALOG_TITLE;this.message=i.DELETE_DURING_PROMOTION_DIALOG_MESSAGE;}else{this.title=i.DELETE_DIALOG_TITLE;this.message=i.DELETE_DIALOG_MESSAGE;}}aa.prototype.renderSubmittingIndicator=function(){if(!this.props.dialogData.showLoadingIndicator)return null;return (o.createElement(m,{className:"mrm",color:'white',size:'small'}));};aa.prototype.onDeleteButtonClick=function(){this.setState({disableConfirmButton:true});j.log({event_type:n.CUSTOM_CTA_CLICK_DELETE,page_id:this.props.pageID,ccta_id:this.props.cctaID,dialog_version:y.SIMPLIFIED_DIALOG});k.handleViewAction({type:h.CLICK_DELETE_DIALOG_CONFIRM_BUTTON});};aa.prototype.render=function(){return (o.createElement(p,{behaviors:{LayerFadeOnHide:l},onToggle:this.props.onClose,shown:true,width:400},o.createElement(t,null,this.title),o.createElement(q,null,this.message),o.createElement(s,null,this.renderSubmittingIndicator(),o.createElement(r,{action:'cancel',label:v._("Cancel"),onClick:this.props.onClose,use:'default'}),o.createElement(r,{action:'confirm',label:v._("Delete Call to Action"),onClick:this.onDeleteButtonClick,use:'confirm',disabled:this.state.disableConfirmButton}))));};aa.propTypes={pageID:z.string.isRequired,cctaID:z.string.isRequired,onClose:z.func.isRequired,promoting:z.bool};f.exports=aa;},null);
__d('CctaHscrollTabBar.react',['CctaLabels','immutable','React','TabBar.react','TabBarItem.react','cx','invariant','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){if(c.__markCompiled)c.__markCompiled();var o,p;'use strict';var q=c('CctaConstants').CtaBarItem,r=j.PropTypes;o=babelHelpers.inherits(s,j.Component);p=o&&o.prototype;function s(t){p.constructor.call(this,t);}s.prototype.render=function(){var t=this.props.previewTypes.size,u=[];for(var v=0;v<t;v++)switch(this.props.previewTypes.get(v)){case q.WEBSITE_BAR_ITEM:u.push(j.createElement(l,{className:"_2x9-",key:q.WEBSITE_BAR_ITEM},h.WEBSITE_LABEL));break;case q.IPHONE_BAR_ITEM:u.push(j.createElement(l,{className:"_2x9-",key:q.IPHONE_BAR_ITEM},h.IPHONE_LABEL));break;case q.ANDROID_BAR_ITEM:u.push(j.createElement(l,{className:"_2x9-",key:q.ANDROID_BAR_ITEM},h.ANDROID_LABEL));break;default:n(0);}return (j.createElement('div',{className:"_gvg"+(t===1?' '+"_gvj":'')+(t===2?' '+"_gvi":'')+(t===3?' '+"_gvh":'')},j.createElement(k,{onTabClick:this.props.onSelect,activeTabKey:this.props.selected},u),j.createElement('div',{className:"_gvk"+(this.props.selected===this.props.previewTypes.get(0)?' '+"_gvl":'')+(this.props.selected===this.props.previewTypes.get(1)?' '+"_gvm":'')+(this.props.selected===this.props.previewTypes.get(2)?' '+"_gvn":'')})));};s.propTypes={previewTypes:r.instanceOf(i.List).isRequired,selected:r.string.isRequired,onSelect:r.func.isRequired};f.exports=s;},null);
__d('CctaDialogPreview.react',['BackgroundImage.react','CctaHscrollTabBar.react','CustomCTAUtils','CustomCTALogger','PagesEventType','Image.react','immutable','Locale','React','XUIButton.react','XUICardSection.react','cx','CctaConstants','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=c('CctaConstants').CtaBarItem,w=c('CctaConstants').DialogVersion,x=p.PropTypes;t=babelHelpers.inherits(y,p.Component);u=t&&t.prototype;function y(z){u.constructor.call(this,z);this.state={selected:z.previewTypes[0]};this.onClick=this.onClick.bind(this);}y.prototype.onClick=function(z){k.log({event_type:l.CUSTOM_CTA_CLICK_PREVIEW_UNIT,page_id:this.props.cctaData.pageID,clicked:z,dialog_version:w.SIMPLIFIED_DIALOG});this.setState({selected:z});};y.prototype.componentWillUpdate=function(z){if(z.previewTypes.indexOf(this.state.selected)<0)this.setState({selected:z.previewTypes[0]});};y.prototype.render=function(){return (p.createElement('div',{className:"_vda"},p.createElement(r,{className:"_vdb"},p.createElement(i,{previewTypes:n.List(this.props.previewTypes),selected:this.state.selected,onSelect:this.onClick})),p.createElement(r,{className:"_vdc"},this.renderPreviewUnit()),p.createElement(r,{className:"_1qbx"},p.createElement(m,{src:'/images/pages/custom_cta/iphone-preview-new.png'}),p.createElement(m,{src:'/images/pages/custom_cta/android-preview-new.png'}))));};y.prototype.$CctaDialogPreview1=function(z,aa){return (p.createElement(h,{alt:'sad',backgroundSize:aa,className:o.isRTL()?"_77u":'',height:322,src:z,width:412}));};y.prototype.renderPreviewUnit=function(){var z=p.createElement('span',null,p.createElement(m,{className:"_1tzs",src:j.getCallToActionIcon(this.props.ctaType)}),j.getCallToActionLabel(this.props.ctaType)),aa=null,ba=null,ca=null;switch(this.state.selected){case v.WEBSITE_BAR_ITEM:ca=v.WEBSITE_BAR_ITEM;aa=this.$CctaDialogPreview1('/images/pages/custom_cta/www-preview-new.png','cover');ba=p.createElement(q,{className:"_vdd",label:z,size:'large'});break;case v.ANDROID_BAR_ITEM:ca=v.ANDROID_BAR_ITEM;aa=this.$CctaDialogPreview1('/images/pages/custom_cta/android-preview-new.png','containinside');ba=p.createElement('div',{className:"_vdf"},p.createElement(m,{className:"_vdh",src:j.getCallToActionMobileIcon(this.props.ctaType)}),j.getCallToActionLabel(this.props.ctaType));break;case v.IPHONE_BAR_ITEM:ca=v.IPHONE_BAR_ITEM;aa=this.$CctaDialogPreview1('/images/pages/custom_cta/iphone-preview-new.png','containinside');ba=p.createElement('div',{className:"_vde"},p.createElement(m,{className:"_vdg",src:j.getCallToActionMobileIcon(this.props.ctaType)}),j.getCallToActionLabel(this.props.ctaType));break;default:return null;}return (p.createElement('div',{key:ca},aa,ba));};y.propTypes={cctaData:x.object.isRequired,ctaType:x.string.isRequired,previewTypes:x.array.isRequired};f.exports=y;},null);
__d('CctaAndroidDestinationSelector.react',['cx','fbt','CctaConstants','CctaDataActionTypes','CctaLabels','CctaTestIDs','CustomCTALogger','CctaAppDispatcher','PagesEventType','Image.react','XUISelector.react','XUISelectorButton.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u,v;'use strict';var w=c('CctaConstants').DialogVersion,x=r.Option,y=t.PropTypes,z=16;u=babelHelpers.inherits(aa,t.Component);v=u&&u.prototype;function aa(ba){v.constructor.call(this,ba);this.$CctaAndroidDestinationSelector1=this.$CctaAndroidDestinationSelector1.bind(this);this.$CctaAndroidDestinationSelector2=this.$CctaAndroidDestinationSelector2.bind(this);this.$CctaAndroidDestinationSelector3=this.$CctaAndroidDestinationSelector3.bind(this);}aa.prototype.$CctaAndroidDestinationSelector2=function(ba){n.log({event_type:p.CUSTOM_CTA_CHANGE_ANDROID_DESTINATION_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,androidDestinationType:ba.value,dialog_version:w.SIMPLIFIED_DIALOG});o.handleViewAction({type:k.SELECT_ANDROID_APP,payload:ba.value});};aa.prototype.$CctaAndroidDestinationSelector3=function(){var ba=[];Object.keys(this.props.appList).forEach((function(ca){if(this.props.appList[ca].androidUrls.length===0)return null;ba.push(t.createElement(x,{'data-testid':m.CCTA_ANDROID_APP_DROPDOWN_TESTID,value:this.props.appList[ca].id,key:this.props.appList[ca].id,icon:t.createElement(q,{src:this.props.appList[ca].logoSrc,height:z,width:z})},this.props.appList[ca].name));}).bind(this));return (t.createElement(r,{'data-testid':m.CCTA_ANDROID_APPS_DROPDOWN_TESTID,className:"_5cqo",name:'selector',onChange:this.$CctaAndroidDestinationSelector2,value:this.props.cctaData.androidFBAppID},t.createElement(s,{className:"_5cqq",maxwidth:300,size:'xlarge'}),t.createElement(x,{'data-testid':m.CCTA_ANDROID_APPS_DROPDOWN_WEBSITE_OPTION_TESTID,key:j.AppID.OPEN_WEBSITE,value:j.AppID.OPEN_WEBSITE},l.SELECTOR_OPTION_WEBSITE),t.createElement(x,{'data-testid':m.CCTA_ANDROID_APPS_DROPDOWN_APP_OPTION_TESTID,key:j.AppID.OPEN_APP,value:j.AppID.OPEN_APP},l.SELECTOR_OPTION_APP),ba));};aa.prototype.$CctaAndroidDestinationSelector1=function(){if(this.props.cctaData.androidFBAppID===j.AppID.OPEN_APP)return l.ANDROID_APP_DESTINATION_TOOLTIP;return l.ANDROID_WEBSITE_DESTINATION_TOOLTIP;};aa.prototype.render=function(){return (t.createElement('div',null,t.createElement('div',{className:"_5y0k"},l.ANDROID_SECTION),t.createElement('div',{className:"_2v_n"},l.ANDROID_SECTION_TITLE),t.createElement('div',{className:"_5ye4"},this.$CctaAndroidDestinationSelector3()),t.createElement('div',{className:"_5ye5"},this.$CctaAndroidDestinationSelector1())));};aa.propTypes={cctaData:y.object.isRequired,dialogData:y.object.isRequired,appList:y.object.isRequired};f.exports=aa;},null);
__d("CctaPlaceholders",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h={Android:{BACKUP_LINK:"https://internet.org/",DEEPLINK:"example://location/123456",PACKAGE_NAME:"com.example.myapp"}};f.exports=h;},null);
__d('CctaAndroidLinksSection.react',['cx','fbt','CctaConstants','CctaPlaceholders','CctaDataActionTypes','CctaDialogActionTypes','CctaLabels','CctaAppDispatcher','Keys','XUITextInput.react','Link.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=s.PropTypes;t=babelHelpers.inherits(w,s.Component);u=t&&t.prototype;function w(x){u.constructor.call(this,x);this.state={packageName:this.props.cctaData.androidPackageName,deepLink:this.props.cctaData.androidDeepLink,uri:this.props.cctaData.androidURI};this.getLaunchUrl=this.getLaunchUrl.bind(this);this.changeDeepLink=this.changeDeepLink.bind(this);this.saveDeepLink=this.saveDeepLink.bind(this);this.deepLinkOnKeyDown=this.deepLinkOnKeyDown.bind(this);this.changeAndroidUri=this.changeAndroidUri.bind(this);this.saveAndroidUri=this.saveAndroidUri.bind(this);this.uriOnKeyDown=this.uriOnKeyDown.bind(this);this.getDeepLinkSection=this.getDeepLinkSection.bind(this);this.getBackupSection=this.getBackupSection.bind(this);this.changeAndroidPackageName=this.changeAndroidPackageName.bind(this);this.saveAndroidPackageName=this.saveAndroidPackageName.bind(this);this.packageNameOnKeyDown=this.packageNameOnKeyDown.bind(this);this.getPackageNameSection=this.getPackageNameSection.bind(this);}w.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.androidFocusDeepLink){this.refs.androidDeepLink.focusInput();o.handleViewAction({type:m.CLEAR_FOCUS});}else if(this.props.dialogData.focused.androidFocusPackageName){this.refs.packageName.focusInput();o.handleViewAction({type:m.CLEAR_FOCUS});}else if(this.props.dialogData.focused.androidFocusURI){this.refs.backup.focusInput();o.handleViewAction({type:m.CLEAR_FOCUS});}};w.prototype.getLaunchUrl=function(){var x=this.props.cctaData.androidFBAppID;if(x===j.AppID.OPEN_WEBSITE)return '';if(!(x in this.props.appList))return '';if(!this.props.appList[x].androidUrls)return '';return this.props.appList[x].androidUrls[0];};w.prototype.changeDeepLink=function(event){if(this.props.dialogData.error.androidDeepLinkError)o.handleViewAction({type:m.ANDROID_DEEP_LINK_TYPING,payload:event.target.value});this.setState({deepLink:event.target.value});};w.prototype.saveDeepLink=function(){o.handleViewAction({type:l.CHANGE_ANDROID_DEEP_LINK,payload:this.state.deepLink});};w.prototype.deepLinkOnKeyDown=function(x){if(x.keyCode===p.RETURN){x.preventDefault();this.saveDeepLink();}};w.prototype.changeAndroidUri=function(event){if(this.props.dialogData.error.androidUriError)o.handleViewAction({type:m.ANDROID_URI_TYPING,payload:event.target.value});this.setState({uri:event.target.value});};w.prototype.saveAndroidUri=function(){o.handleViewAction({type:l.CHANGE_ANDROID_URI,payload:this.state.uri});};w.prototype.uriOnKeyDown=function(x){if(x.keyCode===p.RETURN){x.preventDefault();this.saveAndroidUri();}};w.prototype.changeAndroidPackageName=function(event){if(this.props.dialogData.error.androidPackageNameError)o.handleViewAction({type:m.ANDROID_PACKAGE_NAME_TYPING,payload:event.target.value});this.setState({packageName:event.target.value});};w.prototype.saveAndroidPackageName=function(){o.handleViewAction({type:l.CHANGE_ANDROID_PACKAGE_NAME,payload:this.state.packageName});};w.prototype.packageNameOnKeyDown=function(x){if(x.keyCode===p.RETURN){x.preventDefault();this.saveAndroidPackageName();}};w.prototype.getPackageNameSection=function(){var x=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.androidFBAppID===j.AppID.OPEN_APP){x=s.createElement('div',{className:"_4mn_"},s.createElement('div',{className:"_4zoh"},n.PACKAGE_NAME_LABEL),s.createElement(q,{height:'tall',className:"_4zok",editable:false,onBlur:this.saveAndroidPackageName,onKeyDown:this.packageNameOnKeyDown,onChange:this.changeAndroidPackageName,placeholder:i._("Example: {A url link}",[i.param('A url link',k.Android.PACKAGE_NAME)]),ref:'packageName',xuiError:this.props.dialogData.error.androidPackageNameError,value:this.state.packageName}),s.createElement('div',{className:"_5ye5"},n.CREATE_DIALOG_PACKAGE_NAME_MESSAGE_ANDROID));}else x=s.createElement('div',{className:"_4mn_"},s.createElement('div',{className:"_4zoh"},n.PACKAGE_NAME_LABEL),s.createElement('div',{className:"_1fs4"},n.CREATE_ANDROID_PACKAGE_NAME_TEXT));return x;};w.prototype.getDeepLinkSection=function(){var x=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.androidFBAppID===j.AppID.OPEN_APP){x=s.createElement('div',{className:"_4mn_"},s.createElement('div',{className:"_4zoh"},n.APP_LINK_INPUT_LABEL),s.createElement(q,{height:'tall',className:"_4zok",disabled:this.getLaunchUrl()?true:false,onBlur:this.saveDeepLink,onChange:this.changeDeepLink,onKeyDown:this.deepLinkOnKeyDown,placeholder:i._("Example: {An app link}",[i.param('An app link',k.Android.DEEPLINK)]),ref:'androidDeepLink',xuiError:this.props.dialogData.error.androidDeepLinkError,value:this.state.deepLink}),s.createElement('div',{className:"_5ye5"},n.CREATE_DIALOG_APPLINK_MESSAGE,' ',s.createElement(r,{target:'_blank',href:'https://developers.facebook.com/docs/applinks/android'},n.DEEPLINK_LEARN_MORE_LABEL)));}else x=s.createElement('div',{className:"_4mn_"},s.createElement('div',{className:"_4zoh"},n.APP_LINK_INPUT_LABEL),s.createElement('div',{className:"_1fs4"},n.CREATE_ANDROID_DEEP_LINK_TEXT));return x;};w.prototype.getBackupSection=function(){return (s.createElement('div',{className:"_4mn_"},s.createElement('div',{className:"_4zoh"},n.ANDROID_BACKUP_INPUT_LABEL),s.createElement(q,{height:'tall',className:"_4zok",onBlur:this.saveAndroidUri,onChange:this.changeAndroidUri,onKeyDown:this.uriOnKeyDown,placeholder:i._("Example: {A url link}",[i.param('A url link',k.Android.BACKUP_LINK)]),ref:'backup',value:this.state.uri,xuiError:this.props.dialogData.error.androidUriError}),s.createElement('div',{className:"_5ye5"},n.CREATE_DIALOG_BACKUP_LINK_MESSAGE)));};w.prototype.render=function(){return (s.createElement('div',{className:"_4mo0"},this.getDeepLinkSection(),this.getPackageNameSection(),this.getBackupSection()));};w.propTypes={cctaData:v.object.isRequired,dialogData:v.object.isRequired,appList:v.object.isRequired};f.exports=w;},null);
__d('CctaIphoneDestinationSelector.react',['cx','fbt','CctaDataActionTypes','CctaConstants','CctaLabels','CustomCTALogger','CctaAppDispatcher','PagesEventType','Image.react','XUISelector.react','XUISelectorButton.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=c('CctaConstants').DialogVersion,w=q.Option,x=s.PropTypes,y=16;t=babelHelpers.inherits(z,s.Component);u=t&&t.prototype;function z(aa){u.constructor.call(this,aa);this.$CctaIphoneDestinationSelector1=this.$CctaIphoneDestinationSelector1.bind(this);this.$CctaIphoneDestinationSelector2=this.$CctaIphoneDestinationSelector2.bind(this);this.$CctaIphoneDestinationSelector3=this.$CctaIphoneDestinationSelector3.bind(this);}z.prototype.$CctaIphoneDestinationSelector1=function(aa){m.log({event_type:o.CUSTOM_CTA_CHANGE_IPHONE_DESTINATION_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,androidDestinationType:aa.value,dialog_version:v.SIMPLIFIED_DIALOG});n.handleViewAction({type:j.SELECT_IPHONE_APP,payload:aa.value});};z.prototype.$CctaIphoneDestinationSelector2=function(){var aa=[];Object.keys(this.props.appList).forEach((function(ba){if(this.props.appList[ba].iphoneUrls.length===0)return null;aa.push(s.createElement(w,{value:this.props.appList[ba].id,key:this.props.appList[ba].id,icon:s.createElement(p,{src:this.props.appList[ba].logoSrc,height:y,width:y})},this.props.appList[ba].name));}).bind(this));return (s.createElement(q,{className:"_5cqo",name:'selector',onChange:this.$CctaIphoneDestinationSelector1,value:this.props.cctaData.iphoneFBAppID},s.createElement(r,{className:"_5cqq",maxwidth:300,size:'xlarge'}),s.createElement(w,{key:k.AppID.OPEN_WEBSITE,value:k.AppID.OPEN_WEBSITE},l.SELECTOR_OPTION_WEBSITE),s.createElement(w,{key:k.AppID.OPEN_APP,value:k.AppID.OPEN_APP},l.SELECTOR_OPTION_APP),aa));};z.prototype.$CctaIphoneDestinationSelector3=function(){if(this.props.cctaData.iphoneFBAppID===k.AppID.OPEN_APP)return l.IOS_APP_DESTINATION_TOOLTIP;return l.IOS_WEBSITE_DESTINATION_TOOLTIP;};z.prototype.render=function(){return (s.createElement('div',null,s.createElement('div',{className:"_5y0k"},l.IOS_SECTION),s.createElement('div',{className:"_2v_n"},l.IOS_SECTION_TITLE),s.createElement('div',{className:"_5ye4"},this.$CctaIphoneDestinationSelector2()),s.createElement('div',{className:"_5ye5"},this.$CctaIphoneDestinationSelector3())));};z.propTypes={cctaData:x.object.isRequired,dialogData:x.object.isRequired,appList:x.object.isRequired};f.exports=z;},null);
__d('CctaIphoneLinksSection.react',['cx','fbt','CctaConstants','CctaDataActionTypes','CctaLabels','CctaDialogActionTypes','CctaAppDispatcher','Keys','XUITextInput.react','Link.react','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s,t;'use strict';var u=r.PropTypes,v="https://internet.org/",w="example://location/123456";s=babelHelpers.inherits(x,r.Component);t=s&&s.prototype;function x(y){t.constructor.call(this,y);this.state={deepLink:y.cctaData.iphoneDeepLink,uri:y.cctaData.iphoneURI};this.getLaunchUrl=this.getLaunchUrl.bind(this);this.changeDeepLink=this.changeDeepLink.bind(this);this.saveDeepLink=this.saveDeepLink.bind(this);this.deepLinkOnKeyDown=this.deepLinkOnKeyDown.bind(this);this.changeIphoneUri=this.changeIphoneUri.bind(this);this.saveIphoneUri=this.saveIphoneUri.bind(this);this.uriOnKeyDown=this.uriOnKeyDown.bind(this);this.getDeepLinkSection=this.getDeepLinkSection.bind(this);this.getBackupSection=this.getBackupSection.bind(this);}x.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.iphoneFocusDeepLink){this.refs.iphoneDeepLink.focusInput();n.handleViewAction({type:m.CLEAR_FOCUS});}else if(this.props.dialogData.focused.iphoneFocusURI){this.refs.backup.focusInput();n.handleViewAction({type:m.CLEAR_FOCUS});}};x.prototype.getLaunchUrl=function(){var y=this.props.cctaData.iphoneFBAppID;if(y===j.AppID.openWebSite)return '';if(!(y in this.props.appList))return '';if(!this.props.appList[y].iphoneUrls)return '';return this.props.appList[y].iphoneUrls[0];};x.prototype.changeDeepLink=function(event){if(this.props.dialogData.error.iphoneDeepLinkError)n.handleViewAction({type:m.IPHONE_DEEP_LINK_TYPING,payload:event.target.value});this.setState({deepLink:event.target.value});};x.prototype.saveDeepLink=function(){n.handleViewAction({type:k.CHANGE_IPHONE_DEEP_LINK,payload:this.state.deepLink});};x.prototype.deepLinkOnKeyDown=function(y){if(y.keyCode===o.RETURN){y.preventDefault();this.saveDeepLink();}};x.prototype.changeIphoneUri=function(event){if(this.props.dialogData.error.iphoneUriError)n.handleViewAction({type:m.IPHONE_URI_TYPING,payload:event.target.value});this.setState({uri:event.target.value});};x.prototype.saveIphoneUri=function(){n.handleViewAction({type:k.CHANGE_IPHONE_URI,payload:this.state.uri});};x.prototype.uriOnKeyDown=function(y){if(y.keyCode===o.RETURN){y.preventDefault();this.saveIphoneUri();}};x.prototype.getDeepLinkSection=function(){var y=null;if(this.props.dialogData.showLinkApps||this.props.cctaData.iphoneFBAppID===j.AppID.OPEN_APP){y=r.createElement('div',{className:"_4mn_"},r.createElement('div',{className:"_4zoh"},l.APP_LINK_INPUT_LABEL),r.createElement(p,{height:'tall',className:"_4zok",disabled:this.getLaunchUrl()?true:false,onBlur:this.saveDeepLink,onChange:this.changeDeepLink,onKeyDown:this.deepLinkOnKeyDown,placeholder:i._("Example: {number of days}",[i.param('number of days',w)]),ref:'iphoneDeepLink',value:this.state.deepLink,xuiError:this.props.dialogData.error.iphoneDeepLinkError}),r.createElement('div',{className:"_5ye5"},l.CREATE_DIALOG_APPLINK_MESSAGE,' ',r.createElement(q,{target:'_blank',href:'https://developers.facebook.com/docs/applinks/ios'},l.DEEPLINK_LEARN_MORE_LABEL)));}else y=r.createElement('div',{className:"_4mn_"},r.createElement('div',{className:"_4zoh"},l.APP_LINK_INPUT_LABEL),r.createElement('div',{className:"_1fs4"},l.CREATE_IPHONE_DEEP_LINK_TEXT));return y;};x.prototype.getBackupSection=function(){return (r.createElement('div',{className:"_4mn_"},r.createElement('div',{className:"_4zoh"},l.IOS_BACKUP_INPUT_LABEL),r.createElement(p,{height:'tall',className:"_4zok",onBlur:this.saveIphoneUri,onChange:this.changeIphoneUri,onKeyDown:this.uriOnKeyDown,placeholder:i._("Example: {number of days}",[i.param('number of days',v)]),ref:'backup',value:this.state.uri,xuiError:this.props.dialogData.error.iphoneUriError}),r.createElement('div',{className:"_5ye5"},l.CREATE_DIALOG_BACKUP_LINK_MESSAGE)));};x.prototype.render=function(){return (r.createElement('div',{className:"_4mo0"},this.getDeepLinkSection(),this.getBackupSection()));};x.propTypes={cctaData:u.object.isRequired,dialogData:u.object.isRequired,appList:u.object.isRequired};f.exports=x;},null);
__d('CctaDialogAppSection.react',['cx','CctaAndroidDestinationSelector.react','CctaAndroidLinksSection.react','CctaConstants','CctaDialogActionTypes','CctaIphoneDestinationSelector.react','CctaIphoneLinksSection.react','CctaLabels','CctaTestIDs','CustomCTALogger','CctaAppDispatcher','PagesEventType','React','DevappSwitchButton.react','XUINotice.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){if(c.__markCompiled)c.__markCompiled();var w,x;'use strict';var y=c('CctaConstants').DialogVersion,z=t.PropTypes;w=babelHelpers.inherits(aa,t.Component);x=w&&w.prototype;function aa(ba){x.constructor.call(this,ba);this.$CctaDialogAppSection1=this.$CctaDialogAppSection1.bind(this);this.$CctaDialogAppSection2=this.$CctaDialogAppSection2.bind(this);this.$CctaDialogAppSection3=this.$CctaDialogAppSection3.bind(this);this.$CctaDialogAppSection4=this.$CctaDialogAppSection4.bind(this);this.$CctaDialogAppSection5=this.$CctaDialogAppSection5.bind(this);}aa.prototype.$CctaDialogAppSection1=function(event){if(this.props.dialogData.linkApps){q.log({event_type:s.CUSTOM_CTA_CLICK_COLLAPSE_APPS_SECTION,page_id:this.props.cctaData.pageID,dialog_version:y.SIMPLIFIED_DIALOG});r.handleViewAction({type:l.TOGGLE_LINK_APPS_SWITCH,payload:event.target.checked});}else{q.log({event_type:s.CUSTOM_CTA_CLICK_EXPAND_APPS_SECTION,page_id:this.props.cctaData.pageID,dialog_version:y.SIMPLIFIED_DIALOG});r.handleViewAction({type:l.TOGGLE_LINK_APPS_SWITCH,payload:event.target.checked});r.handleViewAction({type:l.SCROLL_AREA});}};aa.prototype.$CctaDialogAppSection2=function(){if(!this.props.dialogData.showLinkApps)return null;var ba=null;if(this.props.dialogData.linkApps&&this.props.dialogData.showLinkAppsNotice)ba=t.createElement('div',{className:"_5kj9"},t.createElement(v,null,o.APP_LINK_NOTICE));return (t.createElement('div',null,t.createElement('div',{className:"_4zoh"},o.APP_TOGGLE_LABEL),t.createElement('div',{'data-testid':p.CCTA_SWITCH_TO_APP_BUTTON_TESTID},t.createElement(u,{checked:this.props.dialogData.linkApps,onChange:this.$CctaDialogAppSection1})),ba));};aa.prototype.$CctaDialogAppSection3=function(){if(this.props.dialogData.showLinkApps&&!this.props.dialogData.linkApps)return null;if(this.props.cctaData.iphoneFBAppID===k.AppID.OPEN_WEBSITE)return null;return (t.createElement(n,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList}));};aa.prototype.$CctaDialogAppSection4=function(){if(this.props.dialogData.showLinkApps&&!this.props.dialogData.linkApps)return null;if(this.props.cctaData.androidFBAppID===k.AppID.OPEN_WEBSITE)return null;return (t.createElement(j,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList}));};aa.prototype.$CctaDialogAppSection5=function(){if(!this.props.dialogData.linkApps&&this.props.dialogData.showLinkApps)return null;var ba=null,ca=null;ba=t.createElement(m,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList});ca=t.createElement(i,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList});return (t.createElement('div',null,ba,this.$CctaDialogAppSection3(),t.createElement('hr',{className:"_kr9"}),ca,this.$CctaDialogAppSection4()));};aa.prototype.render=function(){return (t.createElement('div',null,this.$CctaDialogAppSection2(),this.$CctaDialogAppSection5()));};aa.propTypes={cctaData:z.object.isRequired,dialogData:z.object.isRequired,appList:z.object.isRequired};f.exports=aa;},null);
__d('CctaLinkSection.react',['CctaDataActionTypes','CctaDialogActionTypes','CctaLabels','CctaTestIDs','CctaAppDispatcher','Keys','React','XUITextInput.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;'use strict';var s=n.PropTypes;q=babelHelpers.inherits(t,n.Component);r=q&&q.prototype;function t(u){r.constructor.call(this,u);this.state={webURI:this.props.cctaData.webURI,deepLink:this.props.cctaData.androidDeepLink,uri:this.props.cctaData.androidUri};this.changeWebURI=this.changeWebURI.bind(this);this.saveWebURI=this.saveWebURI.bind(this);this.webURIOnKeyDown=this.webURIOnKeyDown.bind(this);}t.prototype.componentDidUpdate=function(){if(this.props.dialogData.focused.ctaFocusWebUri){this.refs.weburi.focusInput();l.handleViewAction({type:i.CLEAR_FOCUS});}};t.prototype.changeWebURI=function(event){if(this.props.dialogData.error.webUriError)l.handleViewAction({type:i.WEB_URI_TYPING,payload:this.state.webURI});this.setState({webURI:event.target.value});};t.prototype.saveWebURI=function(){l.handleViewAction({type:h.CHANGE_WEB_URI,payload:this.state.webURI});};t.prototype.webURIOnKeyDown=function(u){if(u.keyCode===m.RETURN){u.preventDefault();this.saveWebURI();}};t.prototype.render=function(){return (n.createElement('div',{className:"_4mn_"},n.createElement('div',{className:"_4zoh"},j.WEB_LINK_INPUT_LABEL),n.createElement(o,{'data-testid':k.CCTA_WEB_URI_TESTID,className:"_4zok",onBlur:this.saveWebURI,onChange:this.changeWebURI,onKeyDown:this.webURIOnKeyDown,placeholder:j.WEB_LINK_INPUT_PLACEHOLDER,ref:'weburi',value:this.state.webURI,xuiError:this.props.dialogData.error.webUriError})));};t.propTypes={cctaData:s.object.isRequired,dialogData:s.object.isRequired,appList:s.object.isRequired};f.exports=t;},null);
__d('CctaPhoneNumberSection.react',['CctaDataActionTypes','CctaDialogActionTypes','CctaLabels','CctaAppDispatcher','Keys','React','XUITextInput.react','XUISelector.react','cx'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q,r;'use strict';var s=o.Option,t=m.PropTypes;q=babelHelpers.inherits(u,m.Component);r=q&&q.prototype;function u(v){r.constructor.call(this,v);this.state={phoneNumber:this.props.cctaData.phoneNumber,phoneCountryCode:'United States'};this.changePhoneNumber=this.changePhoneNumber.bind(this);this.savePhoneNumber=this.savePhoneNumber.bind(this);this.phoneNumberOnKeyDown=this.phoneNumberOnKeyDown.bind(this);}u.prototype.changePhoneNumber=function(event){if(this.props.dialogData.error.phoneNumberError)k.handleViewAction({type:i.PHONE_ERROR_TYPING,payload:this.state.phoneNumber});this.setState({phoneNumber:event.target.value});};u.prototype.savePhoneNumber=function(){var v=this.props.cctaData.countryPhoneCodePairs[this.state.phoneCountryCode]+this.state.phoneNumber;k.handleViewAction({type:h.CHANGE_PHONE_NUMBER,payload:v});};u.prototype.phoneNumberOnKeyDown=function(v){if(v.keyCode===l.RETURN){v.preventDefault();this.savePhoneNumber();}};u.prototype.getCountryPhoneCodeSelectorOptions=function(){var v=this.props.cctaData.countryPhoneCodePairs,w=[];Object.keys(v).forEach(function(x){w.push(m.createElement(s,{key:x,value:x},x+' +'+v[x]));});return w;};u.prototype.getCountryCodeSelector=function(){return (m.createElement(o,{className:"_rdy",maxheight:200,maxwidth:160,onChange:(function(v){this.setState({phoneCountryCode:v.value});}).bind(this),value:this.state.phoneCountryCode},this.getCountryPhoneCodeSelectorOptions()));};u.prototype.render=function(){return (m.createElement('div',{className:"_4mn_"},m.createElement('div',{className:"_4zoh"},j.ENTER_PHONE_LABEL),m.createElement('div',{className:"_4zok"},this.getCountryCodeSelector(),m.createElement(n,{onBlur:this.savePhoneNumber,onChange:this.changePhoneNumber,onKeyDown:this.phoneNumberOnKeyDown,placeholder:j.ENTER_PHONE_PLACEHOLDER,ref:'phonenumber',value:this.state.phoneNumber,xuiError:this.props.dialogData.error.phoneNumberError}))));};u.propTypes={cctaData:t.object.isRequired,dialogData:t.object.isRequired};f.exports=u;},null);
__d('CctaPreviewConstants',['CctaConstants'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();'use strict';var i={PreviewSupportedTypes:[h.CtaBarItem.WEBSITE_BAR_ITEM,h.CtaBarItem.IPHONE_BAR_ITEM,h.CtaBarItem.ANDROID_BAR_ITEM]};f.exports=i;},null);
__d('CctaMainDialogBody.react',['CctaConstants','CctaDialogPreview.react','CctaDialogAppSection.react','CctaDataActionTypes','CctaDialogActionTypes','CctaLabels','CctaLinkSection.react','CctaPhoneNumberSection.react','CctaPreviewConstants','CctaTestIDs','CustomCTAUtils','CustomCTALogger','PageCallToActionDestinationTypes','CctaAppDispatcher','LeftRight.react','Link.react','PagesEventType','React','ScrollableArea.react','XUISelector.react','XUISelectorButton.react','cx','fbt','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea,fa;'use strict';var ga=c('CustomCallToActionTypes').CONFIGS,ha=c('CctaConstants').DialogVersion,ia=y.PropTypes;ea=babelHelpers.inherits(ja,y.Component);fa=ea&&ea.prototype;function ja(ka){fa.constructor.call(this,ka);this.onChangeCta=this.onChangeCta.bind(this);this.getTypeSelectorSection=this.getTypeSelectorSection.bind(this);this.getLinkSection=this.getLinkSection.bind(this);this.getAppSection=this.getAppSection.bind(this);}ja.prototype.onChangeCta=function(ka){u.handleViewAction({type:k.CHANGE_CTA_TYPE,payload:ka.value});s.log({event_type:x.CUSTOM_CTA_CHANGE_CTA_TYPE,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:ka.value,dialog_version:ha.SIMPLIFIED_DIALOG});};ja.prototype.getTypeSelectorSection=function(){return (y.createElement('div',null,y.createElement('div',{className:"_4zoh"},m.CTA_SELECTOR),y.createElement('div',null,y.createElement(aa,{className:"_5cqo",'data-testid':q.CCTA_TYPE_SELECTOR_TESTID,onChange:function(ka){u.handleViewAction({type:k.CHANGE_CTA_TYPE,payload:ka.value});},value:this.props.cctaData.ctaType},y.createElement(ba,{className:"_5cqq",maxwidth:300,size:'xlarge'}),r.getCallToActionSelectorOptions(Object.keys(this.props.cctaData.eligibleCallToActionConfig))))));};ja.prototype.getLinkSection=function(){var ka=ga[this.props.cctaData.ctaType],la=ka.destination_types;if(la.indexOf(t.WEBSITE)>=0)return (y.createElement(n,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));if(la.indexOf(t.PHONE_CALL)>=0)return (y.createElement(o,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));return null;};ja.prototype.getAppSection=function(){var ka=ga[this.props.cctaData.ctaType],la=ka.destination_types;if(la.indexOf(t.APP_DEEPLINK)>=0)return (y.createElement(j,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData}));return null;};ja.prototype.getPreviewTypes=function(){var ka=ga[this.props.cctaData.ctaType];if(ka.destination_types.indexOf(t.WEBSITE)<0&&ka.destination_types.indexOf(t.DONATE)<0)return [h.CtaBarItem.IPHONE_BAR_ITEM,h.CtaBarItem.ANDROID_BAR_ITEM];return p.PreviewSupportedTypes;};ja.prototype.render=function(){if(!this.props.cctaData.ctaType)return null;var ka=y.createElement(v,{className:"_3_-k"},y.createElement(z,{height:406,ref:'scrollArea',width:370},y.createElement('div',{className:"_3_-l"},y.createElement('div',{className:"_4zog"},da._("{help message} {learn more}.",[da.param('help message',m.CREATE_DIALOG_BODY_MESSAGE),da.param('learn more',y.createElement(w,{target:'_blank',href:'/help/312169205649942'},da._("Learn more")))])),this.getTypeSelectorSection(),this.getLinkSection(),this.getAppSection())),y.createElement('div',{className:"_3_-m"},y.createElement(i,{cctaData:this.props.cctaData,ctaType:this.props.cctaData.ctaType,previewTypes:this.getPreviewTypes()})));if(this.props.dialogData.focusOnSwitchButton){this.refs.scrollArea.getArea().setScrollTop(250);u.handleViewAction({type:l.SCROLL_AREA});}return ka;};ja.propTypes={cctaData:ia.object.isRequired,dialogData:ia.object.isRequired,appList:ia.object.isRequired};f.exports=ja;},null);
__d('CctaMainDialog.react',['cx','fbt','CctaDialogActionTypes','CctaLabels','CctaMainDialogBody.react','CctaTestIDs','CustomCTALogger','CctaAppDispatcher','LayerFadeOnHide','LoadingIndicator.react','PagesEventType','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){if(c.__markCompiled)c.__markCompiled();var y,z;'use strict';var aa=c('CctaConstants').DialogVersion,ba=s.PropTypes;y=babelHelpers.inherits(ca,s.Component);z=y&&y.prototype;function ca(da){z.constructor.call(this,da);this.state={deepLink:da.cctaData.iphoneDeepLink,uri:da.cctaData.iphoneURI};this.renderDialogTitle=this.renderDialogTitle.bind(this);this.onToggle=this.onToggle.bind(this);this.onClose=this.onClose.bind(this);this.logCancel=this.logCancel.bind(this);this.clickSave=this.clickSave.bind(this);this.renderSaveButton=this.renderSaveButton.bind(this);this.renderCancelButton=this.renderCancelButton.bind(this);this.renderSubmittingIndicator=this.renderSubmittingIndicator.bind(this);}ca.prototype.renderDialogTitle=function(){if(this.props.cctaData.cctaID){return k.EDIT_CALL_TO_ACTION_WEBSITE;}else return k.CREATE_CALL_TO_ACTION_WEBSITE;};ca.prototype.onClose=function(){this.logCancel();this.props.onClose();};ca.prototype.onToggle=function(da){if(this.props.dialogData.showDialog)this.onClose();};ca.prototype.logCancel=function(){var da={event_type:r.CUSTOM_CTA_CLICK_CANCEL,page_id:this.props.cctaData.pageID,dialog_version:aa.SIMPLIFIED_DIALOG};if('ctaType' in this.props.cctaData)da.ccta_type=this.props.cctaData.ctaType;n.log(da);};ca.prototype.clickSave=function(){if(this.props.cctaData.promoting){o.handleViewAction({type:j.TOGGLE_UPDATE_ALERT});}else o.handleViewAction({type:j.CLICK_MAIN_DIALOG_SAVE_BUTTON});n.log({event_type:r.CUSTOM_CTA_CLICK_CREATE_BUTTON,page_id:this.props.cctaData.pageID,dialog_version:aa.SIMPLIFIED_DIALOG,source:this.props.dialogData.source});};ca.prototype.renderSaveButton=function(){var da=null;if(this.props.cctaData.cctaID){da=i._("Save Changes");}else da=i._("Create");return (s.createElement(v,{'data-testid':m.CCTA_SAVE_BUTTON_TESTID,label:da,onClick:this.clickSave,use:'confirm',disabled:!this.props.dialogData.mainDialogSaveButtonEnabled}));};ca.prototype.renderCancelButton=function(){return (s.createElement(v,{'data-testid':m.CCTA_CANCEL_BUTTON_TESTID,action:'cancel',label:i._("Cancel"),onClick:this.onClose,use:'default'}));};ca.prototype.renderSubmittingIndicator=function(){if(!this.props.dialogData.showLoadingIndicator)return null;return (s.createElement(q,{className:"mrm",color:'white',size:'small'}));};ca.prototype.render=function(){return (s.createElement(t,{behaviors:{LayerFadeOnHide:p},className:"_4xu5",ref:'dialog',layerHideOnBlur:false,onToggle:this.onToggle,width:852,height:496,shown:true},s.createElement(x,null,this.renderDialogTitle()),s.createElement(u,{useCustomPadding:true},s.createElement(l,{cctaData:this.props.cctaData,dialogData:this.props.dialogData,appList:this.props.appList})),s.createElement(w,{className:"_32t9"},this.renderSubmittingIndicator(),this.renderCancelButton(),this.renderSaveButton())));};ca.propTypes={cctaData:ba.object.isRequired,dialogData:ba.object.isRequired,appList:ba.object.isRequired,onClose:ba.func.isRequired};f.exports=ca;},null);
__d('CctaOneStepUpdateAlertDialog.react',['cx','fbt','CctaDialogActionTypes','CustomCTAConstants','CctaAppDispatcher','LayerFadeOnHide','LoadingIndicator.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=o.PropTypes;v=babelHelpers.inherits(y,o.Component);w=v&&v.prototype;function y(z){w.constructor.call(this,z);this.confirmUpdate=this.confirmUpdate.bind(this);this.onClose=this.onClose.bind(this);}y.prototype.confirmUpdate=function(){l.handleViewAction({type:j.CLICK_MAIN_DIALOG_SAVE_BUTTON});};y.prototype.onClose=function(){l.handleViewAction({type:j.TOGGLE_UPDATE_ALERT});this.props.onClose();};y.prototype.render=function(){var z=null;if(this.props.isLoading)z=o.createElement(n,{className:"mrm",color:'white',size:'small'});return (o.createElement(p,{behaviors:{LayerFadeOnHide:m},width:400,onClose:this.onClose,onToggle:this.onClose,shown:true},o.createElement(u,null,k.UPDATE_DURING_PROMOTION_DIALOG_TITLE),o.createElement(q,null,k.UPDATE_DURING_PROMOTION_DIALOG_MESSAGE),o.createElement(t,null,z,o.createElement(r,{disabled:this.props.isLoading,onClick:this.onClose}),o.createElement(s,{disabled:this.props.isLoading,label:i._("Update Call-to-Action"),onClick:this.confirmUpdate,use:'confirm'}))));};y.propTypes={isLoading:x.bool.isRequired,onClose:x.func.isRequired};f.exports=y;},null);
__d('CctaAdminMenu.react',['Arbiter','BoostedComponentRef','BoostedComponentDialogWidget.react','CctaDeleteDialog.react','CctaDialogActionTypes','CctaLabels','CctaMainDialog.react','CctaOneStepUpdateAlertDialog.react','CctaTestIDs','ContextualDialogArrow','CustomCTAConstants','CustomCTALogger','CustomCTAUtils','CustomCTAViewerUnit.react','CctaAppDispatcher','MenuSeparator.react','PagesEventType','PopoverMenu.react','React','Image.react','ReactLayeredComponentMixin','ReactXUIMenu','XUIPopoverButton.react','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();'use strict';var ea=c('CctaConstants').DialogVersion,fa=z.PropTypes,ga=ca.Item,ha=z.createClass({displayName:'CctaAdminMenu',mixins:[ba],propTypes:{cctaData:fa.object.isRequired,dialogData:fa.object.isRequired,appList:fa.object.isRequired,onClose:fa.func.isRequired},showEditDialog:function(){s.log({event_type:x.CUSTOM_CTA_VIEW_EDIT,page_id:this.props.cctaData.pageID,ccta_id:this.props.cctaData.cctaID,ccta_type:this.props.cctaData.ctaType,dialog_version:ea.SIMPLIFIED_DIALOG,source:"admin_menu"});v.handleViewAction({type:l.TOGGLE_MAIN_DIALOG,source:"admin_menu"});},updateDeleteDialog:function(){s.log({event_type:x.CUSTOM_CTA_VIEW_DELETE,page_id:this.props.cctaData.pageID,ccta_type:this.props.cctaData.ctaType,ccta_id:this.props.cctaData.cctaID,dialog_version:ea.SIMPLIFIED_DIALOG});v.handleViewAction({type:l.TOGGLE_DELETE_DIALOG});},renderLayers:function(){if(this.props.dialogData.showUpdateAlert){return (z.createElement(o,{isLoading:this.props.dialogData.showLoadingIndicator,onClose:this.props.onClose}));}else if(this.props.dialogData.showDialog){return (z.createElement(n,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData,onClose:this.props.onClose}));}else if(this.props.dialogData.showDeleteDialog)return (z.createElement(k,{cctaID:this.props.cctaData.cctaID,onClose:this.updateDeleteDialog,pageID:this.props.cctaData.pageID,dialogData:this.props.dialogData,promoting:this.props.cctaData.promoting}));return null;},showInsightPanel:function(){h.inform(r.SHOW_FLYOUT,{});},render:function(){var ia=null;if(this.props.cctaData.canPromote)ia=z.createElement(ga,null,z.createElement(j,{configData:this.props.cctaData.config,buttonLabel:this.props.cctaData.promoting?m.EDIT_PROMOTION_LABEL:m.PROMOTE_LABEL,placement:i.WWW_CCTA_ADMIN_MENU}));var ja=null;if(this.props.cctaData.viewerUnitProps)ja=z.createElement(ga,null,z.createElement(u,babelHelpers._extends({},this.props.cctaData.viewerUnitProps,{buttonLabel:m.TEST_LABEL})));var ka=z.createElement(ca,null,ja,ia,z.createElement(ga,{onclick:this.showInsightPanel},m.INSIGHTS_LABEL),z.createElement(ga,{onclick:this.showEditDialog,'data-testid':p.CCTA_EDIT_MENU_TESTID},m.EDIT_LABEL),z.createElement(w,null),z.createElement(ga,{onclick:this.updateDeleteDialog},m.DELETE_LABEL)),la=this.props.cctaData.ctaType;return (z.createElement(y,{layerBehaviors:[q],menu:ka},z.createElement(da,{borderShade:'dark',image:z.createElement(aa,{src:t.getCallToActionIcon(la)}),label:t.getCallToActionLabel(la),size:'large',ref:'ctaButton'})));}});f.exports=ha;},null);
__d('CctaAppListStore',['CctaAppDispatcher','FluxStore','CctaDialogActionTypes','CctaAppListActionTypes'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l,m;'use strict';l=babelHelpers.inherits(n,i);m=l&&l.prototype;function n(o){m.constructor.call(this,o);this.$CctaAppListStore1={};}n.prototype.getAppList=function(){return this.$CctaAppListStore1;};n.prototype.isInitialized=function(){return this.$CctaAppListStore2;};n.prototype.__onDispatch=function(o){var p=o.action;switch(p.type){case k.UPDATE_FROM_SERVER:this.$CctaAppListStore1=p.payload;this.getDispatcher().handleViewAction({type:j.RESET_UI_LINK_APPS,payload:this.$CctaAppListStore1});this.__emitChange();break;default:}};f.exports=new n(h);},null);
__d('CctaDialogButton.react',['CctaMainDialog.react','CctaDialogActionTypes','CctaLabels','CustomCTALogger','CctaAppDispatcher','PagesEventType','React','ReactLayeredComponentMixin','XUIButton.react','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();'use strict';var q=c('CctaConstants').DialogVersion,r=n.PropTypes,s=n.createClass({displayName:'CctaDialogButton',mixins:[o],propTypes:{appList:r.object.isRequired,cctaData:r.object.isRequired,dialogData:r.object.isRequired,onClose:r.func.isRequired},toggleDialog:function(){k.log({event_type:m.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.cctaData.userID,page_id:this.props.cctaData.pageID,dialog_version:q.SIMPLIFIED_DIALOG,source:'create_button'});l.handleViewAction({type:i.TOGGLE_MAIN_DIALOG,source:'create_button'});},renderLayers:function(){if(this.props.dialogData.showDialog)return (n.createElement(h,{appList:this.props.appList,cctaData:this.props.cctaData,dialogData:this.props.dialogData,onClose:this.props.onClose}));},render:function(){if(!this.props.cctaData.pageID)return null;var t=j.CREATE_LABEL;return (n.createElement(p,{'aria-label':j.CREATE_TOOLTIP,'data-hover':'tooltip',borderShade:'dark',label:t,onClick:this.toggleDialog,ref:'createButton',size:'large'}));}});f.exports=s;},null);
__d('CctaCreateSuccessDialog.react',['BoostedComponentDialogMixin','BoostedComponentRef','BoostedComponentStore','CctaDataStore','CctaLabels','LayerFadeOnHide','React','SubscriptionsHandler','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();'use strict';var u=n.PropTypes,v=n.createClass({displayName:'CctaCreateSuccessDialog',mixins:[h],propTypes:{onClose:u.func.isRequired,placement:u.string},componentWillMount:function(){var w=k.getData().config;w.placement=this.props.placement;this._config=j.getConfig(w);this._subscriptions=new o();this._subscriptions.addSubscriptions(this._config.getDialogUIStore().subscribe('change',(function(){if(this._config.getContextStore().getPlacement()===this.props.placement)this.forceUpdate();}).bind(this)));},componentWillUnmount:function(){this._subscriptions.release();this._subscriptions=null;},componentDidUpdate:function(){this.renderDialog();},getDefaultProps:function(){return {placement:i.WWW_CCTA_CREATE_SUCCESS_DIALOG};},getInitialState:function(){return {showDialog:true};},render:function(){return (n.createElement(p,{behaviors:{LayerFadeOnHide:m},width:400,onClose:this.props.onClose,onToggle:this.props.onClose,shown:this.state.showDialog},n.createElement(t,null,l.CREATE_SUCCESS_DIALOG_TITLE),n.createElement(q,null,l.CREATE_SUCCESS_DIALOG_BODY),n.createElement(s,null,n.createElement(r,{action:'cancel',label:l.NOT_NOW,onClick:this.props.onClose}),n.createElement(r,{action:'confirm',label:l.PROMOTE_LABEL,onClick:(function(w){this.setState({showDialog:false});this.onUpsellButtonClick(w);}).bind(this),onMouseEnter:this.onMouseEnter,use:'confirm'}))));},_getWidgetRef:function(){return i.WWW_CCTA_CREATE_SUCCESS_DIALOG;}});f.exports=v;},null);
__d('CctaValidator',['validateDeepLink','CctaUIErrors','URI','ads-lib-urllib'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();'use strict';var l=i.DeepLinkErrors,m=i.LinkErrors,n=i.PackageNameErrors,o=i.PhoneErrors,p={hasErrors:function(q){for(var r in q)if(q[r])return true;return false;},validateUrl:function(q,r){if(!q)if(r){return null;}else return m.EMPTY_URL;if(!k.isUrl(k.normalize(q)))return m.INVALID_URL;return null;},allValidChars:function(q){var r;for(r=0;r<q.length;r=r+1){var s=q.charAt(r),t=s-'0';if(!(t>=0&&t<=9)&&s!='('&&s!=')'&&s!='-')return false;}return true;},validatePhoneNumber:function(q,r){if(!q||q.length===0)if(r){return null;}else return o.EMPTY_PHONE_NUMBER;if(!this.allValidChars(q))return o.INVALID_PHONE_NUMBER;return null;},validateDeepLink:function(q,r){if(!q){if(r)return null;return l.CREATE_INVALID_APP_LINK;}if(j.isValidURI(q))return l.CREATE_INVALID_APP_LINK;if(!h(q))return l.CREATE_INVALID_APP_LINK;return null;},validatePackageName:function(q,r){if(!q){if(r)return null;return n.CREATE_INVALID_PACKAGE_NAME;}var s=q.split(".");if(s.length<=1)return n.CREATE_INVALID_PACKAGE_NAME;for(var t=0;t<s.length;t++)if(!s[t].trim())return n.CREATE_INVALID_PACKAGE_NAME;return null;}};f.exports=p;},null);
__d('CctaDialogStore',['CctaConstants','CctaCreateSuccessDialog.react','CctaDialogActionTypes','CctaDataActionTypes','CctaDataStore','CctaValidator','PageCallToActionDestinationTypes','CctaAppDispatcher','DOM','FluxStore','React','ReactDOM','CustomCallToActionTypes'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u;'use strict';var v=c('CustomCallToActionTypes').CONFIGS;t=babelHelpers.inherits(w,q);u=t&&t.prototype;function w(y){u.constructor.call(this,y);this.$CctaDialogStore1={showDialog:false,showLinkApps:true,showLinkAppsNotice:false,error:{},focused:{},focusOnSwitchButton:false,source:null,nuxHasBeenClosed:false,predictionNuxHasBeenClosed:false};this.$CctaDialogStore2();}w.prototype.$CctaDialogStore2=function(){this.$CctaDialogStore1.mainDialogSaveButtonEnabled=true;this.$CctaDialogStore1.showDeleteDialog=false;this.$CctaDialogStore1.showUpdateAlert=false;this.$CctaDialogStore1.showLoadingIndicator=false;this.$CctaDialogStore1.linkApps=false;this.$CctaDialogStore3();this.$CctaDialogStore4();};w.prototype.getDialogData=function(){return this.$CctaDialogStore1;};w.prototype.$CctaDialogStore3=function(){this.$CctaDialogStore1.focused={};this.$CctaDialogStore1.focused.ctaFocusWebUri=false;this.$CctaDialogStore1.focused.iphoneFocusDeepLink=false;this.$CctaDialogStore1.focused.iphoneFocusURI=false;this.$CctaDialogStore1.focused.androidFocusPackageName=false;this.$CctaDialogStore1.focused.androidFocusDeepLink=false;this.$CctaDialogStore1.focused.androidFocusURI=false;};w.prototype.$CctaDialogStore4=function(){this.$CctaDialogStore1.error={};this.$CctaDialogStore1.error.androidDeepLinkError=null;this.$CctaDialogStore1.error.androidPackageNameError=null;this.$CctaDialogStore1.error.androidUriError=null;this.$CctaDialogStore1.error.iphoneDeepLinkError=null;this.$CctaDialogStore1.error.iphoneUriError=null;this.$CctaDialogStore1.error.webUriError=null;};w.prototype.getFocusedField=function(){this.$CctaDialogStore3();if(this.$CctaDialogStore1.error.webUriError){this.$CctaDialogStore1.focused.ctaFocusWebUri=true;}else if(this.$CctaDialogStore1.error.iphoneDeepLinkError){this.$CctaDialogStore1.focused.iphoneFocusDeepLink=true;}else if(this.$CctaDialogStore1.error.iphoneUriError){this.$CctaDialogStore1.focused.iphoneFocusURI=true;}else if(this.$CctaDialogStore1.error.androidDeepLinkError){this.$CctaDialogStore1.focused.androidFocusDeepLink=true;}else if(this.$CctaDialogStore1.error.androidPackageNameError){this.$CctaDialogStore1.focused.androidFocusPackageName=true;}else if(this.$CctaDialogStore1.error.androidUriError)this.$CctaDialogStore1.focused.androidFocusURI=true;};w.prototype.$CctaDialogStore5=function(){var y=l.getData(),z=v[y.ctaType];this.$CctaDialogStore1.mainDialogSaveButtonEnabled=!!z&&!(z.destination_types.indexOf(n.WEBSITE)>=0&&this.$CctaDialogStore1.error.webUriError||this.$CctaDialogStore1.error.phoneNumberError||z.destination_types.indexOf(n.APP_DEEPLINK)>=0&&(y.iphoneFBAppID===h.AppID.OPEN_APP&&(this.$CctaDialogStore1.error.iphoneDeepLinkError||this.$CctaDialogStore1.error.iphoneUriError)||y.androidFBAppID===h.AppID.OPEN_APP&&(this.$CctaDialogStore1.error.androidDeepLinkError||this.$CctaDialogStore1.error.androidPackageNameError||this.$CctaDialogStore1.error.androidUriError)));return this.$CctaDialogStore1.mainDialogSaveButtonEnabled;};w.prototype.$CctaDialogStore6=function(){var y=l.getData(),z=v[y.ctaType];this.$CctaDialogStore1.error.webUriError=m.validateUrl(y.webURI,!z||z.destination_types.indexOf(n.WEBSITE)<0);this.$CctaDialogStore1.error.iphoneDeepLinkError=y.iphoneFBAppID===h.AppID.OPEN_APP?m.validateDeepLink(y.iphoneDeepLink,false):null;this.$CctaDialogStore1.error.androidDeepLinkError=y.androidFBAppID===h.AppID.OPEN_APP?m.validateDeepLink(y.androidDeepLink,false):null;this.getFocusedField();};w.prototype.__onDispatch=function(y){var z=y.action;switch(z.type){case k.UPDATE_FROM_SERVER:this.getDispatcher().waitFor([l.getDispatchToken()]);var aa=l.getData();if(this.$CctaDialogStore1.showCreateSuccessDialog&&aa.canShowCreateSuccessDialog&&aa.canPromote){if(!this.$CctaDialogStore7)this.$CctaDialogStore7=p.create('div');s.render(r.createElement(i,{onClose:function(){o.handleViewAction({type:j.TOGGLE_CREATE_SUCCESS_DIALOG});}}),this.$CctaDialogStore7);}break;case k.CLOSE_NUX:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.nuxHasBeenClosed=true;this.__emitChange();break;case k.CLOSE_PREDICTION_NUX:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.predictionNuxHasBeenClosed=true;this.__emitChange();break;case j.RESET_UI_LINK_APPS:this.$CctaDialogStore1.showLinkApps=Object.keys(z.payload).length===0;break;case j.RESET_UI:var ba=z.payload;this.$CctaDialogStore2();this.$CctaDialogStore1.linkApps=ba.iphoneFBAppID!==h.AppID.OPEN_WEBSITE||ba.androidFBAppID!==h.AppID.OPEN_WEBSITE;this.__emitChange();break;case j.TOGGLE_MAIN_DIALOG:this.$CctaDialogStore1.showDialog=!this.$CctaDialogStore1.showDialog;if(!this.$CctaDialogStore1.showDialog){this.$CctaDialogStore1.source=null;}else this.$CctaDialogStore1.source=z.source;this.__emitChange();break;case j.TOGGLE_UPDATE_ALERT:this.$CctaDialogStore6();if(this.$CctaDialogStore5())this.$CctaDialogStore1.showUpdateAlert=!this.$CctaDialogStore1.showUpdateAlert;this.__emitChange();break;case j.CLICK_MAIN_DIALOG_SAVE_BUTTON:this.$CctaDialogStore6();if(this.$CctaDialogStore5()){this.$CctaDialogStore1.showLoadingIndicator=true;this.$CctaDialogStore1.mainDialogSaveButtonEnabled=false;var ca=l.getData();if(!ca||!ca.hasCctaId)this.$CctaDialogStore1.showCreateSuccessDialog=true;this.getDispatcher().handleServerAction({type:k.UPDATE_TO_SERVER,source:this.$CctaDialogStore1.source});}this.__emitChange();break;case j.CLICK_DELETE_DIALOG_CONFIRM_BUTTON:this.$CctaDialogStore1.showLoadingIndicator=true;this.getDispatcher().handleServerAction({type:k.DELETE_TO_SERVER,source:this.$CctaDialogStore1.source});this.__emitChange();break;case j.TOGGLE_DELETE_DIALOG:this.$CctaDialogStore1.showDeleteDialog=!this.$CctaDialogStore1.showDeleteDialog;this.$CctaDialogStore1.showLoadingIndicator=false;this.__emitChange();break;case j.SCROLL_AREA:this.$CctaDialogStore1.focusOnSwitchButton=!this.$CctaDialogStore1.focusOnSwitchButton;this.__emitChange();break;case j.TOGGLE_LINK_APPS_SWITCH:this.$CctaDialogStore1.linkApps=z.payload;o.handleViewAction({type:k.SELECT_IPHONE_APP,payload:h.AppID.OPEN_WEBSITE});o.handleViewAction({type:k.SELECT_ANDROID_APP,payload:h.AppID.OPEN_WEBSITE});this.__emitChange();break;case k.CHANGE_CTA_TYPE:this.$CctaDialogStore5();this.__emitChange();break;case k.CHANGE_IPHONE_DEEP_LINK:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.iphoneDeepLinkError=m.validateDeepLink(z.payload,false);this.$CctaDialogStore5();this.__emitChange();break;case k.CHANGE_IPHONE_URI:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.iphoneUriError=m.validateUrl(z.payload,true);this.$CctaDialogStore5();this.__emitChange();break;case k.SELECT_IPHONE_APP:this.$CctaDialogStore1.error.iphoneDeepLinkError=null;this.$CctaDialogStore1.error.iphoneUriError=null;if(l.getData().iphoneFBAppID===h.AppID.OPEN_WEBSITE||l.getData().iphoneFBAppID!==h.AppID.OPEN_WEBSITE&&l.getData().iphoneFBAppID!==h.AppID.OPEN_APP)this.$CctaDialogStore5();this.__emitChange();break;case j.IPHONE_DEEP_LINK_TYPING:this.$CctaDialogStore1.error.iphoneDeepLinkError=null;this.__emitChange();break;case j.IPHONE_URI_TYPING:this.$CctaDialogStore1.error.iphoneUriError=null;this.__emitChange();break;case k.CHANGE_WEB_URI:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.webUriError=m.validateUrl(z.payload,false);this.$CctaDialogStore5();this.__emitChange();break;case j.WEB_URI_TYPING:this.$CctaDialogStore1.error.webUriError=null;this.__emitChange();break;case k.CHANGE_PHONE_NUMBER:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.phoneNumberError=m.validatePhoneNumber(z.payload,false);this.$CctaDialogStore5();this.__emitChange();break;case j.PHONE_NUMBER_TYPING:this.$CctaDialogStore1.error.phoneNumberError=null;this.__emitChange();break;case k.CHANGE_ANDROID_DEEP_LINK:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.androidDeepLinkError=m.validateDeepLink(z.payload,false);this.$CctaDialogStore5();this.__emitChange();break;case k.CHANGE_ANDROID_PACKAGE_NAME:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.androidPackageNameError=m.validatePackageName(z.payload,true);this.$CctaDialogStore5();this.__emitChange();break;case k.CHANGE_ANDROID_URI:this.getDispatcher().waitFor([l.getDispatchToken()]);this.$CctaDialogStore1.error.androidUriError=m.validateUrl(z.payload,true);this.$CctaDialogStore5();this.__emitChange();break;case k.SELECT_ANDROID_APP:this.$CctaDialogStore1.error.androidDeepLinkError=null;this.$CctaDialogStore1.error.androidPackageNameError=null;this.$CctaDialogStore1.error.androidUriError=null;if(l.getData().androidFBAppID===h.AppID.OPEN_WEBSITE||l.getData().androidFBAppID!==h.AppID.OPEN_WEBSITE&&l.getData().androidFBAppID!==h.AppID.OPEN_APP)this.$CctaDialogStore5();this.__emitChange();break;case j.ANDROID_URI_TYPING:this.$CctaDialogStore1.error.androidUriError=null;this.__emitChange();break;case j.ANDROID_PACKAGE_NAME_TYPING:this.$CctaDialogStore1.error.androidPackageNameError=null;this.__emitChange();break;case j.ANDROID_DEEP_LINK_TYPING:this.$CctaDialogStore1.error.androidDeepLinkError=null;this.__emitChange();break;case j.CLEAR_FOCUS:this.$CctaDialogStore3();this.__emitChange();break;case j.TOGGLE_CREATE_SUCCESS_DIALOG:this.$CctaDialogStore1.showCreateSuccessDialog=!this.$CctaDialogStore1.showCreateSuccessDialog;this.__emitChange();break;default:}};var x=new w(o);f.exports=x;},null);
__d('CctaAdminUnit.react',['BoostedComponentDialogWidget.react','BoostedComponentRef','CctaAppListActionTypes','CctaAppListStore','CctaAdminMenu.react','CctaDataActionTypes','CctaDataStore','CctaDialogActionTypes','CctaDialogButton.react','CctaDialogStore','ContextualLayerUpdateOnScroll','CustomCTALogger','CctaAppDispatcher','LayerHideOnBlur','PagesEventType','React','ReactLayeredComponentMixin','StoreAndPropBasedStateMixin','URI','XUIAmbientNUX.react','CctaConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){if(c.__markCompiled)c.__markCompiled();'use strict';var ba=c('CctaConstants').DialogVersion,ca=w.PropTypes,da=w.createClass({displayName:'CctaAdminUnit',mixins:[x,y(q,n,k)],propTypes:{payload:ca.object.isRequired,apps:ca.object.isRequired},statics:{calculateState:function(ea){var fa=n.getData(),ga=q.getDialogData(),ha=k.getAppList();return {cctaData:fa,dialogData:ga,appList:ha};}},componentWillMount:function(){if(!n.isInitialized(this.props.payload.pageID)){t.handleServerAction({type:m.UPDATE_FROM_SERVER,payload:this.props.payload});t.handleServerAction({type:j.UPDATE_FROM_SERVER,payload:this.props.apps});var ea=z.getRequestURI(),fa=ea?ea.getQueryData():{};if(fa&&'call_to_action' in fa&&'source' in fa)if(fa.call_to_action==='1'){s.log({event_type:this.props.payload.cctaID?v.CUSTOM_CTA_VIEW_EDIT:v.CUSTOM_CTA_VIEW_CREATE,user_id:this.props.payload.userID,page_id:this.props.payload.pageID,dialog_version:ba.SIMPLIFIED_DIALOG,source:fa.source});t.handleViewAction({type:o.TOGGLE_MAIN_DIALOG,source:fa.source});}}},onNUXClose:function(){t.handleViewAction({type:m.CLOSE_NUX});},onPredictionNUXClose:function(){t.handleViewAction({type:m.CLOSE_PREDICTION_NUX});},_logCancel:function(){},onClose:function(){this._logCancel();t.handleServerAction({type:m.CLOSE_DIALOG});t.handleViewAction({type:o.TOGGLE_MAIN_DIALOG,payload:this.props.payload.pageID});},renderLayers:function(){var ea=this.state.cctaData.nux;if(ea&&ea.showNUX&&ea.content&&this.refs.admin_menu)if(this.state.cctaData.status==='ACTIVE'){return {nux:w.createElement(aa,{alignment:'left',behaviors:{ContextualLayerUpdateOnScroll:r,LayerHideOnBlur:u},contextRef:(function(){return this.refs.admin_menu;}).bind(this),onCloseButtonClick:this.onNUXClose,position:'above',shown:!this.state.dialogData.nuxHasBeenClosed},w.createElement(h,{configData:this.state.cctaData.config,buttonLabel:ea.content,placement:i.WWW_CCTA_ADMIN_UNIT_NUX,linkStyle:{color:"white"}}))};}else return {nux:w.createElement(aa,{alignment:'left',behaviors:{ContextualLayerUpdateOnScroll:r,LayerHideOnBlur:u},contextRef:(function(){return this.refs.admin_menu;}).bind(this),onCloseButtonClick:this.onPredictionNUXClose,position:'above',shown:!this.state.dialogData.predictionNuxHasBeenClosed},ea.content)};return {};},render:function(){if(this.state.cctaData.cctaID){return (w.createElement(l,{appList:this.state.appList,cctaData:this.state.cctaData,dialogData:this.state.dialogData,onClose:this.onClose,ref:'admin_menu'}));}else return (w.createElement(p,{cctaData:this.state.cctaData,dialogData:this.state.dialogData,appList:this.state.appList,onClose:this.onClose,ref:'admin_menu'}));}});f.exports=da;},null);
__d('PagesMissions',['cx','ge','AsyncRequest','CSS','DOM','DOMScroll','Event','PagesEventObserver','URI'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=600,r=44,s={lastHighlighted:null,registerObjectiveClickAction:function(t,u,v,w){n.listen(t,'click',(function(){o.logData_DEPRECATED(w,null);return this[u](v);}).bind(this));},clickButton:function(t){if(t)t.click();},getElementWithClass:function(t,u){var v=i(t);if(!v)return;var w=l.scry(v,u);if(w.length>0)return w[0];return null;},scrollToAndHighlight:function(t,u){if(this.lastHighlighted){k.removeClass(this.lastHighlighted,"_4n2n");this.lastHighlighted=null;}var v=this.getElementWithClass(t,u);if(v){m.scrollTo(v,q,false,false,r);k.addClass(v,"_4n2n");this.lastHighlighted=v;}},goToURI:function(t){new p(t).go();},callAjaxEndpoint:function(t){new j().setURI(t).send();},PagesMissionsAddProfilePictureObjectiveInfoAction:function(t){this.scrollToAndHighlight('fbPageFinchProfilePic','.profilePic');var u=this.getElementWithClass('fbPageFinchProfilePic',t.selector);this.clickButton(u);return false;},PagesMissionsAddCoverPhotoObjectiveInfoAction:function(t){this.scrollToAndHighlight('fbProfileCover','.'+"_117o");var u=this.getElementWithClass('fbProfileCover','.fbTimelineEditCoverButton');this.clickButton(u);return false;},PagesMissionsAddContactInfoObjectiveInfoAction:function(t){this.callAjaxEndpoint(t.addContactInfoDialogURI);},PagesMissionsInviteFriendsObjectiveInfoAction:function(t){this.callAjaxEndpoint(t.inviteFriendsURI);},PagesMissionsImportEmailContactsObjectiveInfoAction:function(t){this.callAjaxEndpoint(t.contactsURI);},PagesMissionsPromotePageObjectiveInfoAction:function(t){this.callAjaxEndpoint(t.promotePageURI);},registerAddContactInfoDialogResponse:function(t){t.subscribe('success',(function(u,event){var v=event.data.response;if(v.payload=='close_dialog'){t.hide();this.goToURI(window.location.pathname);}}).bind(this));}};f.exports=s;},null);
__d('PagesManagerMessagesInterface',['ge','Animation','Arbiter','AsyncRequest','CSS','DOM','Event','fbt','PagesMessagingConst'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q={init:function(r,s,t,u,v,w){n.listen(r,'click',(function(){new k().setURI(p.ASYNC_ENDPOINT).setData({action:'markAllRead',pageid:v,folder:w,is_page:true}).setHandler((function(){this.notifyUpdateCompleted();}).bind(this)).send();}).bind(this));n.listen(s,'click',function(){l.toggleClass(r,'hidden_elem');l.toggleClass(t,'hidden_elem');});n.listen(t,'submit',function(){u.blur();});},applyIfVisibleOnPage:function(r,s){var t=h(r);if(t)s(t);},changeThreadSpamStatus:function(r,s,t){new k().setURI(p.ASYNC_ENDPOINT).setData({action:t?'reportSpam':'unmarkSpam',pageid:r,tids:s,is_page:true}).send();this.applyIfVisibleOnPage(s,this.hideElement);},changeThreadArchivedStatus:function(r,s,t,u){new k().setURI(p.ASYNC_ENDPOINT).setData({action:'tag',tag:'action:archived',state:t?1:0,broadcast:true,pageid:r,tids:[s],is_page:true,placement:u}).send();this.applyIfVisibleOnPage(s,(function(v){l.addClass(v,'archived');this.hideElement(v);}).bind(this));},changeThreadReadStatus:function(r,s,t,u){new k().setURI(p.ASYNC_ENDPOINT).setData({action:t?'markRead':'markUnread',pageid:r,tids:[s],is_page:true,placement:u}).send();var v=t?l.removeClass:l.addClass;this.applyIfVisibleOnPage(s,function(w){v(w,'unread');});},hideElement:function(r){new i(r).to('opacity',0).duration(150).hide().go();},deleteMessages:function(r,s,t,u,v){var w=new k(),x={action:r?'delete':'deleteMessages',pageid:u,is_page:true};x['delete']=r?'Delete Conversation':'Delete Messages';if(r){x.tids=v;}else{x.folder='inbox';x.mids=Object.keys(s);}w.setURI(p.ASYNC_ENDPOINT);w.setHandler(function(y){t();});w.setData(x);w.send();},notifyUpdateCompleted:function(){j.inform('PagesManagerLayout/refreshSection',{section:'messages'});},showMessageThread:function(r,s,t,u,v){var w=m.create('div');m.appendContent(document.body,w);new k().setURI(p.LOAD_MESSAGE_THREAD_URI).setData({folder:u,pageid:r,source:v,threadElementID:t,threadid:s}).setRelativeTo(w).send();},updateUnreadCount:function(r){j.inform('pagesManagerMessaging/messageUnreadCountUpdated',{metricCount:r});j.inform('PagesManagerLayout/updateCount',{count:r,section:'messages'});j.inform('PagesManagerLayout/updateCount',{count:r,section:'messages',subsection:'inbox'});var s=h('pageUnreadMessageCount');if(s){var t='';if(r>0)t=r===1?o._({"*":"{number unread messages} Unread"},[o.param('number unread messages',r,[0])]):o._({"*":"{number unread messages} Unread"},[o.param('number unread messages',r,[0])]);m.setContent(s,t);}},updatePreferences:function(r){new k().setURI(p.ASYNC_ENDPOINT).setData({action:'setPreferences',send_on_enter:r.sendOnEnter}).send();}};f.exports=q;},null);
__d('PagesManagerNavbar',['Arbiter','ChannelConstants','CSS','DOM','Event','MercuryThreadInformer','MercuryThrottler','MercuryUnreadState','MessagingTag','PagesEventObserver','PagesManagerMessagesInterface','PagesEventType','Vector','ViewportBounds','csx','cx','getStyleProperty','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){if(c.__markCompiled)c.__markCompiled();var z={init:function(aa,ba,ca,da,ea,fa,ga,ha){if(ha)this._setupStickyAreaAndDropshadow(ba);var ia=h.subscribe('page_transition',(function(){ia.unsubscribe();this._setupStickyAreaAndDropshadow(ba);}).bind(this));this._messageCount=ca;y(h.subscribe('pagesManagerMessaging/messageUnreadCountUpdated',(function(ja,ka){this._messageCount=ka.metricCount;}).bind(this)));this._registerUnreadUpdates(aa,fa,ga,ea);},initLogging:function(aa,ba){l.listen(ba,'click',function(){var ca=babelHelpers._extends({},aa);ca.event_name=s.NAV_VIEW_HELP;q.logData_DEPRECATED(ca);});},throttleQueueFlushLog:function(aa){var ba=aa.flushMetrics;if(ba)q.logData_DEPRECATED({page_id:ba.fbid,event_name:s.REALTIME_PAYLOAD_FLUSH,payload_type:ba.type,message_count:ba.flushed_message_count,min_threshold_duration:ba.min_threshold_duration,queue_reset_duration:ba.queue_reset_duration});},realtimePayloadDeliveredLog:function(aa){var ba=aa.pageId,ca=aa.type;q.logData_DEPRECATED({page_id:ba,event_name:s.REALTIME_PAYLOAD_DELIVER,payload_type:ca});},_registerUnreadUpdates:function(aa,ba,ca,da){var ea=i.getArbiterType('pages_inbox_count_update'),fa='unread-updated',ga=n.getForFBID(aa);ga.setMinThresholdDuration(ba);ga.setQueueResetDuration(ca);if(da){ga.registerHandlerType(fa,(function(ja,ka){var la=ia.getUnreadCount(p.INBOX);r.updateUnreadCount(la);this.realtimePayloadDeliveredLog({pageId:aa,type:ja});}).bind(this),this.throttleQueueFlushLog);var ha=m.getForFBID(aa),ia=o.getForFBID(aa);ha.subscribe(fa,function(ja,ka){return ga.notifyHandler({type:ja,payload:ka});});}else{ga.registerHandlerType(ea,(function(ja,ka){r.updateUnreadCount(ka.inbox_unread);this.realtimePayloadDeliveredLog({pageId:aa,type:ja});}).bind(this),(function(ja){h.inform('PagesManagerLayout/refreshSection',{section:'messages'});this.throttleQueueFlushLog(ja);}).bind(this));y(h.subscribe(ea,function(ja,ka){return (n.getForFBID(ka.page_id).notifyHandler({type:ja,payload:ka}));}));}},_setupStickyAreaAndDropshadow:function(aa){if(this._instance==aa)return;this._instance=aa;var ba=aa._node.firstChild,ca=ba.getBoundingClientRect().height,da=u.getTop();aa.setOffset(da);u.addTop(da+ca);var ea=parseInt(x(ba,'marginBottom'),10)+1;this._event=y(l.listen(window,'scroll',function(){aa.setOffset(u.getTop()-ca);var fa=k.scry(document,"div._525w");if(fa.length)return;j.conditionClass(ba,"_c7_",t.getScrollPosition().y>ea);}));}};f.exports=z;},null);
__d('ContextualDialogLockOnClick',['Event','LayerHideOnBlur','SubscriptionsHandler'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k=1000;function l(m){'use strict';this.$ContextualDialogLockOnClick1=m;}l.prototype.enable=function(){'use strict';this.$ContextualDialogLockOnClick2=new j();this.$ContextualDialogLockOnClick2.addSubscriptions(this.$ContextualDialogLockOnClick1.subscribe('show',this.$ContextualDialogLockOnClick3.bind(this)),this.$ContextualDialogLockOnClick1.subscribe('hide',this.$ContextualDialogLockOnClick4.bind(this)),h.listen(this.$ContextualDialogLockOnClick1.getRoot(),'click',this.$ContextualDialogLockOnClick5.bind(this)),h.listen(this.$ContextualDialogLockOnClick1.getCausalElement(),'click',this.$ContextualDialogLockOnClick6.bind(this)));};l.prototype.disable=function(){'use strict';this.$ContextualDialogLockOnClick1.unlockHover();this.$ContextualDialogLockOnClick2.release();};l.prototype.$ContextualDialogLockOnClick3=function(){'use strict';if(this.$ContextualDialogLockOnClick1.hasBehavior(i)){this.$ContextualDialogLockOnClick1.disableBehavior(i);setTimeout(this.$ContextualDialogLockOnClick1.enableBehavior.bind(this.$ContextualDialogLockOnClick1,i),k);}};l.prototype.$ContextualDialogLockOnClick4=function(){'use strict';this.$ContextualDialogLockOnClick1.unlockHover();};l.prototype.$ContextualDialogLockOnClick5=function(){'use strict';this.$ContextualDialogLockOnClick1.lockHover();};l.prototype.$ContextualDialogLockOnClick6=function(){'use strict';this.$ContextualDialogLockOnClick1.lockHover();this.$ContextualDialogLockOnClick1.show();};f.exports=l;},null);
__d('PagesManagerSpringboardResponseTimeHelper',['invariant','fbt'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j={getSpringBoardFbtText:function(k,l){if(!k||!l||k===0)return null;var m=k>1?l+"s":l;switch(l){case "day":return i._({"day":"{time} day","days":"{time} days"},[i.param('time',k),i['enum'](m,{day:'day',days:'days'})]);case "hour":return i._({"hour":"{time} hour","hours":"{time} hours"},[i.param('time',k),i['enum'](m,{hour:'hour',hours:'hours'})]);case "minute":return i._({"minute":"{time} minute","minutes":"{time} minutes"},[i.param('time',k),i['enum'](m,{minute:'minute',minutes:'minutes'})]);case "second":return i._({"second":"{time} second","seconds":"{time} seconds"},[i.param('time',k),i['enum'](m,{second:'second',seconds:'seconds'})]);default:h(0);}}};f.exports=j;},null);
__d('PagesManagerSpringboardMetric.react',['ContextualDialogLockOnClick','ContextualLayerHideOnScroll','SpectrumIntegerScale','LayerFadeOnHide','LayerFadeOnShow','LayerHideOnTransition','LayerHideOnBlur','LayerHideOnEscape','LayerRemoveOnHide','Link.react','PagesManagerSpringboardResponseTimeHelper','React','ReactDOM','ReactLayeredComponentMixin','Style','UIPagelet','Vector','XUIContextualDialog.react','XUISpinner.react','XUIText.react','cx','fbt','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea=s.PropTypes,fa=30*1000,ga=300,ha=1e+06,ia=500,ja=25,ka=s.createClass({displayName:'PagesManagerSpringboardMetric',mixins:[u],propTypes:{adjustFlyoutPositionOnload:ea.bool,count:ea.number.isRequired,unit:ea.oneOf(['day','hour','minute','second']),secondaryCount:ea.number,itemKey:ea.string.isRequired,flyoutWidth:ea.number,label:ea.string.isRequired,onFlyoutToggle:ea.func,pagelet:ea.object,hasFlyout:ea.bool,showFlyout:ea.bool,displayType:ea.oneOf(['number','percent','ratio','time']),href:ea.object},getDefaultProps:function(){return {hasFlyout:true,displayType:'number',unit:null};},getInitialState:function(){return {count:0};},componentDidMount:function(){this._onToggle(this.props.showFlyout);this._animateToNewCount(this.props.count);},componentWillReceiveProps:function(la){if(la.count!==this.props.count||la.secondaryCount!==this.props.secondaryCount){this._expireCache();this._animateToNewCount(la.count);}},render:function(){var la;if(this.props.displayType==='percent'){la=this._convertCountToPercentage();}else if(this.props.displayType==='ratio'){la=ca._("{numerator} of {denominator}",[ca.param('numerator',Math.round(this.state.count)),ca.param('denominator',this.props.secondaryCount)]);}else if(this.props.displayType==='time'){la=r.getSpringBoardFbtText(this.props.count,this.props.unit);}else{la=Math.round(this.state.count);if(la>=ha){la=j().tickFormat()(la);}else la=j().tooltipFormat()(la);}var ma;if(this.props.hasFlyout){ma=s.createElement(q,babelHelpers._extends({},this.props,{ref:'metric'}),s.createElement('span',{className:"_5vh0"},la),s.createElement('span',{className:"_5vh1"},this.props.label));}else ma=s.createElement(aa,{size:'medium',display:'block',ref:'metric'},s.createElement('span',{className:"_5vh0"},la),s.createElement('span',{className:"_xep"},this.props.label));return (s.createElement('li',{className:"_5vg_"},ma));},renderLayers:function(){if(!this.props.hasFlyout)return null;return {metricsFlyout:s.createElement(y,{autoFocus:true,behaviors:{ContextualDialogLockOnClick:h,ContextualLayerHideOnScroll:i,LayerFadeOnHide:k,LayerFadeOnShow:l,LayerHideOnTransition:m,LayerHideOnBlur:n,LayerHideOnEscape:o,LayerRemoveOnHide:p},contextRef:(function(){return this.refs.metric;}).bind(this),hoverContext:t.findDOMNode(this.refs.metric),hoverShowDelay:ga,onToggle:this._onToggle,position:'left',shown:this.props.showFlyout,width:this.props.flyoutWidth},s.createElement('div',{className:"_5x0l autofocus",ref:'flyout'},s.createElement('div',{className:"_5x0m"},s.createElement(z,{size:'large'}))))};},_expireCache:function(){this._cacheExpires=0;},_onToggle:function(la){if(this.props.onFlyoutToggle)this.props.onFlyoutToggle(la,this.props.itemKey);if(!this.props.hasFlyout)return;if(la){var ma=Date.now();if(ma>(this._cacheExpires||0)){this._cacheExpires=ma+fa;w.loadFromEndpoint(this.props.pagelet.name,t.findDOMNode(this.refs.flyout),this.props.pagelet.data,this.props.adjustFlyoutPositionOnload?{handler:this._onFlyoutLoad}:null);}}},_onFlyoutLoad:function(){var la=da('pagesManagerSpringboard');if(!la)return;var ma=x.getElementPosition(t.findDOMNode(this.refs.metric)),na=x.getElementPosition(la),oa=ma.y-na.y,pa=x.getElementDimensions(t.findDOMNode(this.refs.flyout)).y;if(oa<pa)v.set(t.findDOMNode(this.refs.flyout).offsetParent,'top',-oa+'px');},_animateToNewCount:function(la){var ma=ia/ja,na=la-this.state.count,oa=na/ma,pa=0,qa=setInterval((function(){if(++pa>=ma){clearInterval(qa);return this.setState({count:la});}var ra=this.state.count+oa;this.setState({count:ra});}).bind(this),ja);},_convertCountToPercentage:function(){return ca._("{percentage}\u0025",[ca.param('percentage',Math.round(this.state.count*100))]);}});f.exports=ka;},null);
__d("XPagesManagerMessagesController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/{page_token}\/messages\/",{folder:{type:"String"},section:{type:"String"},subsection:{type:"String"},threadid:{type:"String"},mercurythreadid:{type:"String"},index:{type:"Int"},initialClientFilter:{type:"String"},page_token:{type:"String",required:true},business_id:{type:"Int"}});},null,{});
__d('PagesManagerSpringboard.react',['AdsCallToActionTypes','Arbiter','BizSiteIdentifier.brands','BoostedPagelikeConstants','BoostedActionType','CctaDataStore','CustomCTAConstants','CustomCTAUtils','d3/time/day','DOM','ge','HubbleConstants','HubbleContext','InsightsUtils','MercuryPagesChannelHandler','PagesManagerSpringboardMetric.react','PagesInsightsDataDispatcher','PagesInsightsDataPayloadTypes','PagesInsightsGating','PagesInsightsPageDataStore','React','tidyEvent','XPagesManagerMessagesController','cx','fbt','invariant','mapObject','formatDate','PagesMessagingConst'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){if(c.__markCompiled)c.__markCompiled();var ka=ba.PropTypes,la=ja.UNANSWERED_FILTER,ma=430,na={LOCAL_AD_CALL_TO_ACTION_CLICKS:'local_ad_call_to_action_clicks',ADS_RUNNING:'ads_running',CALL_TO_ACTION:'call_to_action',PAGE_LIKES:'page_likes',POST_ENGAGEMENT:'post_engagement',POST_REACH:'post_reach',QRCODE_SCANS:'qrcode_scans',RESPONSE_RATE:'response_rate',RESPONSE_TIME:'response_time',WEBSITE_CLICKS:'website_clicks'},oa=ba.createClass({displayName:'PagesManagerSpringboard',propTypes:{context:ka.object,pageInfo:ka.object.isRequired,canSeePageLikeAds:ka.bool,canSeePageLocalAwarenessAds:ka.bool,canSeePagePostAds:ka.bool,activePageLikeAds:ka.number,activePageLocalAwarenessAds:ka.number,activeBoostedPostAds:ka.number,callToActionClicks:ka.number,callToActionPaidClicks:ka.number,hasCallNowCallToActionEnabled:ka.bool,localAdCallToActionClicks:ka.number,currentLocalAdCallToActionType:ka.string,canSeeMessages:ka.bool,canSeeInsights:ka.bool,canSeeLabelFans:ka.bool,canSeeWebsiteClicks:ka.bool,initialCallToActionTypes:ka.string,initalCanSeeCallToAction:ka.bool,newLikesCount:ka.number,websiteClicks:ka.number,qrId:ka.number,qrScansCount:ka.number,responseRate:ka.number,responseTime:ka.number,responseTimeUnit:ka.string,canSeeResponseRate:ka.bool.isRequired,canSeeResponseTime:ka.bool.isRequired,pageURIToken:ka.string.isRequired},getDefaultProps:function(){return {canSeeResponseRate:false,canSeeResponseTime:false};},getInitialState:function(){var pa=ha(this.props.mostRecentTimes,function(ta){return u.pacificSecondsToUTCDate(ta);}),qa=new Date(Math.min(pa[s.PIPELINE_DAILY],pa[s.PIPELINE_WEEKLY])),ra=p.utc.offset(qa,-7),sa=aa.getPageData(this.props.pageInfo.id.toString());return babelHelpers._extends({activeFlyoutKey:null,callToActionClicks:0,callToActionPaidClicks:0,CallToActionTypes:this.props.initialCallToActionTypes,canSeeLocalAdCallToActionClicks:this.props.canSeePageLocalAwarenessAds,canSeeCallToAction:this.props.initialCanSeeCallToAction,activePageLikeAds:this.props.activePageLikeAds||0,activeBoostedPostAds:this.props.activeBoostedPostAds||0,insightSince:ra,insightUntil:qa,likesWeekly:0,postEngagementWeekly:0,postReachWeekly:0},sa);},componentWillMount:function(){if(this.props.canSeeMessages){var pa=r('pages_manager_flyout_messages');if(pa)q.remove(pa);v.getForFBID(this.props.pageInfo.id).turnOn();}m.addListener((function(event){if(m.isInitialized(this.props.pageInfo.id.toString()))this.setState({canSeeCallToAction:!!m.getData().cctaID,CallToActionTypes:m.getData().ctaType});}).bind(this));aa.addListener((function(){var qa=aa.getPageData(this.props.pageInfo.id);this.setState({likesWeekly:qa.likesWeekly||this.state.likesWeekly,postEngagementWeekly:qa.postEngagementWeekly||this.state.postEngagementWeekly,postReachWeekly:qa.postReachWeekly||this.state.postReachWeekly});}).bind(this));},componentDidMount:function(){t.setContext(this.props.context);if(this.props.canSeeInsights)x.dispatch({pageID:this.props.pageInfo.id,type:y.REQUEST_PAGE_ADMIN_SUMMARY_DATA});if(this.props.canSeePageLikeAds)ca(i.subscribe(k.PANEL_STATUS_CHANGE_FINISH,(function(pa,qa){var ra=qa.active?1:0;if(this.state.activePageLikeAds!==ra&&qa.action_type===l.PAGELIKE)this.setState({activeFlyoutKey:na.PAGE_LIKES,activePageLikeAds:ra});}).bind(this)));ca(i.subscribe(n.SHOW_FLYOUT,(function(pa,qa){this.setState({activeFlyoutKey:na.CALL_TO_ACTION});}).bind(this)));},render:function(){var pa=[];pa.push(this._renderAds());if(!z.hasAdminSummaryLikesRemoveTest)pa.push(this._renderNewLikes());pa.push(this._renderPostReach());if(z.hasAdminSummaryLikesRemoveTest)pa.push(this._renderPostEngagement());pa.push(this._renderQRScans());pa.push(this._renderCallToAction());if(z.hasAdminWebsiteClicksAdd)pa.push(this._renderWebsiteClicks());pa.push(this._renderLocalAdCallToActionClicks());pa.push(this._renderResponseRate());pa.push(this._renderResponseTime());var qa=false;for(var ra=0;ra<pa.length;ra++)if(pa[ra]!==null){qa=true;break;}if(!qa)return null;pa.unshift(ba.createElement('div',{key:'title',className:"_5vg-"},ba.createElement('h4',null,fa._("This week"))));return (ba.createElement('div',{className:"_5vgz",id:'pagesManagerSpringboard'},pa));},_renderAds:function(){if(!this.props.showAdsRunning||!this.props.canSeePageLikeAds&&!this.props.canSeePagePostAds)return null;var pa=(this.props.canSeePageLikeAds?this.state.activePageLikeAds:0)+(this.props.canSeePagePostAds?this.state.activeBoostedPostAds:0);return (ba.createElement('ul',{key:'ads'},ba.createElement(w,{itemKey:na.ADS_RUNNING,showFlyout:this.state.activeFlyoutKey===na.ADS_RUNNING,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardActiveAdsPagelet',data:{page_id:this.props.pageInfo.id,page_like_eligible:this.props.canSeePageLikeAds,page_post_eligible:this.props.canSeePagePostAds,active_boosted_post_ads:this.state.activeBoostedPostAds}},flyoutWidth:290,count:pa,label:fa._({"Ad":"Ad Running","Ads":"Ads Running"},[fa['enum'](this.state.activeAdCount===1?'Ad':'Ads',{Ad:'Ad',Ads:'Ads'})])})));},_renderNewLikes:function(){var pa=this.props.pageInfo,qa=this.props.canSeeLabelFans?372:290,ra=p.utc.offset(this.state.insightUntil,-1),sa=0;if(this.props.canSeeInsights){sa=this.state.likesWeekly;}else sa=this.props.newLikesCount;return (ba.createElement('ul',{key:'new_likes'},ba.createElement(w,{itemKey:na.PAGE_LIKES,showFlyout:this.state.activeFlyoutKey===na.PAGE_LIKES,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardNewLikesPagelet',data:{page_id:pa.id,count:sa,width:qa,since:ia(this.state.insightSince,'m/d/Y',{utc:true}),until:ia(ra,'m/d/Y',{utc:true}),since_timestamp:u.dateToSeconds(this.state.insightSince)}},flyoutWidth:qa,count:sa,label:fa._({"Like":"Page Like","Likes":"Page Likes"},[fa['enum'](this.state.likesWeekly===1?'Like':'Likes',{Like:'Like',Likes:'Likes'})])})));},_renderWebsiteClicks:function(){if(!this.props.canSeeWebsiteClicks)return null;return (ba.createElement('ul',{key:'website_clicks'},ba.createElement(w,{count:this.props.websiteClicks,flyoutWidth:328,itemKey:na.WEBSITE_CLICKS,label:fa._({"Click":"Website Click","Clicks":"Website Clicks"},[fa['enum'](this.props.websiteClicks===1?'Click':'Clicks',{Click:'Click',Clicks:'Clicks'})]),onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardWebsiteClicksPagelet',data:{page_id:this.props.pageInfo.id}},showFlyout:this.state.activeFlyoutKey===na.WEBSITE_CLICKS})));},_renderPostReach:function(){if(!this.props.canSeeInsights)return null;var pa=this.props.pageInfo,qa=p.utc.offset(this.state.insightUntil,-1);return (ba.createElement('ul',{key:'post_reach'},ba.createElement(w,{itemKey:na.POST_REACH,showFlyout:this.state.activeFlyoutKey===na.POST_REACH,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostReachPagelet',data:{page_id:pa.id,context:this.props.context,since:ia(this.state.insightSince,'m/d/Y',{utc:true}),until:ia(qa,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postReachWeekly,label:fa._("Post Reach")})));},_renderPostEngagement:function(){if(!this.props.canSeeInsights)return null;var pa=this.props.pageInfo,qa=p.utc.offset(this.state.insightUntil,-1);return (ba.createElement('ul',{key:'post_engagement'},ba.createElement(w,{itemKey:na.POST_ENGAGEMENT,showFlyout:this.state.activeFlyoutKey===na.POST_ENGAGEMENT,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardPostEngagementPagelet',data:{page_id:pa.id,context:this.props.context,since:ia(this.state.insightSince,'m/d/Y',{utc:true}),until:ia(qa,'m/d/Y',{utc:true})}},flyoutWidth:624,count:this.state.postEngagementWeekly,label:fa._("Post Engagement")})));},_renderQRScans:function(){if(!this.props.hasValidQRCode)return null;var pa=this.props.qrScansCount,qa=430,ra=p.utc.offset(this.state.insightUntil,-1);return (ba.createElement('ul',{key:'qr_scans'},ba.createElement(w,{itemKey:na.QRCODE_SCANS,showFlyout:this.state.activeFlyoutKey===na.QRCODE_SCANS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardQRScansPagelet',data:{page_id:this.props.pageInfo.id,qr_id:this.props.qrId,since:ia(this.state.insightSince,'m/d/Y',{utc:true}),since_timestamp:u.dateToSeconds(this.state.insightSince),until:ia(ra,'m/d/Y',{utc:true})}},flyoutWidth:qa,count:pa,label:fa._({"Scan":"QRCode Scan","Scans":"QRCode Scans"},[fa['enum'](pa===1?'Scan':'Scans',{Scan:'Scan',Scans:'Scans'})])})));},_renderCallToAction:function(){if(!this.state.canSeeCallToAction)return null;return (ba.createElement('ul',{key:'cta'},ba.createElement(w,{ref:'ctaSpringBoard',itemKey:na.CALL_TO_ACTION,showFlyout:this.state.activeFlyoutKey===na.CALL_TO_ACTION,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardCallToActionPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.callToActionClicks+this.props.callToActionPaidClicks,flyoutWidth:328,label:o.getCallToActionLabel(this.state.CallToActionTypes)})));},_renderLocalAdCallToActionClicks:function(){if(!this.props.hasCallNowCallToActionEnabled||!this.state.canSeeLocalAdCallToActionClicks||!this.props.currentLocalAdCallToActionType)return null;var pa=this._getCTAClicksCounterLabel(this.props.currentLocalAdCallToActionType);return (ba.createElement('ul',{key:'ads_cta'},ba.createElement(w,{itemKey:na.LOCAL_AD_CALL_TO_ACTION_CLICKS,showFlyout:this.state.activeFlyoutKey===na.LOCAL_AD_CALL_TO_ACTION_CLICKS,onFlyoutToggle:this._onFlyoutToggle,pagelet:{name:'PagesManagerSpringboardLocalAdCallToActionClicksPagelet',data:{page_id:this.props.pageInfo.id}},count:this.props.localAdCallToActionClicks,flyoutWidth:328,label:pa})));},_getCTAClicksCounterLabel:function(pa){var qa=h.TYPES[pa];!qa?ga(0):undefined;var ra;switch(qa){case h.TYPES.MESSAGE_PAGE:ra=fa._("Send Message Clicks");break;default:ra=qa.text;break;}return ra;},_renderResponseRate:function(){if(!this.props.canSeeResponseRate||this.props.responseRate===null)return null;var pa=this.props.showRatio?this.props.numConversations:this.props.responseRate,qa=fa._("Response Rate");return this._renderResponseComponent(na.RESPONSE_RATE,this.props.showRatio?'ratio':'percent',pa,null,this.props.numThreads,qa);},_renderResponseTime:function(){if(!this.props.canSeeResponseTime||this.props.responseTime===null||this.props.responseTimeUnit===null)return null;var pa=fa._("Response Time");return this._renderResponseComponent(na.RESPONSE_TIME,'time',this.props.responseTime,this.props.responseTimeUnit,null,pa);},_renderResponseComponent:function(pa,qa,ra,sa,ta,ua){var va=da.getURIBuilder().setString('page_token',this.props.pageURIToken).setString('initialClientFilter',la).getURI();return (ba.createElement('ul',{key:pa},ba.createElement(w,{itemKey:pa,showFlyout:this.state.activeFlyoutKey===pa,onFlyoutToggle:this._onFlyoutToggle,adjustFlyoutPositionOnload:true,pagelet:{name:'PagesManagerSpringboardMessagesPagelet',data:{business_id:j.getBusinessID(),page_id:this.props.pageInfo.id,initialClientFilter:la}},displayType:qa,flyoutWidth:ma,count:ra,unit:sa,secondaryCount:ta,label:ua,href:va})));},_onFlyoutToggle:function(pa,qa){if(pa){this.setState({activeFlyoutKey:qa});}else if(this.state.activeFlyoutKey===qa)this.setState({activeFlyoutKey:null});}});f.exports=oa;},null);